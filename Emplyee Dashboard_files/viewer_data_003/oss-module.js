function pentahoAction(e,t,n,i,r){var o=WEB_CONTEXT_BASE+"ViewAction",a="wrapper=false&solution="+e+"&path="+t+"&action="+n;
if(i){var s;for(s=0;s<i.length;s++)a+="&"+encodeURIComponent(i[s][0])+"="+encodeURIComponent(i[s][1]);
}return pentahoPost(o,a,r)}function pentahoService(e,t,n,i){var r=WEB_CONTEXT_BASE+"ServiceAction",o="ajax=true&";
if(e&&(o+="component="+e+"&"),t){var a;for(a=0;a<t.length;a++)o+="&"+encodeURIComponent(t[a][0])+"="+encodeURIComponent(t[a][1]);
}return pentahoPost(r,o,n,i)}function pentahoGet(e,t,n,i,r){var o=void 0!=n&&null!=n,a=null,s="text/xml";
if(i&&(s=i),window.XMLHttpRequest)a=new XMLHttpRequest,a.overrideMimeType&&a.overrideMimeType(s);else if(window.ActiveXObject)try{
a=new ActiveXObject("Msxml2.XMLHTTP")}catch(l){try{a=new ActiveXObject("Microsoft.XMLHTTP");
}catch(l){a=null}}if(!a)throw new Error("Cannot create an XMLHTTP instance");if(o&&(a.onreadystatechange=function(){
pentahoResponse(a,n)}),r!==!0){var u=(new Date).getTime();t=t+(0===t.length?"":"&")+u+"="+u;
}return a.open("GET",e+"?"+t,o),a.send(null),o?null:getResponse(a)}function getUnauthorizedMsg(){
return"<web-service><unauthorized/></web-service>"}function getNotFoundMsg(){return"<web-service><not-found/></web-service>";
}function pentahoPost(e,t,n,i){var r=void 0!=n&&null!=n,o=null,a="text/xml";if(i&&(a=i),
window.XMLHttpRequest)o=new XMLHttpRequest,o.overrideMimeType&&o.overrideMimeType(a);else if(window.ActiveXObject)try{
o=new ActiveXObject("Msxml2.XMLHTTP")}catch(s){try{o=new ActiveXObject("Microsoft.XMLHTTP");
}catch(s){o=null}}if(!o)throw new Error("Cannot create XMLHTTP instance");return r&&(o.onreadystatechange=function(){
pentahoResponse(o,n)}),o.open("POST",e,r),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),
o.send(t),r?null:getResponse(o)}function pentahoResponse(http_request,func){if(http_request.readyState==COMPLETE)try{
var content=getResponse(http_request);if("function"==typeof func)func(content);else if("object"==typeof func&&void 0!=func.obj)func.method.call(func.obj,content);else{
if("string"!=typeof func)throw new Error("Invalid state in pentahoResponse, unrecognized callback function.");
eval(func+"( content );")}}catch(e){var msg=e.message;throw alert("pentaho-ajax.js.pentahoResponse(): "+e),
e}}function getResponse(e){switch(e.status){case STATUS_OK:return e.responseText;case STATUS_UNAUTHORIZED:
return getUnauthorizedMsg();case STATUS_NOT_FOUND:return getNotFoundMsg();default:
return null}}function sort(e,t){this.dataTable.sort([{column:e,desc:t==pentaho.pda.Column.SORT_TYPES.DESCENDING
}]);clearDataDisplay(),displayData()}define("dojo/_base/declare",["./kernel","../has","./lang"],function(e,t,n){
function i(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function r(e,t){for(var n,r,o,a,s,l,u,c,h=[],d=[{
cls:0,refs:[]}],f={},p=1,m=e.length,g=0;m>g;++g){for(o=e[g],o?"[object Function]"!=w.call(o)&&i("mixin #"+g+" is not a callable constructor.",t):i("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",t),
r=o._meta?o._meta.bases:[o],a=0,n=r.length-1;n>=0;--n)s=r[n].prototype,s.hasOwnProperty("declaredClass")||(s.declaredClass="uniqName_"+S++),
u=s.declaredClass,f.hasOwnProperty(u)||(f[u]={count:0,refs:[],cls:r[n]},++p),l=f[u],
a&&a!==l&&(l.refs.push(a),++a.count),a=l;++a.count,d[0].refs.push(a)}for(;d.length;){
for(a=d.pop(),h.push(a.cls),--p;c=a.refs,1==c.length;){if(a=c[0],!a||--a.count){a=0;
break}h.push(a.cls),--p}if(a)for(g=0,m=c.length;m>g;++g)a=c[g],--a.count||d.push(a);
}return p&&i("can't build consistent linearization",t),o=e[0],h[0]=o?o._meta&&o===h[h.length-o._meta.bases.length]?o._meta.bases.length:1:0,
h}function o(e,t,n){var r,o,a,s,l,u,c,h,d,f=this._inherited=this._inherited||{};if("string"==typeof e&&(r=e,
e=t,t=n),n=0,s=e.callee,r=r||s.nom,r||i("can't deduce a name to call inherited()",this.declaredClass),
l=this.constructor._meta,a=l.bases,d=f.p,r!=k){if(f.c!==s&&(d=0,u=a[0],l=u._meta,
l.hidden[r]!==s)){o=l.chains,o&&"string"==typeof o[r]&&i("calling chained method with inherited: "+r,this.declaredClass);
do if(l=u._meta,c=u.prototype,l&&(c[r]===s&&c.hasOwnProperty(r)||l.hidden[r]===s))break;while(u=a[++d]);
d=u?d:-1}if(u=a[++d])if(c=u.prototype,u._meta&&c.hasOwnProperty(r))n=c[r];else{h=x[r];
do if(c=u.prototype,n=c[r],n&&(u._meta?c.hasOwnProperty(r):n!==h))break;while(u=a[++d]);
}n=u&&n||x[r]}else{if(f.c!==s&&(d=0,l=a[0]._meta,l&&l.ctor!==s)){for(o=l.chains,o&&"manual"===o.constructor||i("calling chained constructor with inherited",this.declaredClass);(u=a[++d])&&(l=u._meta,
!l||l.ctor!==s););d=u?d:-1}for(;(u=a[++d])&&(l=u._meta,!(n=l?l.ctor:u)););n=u&&n}
return f.c=n,f.p=d,n?t===!0?n:n.apply(this,t||e):void 0}function a(e,t){return"string"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0);
}function s(e,t,n){var i=this.getInherited(e,t);return i?i.apply(this,n||t||e):void 0;
}function l(e){for(var t=this.constructor._meta.bases,n=0,i=t.length;i>n;++n)if(t[n]===e)return!0;
return this instanceof e}function u(e,i){for(var r in i)r!=k&&i.hasOwnProperty(r)&&(e[r]=i[r]);
if(t("bug-for-in-skips-shadowed"))for(var o=n._extraNames,a=o.length;a;)r=o[--a],
r!=k&&i.hasOwnProperty(r)&&(e[r]=i[r])}function c(e,i){var r,o;for(r in i)o=i[r],
o===x[r]&&r in x||r==k||("[object Function]"==w.call(o)&&(o.nom=r),e[r]=o);if(t("bug-for-in-skips-shadowed"))for(var a=n._extraNames,s=a.length;s;)r=a[--s],
o=i[r],o===x[r]&&r in x||r==k||("[object Function]"==w.call(o)&&(o.nom=r),e[r]=o);
return e}function h(e){return b.safeMixin(this.prototype,e),this}function d(e,t){
return b([this].concat(e),t||{})}function f(e,t){return function(){var n,i,r,o,a=arguments,s=a,l=a[0],u=e.length;
if(!(this instanceof a.callee))return y(a);if(t&&(l&&l.preamble||this.preamble))for(o=new Array(e.length),
o[0]=a,i=0;l=a[0],l&&(n=l.preamble,n&&(a=n.apply(this,a)||a)),n=e[i].prototype,n=n.hasOwnProperty("preamble")&&n.preamble,
n&&(a=n.apply(this,a)||a),++i!=u;)o[i]=a;for(i=u-1;i>=0;--i)n=e[i],r=n._meta,n=r?r.ctor:n,
n&&n.apply(this,o?o[i]:a);n=this.postscript,n&&n.apply(this,s)}}function p(e,t){return function(){
var n,i=arguments,r=i,o=i[0];return this instanceof i.callee?(t&&(o&&(n=o.preamble,
n&&(r=n.apply(this,r)||r)),n=this.preamble,n&&n.apply(this,r)),e&&e.apply(this,i),
n=this.postscript,void(n&&n.apply(this,i))):y(i)}}function m(e){return function(){
var t,n,i=arguments,r=0;if(!(this instanceof i.callee))return y(i);for(;t=e[r];++r)if(n=t._meta,
t=n?n.ctor:t){t.apply(this,i);break}t=this.postscript,t&&t.apply(this,i)}}function g(e,t,n){
return function(){var i,r,o,a=0,s=1;for(n&&(a=t.length-1,s=-1);i=t[a];a+=s)r=i._meta,
o=(r?r.hidden:i.prototype)[e],o&&o.apply(this,arguments)}}function v(e){C.prototype=e.prototype;
var t=new C;return C.prototype=null,t}function y(e){var t=e.callee,n=v(t);return t.apply(n,e),
n}function b(e,t,s){"string"!=typeof e&&(s=t,t=e,e=""),s=s||{};var c,y,C,S,M,N,T,A=1,j=t;
if("[object Array]"==w.call(t)?(N=r(t,e),C=N[0],A=N.length-C,t=N[A]):(N=[0],t?"[object Function]"==w.call(t)?(C=t._meta,
N=N.concat(C?C.bases:t)):i("base class is not a callable constructor.",e):null!==t&&i("unknown base class. Did you use dojo.require to pull it in?",e)),
t)for(y=A-1;c=v(t),y;--y)C=N[y],(C._meta?u:_)(c,C.prototype),S=new Function,S.superclass=t,
S.prototype=c,t=c.constructor=S;else c={};for(b.safeMixin(c,s),C=s.constructor,C!==x.constructor&&(C.nom=k,
c.constructor=C),y=A-1;y;--y)C=N[y]._meta,C&&C.chains&&(T=_(T||{},C.chains));if(c["-chains-"]&&(T=_(T||{},c["-chains-"])),
C=!T||!T.hasOwnProperty(k),N[0]=S=T&&"manual"===T.constructor?m(N):1==N.length?p(s.constructor,C):f(N,C),
S._meta={bases:N,hidden:s,chains:T,parents:j,ctor:s.constructor},S.superclass=t&&t.prototype,
S.extend=h,S.createSubclass=d,S.prototype=c,c.constructor=S,c.getInherited=a,c.isInstanceOf=l,
c.inherited=D,c.__inherited=o,e&&(c.declaredClass=e,n.setObject(e,S)),T)for(M in T)c[M]&&"string"==typeof T[M]&&M!=k&&(C=c[M]=g(M,N,"after"===T[M]),
C.nom=M);return S}var _=n.mixin,x=Object.prototype,w=x.toString,C=new Function,S=0,k="constructor",D=e.config.isDebug?s:o;
return e.safeMixin=b.safeMixin=c,e.declare=b,b}),define("dojo/_base/sniff",["./kernel","./lang","../sniff"],function(e,t,n){
return n("host-browser")?(e._name="browser",t.mixin(e,{isBrowser:!0,isFF:n("ff"),
isIE:n("ie"),isKhtml:n("khtml"),isWebKit:n("webkit"),isMozilla:n("mozilla"),isMoz:n("mozilla"),
isOpera:n("opera"),isSafari:n("safari"),isChrome:n("chrome"),isMac:n("mac"),isIos:n("ios"),
isAndroid:n("android"),isWii:n("wii"),isQuirks:n("quirks"),isAir:n("air")}),n):n}),
define("dojo/_base/window",["./kernel","./lang","../sniff"],function(e,t,n){var i={
global:e.global,doc:this.document||null,body:function(t){return t=t||e.doc,t.body||t.getElementsByTagName("body")[0];
},setContext:function(t,n){e.global=i.global=t,e.doc=i.doc=n},withGlobal:function(t,n,r,o){
var a=e.global;try{return e.global=i.global=t,i.withDoc.call(null,t.document,n,r,o);
}finally{e.global=i.global=a}},withDoc:function(t,r,o,a){var s,l,u,c=i.doc,h=n("quirks"),d=n("ie");
try{return e.doc=i.doc=t,e.isQuirks=n.add("quirks","BackCompat"==e.doc.compatMode,!0,!0),
n("ie")&&(u=t.parentWindow)&&u.navigator&&(s=parseFloat(u.navigator.appVersion.split("MSIE ")[1])||void 0,
l=t.documentMode,l&&5!=l&&Math.floor(s)!=l&&(s=l),e.isIE=n.add("ie",s,!0,!0)),o&&"string"==typeof r&&(r=o[r]),
r.apply(o,a||[])}finally{e.doc=i.doc=c,e.isQuirks=n.add("quirks",h,!0,!0),e.isIE=n.add("ie",d,!0,!0);
}}};return n("extend-dojo")&&t.mixin(e,i),i}),define("dojo/dom",["./sniff","./_base/window"],function(e,t){
if(e("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(n){}var i={};
e("ie")?i.byId=function(e,n){if("string"!=typeof e)return e;var i=n||t.doc,r=e&&i.getElementById(e);
if(r&&(r.attributes.id.value==e||r.id==e))return r;var o=i.all[e];(!o||o.nodeName)&&(o=[o]);
for(var a=0;r=o[a++];)if(r.attributes&&r.attributes.id&&r.attributes.id.value==e||r.id==e)return r;
}:i.byId=function(e,n){return("string"==typeof e?(n||t.doc).getElementById(e):e)||null;
},i.isDescendant=function(e,t){try{for(e=i.byId(e),t=i.byId(t);e;){if(e==t)return!0;
e=e.parentNode}}catch(n){}return!1},e.add("css-user-select",function(e,t,n){if(!n)return!1;
var i=n.style,r=["Khtml","O","ms","Moz","Webkit"],o=r.length,a="userSelect";do if("undefined"!=typeof i[a])return a;while(o--&&(a=r[o]+"UserSelect"));
return!1});var r=e("css-user-select");return i.setSelectable=r?function(e,t){i.byId(e).style[r]=t?"":"none";
}:function(e,t){e=i.byId(e);var n=e.getElementsByTagName("*"),r=n.length;if(t)for(e.removeAttribute("unselectable");r--;)n[r].removeAttribute("unselectable");else for(e.setAttribute("unselectable","on");r--;)n[r].setAttribute("unselectable","on");
},i}),define("dojo/json",["./has"],function(has){"use strict";var hasJSON="undefined"!=typeof JSON;
if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&'{"a":1}'==JSON.stringify({
a:0},function(e,t){return t||1})),has("json-stringify"))return JSON;var escapeString=function(e){
return('"'+e.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r");
};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");
return eval("("+str+")")},stringify:function(e,t,n){function i(e,o,a){t&&(e=t(a,e));
var s,l=typeof e;if("number"==l)return isFinite(e)?e+"":"null";if("boolean"==l)return e+"";
if(null===e)return"null";if("string"==typeof e)return escapeString(e);if("function"==l||"undefined"==l)return r;
if("function"==typeof e.toJSON)return i(e.toJSON(a),o,a);if(e instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(t,n,i){
var r=e["getUTC"+n]()+(i?1:0);return 10>r?"0"+r:r});if(e.valueOf()!==e)return i(e.valueOf(),o,a);
var u=n?o+n:"",c=n?" ":"",h=n?"\n":"";if(e instanceof Array){var d=e.length,f=[];for(a=0;d>a;a++){
var p=e[a];s=i(p,u,a),"string"!=typeof s&&(s="null"),f.push(h+u+s)}return"["+f.join(",")+h+o+"]";
}var m=[];for(a in e){var g;if(e.hasOwnProperty(a)){if("number"==typeof a)g='"'+a+'"';else{
if("string"!=typeof a)continue;g=escapeString(a)}if(s=i(e[a],u,a),"string"!=typeof s)continue;
m.push(h+u+g+":"+c+s)}}return"{"+m.join(",")+h+o+"}"}var r;return"string"==typeof t&&(n=t,
t=null),i(e,"","")}}}),define("dojo/dom-form",["./_base/lang","./dom","./io-query","./json"],function(e,t,n,i){
function r(t,n,i){if(null!==i){var r=t[n];"string"==typeof r?t[n]=[r,i]:e.isArray(r)?r.push(i):t[n]=i;
}}var o="file|submit|image|reset|button",a={fieldToObject:function(e){var n=null;if(e=t.byId(e)){
var i=e.name,r=(e.type||"").toLowerCase();if(i&&r&&!e.disabled)if("radio"==r||"checkbox"==r)e.checked&&(n=e.value);else if(e.multiple){
n=[];for(var o=[e.firstChild];o.length;)for(var a=o.pop();a;a=a.nextSibling){if(1!=a.nodeType||"option"!=a.tagName.toLowerCase()){
a.nextSibling&&o.push(a.nextSibling),a.firstChild&&o.push(a.firstChild);break}a.selected&&n.push(a.value);
}}else n=e.value}return n},toObject:function(e){for(var n={},i=t.byId(e).elements,s=0,l=i.length;l>s;++s){
var u=i[s],c=u.name,h=(u.type||"").toLowerCase();c&&h&&o.indexOf(h)<0&&!u.disabled&&(r(n,c,a.fieldToObject(u)),
"image"==h&&(n[c+".x"]=n[c+".y"]=n[c].x=n[c].y=0))}return n},toQuery:function(e){
return n.objectToQuery(a.toObject(e))},toJson:function(e,t){return i.stringify(a.toObject(e),null,t?4:0);
}};return a}),define("dojo/errors/create",["../_base/lang"],function(e){return function(t,n,i,r){
i=i||Error;var o=function(e){if(i===Error){Error.captureStackTrace&&Error.captureStackTrace(this,o);
var t,r=Error.call(this,e);for(t in r)r.hasOwnProperty(t)&&(this[t]=r[t]);this.message=e,
this.stack=r.stack}else i.apply(this,arguments);n&&n.apply(this,arguments)};return o.prototype=e.delegate(i.prototype,r),
o.prototype.name=t,o.prototype.constructor=o,o}}),define("dojo/errors/CancelError",["./create"],function(e){
return e("CancelError",null,null,{dojoType:"cancel"})}),define("dojo/promise/Promise",["../_base/lang"],function(e){
"use strict";function t(){throw new TypeError("abstract")}return e.extend(function(){},{
then:function(e,n,i){t()},cancel:function(e,n){t()},isResolved:function(){t()},isRejected:function(){
t()},isFulfilled:function(){t()},isCanceled:function(){t()},always:function(e){return this.then(e,e);
},otherwise:function(e){return this.then(null,e)},trace:function(){return this},traceRejected:function(){
return this},toString:function(){return"[object Promise]"}})}),define("dojo/Deferred",["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(e,t,n,i,r){
"use strict";var o=0,a=1,s=2,l="This deferred has already been fulfilled.",u=Object.freeze||function(){},c=function(t,n,i,r,o){
e("config-deferredInstrumentation")&&n===s&&p.instrumentRejected&&0===t.length&&p.instrumentRejected(i,!1,r,o);
for(var a=0;a<t.length;a++)h(t[a],n,i,r)},h=function(t,n,i,r){var l=t[n],u=t.deferred;
if(l)try{var c=l(i);if(n===o)"undefined"!=typeof c&&f(u,n,c);else{if(c&&"function"==typeof c.then)return t.cancel=c.cancel,
void c.then(d(u,a),d(u,s),d(u,o));f(u,a,c)}}catch(h){f(u,s,h)}else f(u,n,i);e("config-deferredInstrumentation")&&n===s&&p.instrumentRejected&&p.instrumentRejected(i,!!l,r,u.promise);
},d=function(e,t){return function(n){f(e,t,n)}},f=function(e,t,n){if(!e.isCanceled())switch(t){
case o:e.progress(n);break;case a:e.resolve(n);break;case s:e.reject(n)}},p=function(t){
var r,d,f,m=this.promise=new i,g=this,v=!1,y=[];e("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(g,p),
Error.captureStackTrace(m,p)),this.isResolved=m.isResolved=function(){return r===a;
},this.isRejected=m.isRejected=function(){return r===s},this.isFulfilled=m.isFulfilled=function(){
return!!r},this.isCanceled=m.isCanceled=function(){return v},this.progress=function(e,t){
if(r){if(t===!0)throw new Error(l);return m}return c(y,o,e,null,g),m},this.resolve=function(e,t){
if(r){if(t===!0)throw new Error(l);return m}return c(y,r=a,d=e,null,g),y=null,m};var b=this.reject=function(t,n){
if(r){if(n===!0)throw new Error(l);return m}return e("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(f={},b),
c(y,r=s,d=t,f,g),y=null,m};this.then=m.then=function(e,t,n){var i=[n,e,t];return i.cancel=m.cancel,
i.deferred=new p(function(e){return i.cancel&&i.cancel(e)}),r&&!y?h(i,r,d,f):y.push(i),
i.deferred.promise},this.cancel=m.cancel=function(e,i){if(r){if(i===!0)throw new Error(l);
}else{if(t){var o=t(e);e="undefined"==typeof o?e:o}if(v=!0,!r)return"undefined"==typeof e&&(e=new n),
b(e),e;if(r===s&&d===e)return e}},u(m)};return p.prototype.toString=function(){return"[object Deferred]";
},r&&r(p),p}),define("dojo/when",["./Deferred","./promise/Promise"],function(e,t){
"use strict";return function(n,i,r,o){var a=n&&"function"==typeof n.then,s=a&&n instanceof t;
if(!a)return arguments.length>1?i?i(n):n:(new e).resolve(n);if(!s){var l=new e(n.cancel);
n.then(l.resolve,l.reject,l.progress),n=l.promise}return i||r||o?n.then(i,r,o):n};
}),define("dojo/_base/Deferred",["./kernel","../Deferred","../promise/Promise","../errors/CancelError","../has","./lang","../when"],function(e,t,n,i,r,o,a){
var s=function(){},l=Object.freeze||function(){},u=e.Deferred=function(e){function a(e){
if(d)throw new Error("This deferred has already been resolved");h=e,d=!0,c()}function c(){
for(var e;!e&&v;){var n=v;v=v.next,(e=n.progress==s)&&(d=!1);var i=m?n.error:n.resolved;
if(r("config-useDeferredInstrumentation")&&m&&t.instrumentRejected&&t.instrumentRejected(h,!!i),
i)try{var a=i(h);if(a&&"function"==typeof a.then){a.then(o.hitch(n.deferred,"resolve"),o.hitch(n.deferred,"reject"),o.hitch(n.deferred,"progress"));
continue}var l=e&&void 0===a;e&&!l&&(m=a instanceof Error),n.deferred[l&&m?"reject":"resolve"](l?h:a);
}catch(u){n.deferred.reject(u)}else m?n.deferred.reject(h):n.deferred.resolve(h)}
}var h,d,f,p,m,g,v,y=this.promise=new n;this.isResolved=y.isResolved=function(){return 0==p;
},this.isRejected=y.isRejected=function(){return 1==p},this.isFulfilled=y.isFulfilled=function(){
return p>=0},this.isCanceled=y.isCanceled=function(){return f},this.resolve=this.callback=function(e){
this.fired=p=0,this.results=[e,null],a(e)},this.reject=this.errback=function(e){m=!0,
this.fired=p=1,r("config-useDeferredInstrumentation")&&t.instrumentRejected&&t.instrumentRejected(e,!!v),
a(e),this.results=[null,e]},this.progress=function(e){for(var t=v;t;){var n=t.progress;
n&&n(e),t=t.next}},this.addCallbacks=function(e,t){return this.then(e,t,s),this},
y.then=this.then=function(e,t,n){var i=n==s?this:new u(y.cancel),r={resolved:e,error:t,
progress:n,deferred:i};return v?g=g.next=r:v=g=r,d&&c(),i.promise};var b=this;y.cancel=this.cancel=function(){
if(!d){var t=e&&e(b);d||(t instanceof Error||(t=new i(t)),t.log=!1,b.reject(t))}f=!0;
},l(y)};return o.extend(u,{addCallback:function(t){return this.addCallbacks(o.hitch.apply(e,arguments));
},addErrback:function(t){return this.addCallbacks(null,o.hitch.apply(e,arguments));
},addBoth:function(t){var n=o.hitch.apply(e,arguments);return this.addCallbacks(n,n);
},fired:-1}),u.when=e.when=a,u}),define("dojo/_base/json",["./kernel","../json"],function(dojo,json){
return dojo.fromJson=function(js){return eval("("+js+")")},dojo._escapeString=json.stringify,
dojo.toJsonIndentStr="	",dojo.toJson=function(e,t){return json.stringify(e,function(e,t){
if(t){var n=t.__json__||t.json;if("function"==typeof n)return n.call(t)}return t},t&&dojo.toJsonIndentStr);
},dojo}),define("dojo/aspect",[],function(){"use strict";function e(e,t,n,r){var o,a=e[t],s="around"==t;
if(s){var l=n(function(){return a.advice(this,arguments)});o={remove:function(){l&&(l=e=n=null);
},advice:function(e,t){return l?l.apply(e,t):a.advice(e,t)}}}else o={remove:function(){
if(o.advice){var i=o.previous,r=o.next;r||i?(i?i.next=r:e[t]=r,r&&(r.previous=i)):delete e[t],
e=n=o.advice=null}},id:i++,advice:n,receiveArguments:r};if(a&&!s)if("after"==t){for(;a.next&&(a=a.next););
a.next=o,o.previous=a}else"before"==t&&(e[t]=o,o.next=a,a.previous=o);else e[t]=o;
return o}function t(t){return function(r,o,a,s){var l,u=r[o];u&&u.target==r||(r[o]=l=function(){
for(var e=i,t=arguments,r=l.before;r;)t=r.advice.apply(this,t)||t,r=r.next;if(l.around)var o=l.around.advice(this,t);
for(var a=l.after;a&&a.id<e;){if(a.receiveArguments){var s=a.advice.apply(this,t);
o=s===n?o:s}else o=a.advice.call(this,o,t);a=a.next}return o},u&&(l.around={advice:function(e,t){
return u.apply(e,t)}}),l.target=r);var c=e(l||u,t,a,s);return a=null,c}}var n,i=0,r=t("after"),o=t("before"),a=t("around");
return{before:o,around:a,after:r}}),define("dojo/on",["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(e,t,n){
"use strict";function i(e,t,i,r,o){var a=t.match(/(.*):(.*)/);if(a)return t=a[2],
a=a[1],s.selector(a,t).call(o,e,i);if(n("touch")&&(l.test(t)&&(i=C(i)),n("event-orientationchange")||"orientationchange"!=t||(t="resize",
e=window,i=C(i))),f&&(i=f(i)),e.addEventListener){var u=t in h,c=u?h[t]:t;return e.addEventListener(c,i,u),
{remove:function(){e.removeEventListener(c,i,u)}}}if(t="on"+t,v&&e.attachEvent)return v(e,t,i);
throw new Error("Target must be an event emitter")}function r(){this.cancelable=!1,
this.defaultPrevented=!0}function o(){this.bubbles=!1}if(n("dom")){var a=window.ScriptEngineMajorVersion;
n.add("jscript",a&&a()+ScriptEngineMinorVersion()/10),n.add("event-orientationchange",n("touch")&&!n("android")),
n.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),
n.add("event-focusin",function(e,t,n){return"onfocusin"in n}),n("touch")&&n.add("touch-can-modify-event-delegate",function(){
var e=function(){};e.prototype=document.createEvent("MouseEvents");try{return(new e).target=null,
!0}catch(t){return!1}})}var s=function(e,t,n,r){return"function"!=typeof e.on||"function"==typeof t||e.nodeType?s.parse(e,t,n,i,r,this):e.on(t,n);
};s.pausable=function(e,t,n,i){var r,o=s(e,t,function(){return r?void 0:n.apply(this,arguments);
},i);return o.pause=function(){r=!0},o.resume=function(){r=!1},o},s.once=function(e,t,n,i){
var r=s(e,t,function(){return r.remove(),n.apply(this,arguments)});return r},s.parse=function(e,t,n,i,r,o){
if(t.call)return t.call(o,e,n);if(t instanceof Array)a=t;else if(t.indexOf(",")>-1)var a=t.split(/\s*,\s*/);
if(a){for(var l,u=[],c=0;l=a[c++];)u.push(s.parse(e,l,n,i,r,o));return u.remove=function(){
for(var e=0;e<u.length;e++)u[e].remove()},u}return i(e,t,n,r,o)};var l=/^touch/;s.matches=function(e,n,i,r,o){
for(o=o&&o.matches?o:t.query,r=r!==!1,1!=e.nodeType&&(e=e.parentNode);!o.matches(e,n,i);)if(e==i||r===!1||!(e=e.parentNode)||1!=e.nodeType)return!1;
return e},s.selector=function(e,t,n){return function(i,r){function o(t){return s.matches(t,e,i,n,a);
}var a="function"==typeof e?{matches:e}:this,l=t.bubble;return l?s(i,l(o),r):s(i,t,function(e){
var t=o(e.target);return t&&r.call(t,e)})}};var u=[].slice,c=s.emit=function(e,t,n){
var i=u.call(arguments,2),a="on"+t;if("parentNode"in e){var s=i[0]={};for(var l in n)s[l]=n[l];
s.preventDefault=r,s.stopPropagation=o,s.target=e,s.type=t,n=s}do e[a]&&e[a].apply(e,i);while(n&&n.bubbles&&(e=e.parentNode));
return n&&n.cancelable&&n},h=n("event-focusin")?{}:{focusin:"focus",focusout:"blur"
};if(!n("event-stopimmediatepropagation"))var d=function(){this.immediatelyStopped=!0,
this.modified=!0},f=function(e){return function(t){return t.immediatelyStopped?void 0:(t.stopImmediatePropagation=d,
e.apply(this,arguments))}};if(n("dom-addeventlistener"))s.emit=function(e,t,n){if(e.dispatchEvent&&document.createEvent){
var i=e.ownerDocument||document,r=i.createEvent("HTMLEvents");r.initEvent(t,!!n.bubbles,!!n.cancelable);
for(var o in n)o in r||(r[o]=n[o]);return e.dispatchEvent(r)&&r}return c.apply(s,arguments);
};else{s._fixEvent=function(e,t){if(!e){var n=t&&(t.ownerDocument||t.document||t).parentWindow||window;
e=n.event}if(!e)return e;try{p&&e.type==p.type&&e.srcElement==p.target&&(e=p)}catch(i){}
if(!e.target)switch(e.target=e.srcElement,e.currentTarget=t||e.srcElement,"mouseover"==e.type&&(e.relatedTarget=e.fromElement),
"mouseout"==e.type&&(e.relatedTarget=e.toElement),e.stopPropagation||(e.stopPropagation=b,
e.preventDefault=_),e.type){case"keypress":var r="charCode"in e?e.charCode:e.keyCode;
10==r?(r=0,e.keyCode=13):13==r||27==r?r=0:3==r&&(r=99),e.charCode=r,y(e)}return e;
};var p,m=function(e){this.handle=e};m.prototype.remove=function(){delete _dojoIEListeners_[this.handle];
};var g=function(e){return function(t){t=s._fixEvent(t,this);var n=e.call(this,t);
return t.modified&&(p||setTimeout(function(){p=null}),p=t),n}},v=function(t,i,r){
if(r=g(r),((t.ownerDocument?t.ownerDocument.parentWindow:t.parentWindow||t.window||window)!=top||n("jscript")<5.8)&&!n("config-_allow_leaks")){
"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var o=t[i];if(!o||!o.listeners){
var a=o;o=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}"),
o.listeners=[],t[i]=o,o.global=this,a&&o.listeners.push(_dojoIEListeners_.push(a)-1);
}var s;return o.listeners.push(s=o.global._dojoIEListeners_.push(r)-1),new m(s)}return e.after(t,i,r,!0);
},y=function(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode;
},b=function(){this.cancelBubble=!0},_=s._preventDefault=function(){if(this.bubbledKeyCode=this.keyCode,
this.ctrlKey)try{this.keyCode=0}catch(e){}this.defaultPrevented=!0,this.returnValue=!1,
this.modified=!0}}if(n("touch"))var x=function(){},w=window.orientation,C=function(e){
return function(t){var i=t.corrected;if(!i){var r=t.type;try{delete t.type}catch(o){}
if(t.type){if(n("touch-can-modify-event-delegate"))x.prototype=t,i=new x;else{i={};
for(var a in t)i[a]=t[a]}i.preventDefault=function(){t.preventDefault()},i.stopPropagation=function(){
t.stopPropagation()}}else i=t,i.type=r;if(t.corrected=i,"resize"==r)return w==window.orientation?null:(w=window.orientation,
i.type="orientationchange",e.call(this,i));"rotation"in i||(i.rotation=0,i.scale=1);
var s=i.changedTouches[0];for(var l in s)delete i[l],i[l]=s[l]}return e.call(this,i);
}};return s}),define("dojo/errors/RequestError",["./create"],function(e){return e("RequestError",function(e,t){
this.response=t})}),define("dojo/request/util",["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise"],function(e,t,n,i,r,o,a,s){
function l(e){return c(e)}function u(e){return e.data||e.text}e.deepCopy=function(t,n){
for(var i in n){var r=t[i],o=n[i];r!==o&&(r&&"object"==typeof r&&o&&"object"==typeof o?e.deepCopy(r,o):t[i]=o);
}return t},e.deepCreate=function(t,n){n=n||{};var i,r,o=a.delegate(t);for(i in t)r=t[i],
r&&"object"==typeof r&&(o[i]=e.deepCreate(r,n[i]));return e.deepCopy(o,n)};var c=Object.freeze||function(e){
return e};e.deferred=function(r,o,h,d,f,p){function m(e){throw e.response=r,e}var g=new i(function(e){
return o&&o(g,r),e&&(e instanceof t||e instanceof n)?e:new n("Request canceled",r);
});g.response=r,g.isValid=h,g.isReady=d,g.handleResponse=f;var v=g.then(l).otherwise(m);
e.notify&&v.then(a.hitch(e.notify,"emit","load"),a.hitch(e.notify,"emit","error"));
var y=v.then(u),b=new s;for(var _ in y)y.hasOwnProperty(_)&&(b[_]=y[_]);return b.response=v,
c(b),p&&g.then(function(e){p.call(g,e)},function(e){p.call(g,r,e)}),g.promise=b,g.then=b.then,
g},e.addCommonMethods=function(e,t){o.forEach(t||["GET","POST","PUT","DELETE"],function(t){
e[("DELETE"===t?"DEL":t).toLowerCase()]=function(n,i){return i=a.delegate(i||{}),
i.method=t,e(n,i)}})},e.parseArgs=function(e,t,n){var i=t.data,o=t.query;return i&&!n&&"object"==typeof i&&(t.data=r.objectToQuery(i)),
o?("object"==typeof o&&(o=r.objectToQuery(o)),t.preventCache&&(o+=(o?"&":"")+"request.preventCache="+ +new Date)):t.preventCache&&(o="request.preventCache="+ +new Date),
e&&o&&(e+=(~e.indexOf("?")?"&":"?")+o),{url:e,options:t,getHeader:function(e){return null;
}}},e.checkStatus=function(e){return e=e||0,e>=200&&300>e||304===e||1223===e||!e};
}),define("dojo/errors/RequestTimeoutError",["./create","./RequestError"],function(e,t){
return e("RequestTimeoutError",null,t,{dojoType:"timeout"})}),define("dojo/request/watch",["./util","../errors/RequestTimeoutError","../errors/CancelError","../_base/array","../has!host-browser?../_base/window:","../has!host-browser?dom-addeventlistener?:../on:"],function(e,t,n,i,r,o){
function a(){for(var e,n=+new Date,i=0;i<u.length&&(e=u[i]);i++){var r=e.response,o=r.options;
e.isCanceled&&e.isCanceled()||e.isValid&&!e.isValid(r)?(u.splice(i--,1),s._onAction&&s._onAction()):e.isReady&&e.isReady(r)?(u.splice(i--,1),
e.handleResponse(r),s._onAction&&s._onAction()):e.startTime&&e.startTime+(o.timeout||0)<n&&(u.splice(i--,1),
e.cancel(new t("Timeout exceeded",r)),s._onAction&&s._onAction())}s._onInFlight&&s._onInFlight(e),
u.length||(clearInterval(l),l=null)}function s(e){e.response.options.timeout&&(e.startTime=+new Date),
e.isFulfilled()||(u.push(e),l||(l=setInterval(a,50)),e.response.options.sync&&a());
}var l=null,u=[];return s.cancelAll=function(){try{i.forEach(u,function(e){try{e.cancel(new n("All requests canceled."));
}catch(t){}})}catch(e){}},r&&o&&r.doc.attachEvent&&o(r.global,"unload",function(){
s.cancelAll()}),s}),define("dojo/request/handlers",["../json","../_base/kernel","../_base/array","../has","../has!dom?../selector/_loader"],function(e,t,n,i){
function r(e){var t=s[e.options.handleAs];return e.data=t?t(e):e.data||e.text,e}i.add("activex","undefined"!=typeof ActiveXObject),
i.add("dom-parser",function(e){return"DOMParser"in e});var o;if(i("activex")){var a=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];
o=function(e){var t=e.data;if(t&&i("dom-qsa2.1")&&!t.querySelectorAll&&i("dom-parser")&&(t=(new DOMParser).parseFromString(e.text,"application/xml")),
!t||!t.documentElement){var r=e.text;n.some(a,function(e){try{var n=new ActiveXObject(e);
n.async=!1,n.loadXML(r),t=n}catch(i){return!1}return!0})}return t}}var s={javascript:function(e){
return t.eval(e.text||"")},json:function(t){return e.parse(t.text||null)},xml:o};return r.register=function(e,t){
s[e]=t},r}),define("dojo/request/xhr",["../errors/RequestError","./watch","./handlers","./util","../has"],function(e,t,n,i,r){
function o(t,r){var o=t.xhr;if(t.status=t.xhr.status,t.text=o.responseText,"xml"===t.options.handleAs&&(t.data=o.responseXML),
!r)try{n(t)}catch(a){r=a}r?this.reject(r):i.checkStatus(o.status)?this.resolve(t):(r=new e("Unable to load "+t.url+" status: "+o.status,t),
this.reject(r))}function a(e){return this.xhr.getResponseHeader(e)}function s(n,p,m){
var g=i.parseArgs(n,i.deepCreate(f,p),r("native-formdata")&&p&&p.data&&p.data instanceof FormData);
n=g.url,p=g.options;var v,y=function(){v&&v()},b=i.deferred(g,h,l,u,o,y),_=g.xhr=s._create();
if(!_)return b.cancel(new e("XHR was not created")),m?b:b.promise;g.getHeader=a,c&&(v=c(_,b,g));
var x=p.data,w=!p.sync,C=p.method;try{_.open(C,n,w,p.user||d,p.password||d),p.withCredentials&&(_.withCredentials=p.withCredentials);
var S=p.headers,k="application/x-www-form-urlencoded";if(S)for(var D in S)"content-type"===D.toLowerCase()?k=S[D]:S[D]&&_.setRequestHeader(D,S[D]);
k&&k!==!1&&_.setRequestHeader("Content-Type",k),S&&"X-Requested-With"in S||_.setRequestHeader("X-Requested-With","XMLHttpRequest"),
i.notify&&i.notify.emit("send",g,b.promise.cancel),_.send(x)}catch(M){b.reject(M);
}return t(b),_=null,m?b:b.promise}r.add("native-xhr",function(){return"undefined"!=typeof XMLHttpRequest;
}),r.add("dojo-force-activex-xhr",function(){return r("activex")&&!document.addEventListener&&"file:"===window.location.protocol;
}),r.add("native-xhr2",function(){if(r("native-xhr")){var e=new XMLHttpRequest;return"undefined"!=typeof e.addEventListener&&("undefined"==typeof opera||"undefined"!=typeof e.upload);
}}),r.add("native-formdata",function(){return"function"==typeof FormData});var l,u,c,h;
r("native-xhr2")?(l=function(e){return!this.isFulfilled()},h=function(e,t){t.xhr.abort();
},c=function(t,n,i){function r(e){n.handleResponse(i)}function o(t){var r=t.target,o=new e("Unable to load "+i.url+" status: "+r.status,i);
n.handleResponse(i,o)}function a(e){e.lengthComputable&&(i.loaded=e.loaded,i.total=e.total,
n.progress(i))}return t.addEventListener("load",r,!1),t.addEventListener("error",o,!1),
t.addEventListener("progress",a,!1),function(){t.removeEventListener("load",r,!1),
t.removeEventListener("error",o,!1),t.removeEventListener("progress",a,!1),t=null;
}}):(l=function(e){return e.xhr.readyState},u=function(e){return 4===e.xhr.readyState;
},h=function(e,t){var n=t.xhr,i=typeof n.abort;("function"===i||"object"===i||"unknown"===i)&&n.abort();
});var d,f={data:null,query:null,sync:!1,method:"GET"};if(s._create=function(){throw new Error("XMLHTTP not available");
},r("native-xhr")&&!r("dojo-force-activex-xhr"))s._create=function(){return new XMLHttpRequest;
};else if(r("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),s._create=function(){
return new ActiveXObject("Msxml2.XMLHTTP")}}catch(p){try{new ActiveXObject("Microsoft.XMLHTTP"),
s._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(p){}}return i.addCommonMethods(s),
s}),define("dojo/_base/xhr",["./kernel","./sniff","require","../io-query","../dom","../dom-form","./Deferred","./config","./json","./lang","./array","../on","../aspect","../request/watch","../request/xhr","../request/util"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m){
e._xhrObj=p._create;var g=e.config;e.objectToQuery=i.objectToQuery,e.queryToObject=i.queryToObject,
e.fieldToObject=o.fieldToObject,e.formToObject=o.toObject,e.formToQuery=o.toQuery,
e.formToJson=o.toJson,e._blockAsync=!1;var v=e._contentHandlers=e.contentHandlers={
text:function(e){return e.responseText},json:function(e){return l.fromJson(e.responseText||null);
},"json-comment-filtered":function(e){s.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&\nUse djConfig.useCommentedJson=true to turn off this message.");
var t=e.responseText,n=t.indexOf("/*"),i=t.lastIndexOf("*/");if(-1==n||-1==i)throw new Error("JSON was not comment filtered");
return l.fromJson(t.substring(n+2,i))},javascript:function(t){return e.eval(t.responseText);
},xml:function(e){var n=e.responseXML;if(n&&t("dom-qsa2.1")&&!n.querySelectorAll&&t("dom-parser")&&(n=(new DOMParser).parseFromString(e.responseText,"application/xml")),
t("ie")&&(!n||!n.documentElement)){var i=function(e){return"MSXML"+e+".DOMDocument";
},r=["Microsoft.XMLDOM",i(6),i(4),i(3),i(2)];c.some(r,function(t){try{var i=new ActiveXObject(t);
i.async=!1,i.loadXML(e.responseText),n=i}catch(r){return!1}return!0})}return n},"json-comment-optional":function(e){
return e.responseText&&/^[^{\[]*\/\*/.test(e.responseText)?v["json-comment-filtered"](e):v.json(e);
}};e._ioSetArgs=function(t,n,s,l){var c={args:t,url:t.url},h=null;if(t.form){var d=r.byId(t.form),f=d.getAttributeNode("action");
c.url=c.url||(f?f.value:null),h=o.toObject(d)}var p=[{}];h&&p.push(h),t.content&&p.push(t.content),
t.preventCache&&p.push({"dojo.preventCache":(new Date).valueOf()}),c.query=i.objectToQuery(u.mixin.apply(null,p)),
c.handleAs=t.handleAs||"text";var m=new a(function(e){e.canceled=!0,n&&n(e);var t=e.ioArgs.error;
return t||(t=new Error("request cancelled"),t.dojoType="cancel",e.ioArgs.error=t),
t});m.addCallback(s);var v=t.load;v&&u.isFunction(v)&&m.addCallback(function(e){return v.call(t,e,c);
});var y=t.error;y&&u.isFunction(y)&&m.addErrback(function(e){return y.call(t,e,c);
});var b=t.handle;return b&&u.isFunction(b)&&m.addBoth(function(e){return b.call(t,e,c);
}),m.addErrback(function(e){return l(e,m)}),g.ioPublish&&e.publish&&c.args.ioPublish!==!1&&(m.addCallbacks(function(t){
return e.publish("/dojo/io/load",[m,t]),t},function(t){return e.publish("/dojo/io/error",[m,t]),
t}),m.addBoth(function(t){return e.publish("/dojo/io/done",[m,t]),t})),m.ioArgs=c,
m};var y=function(e){var t=v[e.ioArgs.handleAs](e.ioArgs.xhr);return void 0===t?null:t;
},b=function(e,t){return t.ioArgs.args.failOk||console.error(e),e},_=function(t){
0>=x&&(x=0,g.ioPublish&&e.publish&&(!t||t&&t.ioArgs.args.ioPublish!==!1)&&e.publish("/dojo/io/stop"));
},x=0;d.after(f,"_onAction",function(){x-=1}),d.after(f,"_onInFlight",_),e._ioCancelAll=f.cancelAll,
e._ioNotifyStart=function(t){g.ioPublish&&e.publish&&t.ioArgs.args.ioPublish!==!1&&(x||e.publish("/dojo/io/start"),
x+=1,e.publish("/dojo/io/send",[t]))},e._ioWatch=function(e,t,n,i){e.ioArgs.options=e.ioArgs.args;
u.mixin(e,{response:e.ioArgs,isValid:function(n){return t(e)},isReady:function(t){
return n(e)},handleResponse:function(t){return i(e)}}),f(e),_(e)};return e._ioAddQueryToUrl=function(e){
e.query.length&&(e.url+=(-1==e.url.indexOf("?")?"?":"&")+e.query,e.query=null)},e.xhr=function(t,n,i){
var r,o=e._ioSetArgs(n,function(e){r&&r.cancel()},y,b),a=o.ioArgs;"postData"in n?a.query=n.postData:"putData"in n?a.query=n.putData:"rawBody"in n?a.query=n.rawBody:(arguments.length>2&&!i||-1==="POST|PUT".indexOf(t.toUpperCase()))&&e._ioAddQueryToUrl(a);
var s={method:t,handleAs:"text",timeout:n.timeout,withCredentials:n.withCredentials,
ioArgs:a};"undefined"!=typeof n.headers&&(s.headers=n.headers),"undefined"!=typeof n.contentType&&(s.headers||(s.headers={}),
s.headers["Content-Type"]=n.contentType),"undefined"!=typeof a.query&&(s.data=a.query),
"undefined"!=typeof n.sync&&(s.sync=n.sync),e._ioNotifyStart(o);try{r=p(a.url,s,!0);
}catch(l){return o.cancel(),o}return o.ioArgs.xhr=r.response.xhr,r.then(function(){
o.resolve(o)}).otherwise(function(e){a.error=e,e.response&&(e.status=e.response.status,
e.responseText=e.response.text,e.xhr=e.response.xhr),o.reject(e)}),o},e.xhrGet=function(t){
return e.xhr("GET",t)},e.rawXhrPost=e.xhrPost=function(t){return e.xhr("POST",t,!0);
},e.rawXhrPut=e.xhrPut=function(t){return e.xhr("PUT",t,!0)},e.xhrDelete=function(t){
return e.xhr("DELETE",t)},e._isDocumentOk=function(e){return m.checkStatus(e.status);
},e._getText=function(t){var n;return e.xhrGet({url:t,sync:!0,load:function(e){n=e;
}}),n},u.mixin(e.xhr,{_xhrObj:e._xhrObj,fieldToObject:o.fieldToObject,formToObject:o.toObject,
objectToQuery:i.objectToQuery,formToQuery:o.toQuery,formToJson:o.toJson,queryToObject:i.queryToObject,
contentHandlers:v,_ioSetArgs:e._ioSetArgs,_ioCancelAll:e._ioCancelAll,_ioNotifyStart:e._ioNotifyStart,
_ioWatch:e._ioWatch,_ioAddQueryToUrl:e._ioAddQueryToUrl,_isDocumentOk:e._isDocumentOk,
_getText:e._getText,get:e.xhrGet,post:e.xhrPost,put:e.xhrPut,del:e.xhrDelete}),e.xhr;
}),define("dojo/Evented",["./aspect","./on"],function(e,t){"use strict";function n(){}
var i=e.after;return n.prototype={on:function(e,n){return t.parse(this,e,n,function(e,t){
return i(e,"on"+t,n,!0)})},emit:function(e,n){var i=[this];return i.push.apply(i,arguments),
t.emit.apply(t,i)}},n}),define("dojo/data/util/filter",["../../_base/lang"],function(e){
var t={};return e.setObject("dojo.data.util.filter",t),t.patternToRegExp=function(e,t){
for(var n="^",i=null,r=0;r<e.length;r++)switch(i=e.charAt(r)){case"\\":n+=i,r++,n+=e.charAt(r);
break;case"*":n+=".*";break;case"?":n+=".";break;case"$":case"^":case"/":case"+":
case".":case"|":case"(":case")":case"{":case"}":case"[":case"]":n+="\\";default:n+=i;
}return n+="$",t?new RegExp(n,"mi"):new RegExp(n,"m")},t}),define("dojo/data/util/sorter",["../../_base/lang"],function(e){
var t={};return e.setObject("dojo.data.util.sorter",t),t.basicComparator=function(e,t){
var n=-1;return null===e&&(e=void 0),null===t&&(t=void 0),e==t?n=0:(e>t||null==e)&&(n=1),
n},t.createSortFunction=function(e,n){function i(e,t,n,i){return function(r,o){var a=i.getValue(r,e),s=i.getValue(o,e);
return t*n(a,s)}}for(var r,o=[],a=n.comparatorMap,s=t.basicComparator,l=0;l<e.length;l++){
r=e[l];var u=r.attribute;if(u){var c=r.descending?-1:1,h=s;a&&("string"!=typeof u&&"toString"in u&&(u=u.toString()),
h=a[u]||s),o.push(i(u,c,h,n))}}return function(e,t){for(var n=0;n<o.length;){var i=o[n++](e,t);
if(0!==i)return i}return 0}},t}),define("dojo/data/util/simpleFetch",["../../_base/lang","../../_base/kernel","./sorter"],function(e,t,n){
var i={};return e.setObject("dojo.data.util.simpleFetch",i),i.errorHandler=function(e,n){
if(n.onError){var i=n.scope||t.global;n.onError.call(i,e,n)}},i.fetchHandler=function(e,i){
var r=i.abort||null,o=!1,a=i.start?i.start:0,s=i.count&&i.count!==1/0?a+i.count:e.length;
i.abort=function(){o=!0,r&&r.call(i)};var l=i.scope||t.global;if(i.store||(i.store=this),
i.onBegin&&i.onBegin.call(l,e.length,i),i.sort&&e.sort(n.createSortFunction(i.sort,this)),
i.onItem)for(var u=a;u<e.length&&s>u;++u){var c=e[u];o||i.onItem.call(l,c,i)}if(i.onComplete&&!o){
var h=null;i.onItem||(h=e.slice(a,s)),i.onComplete.call(l,h,i)}},i.fetch=function(t){
return t=t||{},t.store||(t.store=this),this._fetchItems(t,e.hitch(this,"fetchHandler"),e.hitch(this,"errorHandler")),
t},i}),define("dojo/date/stamp",["../_base/lang","../_base/array"],function(e,t){
var n={};return e.setObject("dojo.date.stamp",n),n.fromISOString=function(e,i){n._isoRegExp||(n._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);
var r=n._isoRegExp.exec(e),o=null;if(r){r.shift(),r[1]&&r[1]--,r[6]&&(r[6]*=1e3),
i&&(i=new Date(i),t.forEach(t.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(e){
return i["get"+e]()}),function(e,t){r[t]=r[t]||e})),o=new Date(r[0]||1970,r[1]||0,r[2]||1,r[3]||0,r[4]||0,r[5]||0,r[6]||0),
r[0]<100&&o.setFullYear(r[0]||1970);var a=0,s=r[7]&&r[7].charAt(0);"Z"!=s&&(a=60*(r[8]||0)+(Number(r[9])||0),
"-"!=s&&(a*=-1)),s&&(a-=o.getTimezoneOffset()),a&&o.setTime(o.getTime()+6e4*a)}return o;
},n.toISOString=function(e,t){var n=function(e){return 10>e?"0"+e:e};t=t||{};var i=[],r=t.zulu?"getUTC":"get",o="";
if("time"!=t.selector){var a=e[r+"FullYear"]();o=["0000".substr((a+"").length)+a,n(e[r+"Month"]()+1),n(e[r+"Date"]())].join("-");
}if(i.push(o),"date"!=t.selector){var s=[n(e[r+"Hours"]()),n(e[r+"Minutes"]()),n(e[r+"Seconds"]())].join(":"),l=e[r+"Milliseconds"]();
if(t.milliseconds&&(s+="."+(100>l?"0":"")+n(l)),t.zulu)s+="Z";else if("time"!=t.selector){
var u=e.getTimezoneOffset(),c=Math.abs(u);s+=(u>0?"-":"+")+n(Math.floor(c/60))+":"+n(c%60);
}i.push(s)}return i.join("T")},n}),define("dojo/data/ItemFileReadStore",["../_base/kernel","../_base/lang","../_base/declare","../_base/array","../_base/xhr","../Evented","./util/filter","./util/simpleFetch","../date/stamp"],function(e,t,n,i,r,o,a,s,l){
var u=n("dojo.data.ItemFileReadStore",[o],{constructor:function(e){this._arrayOfAllItems=[],
this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._jsonFileUrl=e.url,this._ccUrl=e.url,
this.url=e.url,this._jsonData=e.data,this.data=null,this._datatypeMap=e.typeMap||{},
this._datatypeMap.Date||(this._datatypeMap.Date={type:Date,deserialize:function(e){
return l.fromISOString(e)}}),this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0
},this._itemsByIdentity=null,this._storeRefPropName="_S",this._itemNumPropName="_0",
this._rootItemPropName="_RI",this._reverseRefMap="_RRM",this._loadInProgress=!1,this._queuedFetches=[],
void 0!==e.urlPreventCache&&(this.urlPreventCache=e.urlPreventCache?!0:!1),void 0!==e.hierarchical&&(this.hierarchical=e.hierarchical?!0:!1),
e.clearOnClose&&(this.clearOnClose=!0),"failOk"in e&&(this.failOk=e.failOk?!0:!1);
},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:!1,urlPreventCache:!1,failOk:!1,
hierarchical:!0,_assertIsItem:function(e){if(!this.isItem(e))throw new Error(this.declaredClass+": Invalid item argument.");
},_assertIsAttribute:function(e){if("string"!=typeof e)throw new Error(this.declaredClass+": Invalid attribute argument.");
},getValue:function(e,t,n){var i=this.getValues(e,t);return i.length>0?i[0]:n},getValues:function(e,t){
return this._assertIsItem(e),this._assertIsAttribute(t),(e[t]||[]).slice(0)},getAttributes:function(e){
this._assertIsItem(e);var t=[];for(var n in e)n!==this._storeRefPropName&&n!==this._itemNumPropName&&n!==this._rootItemPropName&&n!==this._reverseRefMap&&t.push(n);
return t},hasAttribute:function(e,t){return this._assertIsItem(e),this._assertIsAttribute(t),
t in e},containsValue:function(e,t,n){var i=void 0;return"string"==typeof n&&(i=a.patternToRegExp(n,!1)),
this._containsValue(e,t,n,i)},_containsValue:function(e,n,r,o){return i.some(this.getValues(e,n),function(e){
if(null!==e&&!t.isObject(e)&&o){if(e.toString().match(o))return!0}else if(r===e)return!0;
})},isItem:function(e){return e&&e[this._storeRefPropName]===this&&this._arrayOfAllItems[e[this._itemNumPropName]]===e?!0:!1;
},isItemLoaded:function(e){return this.isItem(e)},loadItem:function(e){this._assertIsItem(e.item);
},getFeatures:function(){return this._features},getLabel:function(e){return this._labelAttr&&this.isItem(e)?this.getValue(e,this._labelAttr):void 0;
},getLabelAttributes:function(e){return this._labelAttr?[this._labelAttr]:null},filter:function(e,t,n){
var i,r,o=[];if(e.query){var s,l=e.queryOptions?e.queryOptions.ignoreCase:!1,u={};
for(r in e.query)s=e.query[r],"string"==typeof s?u[r]=a.patternToRegExp(s,l):s instanceof RegExp&&(u[r]=s);
for(i=0;i<t.length;++i){var c=!0,h=t[i];if(null===h)c=!1;else for(r in e.query)s=e.query[r],
this._containsValue(h,r,s,u[r])||(c=!1);c&&o.push(h)}n(o,e)}else{for(i=0;i<t.length;++i){
var d=t[i];null!==d&&o.push(d)}n(o,e)}},_fetchItems:function(n,i,o){var a=this;if(this._loadFinished)this.filter(n,this._getItemsArray(n.queryOptions),i);else if(this._jsonFileUrl!==this._ccUrl?(e.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),
this._ccUrl=this._jsonFileUrl,this.url=this._jsonFileUrl):this.url!==this._ccUrl&&(this._jsonFileUrl=this.url,
this._ccUrl=this.url),null!=this.data&&(this._jsonData=this.data,this.data=null),
this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:n,filter:t.hitch(a,"filter"),
findCallback:t.hitch(a,i)});else{this._loadInProgress=!0;var s={url:a._jsonFileUrl,
handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk
},l=r.get(s);l.addCallback(function(e){try{a._getItemsFromLoadedData(e),a._loadFinished=!0,
a._loadInProgress=!1,a.filter(n,a._getItemsArray(n.queryOptions),i),a._handleQueuedFetches();
}catch(t){a._loadFinished=!0,a._loadInProgress=!1,o(t,n)}}),l.addErrback(function(e){
a._loadInProgress=!1,o(e,n)});var u=null;n.abort&&(u=n.abort),n.abort=function(){
var e=l;e&&-1===e.fired&&(e.cancel(),e=null),u&&u.call(n)}}else if(this._jsonData)try{
this._loadFinished=!0,this._getItemsFromLoadedData(this._jsonData),this._jsonData=null,
a.filter(n,this._getItemsArray(n.queryOptions),i)}catch(c){o(c,n)}else o(new Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),n);
},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var e=0;e<this._queuedFetches.length;e++){
var t=this._queuedFetches[e],n=t.args,i=t.filter,r=t.findCallback;i?i(n,this._getItemsArray(n.queryOptions),r):this.fetchItemByIdentity(n);
}this._queuedFetches=[]}},_getItemsArray:function(e){return e&&e.deep?this._arrayOfAllItems:this._arrayOfTopLevelItems;
},close:function(e){this.clearOnClose&&this._loadFinished&&!this._loadInProgress&&(""!=this._jsonFileUrl&&null!=this._jsonFileUrl||""!=this.url&&null!=this.url||null!=this.data||console.debug(this.declaredClass+": WARNING!  Data reload  information has not been provided.  Please set 'url' or 'data' to the appropriate value before the next fetch"),
this._arrayOfAllItems=[],this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._itemsByIdentity=null,
this._loadInProgress=!1,this._queuedFetches=[])},_getItemsFromLoadedData:function(e){
function n(e){return null!==e&&"object"==typeof e&&(!t.isArray(e)||r)&&!t.isFunction(e)&&(e.constructor==Object||t.isArray(e))&&"undefined"==typeof e._reference&&"undefined"==typeof e._type&&"undefined"==typeof e._value&&o.hierarchical;
}function i(e){o._arrayOfAllItems.push(e);for(var r in e){var a=e[r];if(a)if(t.isArray(a))for(var s=a,l=0;l<s.length;++l){
var u=s[l];n(u)&&i(u)}else n(a)&&i(a)}}var r=!1,o=this;this._labelAttr=e.label;var a,s;
for(this._arrayOfAllItems=[],this._arrayOfTopLevelItems=e.items,a=0;a<this._arrayOfTopLevelItems.length;++a)s=this._arrayOfTopLevelItems[a],
t.isArray(s)&&(r=!0),i(s),s[this._rootItemPropName]=!0;var l,u={};for(a=0;a<this._arrayOfAllItems.length;++a){
s=this._arrayOfAllItems[a];for(l in s){if(l!==this._rootItemPropName){var c=s[l];null!==c?t.isArray(c)||(s[l]=[c]):s[l]=[null];
}u[l]=l}}for(;u[this._storeRefPropName];)this._storeRefPropName+="_";for(;u[this._itemNumPropName];)this._itemNumPropName+="_";
for(;u[this._reverseRefMap];)this._reverseRefMap+="_";var h,d=e.identifier;if(d)for(this._itemsByIdentity={},
this._features["dojo.data.api.Identity"]=d,a=0;a<this._arrayOfAllItems.length;++a){
s=this._arrayOfAllItems[a],h=s[d];var f=h[0];if(Object.hasOwnProperty.call(this._itemsByIdentity,f)){
if(this._jsonFileUrl)throw new Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+d+"].  Value collided: ["+f+"]");
if(this._jsonData)throw new Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+d+"].  Value collided: ["+f+"]");
}else this._itemsByIdentity[f]=s}else this._features["dojo.data.api.Identity"]=Number;
for(a=0;a<this._arrayOfAllItems.length;++a)s=this._arrayOfAllItems[a],s[this._storeRefPropName]=this,
s[this._itemNumPropName]=a;for(a=0;a<this._arrayOfAllItems.length;++a){s=this._arrayOfAllItems[a];
for(l in s){h=s[l];for(var p=0;p<h.length;++p)if(c=h[p],null!==c&&"object"==typeof c){
if("_type"in c&&"_value"in c){var m=c._type,g=this._datatypeMap[m];if(!g)throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+m+"'");
if(t.isFunction(g))h[p]=new g(c._value);else{if(!t.isFunction(g.deserialize))throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");
h[p]=g.deserialize(c._value)}}if(c._reference){var v=c._reference;if(t.isObject(v))for(var y=0;y<this._arrayOfAllItems.length;++y){
var b=this._arrayOfAllItems[y],_=!0;for(var x in v)b[x]!=v[x]&&(_=!1);_&&(h[p]=b);
}else h[p]=this._getItemByIdentity(v);if(this.referenceIntegrity){var w=h[p];this.isItem(w)&&this._addReferenceToMap(w,s,l);
}}else this.isItem(c)&&this.referenceIntegrity&&this._addReferenceToMap(c,s,l)}}}
},_addReferenceToMap:function(e,t,n){},getIdentity:function(e){var t=this._features["dojo.data.api.Identity"];
if(t===Number)return e[this._itemNumPropName];var n=e[t];return n?n[0]:null},fetchItemByIdentity:function(t){
var n,i;if(this._loadFinished)n=this._getItemByIdentity(t.identity),t.onItem&&(i=t.scope?t.scope:e.global,
t.onItem.call(i,n));else{var o=this;if(this._jsonFileUrl!==this._ccUrl?(e.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),
this._ccUrl=this._jsonFileUrl,this.url=this._jsonFileUrl):this.url!==this._ccUrl&&(this._jsonFileUrl=this.url,
this._ccUrl=this.url),null!=this.data&&null==this._jsonData&&(this._jsonData=this.data,
this.data=null),this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({
args:t});else{this._loadInProgress=!0;var a={url:o._jsonFileUrl,handleAs:"json-comment-optional",
preventCache:this.urlPreventCache,failOk:this.failOk},s=r.get(a);s.addCallback(function(i){
var r=t.scope?t.scope:e.global;try{o._getItemsFromLoadedData(i),o._loadFinished=!0,
o._loadInProgress=!1,n=o._getItemByIdentity(t.identity),t.onItem&&t.onItem.call(r,n),
o._handleQueuedFetches()}catch(a){o._loadInProgress=!1,t.onError&&t.onError.call(r,a);
}}),s.addErrback(function(n){if(o._loadInProgress=!1,t.onError){var i=t.scope?t.scope:e.global;
t.onError.call(i,n)}})}else this._jsonData&&(o._getItemsFromLoadedData(o._jsonData),
o._jsonData=null,o._loadFinished=!0,n=o._getItemByIdentity(t.identity),t.onItem&&(i=t.scope?t.scope:e.global,
t.onItem.call(i,n)))}},_getItemByIdentity:function(e){var t=null;return this._itemsByIdentity?Object.hasOwnProperty.call(this._itemsByIdentity,e)&&(t=this._itemsByIdentity[e]):Object.hasOwnProperty.call(this._arrayOfAllItems,e)&&(t=this._arrayOfAllItems[e]),
void 0===t&&(t=null),t},getIdentityAttributes:function(e){var t=this._features["dojo.data.api.Identity"];
return t===Number?null:[t]},_forceLoad:function(){var t=this;if(this._jsonFileUrl!==this._ccUrl?(e.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),
this._ccUrl=this._jsonFileUrl,this.url=this._jsonFileUrl):this.url!==this._ccUrl&&(this._jsonFileUrl=this.url,
this._ccUrl=this.url),null!=this.data&&(this._jsonData=this.data,this.data=null),
this._jsonFileUrl){var n={url:this._jsonFileUrl,handleAs:"json-comment-optional",
preventCache:this.urlPreventCache,failOk:this.failOk,sync:!0},i=r.get(n);i.addCallback(function(e){
try{if(t._loadInProgress===!0||t._loadFinished){if(t._loadInProgress)throw new Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");
}else t._getItemsFromLoadedData(e),t._loadFinished=!0}catch(n){throw console.log(n),
n}}),i.addErrback(function(e){throw e})}else this._jsonData&&(t._getItemsFromLoadedData(t._jsonData),
t._jsonData=null,t._loadFinished=!0)}});return t.extend(u,s),u}),define("dijit/main",["dojo/_base/kernel"],function(e){
return e.dijit}),define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/window","./main"],function(e,t,n,i){
var r={},o={},a={length:0,add:function(e){if(o[e.id])throw new Error("Tried to register widget with id=="+e.id+" but that id is already registered");
o[e.id]=e,this.length++},remove:function(e){o[e]&&(delete o[e],this.length--)},byId:function(e){
return"string"==typeof e?o[e]:e},byNode:function(e){return o[e.getAttribute("widgetId")];
},toArray:function(){var e=[];for(var t in o)e.push(o[t]);return e},getUniqueId:function(e){
var t;do t=e+"_"+(e in r?++r[e]:r[e]=0);while(o[t]);return"dijit"==i._scopeName?t:i._scopeName+"_"+t;
},findWidgets:function(e,t){function n(e){for(var r=e.firstChild;r;r=r.nextSibling)if(1==r.nodeType){
var a=r.getAttribute("widgetId");if(a){var s=o[a];s&&i.push(s)}else r!==t&&n(r)}}
var i=[];return n(e),i},_destroyAll:function(){i._curFocus=null,i._prevFocus=null,
i._activeStack=[],e.forEach(a.findWidgets(n.body()),function(e){e._destroyed||(e.destroyRecursive?e.destroyRecursive():e.destroy&&e.destroy());
})},getEnclosingWidget:function(e){for(;e;){var t=1==e.nodeType&&e.getAttribute("widgetId");
if(t)return o[t];e=e.parentNode}return null},_hash:o};return i.registry=a,a}),define("dojo/topic",["./Evented"],function(e){
var t=new e;return{publish:function(e,n){return t.emit.apply(t,arguments)},subscribe:function(e,n){
return t.on.apply(t,arguments)}}}),define("dojo/dom-style",["./sniff","./dom"],function(e,t){
function n(t,n,i){if(n=n.toLowerCase(),e("ie")){if("auto"==i){if("height"==n)return t.offsetHeight;
if("width"==n)return t.offsetWidth}if("fontweight"==n)switch(i){case 700:return"bold";
case 400:default:return"normal"}}return n in c||(c[n]=h.test(n)),c[n]?o(t,i):i}var i,r={};
i=e("webkit")?function(e){var t;if(1==e.nodeType){var n=e.ownerDocument.defaultView;
t=n.getComputedStyle(e,null),!t&&e.style&&(e.style.display="",t=n.getComputedStyle(e,null));
}return t||{}}:e("ie")&&(e("ie")<9||e("quirks"))?function(e){return 1==e.nodeType&&e.currentStyle?e.currentStyle:{};
}:function(e){return 1==e.nodeType?e.ownerDocument.defaultView.getComputedStyle(e,null):{};
},r.getComputedStyle=i;var o;o=e("ie")?function(e,t){if(!t)return 0;if("medium"==t)return 4;
if(t.slice&&"px"==t.slice(-2))return parseFloat(t);var n=e.style,i=e.runtimeStyle,r=e.currentStyle,o=n.left,a=i.left;
i.left=r.left;try{n.left=t,t=n.pixelLeft}catch(s){t=0}return n.left=o,i.left=a,t}:function(e,t){
return parseFloat(t)||0},r.toPixelValue=o;var a="DXImageTransform.Microsoft.Alpha",s=function(e,t){
try{return e.filters.item(a)}catch(n){return t?{}:null}},l=e("ie")<9||e("ie")<10&&e("quirks")?function(e){
try{return s(e).Opacity/100}catch(t){return 1}}:function(e){return i(e).opacity},u=e("ie")<9||e("ie")<10&&e("quirks")?function(e,t){
""===t&&(t=1);var n=100*t,i=1===t;if(i?(e.style.zoom="",s(e)&&(e.style.filter=e.style.filter.replace(new RegExp("\\s*progid:"+a+"\\([^\\)]+?\\)","i"),""))):(e.style.zoom=1,
s(e)?s(e,1).Opacity=n:e.style.filter+=" progid:"+a+"(Opacity="+n+")",s(e,1).Enabled=!0),
"tr"==e.tagName.toLowerCase())for(var r=e.firstChild;r;r=r.nextSibling)"td"==r.tagName.toLowerCase()&&u(r,t);
return t}:function(e,t){return e.style.opacity=t},c={left:!0,top:!0},h=/margin|padding|width|height|max|min|offset/,d={
cssFloat:1,styleFloat:1,"float":1};return r.get=function(e,i){var o=t.byId(e),a=arguments.length,s="opacity"==i;
if(2==a&&s)return l(o);i=d[i]?"cssFloat"in o.style?"cssFloat":"styleFloat":i;var u=r.getComputedStyle(o);
return 1==a?u:n(o,i,u[i]||o.style[i])},r.set=function(e,n,i){var o=t.byId(e),a=arguments.length,s="opacity"==n;
if(n=d[n]?"cssFloat"in o.style?"cssFloat":"styleFloat":n,3==a)return s?u(o,i):o.style[n]=i;
for(var l in n)r.set(e,l,n[l]);return r.getComputedStyle(o)},r}),define("dojo/dom-geometry",["./sniff","./_base/window","./dom","./dom-style"],function(e,t,n,i){
function r(e,t,n,i,r,o){o=o||"px";var a=e.style;isNaN(t)||(a.left=t+o),isNaN(n)||(a.top=n+o),
i>=0&&(a.width=i+o),r>=0&&(a.height=r+o)}function o(e){return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&"button"==(e.getAttribute("type")||"").toLowerCase();
}function a(e){return"border-box"==s.boxModel||"table"==e.tagName.toLowerCase()||o(e);
}var s={};s.boxModel="content-box",e("ie")&&(s.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),
s.getPadExtents=function(e,t){e=n.byId(e);var r=t||i.getComputedStyle(e),o=i.toPixelValue,a=o(e,r.paddingLeft),s=o(e,r.paddingTop),l=o(e,r.paddingRight),u=o(e,r.paddingBottom);
return{l:a,t:s,r:l,b:u,w:a+l,h:s+u}};var l="none";s.getBorderExtents=function(e,t){
e=n.byId(e);var r=i.toPixelValue,o=t||i.getComputedStyle(e),a=o.borderLeftStyle!=l?r(e,o.borderLeftWidth):0,s=o.borderTopStyle!=l?r(e,o.borderTopWidth):0,u=o.borderRightStyle!=l?r(e,o.borderRightWidth):0,c=o.borderBottomStyle!=l?r(e,o.borderBottomWidth):0;
return{l:a,t:s,r:u,b:c,w:a+u,h:s+c}},s.getPadBorderExtents=function(e,t){e=n.byId(e);
var r=t||i.getComputedStyle(e),o=s.getPadExtents(e,r),a=s.getBorderExtents(e,r);return{
l:o.l+a.l,t:o.t+a.t,r:o.r+a.r,b:o.b+a.b,w:o.w+a.w,h:o.h+a.h}},s.getMarginExtents=function(e,t){
e=n.byId(e);var r=t||i.getComputedStyle(e),o=i.toPixelValue,a=o(e,r.marginLeft),s=o(e,r.marginTop),l=o(e,r.marginRight),u=o(e,r.marginBottom);
return{l:a,t:s,r:l,b:u,w:a+l,h:s+u}},s.getMarginBox=function(t,r){t=n.byId(t);var o,a=r||i.getComputedStyle(t),u=s.getMarginExtents(t,a),c=t.offsetLeft-u.l,h=t.offsetTop-u.t,d=t.parentNode,f=i.toPixelValue;
if(e("mozilla")){var p=parseFloat(a.left),m=parseFloat(a.top);isNaN(p)||isNaN(m)?d&&d.style&&(o=i.getComputedStyle(d),
"visible"!=o.overflow&&(c+=o.borderLeftStyle!=l?f(t,o.borderLeftWidth):0,h+=o.borderTopStyle!=l?f(t,o.borderTopWidth):0)):(c=p,
h=m)}else(e("opera")||8==e("ie")&&!e("quirks"))&&d&&(o=i.getComputedStyle(d),c-=o.borderLeftStyle!=l?f(t,o.borderLeftWidth):0,
h-=o.borderTopStyle!=l?f(t,o.borderTopWidth):0);return{l:c,t:h,w:t.offsetWidth+u.w,
h:t.offsetHeight+u.h}},s.getContentBox=function(t,r){t=n.byId(t);var o,a=r||i.getComputedStyle(t),l=t.clientWidth,u=s.getPadExtents(t,a),c=s.getBorderExtents(t,a);
return l?(o=t.clientHeight,c.w=c.h=0):(l=t.offsetWidth,o=t.offsetHeight),e("opera")&&(u.l+=c.l,
u.t+=c.t),{l:u.l,t:u.t,w:l-u.w-c.w,h:o-u.h-c.h}},s.setContentSize=function(e,t,i){
e=n.byId(e);var o=t.w,l=t.h;if(a(e)){var u=s.getPadBorderExtents(e,i);o>=0&&(o+=u.w),
l>=0&&(l+=u.h)}r(e,NaN,NaN,o,l)};var u={l:0,t:0,w:0,h:0};return s.setMarginBox=function(t,l,c){
t=n.byId(t);var h=c||i.getComputedStyle(t),d=l.w,f=l.h,p=a(t)?u:s.getPadBorderExtents(t,h),m=s.getMarginExtents(t,h);
if(e("webkit")&&o(t)){var g=t.style;d>=0&&!g.width&&(g.width="4px"),f>=0&&!g.height&&(g.height="4px");
}d>=0&&(d=Math.max(d-p.w-m.w,0)),f>=0&&(f=Math.max(f-p.h-m.h,0)),r(t,l.l,l.t,d,f);
},s.isBodyLtr=function(e){return e=e||t.doc,"ltr"==(t.body(e).dir||e.documentElement.dir||"ltr").toLowerCase();
},s.docScroll=function(n){n=n||t.doc;var i=t.doc.parentWindow||t.doc.defaultView;return"pageXOffset"in i?{
x:i.pageXOffset,y:i.pageYOffset}:(i=e("quirks")?t.body(n):n.documentElement)&&{x:s.fixIeBiDiScrollLeft(i.scrollLeft||0,n),
y:i.scrollTop||0}},e("ie")&&(s.getIeDocumentElementOffset=function(n){n=n||t.doc;var i=n.documentElement;
if(e("ie")<8){var r=i.getBoundingClientRect(),o=r.left,a=r.top;return e("ie")<7&&(o+=i.clientLeft,
a+=i.clientTop),{x:0>o?0:o,y:0>a?0:a}}return{x:0,y:0}}),s.fixIeBiDiScrollLeft=function(n,i){
i=i||t.doc;var r=e("ie");if(r&&!s.isBodyLtr(i)){var o=e("quirks"),a=o?t.body(i):i.documentElement,l=t.global;
return 6==r&&!o&&l.frameElement&&a.scrollHeight>a.clientHeight&&(n+=a.clientLeft),
8>r||o?n+a.clientWidth-a.scrollWidth:-n}return n},s.position=function(i,r){i=n.byId(i);
var o,a=t.body(i.ownerDocument);try{o=i.getBoundingClientRect()}catch(l){return{x:0,
y:0,w:0,h:0}}if(o={x:o.left,y:o.top,w:o.right-o.left,h:o.bottom-o.top},e("ie")<9){
var u=s.getIeDocumentElementOffset(i.ownerDocument);o.x-=u.x+(e("quirks")?a.clientLeft+a.offsetLeft:0),
o.y-=u.y+(e("quirks")?a.clientTop+a.offsetTop:0)}if(r){var c=s.docScroll(i.ownerDocument);
o.x+=c.x,o.y+=c.y}return o},s.getMarginSize=function(e,t){e=n.byId(e);var r=s.getMarginExtents(e,t||i.getComputedStyle(e)),o=e.getBoundingClientRect();
return{w:o.right-o.left+r.w,h:o.bottom-o.top+r.h}},s.normalizeEvent=function(t){if("layerX"in t||(t.layerX=t.offsetX,
t.layerY=t.offsetY),!e("dom-addeventlistener")){var n=t.target,i=n&&n.ownerDocument||document,r=e("quirks")?i.body:i.documentElement,o=s.getIeDocumentElementOffset(i);
t.pageX=t.clientX+s.fixIeBiDiScrollLeft(r.scrollLeft||0,i)-o.x,t.pageY=t.clientY+(r.scrollTop||0)-o.y;
}},s}),define("dojo/_base/event",["./kernel","../on","../has","../dom-geometry"],function(e,t,n,i){
if(t._fixEvent){var r=t._fixEvent;t._fixEvent=function(e,t){return e=r(e,t),e&&i.normalizeEvent(e),
e}}var o={fix:function(e,n){return t._fixEvent?t._fixEvent(e,n):e},stop:function(e){
n("dom-addeventlistener")||e&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e=e||window.event,
e.cancelBubble=!0,t._preventDefault.call(e))}};return n("extend-dojo")&&(e.fixEvent=o.fix,
e.stopEvent=o.stop),o}),define("dojo/mouse",["./_base/kernel","./on","./has","./dom","./_base/window"],function(e,t,n,i,r){
function o(e,n){var r=function(r,o){return t(r,e,function(e){return n?n(e,o):i.isDescendant(e.relatedTarget,r)?void 0:o.call(this,e);
})};return r.bubble=function(t){return o(e,function(e,n){var i=t(e.target),r=e.relatedTarget;
return i&&i!=(r&&1==r.nodeType&&t(r))?n.call(i,e):void 0})},r}n.add("dom-quirks",r.doc&&"BackCompat"==r.doc.compatMode),
n.add("events-mouseenter",r.doc&&"onmouseenter"in r.doc.createElement("div")),n.add("events-mousewheel",r.doc&&"onmousewheel"in r.doc);
var a;a=n("dom-quirks")&&n("ie")||!n("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,
isButton:function(e,t){return e.button&t},isLeft:function(e){return 1&e.button},isMiddle:function(e){
return 4&e.button},isRight:function(e){return 2&e.button}}:{LEFT:0,MIDDLE:1,RIGHT:2,
isButton:function(e,t){return e.button==t},isLeft:function(e){return 0==e.button},
isMiddle:function(e){return 1==e.button},isRight:function(e){return 2==e.button}},
e.mouseButtons=a;var s;return s=n("events-mousewheel")?"mousewheel":function(e,n){
return t(e,"DOMMouseScroll",function(e){e.wheelDelta=-e.detail,n.call(this,e)})},
{_eventHandler:o,enter:o("mouseover"),leave:o("mouseout"),wheel:s,isLeft:a.isLeft,
isMiddle:a.isMiddle,isRight:a.isRight}}),define("dojo/keys",["./_base/kernel","./sniff"],function(e,t){
return e.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:t("webkit")?91:224,
PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,
UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,
RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,
NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,
NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,
F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,
F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,
RIGHT_DPAD:178,copyKey:t("mac")&&!t("air")?t("safari")?91:224:17}}),define("dojo/_base/connect",["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(e,t,n,i,r,o,a,s){
function l(n,r,a,l,u){if(l=s.hitch(a,l),!n||!n.addEventListener&&!n.attachEvent)return i.after(n||e.global,r,l,!0);
if("string"==typeof r&&"on"==r.substring(0,2)&&(r=r.substring(2)),n||(n=e.global),
!u)switch(r){case"keypress":r=c;break;case"mouseenter":r=o.enter;break;case"mouseleave":
r=o.leave}return t(n,r,l,u)}function u(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",
e.charOrCode=e.keyChar||e.keyCode}a.add("events-keypress-typed",function(){var e={
charCode:0};try{e=document.createEvent("KeyboardEvent"),(e.initKeyboardEvent||e.initKeyEvent).call(e,"keypress",!0,!0,null,!1,!1,!1,!1,9,3);
}catch(t){}return 0==e.charCode&&!a("opera")});var c,h={106:42,111:47,186:59,187:43,
188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},d=a("mac")?"metaKey":"ctrlKey",f=function(e,t){
var n=s.mixin({},e,t);return u(n),n.preventDefault=function(){e.preventDefault()},
n.stopPropagation=function(){e.stopPropagation()},n};if(a("events-keypress-typed")){
var p=function(e,t){try{return e.keyCode=t}catch(e){return 0}};c=function(e,n){var i=t(e,"keydown",function(e){
var t=e.keyCode,i=13!=t&&32!=t&&(27!=t||!a("ie"))&&(48>t||t>90)&&(96>t||t>111)&&(186>t||t>192)&&(219>t||t>222)&&229!=t;
if(i||e.ctrlKey){var r=i?0:t;if(e.ctrlKey){if(3==t||13==t)return n.call(e.currentTarget,e);
r>95&&106>r?r-=48:!e.shiftKey&&r>=65&&90>=r?r+=32:r=h[r]||r}var o=f(e,{type:"keypress",
faux:!0,charCode:r});n.call(e.currentTarget,o),a("ie")&&p(e,o.keyCode)}}),r=t(e,"keypress",function(e){
var t=e.charCode;return t=t>=32?t:0,e=f(e,{charCode:t,faux:!0}),n.call(this,e)});return{
remove:function(){i.remove(),r.remove()}}}}else c=a("opera")?function(e,n){return t(e,"keypress",function(e){
var t=e.which;return 3==t&&(t=99),t=32>t&&!e.shiftKey?0:t,e.ctrlKey&&!e.shiftKey&&t>=65&&90>=t&&(t+=32),
n.call(this,f(e,{charCode:t}))})}:function(e,n){return t(e,"keypress",function(e){
return u(e),n.call(this,e)})};var m={_keypress:c,connect:function(e,t,n,i,r){var o=arguments,a=[],s=0;
a.push("string"==typeof o[0]?null:o[s++],o[s++]);var u=o[s+1];a.push("string"==typeof u||"function"==typeof u?o[s++]:null,o[s++]);
for(var c=o.length;c>s;s++)a.push(o[s]);return l.apply(this,a)},disconnect:function(e){
e&&e.remove()},subscribe:function(e,t,i){return n.subscribe(e,s.hitch(t,i))},publish:function(e,t){
return n.publish.apply(n,[e].concat(t))},connectPublisher:function(e,t,n){var i=function(){
m.publish(e,arguments)};return n?m.connect(t,n,i):m.connect(t,i)},isCopyKey:function(e){
return e[d]}};return m.unsubscribe=m.disconnect,a("extend-dojo")&&s.mixin(e,m),m}),
define("dojo/dom-construct",["exports","./_base/kernel","./sniff","./_base/window","./dom","./dom-attr"],function(e,t,n,i,r,o){
function a(e,t){var n=t.parentNode;n&&n.insertBefore(e,t)}function s(e,t){var n=t.parentNode;
n&&(n.lastChild==t?n.appendChild(e):n.insertBefore(e,t.nextSibling))}function l(e){
if(e.canHaveChildren)try{return void(e.innerHTML="")}catch(t){}for(var n;n=e.lastChild;)u(n,e);
}function u(e,t){e.firstChild&&l(e),t&&(n("ie")&&t.canHaveChildren&&"removeNode"in e?e.removeNode(!1):t.removeChild(e));
}var c={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],
td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],
colgroup:["table"],col:["table","colgroup"],li:["ul"]},h=/<\s*([\w\:]+)/,d={},f=0,p="__"+t._scopeName+"ToDomId";
for(var m in c)if(c.hasOwnProperty(m)){var g=c[m];g.pre="option"==m?'<select multiple="multiple">':"<"+g.join("><")+">",
g.post="</"+g.reverse().join("></")+">"}var v;n("ie")<=8&&(v=function(e){e.__dojo_html5_tested="yes";
var t=y("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},e.body);1!==t.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(t){
e.createElement(t)}),b(t)}),e.toDom=function(e,t){t=t||i.doc;var r=t[p];r||(t[p]=r=++f+"",
d[r]=t.createElement("div")),n("ie")<=8&&!t.__dojo_html5_tested&&t.body&&v(t),e+="";
var o,a,s,l,u=e.match(h),m=u?u[1].toLowerCase():"",g=d[r];if(u&&c[m])for(o=c[m],g.innerHTML=o.pre+e+o.post,
a=o.length;a;--a)g=g.firstChild;else g.innerHTML=e;if(1==g.childNodes.length)return g.removeChild(g.firstChild);
for(l=t.createDocumentFragment();s=g.firstChild;)l.appendChild(s);return l},e.place=function(t,n,i){
if(n=r.byId(n),"string"==typeof t&&(t=/^\s*</.test(t)?e.toDom(t,n.ownerDocument):r.byId(t)),
"number"==typeof i){var o=n.childNodes;!o.length||o.length<=i?n.appendChild(t):a(t,o[0>i?0:i]);
}else switch(i){case"before":a(t,n);break;case"after":s(t,n);break;case"replace":
n.parentNode.replaceChild(t,n);break;case"only":e.empty(n),n.appendChild(t);break;
case"first":if(n.firstChild){a(t,n.firstChild);break}default:n.appendChild(t)}return t;
};var y=e.create=function(t,n,a,s){var l=i.doc;return a&&(a=r.byId(a),l=a.ownerDocument),
"string"==typeof t&&(t=l.createElement(t)),n&&o.set(t,n),a&&e.place(t,a,s),t};e.empty=function(e){
l(r.byId(e))};var b=e.destroy=function(e){e=r.byId(e),e&&u(e,e.parentNode)}}),define("dojo/dom-prop",["exports","./_base/kernel","./sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(e,t,n,i,r,o,a,s){
var l={},u=0,c=t._scopeName+"attrid";e.names={"class":"className","for":"htmlFor",
tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",
rowspan:"rowSpan",valuetype:"valueType"},e.get=function(t,n){t=r.byId(t);var i=n.toLowerCase(),o=e.names[i]||n;
return t[o]},e.set=function(t,h,d){if("undefined"==typeof t||null==t)return t;t=r.byId(t);
var f=arguments.length;if(2==f&&"string"!=typeof h){for(var p in h)e.set(t,p,h[p]);
return t}var m=h.toLowerCase(),g=e.names[m]||h;if("style"==g&&"string"!=typeof d)return o.set(t,d),
t;if("innerHTML"==g)return n("ie")&&t.tagName.toLowerCase()in{col:1,colgroup:1,table:1,
tbody:1,tfoot:1,thead:1,tr:1,title:1}?(a.empty(t),t.appendChild(a.toDom(d,t.ownerDocument))):t[g]=d,
t;if(i.isFunction(d)){var v=t[c];v||(v=u++,t[c]=v),l[v]||(l[v]={});var y=l[v][g];if(y)s.disconnect(y);else try{
delete t[g]}catch(b){}return d?l[v][g]=s.connect(t,g,d):t[g]=null,t}return t[g]=d,
t}}),define("dojo/dom-attr",["exports","./sniff","./_base/lang","./dom","./dom-style","./dom-prop"],function(e,t,n,i,r,o){
function a(e,t){var n=e.getAttributeNode&&e.getAttributeNode(t);return n&&n.specified;
}var s={innerHTML:1,className:1,htmlFor:t("ie"),value:1},l={classname:"class",htmlfor:"for",
tabindex:"tabIndex",readonly:"readOnly"};e.has=function(e,t){var n=t.toLowerCase();
return s[o.names[n]||t]||a(i.byId(e),l[n]||t)},e.get=function(e,t){e=i.byId(e);var r=t.toLowerCase(),u=o.names[r]||t,c=s[u],h=e[u];
if(c&&"undefined"!=typeof h)return h;if("href"!=u&&("boolean"==typeof h||n.isFunction(h)))return h;
var d=l[r]||t;return a(e,d)?e.getAttribute(d):null},e.set=function(t,a,u){if(t=i.byId(t),
2==arguments.length){for(var c in a)e.set(t,c,a[c]);return t}var h=a.toLowerCase(),d=o.names[h]||a,f=s[d];
return"style"==d&&"string"!=typeof u?(r.set(t,u),t):f||"boolean"==typeof u||n.isFunction(u)?o.set(t,a,u):(t.setAttribute(l[h]||a,u),
t)},e.remove=function(e,t){i.byId(e).removeAttribute(l[t.toLowerCase()]||t)},e.getNodeProp=function(e,t){
e=i.byId(e);var n=t.toLowerCase(),r=o.names[n]||t;if(r in e&&"href"!=r)return e[r];
var s=l[n]||t;return a(e,s)?e.getAttribute(s):null}}),define("dojo/dom-class",["./_base/lang","./_base/array","./dom"],function(e,t,n){
function i(e){if("string"==typeof e||e instanceof String){if(e&&!a.test(e))return s[0]=e,
s;var n=e.split(a);return n.length&&!n[0]&&n.shift(),n.length&&!n[n.length-1]&&n.pop(),
n}return e?t.filter(e,function(e){return e}):[]}var r,o="className",a=/\s+/,s=[""],l={};
return r={contains:function(e,t){return(" "+n.byId(e)[o]+" ").indexOf(" "+t+" ")>=0;
},add:function(e,t){e=n.byId(e),t=i(t);var r,a=e[o];a=a?" "+a+" ":" ",r=a.length;for(var s,l=0,u=t.length;u>l;++l)s=t[l],
s&&a.indexOf(" "+s+" ")<0&&(a+=s+" ");r<a.length&&(e[o]=a.substr(1,a.length-2))},
remove:function(t,r){t=n.byId(t);var a;if(void 0!==r){r=i(r),a=" "+t[o]+" ";for(var s=0,l=r.length;l>s;++s)a=a.replace(" "+r[s]+" "," ");
a=e.trim(a)}else a="";t[o]!=a&&(t[o]=a)},replace:function(e,t,i){e=n.byId(e),l[o]=e[o],
r.remove(l,i),r.add(l,t),e[o]!==l[o]&&(e[o]=l[o])},toggle:function(e,t,o){if(e=n.byId(e),
void 0===o){t=i(t);for(var a,s=0,l=t.length;l>s;++s)a=t[s],r[r.contains(e,a)?"remove":"add"](e,a);
}else r[o?"add":"remove"](e,t);return o}}}),define("dojo/ready",["./_base/kernel","./has","require","./has!host-browser?./domReady","./_base/lang"],function(e,t,n,i,r){
var o=0,a=[],s=0,l=function(){o=1,e._postLoad=e.config.afterOnLoad=!0,u()},u=function(){
if(!s){for(s=1;o&&(!i||0==i._Q.length)&&(n.idle?n.idle():!0)&&a.length;){var e=a.shift();
try{e()}catch(t){if(t.info=t.message,!n.signal)throw t;n.signal("error",t)}}s=0}};
n.on&&n.on("idle",u),i&&(i._onQEmpty=u);var c=e.ready=e.addOnLoad=function(t,n,i){
var o=r._toArray(arguments);"number"!=typeof t?(i=n,n=t,t=1e3):o.shift(),i=i?r.hitch.apply(e,o):function(){
n()},i.priority=t;for(var s=0;s<a.length&&t>=a[s].priority;s++);a.splice(s,0,i),u();
};if(t.add("dojo-config-addOnLoad",1),t("dojo-config-addOnLoad")){var h=e.config.addOnLoad;
h&&c[r.isArray(h)?"apply":"call"](e,h)}return t("dojo-sync-loader")&&e.config.parseOnLoad&&!e.isAsync&&c(99,function(){
e.parser||(e.deprecated("Add explicit require(['dojo/parser']);","","2.0"),n(["dojo/parser"]));
}),i?i(l):l(),c}),define("dojo/Stateful",["./_base/declare","./_base/lang","./_base/array","./when"],function(e,t,n,i){
return e("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(e){var t=this._attrPairNames;
return t[e]?t[e]:t[e]={s:"_"+e+"Setter",g:"_"+e+"Getter"}},postscript:function(e){
e&&this.set(e)},_get:function(e,t){return"function"==typeof this[t.g]?this[t.g]():this[e];
},get:function(e){return this._get(e,this._getAttrNames(e))},set:function(e,t){if("object"==typeof e){
for(var n in e)e.hasOwnProperty(n)&&"_watchCallbacks"!=n&&this.set(n,e[n]);return this;
}var r,o=this._getAttrNames(e),a=this._get(e,o),s=this[o.s];if("function"==typeof s?r=s.apply(this,Array.prototype.slice.call(arguments,1)):this[e]=t,
this._watchCallbacks){var l=this;i(r,function(){l._watchCallbacks(e,a,t)})}return this;
},_changeAttrValue:function(e,t){var n=this.get(e);return this[e]=t,this._watchCallbacks&&this._watchCallbacks(e,n,t),
this},watch:function(e,t){var i=this._watchCallbacks;if(!i){var r=this;i=this._watchCallbacks=function(e,t,n,o){
var a=function(i){if(i){i=i.slice();for(var o=0,a=i.length;a>o;o++)i[o].call(r,e,t,n);
}};a(i["_"+e]),o||a(i["*"])}}t||"function"!=typeof e?e="_"+e:(t=e,e="*");var o=i[e];
"object"!=typeof o&&(o=i[e]=[]),o.push(t);var a={};return a.unwatch=a.remove=function(){
var e=n.indexOf(o,t);e>-1&&o.splice(e,1)},a}})}),define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(e,t,n){
return n("dijit.Destroyable",null,{destroy:function(e){this._destroyed=!0},own:function(){
return e.forEach(arguments,function(e){var n="destroyRecursive"in e?"destroyRecursive":"destroy"in e?"destroy":"remove",i=t.before(this,"destroy",function(t){
e[n](t)}),r=t.after(e,n,function(){i.remove(),r.remove()},!0)},this),arguments}});
}),define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b,_,x,w){
function C(e){var t={};for(var n in e)t[n.toLowerCase()]=!0;return t}function S(e){
return function(t){s[t?"set":"remove"](this.domNode,e,t),this._set(e,t)}}function k(e,t){
return e===t||e!==e&&t!==t}d.add("dijit-legacy-requires",!f.isAsync),d.add("dojo-bidi",!1),
d("dijit-legacy-requires")&&g(0,function(){var t=["dijit/_base/manager"];e(t)});var D={},M=o("dijit._WidgetBase",[v,_],{
id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:S("lang"),dir:"",_setDirAttr:S("dir"),
"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",
baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(e){
this._set("ownerDocument",e)},attributeMap:{},_blankGif:i.blankGif||e.toUrl("dojo/resources/blank.gif"),
_introspect:function(){var e=this.constructor;if(!e._setterAttrs){var t=e.prototype,n=e._setterAttrs=[],i=e._onMap={};
for(var r in t.attributeMap)n.push(r);for(r in t)/^on/.test(r)&&(i[r.substring(2).toLowerCase()]=r),
/^_set[A-Z](.*)Attr$/.test(r)&&(r=r.charAt(4).toLowerCase()+r.substr(5,r.length-9),
t.attributeMap&&r in t.attributeMap||n.push(r))}},postscript:function(e,t){this.create(e,t);
},create:function(e,t){this._introspect(),this.srcNodeRef=a.byId(t),this._connects=[],
this._supportingWidgets=[],this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id),
e&&(this.params=e,p.mixin(this,e)),this.postMixInProperties(),this.id||(this.id=w.getUniqueId(this.declaredClass.replace(/\./g,"_")),
this.params&&delete this.params.id),this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document),
this.ownerDocumentBody=b.body(this.ownerDocument),w.add(this),this.buildRendering();
var n;if(this.domNode){this._applyAttributes();var i=this.srcNodeRef;i&&i.parentNode&&this.domNode!==i&&(i.parentNode.replaceChild(this.domNode,i),
n=!0),this.domNode.setAttribute("widgetId",this.id)}this.postCreate(),n&&delete this.srcNodeRef,
this._created=!0},_applyAttributes:function(){var e={};for(var n in this.params||{})e[n]=this._get(n);
t.forEach(this.constructor._setterAttrs,function(t){if(!(t in e)){var n=this._get(t);
n&&this.set(t,n)}},this);for(n in e)this.set(n,e[n])},postMixInProperties:function(){},
buildRendering:function(){if(this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div")),
this.baseClass){var e=this.baseClass.split(" ");this.isLeftToRight()||(e=e.concat(t.map(e,function(e){
return e+"Rtl"}))),l.add(this.domNode,e)}},postCreate:function(){},startup:function(){
this._started||(this._started=!0,t.forEach(this.getChildren(),function(e){e._started||e._destroyed||!p.isFunction(e.startup)||(e.startup(),
e._started=!0)}))},destroyRecursive:function(e){this._beingDestroyed=!0,this.destroyDescendants(e),
this.destroy(e)},destroy:function(e){function n(t){t.destroyRecursive?t.destroyRecursive(e):t.destroy&&t.destroy(e);
}this._beingDestroyed=!0,this.uninitialize(),t.forEach(this._connects,p.hitch(this,"disconnect")),
t.forEach(this._supportingWidgets,n),this.domNode&&t.forEach(w.findWidgets(this.domNode,this.containerNode),n),
this.destroyRendering(e),w.remove(this.id),this._destroyed=!0},destroyRendering:function(e){
this.bgIframe&&(this.bgIframe.destroy(e),delete this.bgIframe),this.domNode&&(e?s.remove(this.domNode,"widgetId"):u.destroy(this.domNode),
delete this.domNode),this.srcNodeRef&&(e||u.destroy(this.srcNodeRef),delete this.srcNodeRef);
},destroyDescendants:function(e){t.forEach(this.getChildren(),function(t){t.destroyRecursive&&t.destroyRecursive(e);
})},uninitialize:function(){return!1},_setStyleAttr:function(e){var t=this.domNode;
p.isObject(e)?h.set(t,e):t.style.cssText?t.style.cssText+="; "+e:t.style.cssText=e,
this._set("style",e)},_attrToDom:function(e,n,i){i=arguments.length>=3?i:this.attributeMap[e],
t.forEach(p.isArray(i)?i:[i],function(t){var i=this[t.node||t||"domNode"],r=t.type||"attribute";
switch(r){case"attribute":p.isFunction(n)&&(n=p.hitch(this,n));var o=t.attribute?t.attribute:/^on[A-Z][a-zA-Z]*$/.test(e)?e.toLowerCase():e;
i.tagName?s.set(i,o,n):i.set(o,n);break;case"innerText":i.innerHTML="",i.appendChild(this.ownerDocument.createTextNode(n));
break;case"innerHTML":i.innerHTML=n;break;case"class":l.replace(i,n,this[e])}},this);
},get:function(e){var t=this._getAttrNames(e);return this[t.g]?this[t.g]():this._get(e);
},set:function(e,t){if("object"==typeof e){for(var n in e)this.set(n,e[n]);return this;
}var i=this._getAttrNames(e),r=this[i.s];if(p.isFunction(r))var o=r.apply(this,Array.prototype.slice.call(arguments,1));else{
var a=this.focusNode&&!p.isFunction(this.focusNode)?"focusNode":"domNode",s=this[a]&&this[a].tagName,l=s&&(D[s]||(D[s]=C(this[a]))),u=e in this.attributeMap?this.attributeMap[e]:i.s in this?this[i.s]:l&&i.l in l&&"function"!=typeof t||/^aria-|^data-|^role$/.test(e)?a:null;
null!=u&&this._attrToDom(e,t,u),this._set(e,t)}return o||this},_attrPairNames:{},
_getAttrNames:function(e){var t=this._attrPairNames;if(t[e])return t[e];var n=e.replace(/^[a-z]|-[a-zA-Z]/g,function(e){
return e.charAt(e.length-1).toUpperCase()});return t[e]={n:e+"Node",s:"_set"+n+"Attr",
g:"_get"+n+"Attr",l:n.toLowerCase()}},_set:function(e,t){var n=this[e];this[e]=t,
this._created&&!k(n,t)&&(this._watchCallbacks&&this._watchCallbacks(e,n,t),this.emit("attrmodified-"+e,{
detail:{prevValue:n,newValue:t}}))},_get:function(e){return this[e]},emit:function(e,t,n){
t=t||{},void 0===t.bubbles&&(t.bubbles=!0),void 0===t.cancelable&&(t.cancelable=!0),
t.detail||(t.detail={}),t.detail.widget=this;var i,r=this["on"+e];return r&&(i=r.apply(this,n?n:[t])),
this._started&&!this._beingDestroyed&&m.emit(this.domNode,e.toLowerCase(),t),i},on:function(e,t){
var i=this._onMap(e);return i?n.after(this,i,t,!0):this.own(m(this.domNode,e,t))[0];
},_onMap:function(e){var t=this.constructor,n=t._onMap;if(!n){n=t._onMap={};for(var i in t.prototype)/^on/.test(i)&&(n[i.replace(/^on/,"").toLowerCase()]=i);
}return n["string"==typeof e&&e.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";
},getChildren:function(){return this.containerNode?w.findWidgets(this.containerNode):[];
},getParent:function(){return w.getEnclosingWidget(this.domNode.parentNode)},connect:function(e,t,n){
return this.own(r.connect(e,t,this,n))[0]},disconnect:function(e){e.remove()},subscribe:function(e,t){
return this.own(y.subscribe(e,p.hitch(this,t)))[0]},unsubscribe:function(e){e.remove();
},isLeftToRight:function(){return this.dir?"ltr"==this.dir:c.isBodyLtr(this.ownerDocument);
},isFocusable:function(){return this.focus&&"none"!=h.get(this.domNode,"display");
},placeAt:function(e,t){var n=!e.tagName&&w.byId(e);if(!n||!n.addChild||t&&"number"!=typeof t){
var i=n?n.containerNode&&!/after|before|replace/.test(t||"")?n.containerNode:n.domNode:a.byId(e,this.ownerDocument);
u.place(this.domNode,i,t),!this._started&&(this.getParent()||{})._started&&this.startup();
}else n.addChild(this,t);return this},defer:function(e,t){var n=setTimeout(p.hitch(this,function(){
n&&(n=null,this._destroyed||p.hitch(this,e)())}),t||0);return{remove:function(){return n&&(clearTimeout(n),
n=null),null}}}});return d("dojo-bidi")&&M.extend(x),M}),define("dojo/text",["module"],function(e){
"use strict";var t,n,i,r,o,a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,c=u&&location.protocol&&location.protocol.replace(/\:/,""),h=u&&location.hostname,d=u&&(location.port||void 0),f={},p=e.config&&e.config()||{};
return t={version:"2.0.10",strip:function(e){if(e){e=e.replace(s,"");var t=e.match(l);
t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029");
},createXhr:p.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;
if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=a[t];try{e=new ActiveXObject(n);
}catch(i){}if(e){a=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,o=e.indexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");
return-1!==o&&(!a||o>1)?(t=e.substring(0,o),n=e.substring(o+1,e.length)):t=e,i=n||t,
o=i.indexOf("!"),-1!==o&&(r="strip"===i.substring(o+1),i=i.substring(0,o),n?n=i:t=i),
{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,r){
var o,a,s,l=t.xdRegExp.exec(e);return l?(o=l[2],a=l[3],a=a.split(":"),s=a[1],a=a[0],
!(o&&o!==n||a&&a.toLowerCase()!==i.toLowerCase()||(s||a)&&s!==r)):!0},finishLoad:function(e,n,i,r){
i=n?t.strip(i):i,p.isBuild&&(f[e]=i),r(i)},load:function(e,n,i,r){if(r.isBuild&&!r.inlineText)return void i();
p.isBuild=r.isBuild;var o=t.parseName(e),a=o.moduleName+(o.ext?"."+o.ext:""),s=n.toUrl(a),l=p.useXhr||t.useXhr;
return 0===s.indexOf("empty:")?void i():void(!u||l(s,c,h,d)?t.get(s,function(n){t.finishLoad(e,o.strip,n,i);
},function(e){i.error&&i.error(e)}):n([a],function(e){t.finishLoad(o.moduleName+"."+o.ext,o.strip,e,i);
}))},write:function(e,n,i,r){if(f.hasOwnProperty(n)){var o=t.jsEscape(f[n]);i.asModule(e+"!"+n,"define(function () { return '"+o+"';});\n");
}},writeFile:function(e,n,i,r,o){var a=t.parseName(n),s=a.ext?"."+a.ext:"",l=a.moduleName+s,u=i.toUrl(a.moduleName+s)+".js";
t.load(l,i,function(n){var i=function(e){return r(u,e)};i.asModule=function(e,t){
return r.asModule(e,u,t)},t.write(e,l,i,o)},o)}},"node"===p.env||!p.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(n=require.nodeRequire("fs"),
t.get=function(e,t,i){try{var r=n.readFileSync(e,"utf8");0===r.indexOf("\ufeff")&&(r=r.substring(1)),
t(r)}catch(o){i(o)}}):"xhr"===p.env||!p.env&&t.createXhr()?t.get=function(e,n,i,r){
var o,a=t.createXhr();if(a.open("GET",e,!0),r)for(o in r)r.hasOwnProperty(o)&&a.setRequestHeader(o.toLowerCase(),r[o]);
p.onXhr&&p.onXhr(a,e),a.onreadystatechange=function(t){var r,o;4===a.readyState&&(r=a.status,
r>399&&600>r?(o=new Error(e+" HTTP status: "+r),o.xhr=a,i(o)):n(a.responseText),p.onXhrComplete&&p.onXhrComplete(a,e));
},a.send(null)}:"rhino"===p.env||!p.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){
var n,i,r="utf-8",o=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),r)),l="";
try{for(n=new java.lang.StringBuffer,i=s.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),
null!==i&&n.append(i);null!==(i=s.readLine());)n.append(a),n.append(i);l=String(n.toString());
}finally{s.close()}t(l)}:("xpconnect"===p.env||!p.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,
r=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),
o="@mozilla.org/windows-registry-key;1"in i,t.get=function(e,t){var n,a,s,l={};o&&(e=e.replace(/\//g,"\\")),
s=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),
n.init(s,1,0,!1),a=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),
a.init(n,"utf-8",n.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),
a.readString(n.available(),l),a.close(),n.close(),t(l.value)}catch(u){throw new Error((s&&s.path||"")+": "+u);
}}),t}),define("dojo/cache",["./_base/kernel","./text"],function(e){return e.cache;
}),define("dojo/string",["./_base/kernel","./_base/lang"],function(e,t){var n={};return t.setObject("dojo.string",n),
n.rep=function(e,t){if(0>=t||!e)return"";for(var n=[];1&t&&n.push(e),t>>=1;)e+=e;return n.join("");
},n.pad=function(e,t,i,r){i||(i="0");var o=String(e),a=n.rep(i,Math.ceil((t-o.length)/i.length));
return r?o+a:a+o},n.substitute=function(n,i,r,o){return o=o||e.global,r=r?t.hitch(o,r):function(e){
return e},n.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(e,n,a){var s=t.getObject(n,!1,i);
return a&&(s=t.getObject(a,!1,o).call(o,s,n)),r(s,n).toString()})},n.trim=String.prototype.trim?t.trim:function(e){
e=e.replace(/^\s+/,"");for(var t=e.length-1;t>=0;t--)if(/\S/.test(e.charAt(t))){e=e.substring(0,t+1);
break}return e},n}),define("dojo/domReady",["./has"],function(e){function t(e){u.push(e),
l&&n()}function n(){if(!i){for(i=!0;u.length;)try{u.shift()(o)}catch(e){console.log("Error on domReady callback: "+e);
}i=!1,t._onQEmpty()}}var i,r=this,o=document,a={loaded:1,complete:1},s="string"!=typeof o.readyState,l=!!a[o.readyState],u=[];
if(t.load=function(e,n,i){t(i)},t._Q=u,t._onQEmpty=function(){},s&&(o.readyState="loading"),
!l){var c=[],h=function(e){e=e||r.event,l||"readystatechange"==e.type&&!a[o.readyState]||(s&&(o.readyState="complete"),
l=1,n())},d=function(e,t){e.addEventListener(t,h,!1),u.push(function(){e.removeEventListener(t,h,!1);
})};if(!e("dom-addeventlistener")){d=function(e,t){t="on"+t,e.attachEvent(t,h),u.push(function(){
e.detachEvent(t,h)})};var f=o.createElement("div");try{f.doScroll&&null===r.frameElement&&c.push(function(){
try{return f.doScroll("left"),1}catch(e){}})}catch(p){}}if(d(o,"DOMContentLoaded"),
d(r,"load"),"onreadystatechange"in o?d(o,"readystatechange"):s||c.push(function(){
return a[o.readyState]}),c.length){var m=function(){if(!l){for(var e=c.length;e--;)if(c[e]())return void h("poller");
setTimeout(m,30)}};m()}}return t}),define("dojo/touch",["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(e,t,n,i,r,o,a,s,l,u){
function c(e,t,n){return k&&n?function(e,t){return o(e,n,t)}:C?function(n,i){var r=o(n,t,i),a=o(n,e,function(e){
(!x||(new Date).getTime()>x+1e3)&&i.call(this,e)});return{remove:function(){r.remove(),
a.remove()}}}:function(t,n){return o(t,e,n)}}function h(e){do if(void 0!==e.dojoClick)return e.dojoClick;while(e=e.parentNode);
}function d(e,t,r){function a(e){u.doc.addEventListener(e,function(t){t._dojo_click||!((new Date).getTime()<=_+1e3)||"INPUT"==t.target.tagName&&i.contains(t.target,"dijitOffScreen")||(t.stopPropagation(),
t.stopImmediatePropagation&&t.stopImmediatePropagation(),"click"!=e||"INPUT"==t.target.tagName&&"radio"!=t.target.type&&"checkbox"!=t.target.type||"TEXTAREA"==t.target.tagName||"AUDIO"==t.target.tagName||"VIDEO"==t.target.tagName||t.preventDefault());
},!0)}p=!e.target.disabled&&h(e.target),p&&(m=e.target,g=e.touches?e.touches[0].pageX:e.clientX,
v=e.touches?e.touches[0].pageY:e.clientY,y=("object"==typeof p?p.x:"number"==typeof p?p:0)||4,
b=("object"==typeof p?p.y:"number"==typeof p?p:0)||4,f||(f=!0,u.doc.addEventListener(t,function(e){
p=p&&e.target==m&&Math.abs((e.touches?e.touches[0].pageX:e.clientX)-g)<=y&&Math.abs((e.touches?e.touches[0].pageY:e.clientY)-v)<=b;
},!0),u.doc.addEventListener(r,function(e){if(p){_=(new Date).getTime();var t=e.target;
"LABEL"===t.tagName&&(t=n.byId(t.getAttribute("for"))||t),setTimeout(function(){o.emit(t,"click",{
bubbles:!0,cancelable:!0,_dojo_click:!0})})}},!0),a("click"),a("mousedown"),a("mouseup")));
}var f,p,m,g,v,y,b,_,x,w,C=a("touch"),S=a("ios")<5,k=navigator.pointerEnabled||navigator.msPointerEnabled,D=function(){
var e={};for(var t in{down:1,move:1,up:1,cancel:1,over:1,out:1})e[t]=navigator.pointerEnabled?"pointer"+t:"MSPointer"+t.charAt(0).toUpperCase()+t.slice(1);
return e}();C&&l(k?function(){u.doc.addEventListener(D.down,function(e){d(e,D.move,D.up);
},!0)}:function(){function e(e){var t=r.delegate(e,{bubbles:!0});return a("ios")>=6&&(t.touches=e.touches,
t.altKey=e.altKey,t.changedTouches=e.changedTouches,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,
t.shiftKey=e.shiftKey,t.targetTouches=e.targetTouches),t}w=u.body(),u.doc.addEventListener("touchstart",function(e){
x=(new Date).getTime();var t=w;w=e.target,o.emit(t,"dojotouchout",{relatedTarget:w,
bubbles:!0}),o.emit(w,"dojotouchover",{relatedTarget:t,bubbles:!0}),d(e,"touchmove","touchend");
},!0),o(u.doc,"touchmove",function(t){x=(new Date).getTime();var n=u.doc.elementFromPoint(t.pageX-(S?0:u.global.pageXOffset),t.pageY-(S?0:u.global.pageYOffset));
n&&(w!==n&&(o.emit(w,"dojotouchout",{relatedTarget:n,bubbles:!0}),o.emit(n,"dojotouchover",{
relatedTarget:w,bubbles:!0}),w=n),o.emit(n,"dojotouchmove",e(t))||t.preventDefault());
}),o(u.doc,"touchend",function(t){x=(new Date).getTime();var n=u.doc.elementFromPoint(t.pageX-(S?0:u.global.pageXOffset),t.pageY-(S?0:u.global.pageYOffset))||u.body();
o.emit(n,"dojotouchend",e(t))})});var M={press:c("mousedown","touchstart",D.down),
move:c("mousemove","dojotouchmove",D.move),release:c("mouseup","dojotouchend",D.up),
cancel:c(s.leave,"touchcancel",C?D.cancel:null),over:c("mouseover","dojotouchover",D.over),
out:c("mouseout","dojotouchout",D.out),enter:s._eventHandler(c("mouseover","dojotouchover",D.over)),
leave:s._eventHandler(c("mouseout","dojotouchout",D.out))};return a("extend-dojo")&&(e.touch=M),
M}),define("dijit/_AttachMixin",["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(e,t,n,i,r,o,a,s,l){
var u,c=r.delegate(s,{mouseenter:o.enter,mouseleave:o.leave,keypress:n._keypress}),h=i("dijit._AttachMixin",null,{
constructor:function(){this._attachPoints=[],this._attachEvents=[]},buildRendering:function(){
this.inherited(arguments),this._attachTemplateNodes(this.domNode),this._beforeFillContent();
},_beforeFillContent:function(){},_attachTemplateNodes:function(e){for(var t=e;;)if(1==t.nodeType&&(this._processTemplateNode(t,function(e,t){
return e.getAttribute(t)},this._attach)||this.searchContainerNode)&&t.firstChild)t=t.firstChild;else{
if(t==e)return;for(;!t.nextSibling;)if(t=t.parentNode,t==e)return;t=t.nextSibling;
}},_processTemplateNode:function(e,t,n){var i=!0,o=this.attachScope||this,a=t(e,"dojoAttachPoint")||t(e,"data-dojo-attach-point");
if(a)for(var s,l=a.split(/\s*,\s*/);s=l.shift();)r.isArray(o[s])?o[s].push(e):o[s]=e,
i="containerNode"!=s,this._attachPoints.push(s);var u=t(e,"dojoAttachEvent")||t(e,"data-dojo-attach-event");
if(u)for(var c,h=u.split(/\s*,\s*/),d=r.trim;c=h.shift();)if(c){var f=null;if(-1!=c.indexOf(":")){
var p=c.split(":");c=d(p[0]),f=d(p[1])}else c=d(c);f||(f=c),this._attachEvents.push(n(e,c,r.hitch(o,f)));
}return i},_attach:function(t,n,i){return n=n.replace(/^on/,"").toLowerCase(),n="dijitclick"==n?u||(u=e("./a11yclick")):c[n]||n,
a(t,n,i)},_detachTemplateNodes:function(){var e=this.attachScope||this;t.forEach(this._attachPoints,function(t){
delete e[t]}),this._attachPoints=[],t.forEach(this._attachEvents,function(e){e.remove();
}),this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes(),
this.inherited(arguments)}});return r.extend(l,{dojoAttachEvent:"",dojoAttachPoint:""
}),h}),define("dijit/_TemplatedMixin",["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(e,t,n,i,r,o,a,s){
var l=t("dijit._TemplatedMixin",s,{templateString:null,templatePath:null,_skipNodeCache:!1,
searchContainerNode:!0,_stringRepl:function(e){var t=this.declaredClass,n=this;return a.substitute(e,this,function(e,r){
if("!"==r.charAt(0)&&(e=i.getObject(r.substr(1),!1,n)),"undefined"==typeof e)throw new Error(t+" template:"+r);
return null==e?"":"!"==r.charAt(0)?e:e.toString().replace(/"/g,"&quot;")},this)},
buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=e(this.templatePath,{
sanitize:!0}));var t,r=l.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);
if(i.isString(r)){if(t=n.toDom(this._stringRepl(r),this.ownerDocument),1!=t.nodeType)throw new Error("Invalid template: "+r);
}else t=r.cloneNode(!0);this.domNode=t}this.inherited(arguments),this._rendered||this._fillContent(this.srcNodeRef),
this._rendered=!0},_fillContent:function(e){var t=this.containerNode;if(e&&t)for(;e.hasChildNodes();)t.appendChild(e.firstChild);
}});return l._templateCache={},l.getCachedTemplate=function(e,t,i){var r=l._templateCache,o=e,s=r[o];
if(s){try{if(!s.ownerDocument||s.ownerDocument==(i||document))return s}catch(u){}
n.destroy(s)}if(e=a.trim(e),t||e.match(/\$\{([^\}]+)\}/g))return r[o]=e;var c=n.toDom(e,i);
if(1!=c.nodeType)throw new Error("Invalid template: "+e);return r[o]=c},o("ie")&&r(window,"unload",function(){
var e=l._templateCache;for(var t in e){var i=e[t];"object"==typeof i&&n.destroy(i),
delete e[t]}}),l}),define("dojo/_base/url",["./kernel"],function(e){var t=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),n=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),i=function(){
for(var e=null,r=arguments,o=[r[0]],a=1;a<r.length;a++)if(r[a]){var s=new i(r[a]+""),l=new i(o[0]+"");
if(""!=s.path||s.scheme||s.authority||s.query){if(!s.scheme&&(s.scheme=l.scheme,!s.authority&&(s.authority=l.authority,
"/"!=s.path.charAt(0)))){for(var u=l.path.substring(0,l.path.lastIndexOf("/")+1)+s.path,c=u.split("/"),h=0;h<c.length;h++)"."==c[h]?h==c.length-1?c[h]="":(c.splice(h,1),
h--):h>0&&(1!=h||""!=c[0])&&".."==c[h]&&".."!=c[h-1]&&(h==c.length-1?(c.splice(h,1),
c[h-1]=""):(c.splice(h-1,2),h-=2));s.path=c.join("/")}}else s.fragment!=e&&(l.fragment=s.fragment),
s=l;o=[],s.scheme&&o.push(s.scheme,":"),s.authority&&o.push("//",s.authority),o.push(s.path),
s.query&&o.push("?",s.query),s.fragment&&o.push("#",s.fragment)}this.uri=o.join("");
var d=this.uri.match(t);this.scheme=d[2]||(d[1]?"":e),this.authority=d[4]||(d[3]?"":e),
this.path=d[5],this.query=d[7]||(d[6]?"":e),this.fragment=d[9]||(d[8]?"":e),this.authority!=e&&(d=this.authority.match(n),
this.user=d[3]||e,this.password=d[4]||e,this.host=d[6]||d[7],this.port=d[9]||e)};return i.prototype.toString=function(){
return this.uri},e._Url=i}),define("dojo/promise/all",["../_base/array","../Deferred","../when"],function(e,t,n){
"use strict";var i=e.some;return function(e){var r,o;e instanceof Array?o=e:e&&"object"==typeof e&&(r=e);
var a,s=[];if(r){o=[];for(var l in r)Object.hasOwnProperty.call(r,l)&&(s.push(l),
o.push(r[l]));a={}}else o&&(a=[]);if(!o||!o.length)return(new t).resolve(a);var u=new t;
u.promise.always(function(){a=s=null});var c=o.length;return i(o,function(e,t){return r||s.push(t),
n(e,function(e){u.isFulfilled()||(a[s[t]]=e,0===--c&&u.resolve(a))},u.reject),u.isFulfilled();
}),u.promise}}),define("dojo/selector/_loader",["../has","require"],function(e,t){
if("undefined"!=typeof document){var n=document.createElement("div");e.add("dom-qsa2.1",!!n.querySelectorAll),
e.add("dom-qsa3",function(){try{return n.innerHTML="<p class='TEST'></p>",1==n.querySelectorAll(".TEST:empty").length;
}catch(e){}})}var i,r="./acme",o="./lite";return{load:function(n,a,s,l){if(l&&l.isBuild)return s();
var u=t;if(n="default"==n?e("config-selectorEngine")||"css3":n,n="css2"==n||"lite"==n?o:"css2.1"==n?e("dom-qsa2.1")?o:r:"css3"==n?e("dom-qsa3")?o:r:"acme"==n?r:(u=a)&&n,
"?"==n.charAt(n.length-1)){n=n.substring(0,n.length-1);var c=!0}return c&&(e("dom-compliant-qsa")||i)?s(i):void u([n],function(e){
"./lite"!=n&&(i=e),s(e)})}}}),define("dojo/query",["./_base/kernel","./has","./dom","./on","./_base/array","./_base/lang","./selector/_loader","./selector/_loader!default"],function(e,t,n,i,r,o,a,s){
"use strict";function l(e,t){var i=function(i,r){if("string"==typeof r&&(r=n.byId(r),
!r))return new t([]);var o="string"==typeof i?e(i,r):i?i.end&&i.on?i:[i]:[];return o.end&&o.on?o:new t(o);
};if(i.matches=e.match||function(e,t,n){return i.filter([e],t,n).length>0},i.filter=e.filter||function(e,t,n){
return i(t,n).filter(function(t){return r.indexOf(e,t)>-1})},"function"!=typeof e){
var o=e.search;e=function(e,t){return o(t||document,e)}}return i}t.add("array-extensible",function(){
return 1==o.delegate([],{length:1}).length&&!t("bug-for-in-skips-shadowed")});var u=Array.prototype,c=u.slice,h=u.concat,d=r.forEach,f=function(e,t,n){
var i=new(n||this._NodeListCtor||_)(e);return t?i._stash(t):i},p=function(t,n,i){
return n=[0].concat(c.call(n,0)),i=i||e.global,function(e){return n[0]=e,t.apply(i,n);
}},m=function(e,t){return function(){return this.forEach(p(e,arguments,t)),this}},g=function(e,t){
return function(){return this.map(p(e,arguments,t))}},v=function(e,t){return function(){
return this.filter(p(e,arguments,t))}},y=function(t,n,i){return function(){var r=arguments,o=p(t,r,i);
return n.call(i||e.global,r)?this.map(o):(this.forEach(o),this)}},b=function(e){var n=this instanceof _&&t("array-extensible");
"number"==typeof e&&(e=Array(e));var i=e&&"length"in e?e:arguments;if(n||!i.sort){
for(var r=n?this:[],a=r.length=i.length,s=0;a>s;s++)r[s]=i[s];if(n)return r;i=r}return o._mixin(i,x),
i._NodeListCtor=function(e){return _(e)},i},_=b,x=_.prototype=t("array-extensible")?[]:{};
_._wrap=x._wrap=f,_._adaptAsMap=g,_._adaptAsForEach=m,_._adaptAsFilter=v,_._adaptWithCondition=y,
d(["slice","splice"],function(e){var t=u[e];x[e]=function(){return this._wrap(t.apply(this,arguments),"slice"==e?this:null);
}}),d(["indexOf","lastIndexOf","every","some"],function(t){var n=r[t];x[t]=function(){
return n.apply(e,[this].concat(c.call(arguments,0)))}}),o.extend(b,{constructor:_,
_NodeListCtor:_,toString:function(){return this.join(",")},_stash:function(e){return this._parent=e,
this},on:function(e,t){var n=this.map(function(n){return i(n,e,t)});return n.remove=function(){
for(var e=0;e<n.length;e++)n[e].remove()},n},end:function(){return this._parent?this._parent:new this._NodeListCtor(0);
},concat:function(e){var t=c.call(this,0),n=r.map(arguments,function(e){return c.call(e,0);
});return this._wrap(h.apply(t,n),this)},map:function(e,t){return this._wrap(r.map(this,e,t),this);
},forEach:function(e,t){return d(this,e,t),this},filter:function(e){var t=arguments,n=this,i=0;
if("string"==typeof e){if(n=w._filterResult(this,t[0]),1==t.length)return n._stash(this);
i=1}return this._wrap(r.filter(n,t[i],t[i+1]),this)},instantiate:function(e,t){var n=o.isFunction(e)?e:o.getObject(e);
return t=t||{},this.forEach(function(e){new n(t,e)})},at:function(){var e=new this._NodeListCtor(0);
return d(arguments,function(t){0>t&&(t=this.length+t),this[t]&&e.push(this[t])},this),
e._stash(this)}});var w=l(s,b);return e.query=l(s,function(e){return b(e)}),w.load=function(e,t,n){
a.load(e,t,function(e){n(l(e,b))})},e._filterQueryResult=w._filterResult=function(e,t,n){
return new b(w.filter(e,t,n))},e.NodeList=w.NodeList=b,w}),define("dojo/parser",["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(require,dojo,dlang,darray,config,dom,dwindow,_Url,aspect,all,dates,Deferred,has,query,don,ready){
function myEval(text){return eval("("+text+")")}function getNameMap(e){var t=e._nameCaseMap,n=e.prototype;
if(!t||t._extendCnt<extendCnt){t=e._nameCaseMap={};for(var i in n)"_"!==i.charAt(0)&&(t[i.toLowerCase()]=i);
t._extendCnt=extendCnt}return t}function getCtor(e,t){var n=e.join();if(!_ctorMap[n]){
for(var i=[],r=0,o=e.length;o>r;r++){var a=e[r];i[i.length]=_ctorMap[a]=_ctorMap[a]||dlang.getObject(a)||~a.indexOf("/")&&(t?t(a):require(a));
}var s=i.shift();_ctorMap[n]=i.length?s.createSubclass?s.createSubclass(i):s.extend.apply(s,i):s;
}return _ctorMap[n]}new Date("X");var extendCnt=0;aspect.after(dlang,"extend",function(){
extendCnt++},!0);var _ctorMap={},parser={_clearCache:function(){extendCnt++,_ctorMap={};
},_functionFromScript:function(e,t){var n="",i="",r=e.getAttribute(t+"args")||e.getAttribute("args"),o=e.getAttribute("with"),a=(r||"").split(/\s*,\s*/);
return o&&o.length&&darray.forEach(o.split(/\s*,\s*/),function(e){n+="with("+e+"){",
i+="}"}),new Function(a,n+e.innerHTML+i)},instantiate:function(e,t,n){t=t||{},n=n||{};
var i=(n.scope||dojo._scopeName)+"Type",r="data-"+(n.scope||dojo._scopeName)+"-",o=r+"type",a=r+"mixins",s=[];
return darray.forEach(e,function(e){var n=i in t?t[i]:e.getAttribute(o)||e.getAttribute(i);
if(n){var r=e.getAttribute(a),l=r?[n].concat(r.split(/\s*,\s*/)):[n];s.push({node:e,
types:l})}}),this._instantiate(s,t,n)},_instantiate:function(e,t,n,i){function r(e){
return t._started||n.noStart||darray.forEach(e,function(e){"function"!=typeof e.startup||e._started||e.startup();
}),e}var o=darray.map(e,function(e){var i=e.ctor||getCtor(e.types,n.contextRequire);
if(!i)throw new Error("Unable to resolve constructor for: '"+e.types.join()+"'");return this.construct(i,e.node,t,n,e.scripts,e.inherited);
},this);return i?all(o).then(r):r(o)},construct:function(e,t,n,i,r,o){function a(e){
for(g&&dlang.setObject(g,e),y=0;y<N.length;y++)aspect[N[y].advice||"after"](e,N[y].method,dlang.hitch(e,N[y].func),!0);
for(y=0;y<T.length;y++)T[y].call(e);for(y=0;y<A.length;y++)e.watch(A[y].prop,A[y].func);
for(y=0;y<j.length;y++)don(e,j[y].event,j[y].func);return e}var s=e&&e.prototype;i=i||{};
var l={};i.defaults&&dlang.mixin(l,i.defaults),o&&dlang.mixin(l,o);var u;if(has("dom-attributes-explicit"))u=t.attributes;else if(has("dom-attributes-specified-flag"))u=darray.filter(t.attributes,function(e){
return e.specified});else{var c=/^input$|^img$/i.test(t.nodeName)?t:t.cloneNode(!1),h=c.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");
u=darray.map(h.split(/\s+/),function(e){var n=e.toLowerCase();return{name:e,value:"LI"==t.nodeName&&"value"==e||"enctype"==n?t.getAttribute(n):t.getAttributeNode(n).value
}})}var d=i.scope||dojo._scopeName,f="data-"+d+"-",p={};"dojo"!==d&&(p[f+"props"]="data-dojo-props",
p[f+"type"]="data-dojo-type",p[f+"mixins"]="data-dojo-mixins",p[d+"type"]="dojoType",
p[f+"id"]="data-dojo-id");for(var m,g,v,y=0,b=[];m=u[y++];){var _=m.name,x=_.toLowerCase(),w=m.value;
switch(p[x]||x){case"data-dojo-type":case"dojotype":case"data-dojo-mixins":break;case"data-dojo-props":
v=w;break;case"data-dojo-id":case"jsid":g=w;break;case"data-dojo-attach-point":case"dojoattachpoint":
l.dojoAttachPoint=w;break;case"data-dojo-attach-event":case"dojoattachevent":l.dojoAttachEvent=w;
break;case"class":l["class"]=t.className;break;case"style":l.style=t.style&&t.style.cssText;
break;default:if(!(_ in s)){var C=getNameMap(e);_=C[x]||_}if(_ in s)switch(typeof s[_]){
case"string":l[_]=w;break;case"number":l[_]=w.length?Number(w):NaN;break;case"boolean":
l[_]="false"!=w.toLowerCase();break;case"function":""===w||-1!=w.search(/[^\w\.]+/i)?l[_]=new Function(w):l[_]=dlang.getObject(w,!1)||new Function(w),
b.push(_);break;default:var S=s[_];l[_]=S&&"length"in S?w?w.split(/\s*,\s*/):[]:S instanceof Date?""==w?new Date(""):"now"==w?new Date:dates.fromISOString(w):S instanceof _Url?dojo.baseUrl+w:myEval(w);
}else l[_]=w}}for(var k=0;k<b.length;k++){var D=b[k].toLowerCase();t.removeAttribute(D),
t[D]=null}if(v)try{v=myEval.call(i.propsThis,"{"+v+"}"),dlang.mixin(l,v)}catch(M){
throw new Error(M.toString()+" in data-dojo-props='"+v+"'")}dlang.mixin(l,n),r||(r=e&&(e._noScript||s._noScript)?[]:query("> script[type^='dojo/']",t));
var N=[],T=[],A=[],j=[];if(r)for(y=0;y<r.length;y++){var I=r[y];t.removeChild(I);var P=I.getAttribute(f+"event")||I.getAttribute("event"),L=I.getAttribute(f+"prop"),R=I.getAttribute(f+"method"),O=I.getAttribute(f+"advice"),E=I.getAttribute("type"),B=this._functionFromScript(I,f);
P?"dojo/connect"==E?N.push({method:P,func:B}):"dojo/on"==E?j.push({event:P,func:B
}):l[P]=B:"dojo/aspect"==E?N.push({method:R,advice:O,func:B}):"dojo/watch"==E?A.push({
prop:L,func:B}):T.push(B)}var F=e.markupFactory||s.markupFactory,z=F?F(l,t,e):new e(l,t);
return z.then?z.then(a):a(z)},scan:function(e,t){function n(e,t){return e.getAttribute&&e.getAttribute(t)||e.parentNode&&n(e.parentNode,t);
}function i(e){if(!e.inherited){e.inherited={};var t=e.node,n=i(e.parent),r={dir:t.getAttribute("dir")||n.dir,
lang:t.getAttribute("lang")||n.lang,textDir:t.getAttribute(c)||n.textDir};for(var o in r)r[o]&&(e.inherited[o]=r[o]);
}return e.inherited}var r=[],o=[],a={},s=(t.scope||dojo._scopeName)+"Type",l="data-"+(t.scope||dojo._scopeName)+"-",u=l+"type",c=l+"textdir",h=l+"mixins",d=e.firstChild,f=t.inherited;
if(!f){f={dir:n(e,"dir"),lang:n(e,"lang"),textDir:n(e,c)};for(var p in f)f[p]||delete f[p];
}for(var m,g,v={inherited:f};;)if(d)if(1==d.nodeType)if(m&&"script"==d.nodeName.toLowerCase())y=d.getAttribute("type"),
y&&/^dojo\/\w/i.test(y)&&m.push(d),d=d.nextSibling;else if(g)d=d.nextSibling;else{
var y=d.getAttribute(u)||d.getAttribute(s),b=d.firstChild;if(y||b&&(3!=b.nodeType||b.nextSibling)){
var _,x=null;if(y){var w=d.getAttribute(h),C=w?[y].concat(w.split(/\s*,\s*/)):[y];
try{x=getCtor(C,t.contextRequire)}catch(S){}x||darray.forEach(C,function(e){~e.indexOf("/")&&!a[e]&&(a[e]=!0,
o[o.length]=e)});var k=x&&!x.prototype._noScript?[]:null;_={types:C,ctor:x,parent:v,
node:d,scripts:k},_.inherited=i(_),r.push(_)}else _={node:d,scripts:m,parent:v};m=k,
g=d.stopParser||x&&x.prototype.stopParser&&!t.template,v=_,d=b}else d=d.nextSibling;
}else d=d.nextSibling;else{if(!v||!v.node)break;d=v.node.nextSibling,g=!1,v=v.parent,
m=v.scripts}var D=new Deferred;if(o.length){has("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+o.join(", "));
var M=t.contextRequire||require;M(o,function(){D.resolve(darray.filter(r,function(e){
if(!e.ctor)try{e.ctor=getCtor(e.types,t.contextRequire)}catch(n){}for(var i=e.parent;i&&!i.types;)i=i.parent;
var r=e.ctor&&e.ctor.prototype;return e.instantiateChildren=!(r&&r.stopParser&&!t.template),
e.instantiate=!i||i.instantiate&&i.instantiateChildren,e.instantiate}))})}else D.resolve(r);
return D.promise},_require:function(e,t){var n=myEval("{"+e.innerHTML+"}"),i=[],r=[],o=new Deferred,a=t&&t.contextRequire||require;
for(var s in n)i.push(s),r.push(n[s]);return a(r,function(){for(var e=0;e<i.length;e++)dlang.setObject(i[e],arguments[e]);
o.resolve(arguments)}),o.promise},_scanAmd:function(e,t){var n=new Deferred,i=n.promise;
n.resolve(!0);var r=this;return query("script[type='dojo/require']",e).forEach(function(e){
i=i.then(function(){return r._require(e,t)}),e.parentNode.removeChild(e)}),i},parse:function(e,t){
var n;!t&&e&&e.rootNode?(t=e,n=t.rootNode):!e||!dlang.isObject(e)||"nodeType"in e?n=e:t=e,
n=n?dom.byId(n):dwindow.body(),t=t||{};var i=t.template?{template:!0}:{},r=[],o=this,a=this._scanAmd(n,t).then(function(){
return o.scan(n,t)}).then(function(e){return o._instantiate(e,i,t,!0)}).then(function(e){
return r=r.concat(e)}).otherwise(function(e){throw console.error("dojo/parser::parse() error",e),
e});return dlang.mixin(r,a),r}};return has("extend-dojo")&&(dojo.parser=parser),config.parseOnLoad&&ready(100,parser,"parse"),
parser}),define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(e,t,n,i,r){
return n("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,
contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var e=this.domNode;
if(this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0),
r.parse(e,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,
lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,
scope:"dojo"}).then(i.hitch(this,function(e){this._startupWidgets=e;for(var t=0;t<e.length;t++)this._processTemplateNode(e[t],function(e,t){
return e[t]},function(e,t,n){return t in e?e.connect(e,t,n):e.on(t,n,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser;
})),!this._startupWidgets)throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
}},_processTemplateNode:function(e,t,n){return t(e,"dojoType")||t(e,"data-dojo-type")?!0:this.inherited(arguments);
},startup:function(){e.forEach(this._startupWidgets,function(e){e&&!e._started&&e.startup&&e.startup();
}),this._startupWidgets=null,this.inherited(arguments)}})}),define("dijit/a11yclick",["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(e,t,n,i){
function r(t){if((t.keyCode===e.ENTER||t.keyCode===e.SPACE)&&!/input|button|textarea/i.test(t.target.nodeName))for(var n=t.target;n;n=n.parentNode)if(n.dojoClick)return!0;
}var o;n(document,"keydown",function(e){r(e)?(o=e.target,e.preventDefault()):o=null;
}),n(document,"keyup",function(e){r(e)&&e.target==o&&(o=null,n.emit(e.target,"click",{
cancelable:!0,bubbles:!0,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,
altKey:e.altKey,_origType:e.type}))});var a=function(e,t){return e.dojoClick=!0,n(e,"click",t);
};return a.click=a,a.press=function(r,o){var a=n(r,i.press,function(e){("mousedown"!=e.type||t.isLeft(e))&&o(e);
}),s=n(r,"keydown",function(t){(t.keyCode===e.ENTER||t.keyCode===e.SPACE)&&o(t)});
return{remove:function(){a.remove(),s.remove()}}},a.release=function(r,o){var a=n(r,i.release,function(e){
("mouseup"!=e.type||t.isLeft(e))&&o(e)}),s=n(r,"keyup",function(t){(t.keyCode===e.ENTER||t.keyCode===e.SPACE)&&o(t);
});return{remove:function(){a.remove(),s.remove()}}},a.move=i.move,a}),define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(e,t,n,i,r,o){
var a=i("dijit._OnDijitClickMixin",null,{connect:function(e,t,n){return this.inherited(arguments,[e,"ondijitclick"==t?o:t,n]);
}});return a.a11yclick=o,a}),define("dojo/window",["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(e,t,n,i,r,o,a){
t.add("rtl-adjust-position-for-verticalScrollBar",function(e,t){var i=n.body(t),o=a.create("div",{
style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",
position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},i,"last"),s=a.create("div",{
style:{overflow:"hidden",direction:"ltr"}},o,"last"),l=0!=r.position(s).x;return o.removeChild(s),
i.removeChild(o),l}),t.add("position-fixed-support",function(e,t){var i=n.body(t),o=a.create("span",{
style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},i,"last"),s=a.create("span",{
style:{position:"fixed",left:"0",top:"0"}},o,"last"),l=r.position(s).x!=r.position(o).x;
return o.removeChild(s),i.removeChild(o),l});var s={getBox:function(e){e=e||n.doc;
var i,o,a="BackCompat"==e.compatMode?n.body(e):e.documentElement,l=r.docScroll(e);
if(t("touch")){var u=s.get(e);i=u.innerWidth||a.clientWidth,o=u.innerHeight||a.clientHeight;
}else i=a.clientWidth,o=a.clientHeight;return{l:l.x,t:l.y,w:i,h:o}},get:function(e){
if(t("ie")&&s!==document.parentWindow){e.parentWindow.execScript("document._parentWindow = window;","Javascript");
var n=e._parentWindow;return e._parentWindow=null,n}return e.parentWindow||e.defaultView;
},scrollIntoView:function(e,a){try{e=i.byId(e);var s=e.ownerDocument||n.doc,l=n.body(s),u=s.documentElement||l.parentNode,c=t("ie"),h=t("webkit");
if(e==l||e==u)return;if(!(t("mozilla")||c||h||t("opera")||t("trident"))&&"scrollIntoView"in e)return void e.scrollIntoView(!1);
var d="BackCompat"==s.compatMode,f=Math.min(l.clientWidth||u.clientWidth,u.clientWidth||l.clientWidth),p=Math.min(l.clientHeight||u.clientHeight,u.clientHeight||l.clientHeight),m=h||d?l:u,g=a||r.position(e),v=e.parentNode,y=function(e){
return 6>=c||7==c&&d?!1:t("position-fixed-support")&&"fixed"==o.get(e,"position").toLowerCase();
};if(y(e))return;for(;v;){v==l&&(v=m);var b=r.position(v),_=y(v),x="rtl"==o.getComputedStyle(v).direction.toLowerCase();
if(v==m)b.w=f,b.h=p,m==u&&c&&x&&(b.x+=m.offsetWidth-b.w),(b.x<0||!c||c>=9)&&(b.x=0),
(b.y<0||!c||c>=9)&&(b.y=0);else{var w=r.getPadBorderExtents(v);b.w-=w.w,b.h-=w.h,
b.x+=w.l,b.y+=w.t;var C=v.clientWidth,S=b.w-C;C>0&&S>0&&(x&&t("rtl-adjust-position-for-verticalScrollBar")&&(b.x+=S),
b.w=C),C=v.clientHeight,S=b.h-C,C>0&&S>0&&(b.h=C)}_&&(b.y<0&&(b.h+=b.y,b.y=0),b.x<0&&(b.w+=b.x,
b.x=0),b.y+b.h>p&&(b.h=p-b.y),b.x+b.w>f&&(b.w=f-b.x));var k,D,M=g.x-b.x,N=g.y-b.y,T=M+g.w-b.w,A=N+g.h-b.h;
T*M>0&&(v.scrollLeft||v==m||v.scrollWidth>v.offsetHeight)&&(k=Math[0>M?"max":"min"](M,T),
x&&(8==c&&!d||c>=9)&&(k=-k),D=v.scrollLeft,v.scrollLeft+=k,k=v.scrollLeft-D,g.x-=k),
A*N>0&&(v.scrollTop||v==m||v.scrollHeight>v.offsetHeight)&&(k=Math.ceil(Math[0>N?"max":"min"](N,A)),
D=v.scrollTop,v.scrollTop+=k,k=v.scrollTop-D,g.y-=k),v=v!=m&&!_&&v.parentNode}}catch(j){
console.error("scrollIntoView: "+j),e.scrollIntoView(!1)}}};return t("extend-dojo")&&e.setObject("dojo.window",s),
s}),define("dijit/a11y",["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(e,t,n,i,r,o,a){
var s,l={_isElementShown:function(e){var t=i.get(e);return"hidden"!=t.visibility&&"collapsed"!=t.visibility&&"none"!=t.display&&"hidden"!=n.get(e,"type");
},hasDefaultTabStop:function(e){switch(e.nodeName.toLowerCase()){case"a":return n.has(e,"href");
case"area":case"button":case"input":case"object":case"select":case"textarea":return!0;
case"iframe":var t;try{var i=e.contentDocument;if("designMode"in i&&"on"==i.designMode)return!0;
t=i.body}catch(r){try{t=e.contentWindow.document.body}catch(o){return!1}}return t&&("true"==t.contentEditable||t.firstChild&&"true"==t.firstChild.contentEditable);
default:return"true"==e.contentEditable}},effectiveTabIndex:function(e){return n.get(e,"disabled")?s:n.has(e,"tabIndex")?+n.get(e,"tabIndex"):l.hasDefaultTabStop(e)?0:s;
},isTabNavigable:function(e){return l.effectiveTabIndex(e)>=0},isFocusable:function(e){
return l.effectiveTabIndex(e)>=-1},_getTabNavigable:function(e){function t(e){return e&&"input"==e.tagName.toLowerCase()&&e.type&&"radio"==e.type.toLowerCase()&&e.name&&e.name.toLowerCase();
}function i(e){return d[t(e)]||e}var r,a,s,u,c,h,d={},f=l._isElementShown,p=l.effectiveTabIndex,m=function(e){
for(var i=e.firstChild;i;i=i.nextSibling)if(!(1!=i.nodeType||o("ie")<=9&&"HTML"!==i.scopeName)&&f(i)){
var l=p(i);if(l>=0){0==l?(r||(r=i),a=i):l>0&&((!s||u>l)&&(u=l,s=i),(!c||l>=h)&&(h=l,
c=i));var g=t(i);n.get(i,"checked")&&g&&(d[g]=i)}"SELECT"!=i.nodeName.toUpperCase()&&m(i);
}};return f(e)&&m(e),{first:i(r),last:i(a),lowest:i(s),highest:i(c)}},getFirstInTabbingOrder:function(e,n){
var i=l._getTabNavigable(t.byId(e,n));return i.lowest?i.lowest:i.first},getLastInTabbingOrder:function(e,n){
var i=l._getTabNavigable(t.byId(e,n));return i.last?i.last:i.highest}};return o("extend-dojo")&&r.mixin(a,l),
l}),define("dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m,g){
var v,y=t([h,a],{curNode:null,activeStack:[],constructor:function(){var t=s.hitch(this,function(e){
n.isDescendant(this.curNode,e)&&this.set("curNode",null),n.isDescendant(this.prevNode,e)&&this.set("prevNode",null);
});e.before(o,"empty",t),e.before(o,"destroy",t)},registerIframe:function(e){return this.registerWin(e.contentWindow,e);
},registerWin:function(e,t){var n=this,i=e.document&&e.document.body;if(i){var r=l(e.document,"mousedown, touchstart",function(e){
n._justMouseDowned=!0,setTimeout(function(){n._justMouseDowned=!1},0),e&&e.target&&null==e.target.parentNode||n._onTouchNode(t||e.target,"mouse");
}),o=l(i,"focusin",function(e){if(v=(new Date).getTime(),e.target.tagName){var i=e.target.tagName.toLowerCase();
"#document"!=i&&"body"!=i&&(p.isFocusable(e.target)?n._onFocusNode(t||e.target):n._onTouchNode(t||e.target));
}}),a=l(i,"focusout",function(e){(new Date).getTime()<v+100||n._onBlurNode(t||e.target);
});return{remove:function(){r.remove(),o.remove(),a.remove(),r=o=a=null,i=null}}}
},_onBlurNode:function(e){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),
this._clearFocusTimer=setTimeout(s.hitch(this,function(){this.set("prevNode",this.curNode),
this.set("curNode",null)}),0),this._justMouseDowned||(this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),
this._clearActiveWidgetsTimer=setTimeout(s.hitch(this,function(){delete this._clearActiveWidgetsTimer,
this._setStack([])}),0))},_onTouchNode:function(e,t){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),
delete this._clearActiveWidgetsTimer),r.contains(e,"dijitPopup")&&(e=e.firstChild);
var n=[];try{for(;e;){var o=i.get(e,"dijitPopupParent");if(o)e=m.byId(o).domNode;else if(e.tagName&&"body"==e.tagName.toLowerCase()){
if(e===d.body())break;e=f.get(e.ownerDocument).frameElement}else{var a=e.getAttribute&&e.getAttribute("widgetId"),s=a&&m.byId(a);
!s||"mouse"==t&&s.get("disabled")||n.unshift(a),e=e.parentNode}}}catch(l){}this._setStack(n,t);
},_onFocusNode:function(e){e&&9!=e.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),
delete this._clearFocusTimer),this._onTouchNode(e),e!=this.curNode&&(this.set("prevNode",this.curNode),
this.set("curNode",e)))},_setStack:function(e,t){var n=this.activeStack,i=n.length-1,r=e.length-1;
if(e[r]!=n[i]){this.set("activeStack",e);var o,a;for(a=i;a>=0&&n[a]!=e[a];a--)o=m.byId(n[a]),
o&&(o._hasBeenBlurred=!0,o.set("focused",!1),o._focusManager==this&&o._onBlur(t),
this.emit("widget-blur",o,t));for(a++;r>=a;a++)o=m.byId(e[a]),o&&(o.set("focused",!0),
o._focusManager==this&&o._onFocus(t),this.emit("widget-focus",o,t))}},focus:function(e){
if(e)try{e.focus()}catch(t){}}}),b=new y;u(function(){var e=b.registerWin(f.get(document));
c("ie")&&l(window,"unload",function(){e&&(e.remove(),e=null)})}),g.focus=function(e){
b.focus(e)};for(var _ in b)/^_/.test(_)||(g.focus[_]="function"==typeof b[_]?s.hitch(b,_):b[_]);
return b.watch(function(e,t,n){g.focus[e]=n}),b}),define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(e,t,n,i){
return i.extend(t,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){
this.onFocus()},_onBlur:function(){this.onBlur()}}),n("dijit._FocusMixin",null,{_focusManager:e
})}),define("dojo/uacss",["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(e,t,n,i,r){
var o=r.doc.documentElement,a=i("ie"),s=i("opera"),l=Math.floor,u=i("ff"),c=e.boxModel.replace(/-/,""),h={
dj_quirks:i("quirks"),dj_opera:s,dj_khtml:i("khtml"),dj_webkit:i("webkit"),dj_safari:i("safari"),
dj_chrome:i("chrome"),dj_gecko:i("mozilla"),dj_ios:i("ios"),dj_android:i("android")
};a&&(h.dj_ie=!0,h["dj_ie"+l(a)]=!0,h.dj_iequirks=i("quirks")),u&&(h["dj_ff"+l(u)]=!0),
h["dj_"+c]=!0;var d="";for(var f in h)h[f]&&(d+=f+" ");return o.className=t.trim(o.className+" "+d),
n(function(){if(!e.isBodyLtr()){var n="dj_rtl dijitRtl "+d.replace(/ /g,"-rtl ");o.className=t.trim(o.className+" "+n+"dj_rtl dijitRtl "+d.replace(/ /g,"-rtl "));
}}),i}),define("dojo/hccss",["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(e,t,n,i,r,o,a){
return r.add("highcontrast",function(){var n=a.doc.createElement("div");n.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+(t.blankGif||e.toUrl("./resources/blank.gif"))+");",
a.body().appendChild(n);var o=i.getComputedStyle(n),s=o.backgroundImage,l=o.borderTopColor==o.borderRightColor||s&&("none"==s||"url(invalid-url:)"==s);
return r("ie")<=8?n.outerHTML="":a.body().removeChild(n),l}),o(function(){r("highcontrast")&&n.add(a.body(),"dj_a11y");
}),r}),define("dijit/hccss",["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(e,t,n,i){
return n(function(){t("highcontrast")&&e.add(i.body(),"dijit_a11y")}),t}),define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(e,t,n,i,r,o,a,s,l,u,c,h,d){
function f(){}function p(e){return function(t,i,r,o){return t&&"string"==typeof i&&t[i]==f?t.on(i.substring(2).toLowerCase(),a.hitch(r,o)):e.apply(n,arguments);
}}e.around(n,"connect",p),o.connect&&e.around(o,"connect",p);var m=i("dijit._Widget",[c,h,d],{
onClick:f,onDblClick:f,onKeyDown:f,onKeyPress:f,onKeyUp:f,onMouseDown:f,onMouseMove:f,
onMouseOut:f,onMouseOver:f,onMouseLeave:f,onMouseEnter:f,onMouseUp:f,constructor:function(e){
this._toConnect={};for(var t in e)this[t]===f&&(this._toConnect[t.replace(/^on/,"").toLowerCase()]=e[t],
delete e[t])},postCreate:function(){this.inherited(arguments);for(var e in this._toConnect)this.on(e,this._toConnect[e]);
delete this._toConnect},on:function(e,t){return this[this._onMap(e)]===f?n.connect(this.domNode,e.toLowerCase(),this,t):this.inherited(arguments);
},_setFocusedAttr:function(e){this._focused=e,this._set("focused",e)},setAttribute:function(e,t){
o.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0"),
this.set(e,t)},attr:function(e,t){var n=arguments.length;return n>=2||"object"==typeof e?this.set.apply(this,arguments):this.get(e);
},getDescendants:function(){return o.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0"),
this.containerNode?s("[widgetId]",this.containerNode).map(u.byNode):[]},_onShow:function(){
this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0;
}});return r("dijit-legacy-requires")&&l(0,function(){var e=["dijit/_base"];require(e);
}),m}),define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(e,t,n,i){
return t("dijit._Container",null,{buildRendering:function(){this.inherited(arguments),
this.containerNode||(this.containerNode=this.domNode)},addChild:function(e,t){var i=this.containerNode;
if(t>0){for(i=i.firstChild;t>0;)1==i.nodeType&&t--,i=i.nextSibling;i?t="before":(i=this.containerNode,
t="last")}n.place(e.domNode,i,t),this._started&&!e._started&&e.startup()},removeChild:function(e){
if("number"==typeof e&&(e=this.getChildren()[e]),e){var t=e.domNode;t&&t.parentNode&&t.parentNode.removeChild(t);
}},hasChildren:function(){return this.getChildren().length>0},_getSiblingOfChild:function(t,n){
i.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");
var r=this.getChildren(),o=e.indexOf(r,t);return r[o+n]},getIndexOfChild:function(t){
return e.indexOf(this.getChildren(),t)}})}),define("dijit/Viewport",["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(e,t,n,i,r){
var o,a=new e;return n(function(){var e=r.getBox();if(a._rlh=t(window,"resize",function(){
var t=r.getBox();(e.h!=t.h||e.w!=t.w)&&(e=t,a.emit("resize"))}),8==i("ie")){var n=screen.deviceXDPI;
setInterval(function(){screen.deviceXDPI!=n&&(n=screen.deviceXDPI,a.emit("resize"));
},500)}i("ios")&&(t(document,"focusin",function(e){o=e.target}),t(document,"focusout",function(e){
o=null}))}),a.getEffectiveBox=function(e){var t=r.getBox(e),n=o&&o.tagName&&o.tagName.toLowerCase();
if(i("ios")&&o&&!o.readOnly&&("textarea"==n||"input"==n&&/^(color|email|number|password|search|tel|text|url)$/.test(o.type))){
t.h*=0==orientation||180==orientation?.66:.4;var a=o.getBoundingClientRect();t.h=Math.max(t.h,a.top+a.height);
}return t},a}),define("dijit/layout/utils",["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(e,t,n,i,r){
function o(e){return e.substring(0,1).toUpperCase()+e.substring(1)}function a(e,t){
var i=e.resize?e.resize(t):n.setMarginBox(e.domNode,t);i?r.mixin(e,i):(r.mixin(e,n.getMarginBox(e.domNode)),
r.mixin(e,t))}var s={marginBox2contentBox:function(e,t){var r=i.getComputedStyle(e),o=n.getMarginExtents(e,r),a=n.getPadBorderExtents(e,r);
return{l:i.toPixelValue(e,r.paddingLeft),t:i.toPixelValue(e,r.paddingTop),w:t.w-(o.w+a.w),
h:t.h-(o.h+a.h)}},layoutChildren:function(n,i,s,l,u){i=r.mixin({},i),t.add(n,"dijitLayoutContainer"),
s=e.filter(s,function(e){return"center"!=e.region&&"client"!=e.layoutAlign}).concat(e.filter(s,function(e){
return"center"==e.region||"client"==e.layoutAlign})),e.forEach(s,function(e){var n=e.domNode,r=e.region||e.layoutAlign;
if(!r)throw new Error("No region setting for "+e.id);var s=n.style;s.left=i.l+"px",
s.top=i.t+"px",s.position="absolute",t.add(n,"dijitAlign"+o(r));var c={};l&&l==e.id&&(c["top"==e.region||"bottom"==e.region?"h":"w"]=u),
"leading"==r&&(r=e.isLeftToRight()?"left":"right"),"trailing"==r&&(r=e.isLeftToRight()?"right":"left"),
"top"==r||"bottom"==r?(c.w=i.w,a(e,c),i.h-=e.h,"top"==r?i.t+=e.h:s.top=i.t+i.h+"px"):"left"==r||"right"==r?(c.h=i.h,
a(e,c),i.w-=e.w,"left"==r?i.l+=e.w:s.left=i.l+i.w+"px"):("client"==r||"center"==r)&&a(e,i);
})}};return r.setObject("dijit.layout.utils",s),s}),define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(e,t,n,i,r,o,a,s,l,u,c){
return t("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,
startup:function(){if(!this._started){var e=this.getParent();this._childOfLayoutWidget=e&&e.isLayoutContainer,
this._needLayout=!this._childOfLayoutWidget,this.inherited(arguments),this._isShown()&&this._onShow(),
this._childOfLayoutWidget||this.own(u.on("resize",o.hitch(this,"resize")))}},_checkIfSingleChild:function(){
var e=[],t=!1;a("> *",this.containerNode).some(function(n){var i=l.byNode(n);i&&i.resize?e.push(i):!/script|link|style/i.test(n.nodeName)&&n.offsetHeight&&(t=!0);
}),this._singleChild=1!=e.length||t?null:e[0],n.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);
},resize:function(e,t){this._resizeCalled=!0,this._scheduleLayout(e,t)},_scheduleLayout:function(e,t){
this._isShown()?this._layout(e,t):(this._needLayout=!0,this._changeSize=e,this._resultSize=t);
},_layout:function(e,t){delete this._needLayout,this._wasShown||this.open===!1||this._onShow(),
e&&i.setMarginBox(this.domNode,e);var n=this.containerNode;if(n===this.domNode){var r=t||{};
o.mixin(r,e||{}),"h"in r&&"w"in r||(r=o.mixin(i.getMarginBox(n),r)),this._contentBox=c.marginBox2contentBox(n,r);
}else this._contentBox=i.getContentBox(n);this._layoutChildren()},_layoutChildren:function(){
if(this.doLayout&&this._checkIfSingleChild(),this._singleChild&&this._singleChild.resize){
var e=this._contentBox||i.getContentBox(this.containerNode);this._singleChild.resize({
w:e.w,h:e.h})}else for(var t,n=this.getChildren(),r=0;t=n[r++];)t.resize&&t.resize();
},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;
if("open"in this)return this.open;var e=this.domNode,t=this.domNode.parentNode;return"none"!=e.style.display&&"hidden"!=e.style.visibility&&!n.contains(e,"dijitHidden")&&t&&t.style&&"none"!=t.style.display;
},_onShow:function(){this._wasShown=!0,this._needLayout&&this._layout(this._changeSize,this._resultSize),
this.inherited(arguments)}})}),define("dojo/html",["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(e,t,n,i,r,o,a){
var s=0,l={_secureForInnerHtml:function(e){return e.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/gi,"");
},_emptyNode:o.empty,_setNodeContent:function(e,n){if(o.empty(e),n)if("string"==typeof n&&(n=o.toDom(n,e.ownerDocument)),
!n.nodeType&&t.isArrayLike(n))for(var i=n.length,r=0;r<n.length;r=i==n.length?r+1:0)o.place(n[r],e,"last");else o.place(n,e,"last");
return e},_ContentSetter:i("dojo.html._ContentSetter",null,{node:"",content:"",id:"",
cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:e._scopeName,startup:!0,
constructor:function(e,n){t.mixin(this,e||{}),n=this.node=r.byId(this.node||n),this.id||(this.id=["Setter",n?n.id||n.tagName:"",s++].join("_"));
},set:function(e,t){void 0!==e&&(this.content=e),t&&this._mixin(t),this.onBegin(),
this.setContent();var n=this.onEnd();return n&&n.then?n:this.node},setContent:function(){
var e=this.node;if(!e)throw new Error(this.declaredClass+": setContent given no node");
try{e=l._setNodeContent(e,this.content)}catch(t){var n=this.onContentError(t);try{
e.innerHTML=n}catch(t){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+t.message,t);
}}this.node=e},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),
delete this.parseDeferred),this.parseResults&&this.parseResults.length&&(n.forEach(this.parseResults,function(e){
e.destroy&&e.destroy()}),delete this.parseResults),o.empty(this.node)},onBegin:function(){
var e=this.content;if(t.isString(e)&&(this.cleanContent&&(e=l._secureForInnerHtml(e)),
this.extractContent)){var n=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);n&&(e=n[1]);
}return this.empty(),this.content=e,this.node},onEnd:function(){return this.parseContent&&this._parse(),
this.node},tearDown:function(){delete this.parseResults,delete this.parseDeferred,
delete this.node,delete this.content},onContentError:function(e){return"Error occurred setting content: "+e;
},onExecError:function(e){return"Error occurred executing scripts: "+e},_mixin:function(e){
var t,n={};for(t in e)t in n||(this[t]=e[t])},_parse:function(){var e=this.node;try{
var t={};n.forEach(["dir","lang","textDir"],function(e){this[e]&&(t[e]=this[e])},this);
var i=this;this.parseDeferred=a.parse({rootNode:e,noStart:!this.startup,inherited:t,
scope:this.parserScope}).then(function(e){return i.parseResults=e},function(e){i._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);
})}catch(r){this._onError("Content",r,"Error parsing in _ContentSetter#"+this.id);
}},_onError:function(e,t,n){var i=this["on"+e+"Error"].call(this,t);n?console.error(n,t):i&&l._setNodeContent(this.node,i,!0);
}}),set:function(e,n,i){if(void 0==n&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),
n=""),i){var r=new l._ContentSetter(t.mixin(i,{content:n,node:e}));return r.set();
}return l._setNodeContent(e,n,!0)}};return t.setObject("dojo.html",l),l}),define("dojo/i18n",["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./has!host-browser?./_base/xhr","./json","module"],function(e,t,n,i,r,o,a,s,l){
n.add("dojo-preload-i18n-Api",1),n.add("dojo-v1x-i18n-Api",1);var u=e.i18n={},c=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,h=function(e,t,n,i){
for(var r=[n+i],o=t.split("-"),a="",s=0;s<o.length;s++)a+=(a?"-":"")+o[s],(!e||e[a])&&(r.push(n+a+"/"+i),
r.specificity=a);return r},d={},f=function(t,n,i){return i=i?i.toLowerCase():e.locale,
t=t.replace(/\./g,"/"),n=n.replace(/\./g,"/"),/root/i.test(i)?t+"/nls/"+n:t+"/nls/"+i+"/"+n;
},p=e.getL10nName=function(e,t,n){return e=l.id+"!"+f(e,t,n)},m=function(e,t,n,i,r,a){
e([t],function(s){var l=o.clone(s.root||s.ROOT),u=h(!s._v1x&&s,r,n,i);e(u,function(){
for(var e=1;e<u.length;e++)l=o.mixin(o.clone(l),arguments[e]);var n=t+"/"+r;d[n]=l,
l.$locale=u.specificity,a()})})},g=function(e,t){return/^\./.test(e)?t(e):e},v=function(e){
var t=r.extraLocale||[];return t=o.isArray(t)?t:[t],t.push(e),t},y=function(t,r,a,l){
if(l&&l.isBuild)return a();if(n("dojo-preload-i18n-Api")){var u=t.split("*"),h="preload"==u[1];
if(h&&(d[t]||(d[t]=1,S(u[2],s.parse(u[3]),1,r)),a(1)),h||k(t,r,a))return}var f=c.exec(t),p=f[1]+"/",g=f[5]||f[4],y=p+g,b=f[5]&&f[4],_=b||e.locale||"",x=y+"/"+_,w=b?[_]:v(_),C=w.length,M=function(){
--C||a(o.delegate(d[x]))};i.forEach(w,function(e){var t=y+"/"+e;n("dojo-preload-i18n-Api")&&D(t),
d[t]?M():m(r,y,p,g,e,M)})};if(n("dojo-unit-tests"))var b=u.unitTests=[];if(n("dojo-preload-i18n-Api")||n("dojo-v1x-i18n-Api"))var _=u.normalizeLocale=function(t){
var n=t?t.toLowerCase():e.locale;return"root"==n?"ROOT":n},x=function(e,i){return n("dojo-sync-loader")&&n("dojo-v1x-i18n-Api")?i.isXdUrl(t.toUrl(e+".js")):!0;
},w=0,C=[],S=u._preloadLocalizations=function(n,r,o,a){function s(e,t){x(e,a)||o?a([e],t):T([e],t,a);
}function l(e,t){for(var n=e.split("-");n.length;){if(t(n.join("-")))return;n.pop();
}t("ROOT")}function u(e){e=_(e),l(e,function(e){if(i.indexOf(r,e)>=0){var o=n.replace(/\./g,"/")+"_"+e;
return w++,s(o,function(n){for(var i in n)d[t.toAbsMid(i)+"/"+e]=n[i];for(--w;!w&&C.length;)y.apply(null,C.shift());
}),!0}return!1})}a=a||t,u(),i.forEach(e.config.extraLocale,u)},k=function(e,t,n){
return w&&C.push([e,t,n]),w},D=function(){};if(n("dojo-v1x-i18n-Api")){var M={},N=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},	   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),T=function(e,t,n){
var r=[];i.forEach(e,function(e){function t(t){var n=N(t,D,e,M);n===M?r.push(d[i]=M.result):(n instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+i,n),
n={}),r.push(d[i]=/nls\/[^\/]+\/[^\/]+$/.test(i)?n:{root:n,_v1x:1}))}var i=n.toUrl(e+".js");
if(d[i])r.push(d[i]);else{var o=n.syncLoadNls(e);if(o)r.push(o);else if(a)a.get({
url:i,sync:!0,load:t,error:function(){r.push(d[i]={})}});else try{n.getText(i,!0,t);
}catch(s){r.push(d[i]={})}}}),t&&t.apply(null,r)};D=function(t){for(var n,i=t.split("/"),r=e.global[i[0]],o=1;r&&o<i.length-1;r=r[i[o++]]);
return r&&(n=r[i[o]],n||(n=r[i[o].replace(/-/g,"_")]),n&&(d[t]=n)),n},u.getLocalization=function(e,n,i){
var r,o=f(e,n,i);return y(o,x(o,t)?t:function(e,n){T(e,n,t)},function(e){r=e}),r},
n("dojo-unit-tests")&&b.push(function(e){e.register("tests.i18n.unit",function(e){
var t;t=N("{prop:1}",D,"nonsense",M),e.is({prop:1},t),e.is(void 0,t[1]),t=N("({prop:1})",D,"nonsense",M),
e.is({prop:1},t),e.is(void 0,t[1]),t=N("{'prop-x':1}",D,"nonsense",M),e.is({"prop-x":1
},t),e.is(void 0,t[1]),t=N("({'prop-x':1})",D,"nonsense",M),e.is({"prop-x":1},t),
e.is(void 0,t[1]),t=N("define({'prop-x':1})",D,"nonsense",M),e.is(M,t),e.is({"prop-x":1
},M.result),t=N("define('some/module', {'prop-x':1})",D,"nonsense",M),e.is(M,t),e.is({
"prop-x":1},M.result),t=N("this is total nonsense and should throw an error",D,"nonsense",M),
e.is(t instanceof Error,!0)})})}return o.mixin(u,{dynamic:!0,normalize:g,load:y,cache:d,
getL10nName:p})}),define("dijit/layout/ContentPane",["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m,g){
return u("dijit.layout.ContentPane",[n,i,r],{href:"",content:"",extractContent:!1,
parseOnLoad:!0,parserScope:e._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,
loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",
errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,
stopParser:!0,template:!1,markupFactory:function(e,t,n){var i=new n(e,t);return!i.href&&i._contentSetter&&i._contentSetter.parseDeferred&&!i._contentSetter.parseDeferred.isFulfilled()?i._contentSetter.parseDeferred.then(function(){
return i}):i},create:function(e,n){if(!(e&&e.template||!n||"href"in e||"content"in e)){
n=h.byId(n);for(var i=n.ownerDocument.createDocumentFragment();n.firstChild;)i.appendChild(n.firstChild);
e=t.delegate(e,{content:i})}this.inherited(arguments,[e,n])},postMixInProperties:function(){
this.inherited(arguments);var e=m.getLocalization("dijit","loading",this.lang);this.loadingMessage=o.substitute(this.loadingMessage,e),
this.errorMessage=o.substitute(this.errorMessage,e)},buildRendering:function(){this.inherited(arguments),
this.containerNode||(this.containerNode=this.domNode),this.domNode.removeAttribute("title");
},startup:function(){this.inherited(arguments),this._contentSetter&&l.forEach(this._contentSetter.parseResults,function(e){
e._started||e._destroyed||!t.isFunction(e.startup)||(e.startup(),e._started=!0)},this);
},_startChildren:function(){l.forEach(this.getChildren(),function(e){e._started||e._destroyed||!t.isFunction(e.startup)||(e.startup(),
e._started=!0)}),this._contentSetter&&l.forEach(this._contentSetter.parseResults,function(e){
e._started||e._destroyed||!t.isFunction(e.startup)||(e.startup(),e._started=!0)},this);
},setHref:function(t){return e.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0"),
this.set("href",t)},_setHrefAttr:function(e){return this.cancel(),this.onLoadDeferred=new c(t.hitch(this,"cancel")),
this.onLoadDeferred.then(t.hitch(this,"onLoad")),this._set("href",e),this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0,
this.onLoadDeferred},setContent:function(t){e.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0"),
this.set("content",t)},_setContentAttr:function(e){return this._set("href",""),this.cancel(),
this.onLoadDeferred=new c(t.hitch(this,"cancel")),this._created&&this.onLoadDeferred.then(t.hitch(this,"onLoad")),
this._setContent(e||""),this._isDownloaded=!1,this.onLoadDeferred},_getContentAttr:function(){
return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel(),
delete this._xhrDfd,this.onLoadDeferred=null},destroy:function(){this.cancel(),this.inherited(arguments);
},destroyRecursive:function(e){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){
return this.inherited(arguments),!this.href||this._xhrDfd||this.isLoaded&&!this._hrefChanged&&!this.refreshOnShow?void 0:this.refresh();
},refresh:function(){return this.cancel(),this.onLoadDeferred=new c(t.hitch(this,"cancel")),
this.onLoadDeferred.then(t.hitch(this,"onLoad")),this._load(),this.onLoadDeferred;
},_load:function(){this._setContent(this.onDownloadStart(),!0);var e=this,n={preventCache:this.preventCache||this.refreshOnShow,
url:this.href,handleAs:"text"};t.isObject(this.ioArgs)&&t.mixin(n,this.ioArgs);var i,r=this._xhrDfd=(this.ioMethod||p.get)(n);
r.then(function(t){i=t;try{return e._isDownloaded=!0,e._setContent(t,!1)}catch(n){
e._onError("Content",n)}},function(t){return r.canceled||e._onError("Download",t),
delete e._xhrDfd,t}).then(function(){return e.onDownloadEnd(),delete e._xhrDfd,i}),
delete this._hrefChanged},_onLoadHandler:function(e){this._set("isLoaded",!0);try{
this.onLoadDeferred.resolve(e)}catch(t){console.error("Error "+this.widgetId+" running custom onLoad code: "+t.message);
}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(e){
console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);
}},destroyDescendants:function(e){this.isLoaded&&this._onUnloadHandler();var t=this._contentSetter;
l.forEach(this.getChildren(),function(t){t.destroyRecursive?t.destroyRecursive(e):t.destroy&&t.destroy(e),
t._destroyed=!0}),t&&(l.forEach(t.parseResults,function(t){t._destroyed||(t.destroyRecursive?t.destroyRecursive(e):t.destroy&&t.destroy(e),
t._destroyed=!0)}),delete t.parseResults),e||f.empty(this.containerNode),delete this._singleChild;
},_setContent:function(e,n){this.destroyDescendants();var i=this._contentSetter;i&&i instanceof a._ContentSetter||(i=this._contentSetter=new a._ContentSetter({
node:this.containerNode,_onError:t.hitch(this,this._onError),onContentError:t.hitch(this,function(e){
var t=this.onContentError(e);try{this.containerNode.innerHTML=t}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);
}})}));var r=t.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,
parseContent:!e.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,
dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),o=i.set(t.isObject(e)&&e.domNode?e.domNode:e,r),s=this;
return g(o&&o.then?o:i.parseDeferred,function(){delete s._contentSetterParams,n||(s._started&&(s._startChildren(),
s._scheduleLayout()),s._onLoadHandler(e))})},_onError:function(e,t,n){this.onLoadDeferred.reject(t);
var i=this["on"+e+"Error"].call(this,t);n?console.error(n,t):i&&this._setContent(i,!0);
},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;
},onContentError:function(){},onDownloadError:function(){return this.errorMessage;
},onDownloadEnd:function(){}})}),define("dojo/regexp",["./_base/kernel","./_base/lang"],function(e,t){
var n={};return t.setObject("dojo.regexp",n),n.escapeString=function(e,t){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(e){
return t&&-1!=t.indexOf(e)?e:"\\"+e})},n.buildGroupRE=function(e,t,i){if(!(e instanceof Array))return t(e);
for(var r=[],o=0;o<e.length;o++)r.push(t(e[o]));return n.group(r.join("|"),i)},n.group=function(e,t){
return"("+(t?"?:":"")+e+")"},n}),define("dojo/cookie",["./_base/kernel","./regexp"],function(e,t){
return e.cookie=function(e,n,i){var r,o=document.cookie;if(1==arguments.length){var a=o.match(new RegExp("(?:^|; )"+t.escapeString(e)+"=([^;]*)"));
r=a?decodeURIComponent(a[1]):void 0}else{i=i||{};var s=i.expires;if("number"==typeof s){
var l=new Date;l.setTime(l.getTime()+24*s*60*60*1e3),s=i.expires=l}s&&s.toUTCString&&(i.expires=s.toUTCString()),
n=encodeURIComponent(n);var u,c=e+"="+n;for(u in i){c+="; "+u;var h=i[u];h!==!0&&(c+="="+h);
}document.cookie=c}return r},e.cookie.isSupported=function(){return"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),
navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{
expires:-1})),navigator.cookieEnabled},e.cookie}),define("dijit/_Contained",["dojo/_base/declare","./registry"],function(e,t){
return e("dijit._Contained",null,{_getSibling:function(e){var n=this.domNode;do n=n[e+"Sibling"];while(n&&1!=n.nodeType);
return n&&t.byNode(n)},getPreviousSibling:function(){return this._getSibling("previous");
},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){
var e=this.getParent();return e&&e.getIndexOfChild?e.getIndexOfChild(this):-1}})}),
define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(e,t,n,i,r,o,a,s,l){
return o("dijit.layout._LayoutWidget",[t,n,i],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,
buildRendering:function(){this.inherited(arguments),a.add(this.domNode,"dijitContainer");
},startup:function(){if(!this._started){this.inherited(arguments);var t=this.getParent&&this.getParent();
t&&t.isLayoutContainer||(this.resize(),this.own(r.on("resize",e.hitch(this,"resize"))));
}},resize:function(t,n){var i=this.domNode;t&&s.setMarginBox(i,t);var r=n||{};e.mixin(r,t||{}),
"h"in r&&"w"in r||(r=e.mixin(s.getMarginBox(i),r));var o=l.getComputedStyle(i),a=s.getMarginExtents(i,o),u=s.getBorderExtents(i,o),c=this._borderBox={
w:r.w-(a.w+u.w),h:r.h-(a.h+u.h)},h=s.getPadExtents(i,o);this._contentBox={l:l.toPixelValue(i,o.paddingLeft),
t:l.toPixelValue(i,o.paddingTop),w:c.w-h.w,h:c.h-h.h},this.layout()},layout:function(){},
_setupChild:function(e){var t=this.baseClass+"-child "+(e.baseClass?this.baseClass+"-"+e.baseClass:"");
a.add(e.domNode,t)},addChild:function(e,t){this.inherited(arguments),this._started&&this._setupChild(e);
},removeChild:function(e){var t=this.baseClass+"-child"+(e.baseClass?" "+this.baseClass+"-"+e.baseClass:"");
a.remove(e.domNode,t),this.inherited(arguments)}})}),define("dijit/layout/LayoutContainer",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(e,t,n,i,r,o,a,s){
var l=t("dijit.layout.LayoutContainer",a,{design:"headline",baseClass:"dijitLayoutContainer",
startup:function(){this._started||(e.forEach(this.getChildren(),this._setupChild,this),
this.inherited(arguments))},_setupChild:function(e){this.inherited(arguments);var t=e.region;
t&&n.add(e.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var t=e.map(this.getChildren(),function(e,t){
return{pane:e,weight:["center"==e.region?1/0:0,e.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(e.region)?1:-1),t]
}},this);return t.sort(function(e,t){for(var n=e.weight,i=t.weight,r=0;r<n.length;r++)if(n[r]!=i[r])return n[r]-i[r];
return 0}),e.map(t,function(e){return e.pane})},layout:function(){s.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren());
},addChild:function(e,t){this.inherited(arguments),this._started&&this.layout()},
removeChild:function(e){this.inherited(arguments),this._started&&this.layout(),n.remove(e.domNode,this.baseClass+"Pane"),
i.set(e.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"
}),i.set(e.domNode,/top|bottom/.test(e.region)?"width":"height","auto")}});return l.ChildWidgetProperties={
region:"",layoutAlign:"",layoutPriority:0},r.extend(o,l.ChildWidgetProperties),l}),
define("dijit/layout/BorderContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m){
var g=n("dijit.layout._Splitter",[d,f],{live:!0,templateString:'<div class="dijitSplitter" data-dojo-attach-event="onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex="0" role="separator"><div class="dijitSplitterThumb"></div></div>',
constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments),
this.horizontal=/top|bottom/.test(this.region),this._factor=/top|left/.test(this.region)?1:-1,
this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){if(this.inherited(arguments),
i.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")),this.container.persist){
var e=t(this._cookieName);e&&(this.child.domNode.style[this.horizontal?"height":"width"]=e);
}},_computeMaxSize:function(){var t=this.horizontal?"h":"w",n=o.getMarginBox(this.child.domNode)[t],i=e.filter(this.container.getChildren(),function(e){
return"center"==e.region})[0],r=o.getContentBox(i.domNode)[t]-10;return Math.min(this.child.maxSize,n+r);
},_startDrag:function(e){this.cover||(this.cover=r.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after")),
i.add(this.cover,"dijitSplitterCoverActive"),this.fake&&r.destroy(this.fake),(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),
i.add(this.domNode,"dijitSplitterShadow"),r.place(this.fake,this.domNode,"after")),
i.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active"),
this.fake&&i.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");
var t=this._factor,n=this.horizontal,s=n?"pageY":"pageX",h=e[s],d=this.domNode.style,f=n?"h":"w",p=a.getComputedStyle(this.child.domNode),m=o.getMarginBox(this.child.domNode,p)[f],g=this._computeMaxSize(),v=Math.max(this.child.minSize,o.getPadBorderExtents(this.child.domNode,p)[f]+10),y=this.region,b="top"==y||"bottom"==y?"top":"left",_=parseInt(d[b],10),x=this._resize,w=l.hitch(this.container,"_layoutChildren",this.child.id),C=this.ownerDocument;
this._handlers=this._handlers.concat([u(C,c.move,this._drag=function(e,n){var i=e[s]-h,r=t*i+m,o=Math.max(Math.min(r,g),v);
(x||n)&&w(o),d[b]=i+_+t*(o-r)+"px"}),u(C,"dragstart",function(e){e.stopPropagation(),
e.preventDefault()}),u(this.ownerDocumentBody,"selectstart",function(e){e.stopPropagation(),
e.preventDefault()}),u(C,c.release,l.hitch(this,"_stopDrag"))]),e.stopPropagation(),
e.preventDefault()},_onMouse:function(e){var t="mouseover"==e.type||"mouseenter"==e.type;
i.toggle(this.domNode,"dijitSplitterHover",t),i.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",t);
},_stopDrag:function(e){try{this.cover&&i.remove(this.cover,"dijitSplitterCoverActive"),
this.fake&&r.destroy(this.fake),i.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),
this._drag(e),this._drag(e,!0)}finally{this._cleanupHandlers(),delete this._drag}
this.container.persist&&t(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{
expires:365})},_cleanupHandlers:function(){for(var e;e=this._handlers.pop();)e.remove();
},_onKeyDown:function(e){this._resize=!0;var t=this.horizontal,n=1;switch(e.keyCode){
case t?s.UP_ARROW:s.LEFT_ARROW:n*=-1;case t?s.DOWN_ARROW:s.RIGHT_ARROW:break;default:
return}var i=o.getMarginSize(this.child.domNode)[t?"h":"w"]+this._factor*n;this.container._layoutChildren(this.child.id,Math.max(Math.min(i,this._computeMaxSize()),this.child.minSize)),
e.stopPropagation(),e.preventDefault()},destroy:function(){this._cleanupHandlers(),
delete this.child,delete this.container,delete this.cover,delete this.fake,this.inherited(arguments);
}}),v=n("dijit.layout._Gutter",[d,f],{templateString:'<div class="dijitGutter" role="presentation"></div>',
postMixInProperties:function(){this.inherited(arguments),this.horizontal=/top|bottom/.test(this.region);
},buildRendering:function(){this.inherited(arguments),i.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));
}}),y=n("dijit.layout.BorderContainer",p,{gutters:!0,liveSplitters:!0,persist:!1,
baseClass:"dijitBorderContainer",_splitterClass:g,postMixInProperties:function(){
this.gutters||(this.baseClass+="NoGutter"),this.inherited(arguments)},_setupChild:function(e){
this.inherited(arguments);var t=e.region,n=e.isLeftToRight();if("leading"==t&&(t=n?"left":"right"),
"trailing"==t&&(t=n?"right":"left"),t&&"center"!=t&&(e.splitter||this.gutters)&&!e._splitterWidget){
var i=e.splitter?this._splitterClass:v;l.isString(i)&&(i=l.getObject(i));var o=new i({
id:e.id+"_splitter",container:this,child:e,region:t,live:this.liveSplitters});o.isSplitter=!0,
e._splitterWidget=o;var a="bottom"==t||t==(this.isLeftToRight()?"right":"left");r.place(o.domNode,e.domNode,a?"before":"after"),
o.startup()}},layout:function(){this._layoutChildren()},removeChild:function(e){var t=e._splitterWidget;
t&&(t.destroy(),delete e._splitterWidget),this.inherited(arguments)},getChildren:function(){
return e.filter(this.inherited(arguments),function(e){return!e.isSplitter})},getSplitter:function(t){
return e.filter(this.getChildren(),function(e){return e.region==t})[0]._splitterWidget;
},resize:function(e,t){if(!this.cs||!this.pe){var n=this.domNode;this.cs=a.getComputedStyle(n),
this.pe=o.getPadExtents(n,this.cs),this.pe.r=a.toPixelValue(n,this.cs.paddingRight),
this.pe.b=a.toPixelValue(n,this.cs.paddingBottom),a.set(n,"padding","0px")}this.inherited(arguments);
},_layoutChildren:function(t,n){if(this._borderBox&&this._borderBox.h){var i=[];e.forEach(this._getOrderedChildren(),function(e){
i.push(e),e._splitterWidget&&i.push(e._splitterWidget)});var r={l:this.pe.l,t:this.pe.t,
w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};m.layoutChildren(this.domNode,r,i,t,n);
}},destroyRecursive:function(){e.forEach(this.getChildren(),function(e){var t=e._splitterWidget;
t&&t.destroy(),delete e._splitterWidget}),this.inherited(arguments)}});return y.ChildWidgetProperties={
splitter:!1,minSize:0,maxSize:1/0},l.mixin(y.ChildWidgetProperties,p.ChildWidgetProperties),
l.extend(h,y.ChildWidgetProperties),y._Splitter=g,y._Gutter=v,y}),define("dojo/dnd/common",["../sniff","../_base/kernel","../_base/lang","../dom"],function(e,t,n,i){
var r=n.getObject("dojo.dnd",!0);return r.getCopyKeyState=function(t){return t[e("mac")?"metaKey":"ctrlKey"];
},r._uniqueId=0,r.getUniqueId=function(){var e;do e=t._scopeName+"Unique"+ ++r._uniqueId;while(i.byId(e));
return e},r._empty={},r.isFormElement=function(e){var t=e.target;return 3==t.nodeType&&(t=t.parentNode),
" a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;
},r}),define("dojo/dnd/autoscroll",["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(e,t,n,i,r,o){
var a={};e.setObject("dojo.dnd.autoscroll",a),a.getViewport=o.getBox,a.V_TRIGGER_AUTOSCROLL=32,
a.H_TRIGGER_AUTOSCROLL=32,a.V_AUTOSCROLL_VALUE=16,a.H_AUTOSCROLL_VALUE=16;var s,l=n.doc,u=1/0,c=1/0;
return a.autoScrollStart=function(e){l=e,s=o.getBox(l);var t=n.body(l).parentNode;
u=Math.max(t.scrollHeight-s.h,0),c=Math.max(t.scrollWidth-s.w,0)},a.autoScroll=function(e){
var t=s||o.getBox(l),i=n.body(l).parentNode,r=0,h=0;e.clientX<a.H_TRIGGER_AUTOSCROLL?r=-a.H_AUTOSCROLL_VALUE:e.clientX>t.w-a.H_TRIGGER_AUTOSCROLL&&(r=Math.min(a.H_AUTOSCROLL_VALUE,c-i.scrollLeft)),
e.clientY<a.V_TRIGGER_AUTOSCROLL?h=-a.V_AUTOSCROLL_VALUE:e.clientY>t.h-a.V_TRIGGER_AUTOSCROLL&&(h=Math.min(a.V_AUTOSCROLL_VALUE,u-i.scrollTop)),
window.scrollBy(r,h)},a._validNodes={div:1,p:1,td:1},a._validOverflow={auto:1,scroll:1
},a.autoScrollNodes=function(e){for(var o,s,l,u,c,h,d,f,p=0,m=0,g=e.target;g;){if(1==g.nodeType&&g.tagName.toLowerCase()in a._validNodes){
var v=r.getComputedStyle(g),y=v.overflow.toLowerCase()in a._validOverflow,b=v.overflowX.toLowerCase()in a._validOverflow,_=v.overflowY.toLowerCase()in a._validOverflow;
if((y||b||_)&&(o=i.getContentBox(g,v),s=i.position(g,!0)),(y||b)&&(l=Math.min(a.H_TRIGGER_AUTOSCROLL,o.w/2),
c=e.pageX-s.x,(t("webkit")||t("opera"))&&(c+=n.body().scrollLeft),p=0,c>0&&c<o.w&&(l>c?p=-l:c>o.w-l&&(p=l),
d=g.scrollLeft,g.scrollLeft=g.scrollLeft+p)),(y||_)&&(u=Math.min(a.V_TRIGGER_AUTOSCROLL,o.h/2),
h=e.pageY-s.y,(t("webkit")||t("opera"))&&(h+=n.body().scrollTop),m=0,h>0&&h<o.h&&(u>h?m=-u:h>o.h-u&&(m=u),
f=g.scrollTop,g.scrollTop=g.scrollTop+m)),p||m)return}try{g=g.parentNode}catch(x){
g=null}}a.autoScroll(e)},a}),define("dojo/dnd/Mover",["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(e,t,n,i,r,o,a,s,l,u,c,h,d){
return t("dojo.dnd.Mover",[l],{constructor:function(e,t,i){function r(e){e.preventDefault(),
e.stopPropagation()}this.node=o.byId(e),this.marginBox={l:t.pageX,t:t.pageY},this.mouseButton=t.button;
var a=this.host=i,s=e.ownerDocument;this.events=[u(s,c.move,n.hitch(this,"onFirstMove")),u(s,c.move,n.hitch(this,"onMouseMove")),u(s,c.release,n.hitch(this,"onMouseUp")),u(s,"dragstart",r),u(s.body,"selectstart",r)],
d.autoScrollStart(s),a&&a.onMoveStart&&a.onMoveStart(this)},onMouseMove:function(e){
d.autoScroll(e);var t=this.marginBox;this.host.onMove(this,{l:t.l+e.pageX,t:t.t+e.pageY
},e),e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){(i("webkit")&&i("mac")&&2==this.mouseButton?0==e.button:this.mouseButton==e.button)&&this.destroy(),
e.preventDefault(),e.stopPropagation()},onFirstMove:function(e){var t,n,i=this.node.style,o=this.host;
switch(i.position){case"relative":case"absolute":t=Math.round(parseFloat(i.left))||0,
n=Math.round(parseFloat(i.top))||0;break;default:i.position="absolute";var l=a.getMarginBox(this.node),u=r.doc.body,c=s.getComputedStyle(u),h=a.getMarginBox(u,c),d=a.getContentBox(u,c);
t=l.l-(d.l-h.l),n=l.t-(d.t-h.t)}this.marginBox.l=t-this.marginBox.l,this.marginBox.t=n-this.marginBox.t,
o&&o.onFirstMove&&o.onFirstMove(this,e),this.events.shift().remove()},destroy:function(){
e.forEach(this.events,function(e){e.remove()});var t=this.host;t&&t.onMoveStop&&t.onMoveStop(this),
this.events=this.node=this.host=null}})}),define("dojo/dnd/Moveable",["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(e,t,n,i,r,o,a,s,l,u,c,h){
var d=t("dojo.dnd.Moveable",[o],{handle:"",delay:0,skip:!1,constructor:function(e,t){
this.node=i.byId(e),t||(t={}),this.handle=t.handle?i.byId(t.handle):null,this.handle||(this.handle=this.node),
this.delay=t.delay>0?t.delay:0,this.skip=t.skip,this.mover=t.mover?t.mover:c,this.events=[a(this.handle,l.press,n.hitch(this,"onMouseDown")),a(this.handle,"dragstart",n.hitch(this,"onSelectStart")),a(this.handle,"selectstart",n.hitch(this,"onSelectStart"))];
},markupFactory:function(e,t,n){return new n(t,e)},destroy:function(){e.forEach(this.events,function(e){
e.remove()}),this.events=this.node=this.handle=null},onMouseDown:function(e){this.skip&&u.isFormElement(e)||(this.delay?(this.events.push(a(this.handle,l.move,n.hitch(this,"onMouseMove")),a(this.handle,l.release,n.hitch(this,"onMouseUp"))),
this._lastX=e.pageX,this._lastY=e.pageY):this.onDragDetected(e),e.stopPropagation(),
e.preventDefault())},onMouseMove:function(e){(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)&&(this.onMouseUp(e),
this.onDragDetected(e)),e.stopPropagation(),e.preventDefault()},onMouseUp:function(e){
for(var t=0;2>t;++t)this.events.pop().remove();e.stopPropagation(),e.preventDefault();
},onSelectStart:function(e){this.skip&&u.isFormElement(e)||(e.stopPropagation(),e.preventDefault());
},onDragDetected:function(e){new this.mover(this.node,e,this)},onMoveStart:function(e){
s.publish("/dnd/move/start",e),r.add(h.body(),"dojoMove"),r.add(this.node,"dojoMoveItem");
},onMoveStop:function(e){s.publish("/dnd/move/stop",e),r.remove(h.body(),"dojoMove"),
r.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(e,t){
this.onMoving(e,t);var n=e.node.style;n.left=t.l+"px",n.top=t.t+"px",this.onMoved(e,t);
},onMoving:function(){},onMoved:function(){}});return d}),define("dojo/dnd/move",["../_base/declare","../dom-geometry","../dom-style","./common","./Mover","./Moveable"],function(e,t,n,i,r,o){
var a=e("dojo.dnd.move.constrainedMoveable",o,{constraints:function(){},within:!1,
constructor:function(e,t){t||(t={}),this.constraints=t.constraints,this.within=t.within;
},onFirstMove:function(e){var n=this.constraintBox=this.constraints.call(this,e);if(n.r=n.l+n.w,
n.b=n.t+n.h,this.within){var i=t.getMarginSize(e.node);n.r-=i.w,n.b-=i.h}},onMove:function(e,t){
var n=this.constraintBox,i=e.node.style;this.onMoving(e,t),t.l=t.l<n.l?n.l:n.r<t.l?n.r:t.l,
t.t=t.t<n.t?n.t:n.b<t.t?n.b:t.t,i.left=t.l+"px",i.top=t.t+"px",this.onMoved(e,t)}
}),s=e("dojo.dnd.move.boxConstrainedMoveable",a,{box:{},constructor:function(e,t){
var n=t&&t.box;this.constraints=function(){return n}}}),l=e("dojo.dnd.move.parentConstrainedMoveable",a,{
area:"content",constructor:function(e,i){var r=i&&i.area;this.constraints=function(){
var e=this.node.parentNode,i=n.getComputedStyle(e),o=t.getMarginBox(e,i);if("margin"==r)return o;
var a=t.getMarginExtents(e,i);return o.l+=a.l,o.t+=a.t,o.w-=a.w,o.h-=a.h,"border"==r?o:(a=t.getBorderExtents(e,i),
o.l+=a.l,o.t+=a.t,o.w-=a.w,o.h-=a.h,"padding"==r?o:(a=t.getPadExtents(e,i),o.l+=a.l,
o.t+=a.t,o.w-=a.w,o.h-=a.h,o))}}});return{constrainedMoveable:a,boxConstrainedMoveable:s,
parentConstrainedMoveable:l}}),define("dojo/_base/Color",["./kernel","./lang","./array","./config"],function(e,t,n,i){
var r=e.Color=function(e){e&&this.setColor(e)};return r.named={black:[0,0,0],silver:[192,192,192],
gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],
fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],
navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:i.transparentColor||[0,0,0,0]
},t.extend(r,{r:255,g:255,b:255,a:1,_set:function(e,t,n,i){var r=this;r.r=e,r.g=t,
r.b=n,r.a=i},setColor:function(e){return t.isString(e)?r.fromString(e,this):t.isArray(e)?r.fromArray(e,this):(this._set(e.r,e.g,e.b,e.a),
e instanceof r||this.sanitize()),this},sanitize:function(){return this},toRgb:function(){
var e=this;return[e.r,e.g,e.b]},toRgba:function(){var e=this;return[e.r,e.g,e.b,e.a];
},toHex:function(){var e=n.map(["r","g","b"],function(e){var t=this[e].toString(16);
return t.length<2?"0"+t:t},this);return"#"+e.join("")},toCss:function(e){var t=this,n=t.r+", "+t.g+", "+t.b;
return(e?"rgba("+n+", "+t.a:"rgb("+n)+")"},toString:function(){return this.toCss(!0);
}}),r.blendColors=e.blendColors=function(e,t,i,o){var a=o||new r;return n.forEach(["r","g","b","a"],function(n){
a[n]=e[n]+(t[n]-e[n])*i,"a"!=n&&(a[n]=Math.round(a[n]))}),a.sanitize()},r.fromRgb=e.colorFromRgb=function(e,t){
var n=e.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return n&&r.fromArray(n[1].split(/\s*,\s*/),t);
},r.fromHex=e.colorFromHex=function(e,t){var i=t||new r,o=4==e.length?4:8,a=(1<<o)-1;
return e=Number("0x"+e.substr(1)),isNaN(e)?null:(n.forEach(["b","g","r"],function(t){
var n=e&a;e>>=o,i[t]=4==o?17*n:n}),i.a=1,i)},r.fromArray=e.colorFromArray=function(e,t){
var n=t||new r;return n._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),
isNaN(n.a)&&(n.a=1),n.sanitize()},r.fromString=e.colorFromString=function(e,t){var n=r.named[e];
return n&&r.fromArray(n,t)||r.fromRgb(e,t)||r.fromHex(e,t)},r}),define("dojo/_base/fx",["./kernel","./config","./lang","../Evented","./Color","../aspect","../sniff","../dom","../dom-style"],function(e,t,n,i,r,o,a,s,l){
var u=n.mixin,c={},h=c._Line=function(e,t){this.start=e,this.end=t};h.prototype.getValue=function(e){
return(this.end-this.start)*e+this.start};var d=c.Animation=function(e){u(this,e),
n.isArray(this.curve)&&(this.curve=new h(this.curve[0],this.curve[1]))};d.prototype=new i,
n.extend(d,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){
var e=this._percent,t=this.easing;return t?t(e):e},_fire:function(e,n){var i=n||[];
if(this[e])if(t.debugAtAllCosts)this[e].apply(this,i);else try{this[e].apply(this,i);
}catch(r){console.error("exception in animation handler for:",e),console.error(r);
}return this},play:function(e,t){var i=this;if(i._delayTimer&&i._clearTimer(),t)i._stopTimer(),
i._active=i._paused=!1,i._percent=0;else if(i._active&&!i._paused)return i;i._fire("beforeBegin",[i.node]);
var r=e||i.delay,o=n.hitch(i,"_play",t);return r>0?(i._delayTimer=setTimeout(o,r),
i):(o(),i)},_play:function(e){var t=this;t._delayTimer&&t._clearTimer(),t._startTime=(new Date).valueOf(),
t._paused&&(t._startTime-=t.duration*t._percent),t._active=!0,t._paused=!1;var n=t.curve.getValue(t._getStep());
return t._percent||(t._startRepeatCount||(t._startRepeatCount=t.repeat),t._fire("onBegin",[n])),
t._fire("onPlay",[n]),t._cycle(),t},pause:function(){var e=this;return e._delayTimer&&e._clearTimer(),
e._stopTimer(),e._active?(e._paused=!0,e._fire("onPause",[e.curve.getValue(e._getStep())]),
e):e},gotoPercent:function(e,t){var n=this;return n._stopTimer(),n._active=n._paused=!0,
n._percent=e,t&&n.play(),n},stop:function(e){var t=this;return t._delayTimer&&t._clearTimer(),
t._timer?(t._stopTimer(),e&&(t._percent=1),t._fire("onStop",[t.curve.getValue(t._getStep())]),
t._active=t._paused=!1,t):t},status:function(){return this._active?this._paused?"paused":"playing":"stopped";
},_cycle:function(){var e=this;if(e._active){var t=(new Date).valueOf(),n=0===e.duration?1:(t-e._startTime)/e.duration;
n>=1&&(n=1),e._percent=n,e.easing&&(n=e.easing(n)),e._fire("onAnimate",[e.curve.getValue(n)]),
e._percent<1?e._startTimer():(e._active=!1,e.repeat>0?(e.repeat--,e.play(null,!0)):-1==e.repeat?e.play(null,!0):e._startRepeatCount&&(e.repeat=e._startRepeatCount,
e._startRepeatCount=0),e._percent=0,e._fire("onEnd",[e.node]),!e.repeat&&e._stopTimer());
}return e},_clearTimer:function(){clearTimeout(this._delayTimer),delete this._delayTimer;
}});var f=0,p=null,m={run:function(){}};n.extend(d,{_startTimer:function(){this._timer||(this._timer=o.after(m,"run",n.hitch(this,"_cycle"),!0),
f++),p||(p=setInterval(n.hitch(m,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),
this._timer=null,f--),0>=f&&(clearInterval(p),p=null,f=0)}});var g=a("ie")?function(e){
var t=e.style;t.width.length||"auto"!=l.get(e,"width")||(t.width="auto")}:function(){};
c._fade=function(e){e.node=s.byId(e.node);var t=u({properties:{}},e),i=t.properties.opacity={};
i.start="start"in t?t.start:function(){return+l.get(t.node,"opacity")||0},i.end=t.end;
var r=c.animateProperty(t);return o.after(r,"beforeBegin",n.partial(g,t.node),!0),
r},c.fadeIn=function(e){return c._fade(u({end:1},e))},c.fadeOut=function(e){return c._fade(u({
end:0},e))},c._defaultEasing=function(e){return.5+Math.sin((e+1.5)*Math.PI)/2};var v=function(e){
this._properties=e;for(var t in e){var n=e[t];n.start instanceof r&&(n.tempColor=new r);
}};return v.prototype.getValue=function(e){var t={};for(var i in this._properties){
var o=this._properties[i],a=o.start;a instanceof r?t[i]=r.blendColors(a,o.end,e,o.tempColor).toCss():n.isArray(a)||(t[i]=(o.end-a)*e+a+("opacity"!=i?o.units||"px":0));
}return t},c.animateProperty=function(t){var i=t.node=s.byId(t.node);t.easing||(t.easing=e._defaultEasing);
var a=new d(t);return o.after(a,"beforeBegin",n.hitch(a,function(){function e(e,t){
var n={height:e.offsetHeight,width:e.offsetWidth}[t];return void 0!==n?n:(n=l.get(e,t),
"opacity"==t?+n:s?n:parseFloat(n))}var t={};for(var o in this.properties){("width"==o||"height"==o)&&(this.node.display="block");
var a=this.properties[o];n.isFunction(a)&&(a=a(i)),a=t[o]=u({},n.isObject(a)?a:{end:a
}),n.isFunction(a.start)&&(a.start=a.start(i)),n.isFunction(a.end)&&(a.end=a.end(i));
var s=o.toLowerCase().indexOf("color")>=0;"end"in a?"start"in a||(a.start=e(i,o)):a.end=e(i,o),
s?(a.start=new r(a.start),a.end=new r(a.end)):a.start="opacity"==o?+a.start:parseFloat(a.start);
}this.curve=new v(t)}),!0),o.after(a,"onAnimate",n.hitch(l,"set",a.node),!0),a},c.anim=function(e,t,n,i,r,o){
return c.animateProperty({node:e,duration:n||d.prototype.duration,properties:t,easing:i,
onEnd:r}).play(o||0)},a("extend-dojo")&&(u(e,c),e._Animation=d),c}),define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(e,t,n,i,r){
var o={};return e.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(e){
o[e]=i[e]}),n.mixin(o,{defaultDuration:t.defaultDuration||200}),n.mixin(r,o),r}),
define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(e,t,n,i,r,o){
var a=o.typematic={_fireEventAndReload:function(){this._timer=null,this._callback(++this._count,this._node,this._evt),
this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay),
this._timer=setTimeout(n.hitch(this,"_fireEventAndReload"),this._currentTimeout)},
trigger:function(e,t,i,r,o,a,s,l){if(o!=this._obj){this.stop(),this._initialDelay=s||500,
this._subsequentDelay=a||.9,this._minDelay=l||10,this._obj=o,this._node=i,this._currentTimeout=-1,
this._count=-1,this._callback=n.hitch(t,r),this._evt={faux:!0};for(var u in e)if("layerX"!=u&&"layerY"!=u){
var c=e[u];"function"!=typeof c&&"undefined"!=typeof c&&(this._evt[u]=c)}this._fireEventAndReload();
}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._obj&&(this._callback(-1,this._node,this._evt),
this._obj=null)},addKeyListener:function(r,o,s,l,u,c,h){var d="keyCode"in o?"keydown":"charCode"in o?"keypress":t._keypress,f="keyCode"in o?"keyCode":"charCode"in o?"charCode":"charOrCode",p=[i(r,d,n.hitch(this,function(e){
e[f]!=o[f]||void 0!==o.ctrlKey&&o.ctrlKey!=e.ctrlKey||void 0!==o.altKey&&o.altKey!=e.altKey||void 0!==o.metaKey&&o.metaKey!=(e.metaKey||!1)||void 0!==o.shiftKey&&o.shiftKey!=e.shiftKey?a._obj==o&&a.stop():(e.stopPropagation(),
e.preventDefault(),a.trigger(e,s,r,l,o,u,c,h))})),i(r,"keyup",n.hitch(this,function(){
a._obj==o&&a.stop()}))];return{remove:function(){e.forEach(p,function(e){e.remove();
})}}},addMouseListener:function(t,o,s,l,u,c){var h=[i(t,"mousedown",n.hitch(this,function(e){
e.preventDefault(),a.trigger(e,o,t,s,t,l,u,c)})),i(t,"mouseup",n.hitch(this,function(e){
this._obj&&e.preventDefault(),a.stop()})),i(t,"mouseout",n.hitch(this,function(e){
this._obj&&e.preventDefault(),a.stop()})),i(t,"dblclick",n.hitch(this,function(e){
e.preventDefault(),r("ie")<9&&(a.trigger(e,o,t,s,t,l,u,c),setTimeout(n.hitch(this,a.stop),50));
}))];return{remove:function(){e.forEach(h,function(e){e.remove()})}}},addListener:function(t,n,i,r,o,a,s,l){
var u=[this.addKeyListener(n,i,r,o,a,s,l),this.addMouseListener(t,r,o,a,s,l)];return{
remove:function(){e.forEach(u,function(e){e.remove()})}}}};return a}),define("dijit/_CssStateMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(e,t,n,i,r,o,a,s,l,u,c,h){
var d=t("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){
this.inherited(arguments),e.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(e){
this.watch(e,o.hitch(this,"_setStateClass"))},this);for(var t in this.cssStateNodes||{})this._trackMouseState(this[t],this.cssStateNodes[t]);
this._trackMouseState(this.domNode,this.baseClass),this._setStateClass()},_cssMouseEvent:function(e){
if(!this.disabled)switch(e.type){case"mouseover":case"MSPointerOver":case"pointerover":
this._set("hovering",!0),this._set("active",this._mouseDown);break;case"mouseout":
case"MSPointerOut":case"pointerout":this._set("hovering",!1),this._set("active",!1);
break;case"mousedown":case"touchstart":case"MSPointerDown":case"pointerdown":case"keydown":
this._set("active",!0);break;case"mouseup":case"dojotouchend":case"MSPointerUp":case"pointerup":
case"keyup":this._set("active",!1)}},_setStateClass:function(){function t(t){n=n.concat(e.map(n,function(e){
return e+t}),"dijit"+t)}var n=this.baseClass.split(" ");this.isLeftToRight()||t("Rtl");
var i="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&t(i),
this.state&&t(this.state),this.selected&&t("Selected"),this._opened&&t("Opened"),
this.disabled?t("Disabled"):this.readOnly?t("ReadOnly"):this.active?t("Active"):this.hovering&&t("Hover"),
this.focused&&t("Focused");var r=this.stateNode||this.domNode,o={};if("undefined"!=typeof r&&null!=r){
e.forEach(r.className.split(" "),function(e){o[e]=!0}),"_stateClasses"in this&&e.forEach(this._stateClasses,function(e){
delete o[e]}),e.forEach(n,function(e){o[e]=!0});var a=[];for(var s in o)a.push(s);
r.className=a.join(" "),this._stateClasses=n}},_subnodeCssMouseEvent:function(e,t,n){
function r(n){i.toggle(e,t+"Hover",n)}function o(n){i.toggle(e,t+"Active",n)}function a(n){
i.toggle(e,t+"Focused",n)}if(!this.disabled&&!this.readOnly)switch(n.type){case"mouseover":
case"MSPointerOver":case"pointerover":r(!0);break;case"mouseout":case"MSPointerOut":
case"pointerout":r(!1),o(!1);break;case"mousedown":case"touchstart":case"MSPointerDown":
case"pointerdown":case"keydown":o(!0);break;case"mouseup":case"MSPointerUp":case"pointerup":
case"dojotouchend":case"keyup":o(!1);break;case"focus":case"focusin":a(!0);break;case"blur":
case"focusout":a(!1)}},_trackMouseState:function(e,t){e._cssState=t}});return s(function(){
function e(e,t,i){if(!i||!n.isDescendant(i,t))for(var r=t;r&&r!=i;r=r.parentNode)if(r._cssState){
var o=h.getEnclosingWidget(r);o&&(r==o.domNode?o._cssMouseEvent(e):o._subnodeCssMouseEvent(r,r._cssState,e));
}}var t,i=u.body();a(i,l.over,function(t){e(t,t.target,t.relatedTarget)}),a(i,l.out,function(t){
e(t,t.target,t.relatedTarget)}),a(i,c.press,function(n){t=n.target,e(n,t)}),a(i,c.release,function(n){
e(n,t),t=null}),a(i,"focusin, focusout",function(e){var t=e.target;if(t._cssState&&!t.getAttribute("widgetId")){
var n=h.getEnclosingWidget(t);n&&n._subnodeCssMouseEvent(t,t._cssState,e)}})}),d}),
define("dijit/form/_FormWidgetMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(e,t,n,i,r,o,a,s,l,u){
return t("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text",
"aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,
scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(t){if(this._set("disabled",t),
n.set(this.focusNode,"disabled",t),this.valueNode&&n.set(this.valueNode,"disabled",t),
this.focusNode.setAttribute("aria-disabled",t?"true":"false"),t){this._set("hovering",!1),
this._set("active",!1);var i="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode";
e.forEach(r.isArray(i)?i:[i],function(e){var t=this[e];s("webkit")||u.hasDefaultTabStop(t)?t.setAttribute("tabIndex","-1"):t.removeAttribute("tabIndex");
},this)}else""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(e){
if("mouse"==e&&this.isFocusable())var t=this.own(a(this.focusNode,"focus",function(){
n.remove(),t.remove()}))[0],n=this.own(a(this.ownerDocumentBody,"mouseup, touchend",r.hitch(this,function(e){
n.remove(),t.remove(),this.focused&&("touchend"==e.type?this.defer("focus"):this.focus());
})))[0];this.scrollOnFocus&&this.defer(function(){l.scrollIntoView(this.domNode)}),
this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=i.get(this.domNode,"display");
},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus();
}catch(e){}},compare:function(e,t){return"number"==typeof e&&"number"==typeof t?isNaN(e)&&isNaN(t)?0:e-t:e>t?1:t>e?-1:0;
},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(e,t){void 0!=this._lastValueReported||null!==t&&this._onChangeActive||(this._resetValue=this._lastValueReported=e),
this._pendingOnChange=this._pendingOnChange||typeof e!=typeof this._lastValueReported||0!=this.compare(e,this._lastValueReported),
(this.intermediateChanges||t||void 0===t)&&this._pendingOnChange&&(this._lastValueReported=e,
this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),
this._onChangeHandle=this.defer(function(){this._onChangeHandle=null,this.onChange(e);
})))},create:function(){this.inherited(arguments),this._onChangeActive=!0},destroy:function(){
this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported)),
this.inherited(arguments)}})}),define("dijit/form/_FormWidget",["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(e,t,n,i,r,o,a,s){
return t("dijit-legacy-requires")&&i(0,function(){var e=["dijit/form/_FormValueWidget"];
require(e)}),e("dijit.form._FormWidget",[r,a,o,s],{setDisabled:function(e){n.deprecated("setDisabled("+e+") is deprecated. Use set('disabled',"+e+") instead.","","2.0"),
this.set("disabled",e)},setValue:function(e){n.deprecated("dijit.form._FormWidget:setValue("+e+") is deprecated.  Use set('value',"+e+") instead.","","2.0"),
this.set("value",e)},getValue:function(){return n.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0"),
this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!t("msapp")?'name="'+this.name.replace(/"/g,"&quot;")+'"':"",
this.inherited(arguments)},_setTypeAttr:null})}),define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(e,t,n,i){
var r=e("dijit.form._ButtonMixin"+(n("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",
__onClick:function(e){return e.stopPropagation(),e.preventDefault(),this.disabled||this.valueNode.click(e),
!1},_onClick:function(e){if(this.disabled)return e.stopPropagation(),e.preventDefault(),
!1;this.onClick(e)===!1&&e.preventDefault();var t=e.defaultPrevented;if(!t&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var n=this.domNode;n.parentNode;n=n.parentNode){
var r=i.byNode(n);if(r&&"function"==typeof r._onSubmit){r._onSubmit(e),e.preventDefault(),
t=!0;break}}return!t},postCreate:function(){this.inherited(arguments),t.setSelectable(this.focusNode,!1);
},onClick:function(){return!0},_setLabelAttr:function(e){this._set("label",e);var t=this.containerNode||this.focusNode;
t.innerHTML=e}});return n("dojo-bidi")&&(r=e("dijit.form._ButtonMixin",r,{_setLabelAttr:function(){
this.inherited(arguments);var e=this.containerNode||this.focusNode;this.applyTextDir(e);
}})),r}),define("dojo/text!dijit/form/templates/Button.html",[],function(){return'<span class="dijit dijitReset dijitInline" role="presentation"\n	><span class="dijitReset dijitInline dijitButtonNode pentaho-button"\n		data-dojo-attach-event="ondijitclick:__onClick" role="presentation"\n		><span class="dijitReset dijitStretch dijitButtonContents"\n			data-dojo-attach-point="titleNode,focusNode"\n			role="button" aria-labelledby="${id}_label"\n			><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\n			><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\n			><span class="dijitReset dijitInline dijitButtonText"\n				id="${id}_label"\n				data-dojo-attach-point="containerNode"\n			></span\n		></span\n	></span\n	><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\n		data-dojo-attach-event="onclick:_onClick"\n		tabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\n/></span>\n';
}),define("dijit/form/Button",["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(e,t,n,i,r,o,a,s,l,u){
i("dijit-legacy-requires")&&a(0,function(){var t=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];
e(t)});var c=t("dijit.form.Button"+(i("dojo-bidi")?"_NoBidi":""),[s,l],{showLabel:!0,
iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",
templateString:u,_setValueAttr:"valueNode",_setNameAttr:function(e){this.valueNode&&this.valueNode.setAttribute("name",e);
},_fillContent:function(e){if(!(!e||this.params&&"label"in this.params)){var t=o.trim(e.innerHTML);
t&&(this.label=t)}},_setShowLabelAttr:function(e){this.containerNode&&n.toggle(this.containerNode,"dijitDisplayNone",!e),
this._set("showLabel",e)},setLabel:function(e){r.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0"),
this.set("label",e)},_setLabelAttr:function(e){this.inherited(arguments),this.showLabel||"title"in this.params||(this.titleNode.title=o.trim(this.containerNode.innerText||this.containerNode.textContent||""));
}});return i("dojo-bidi")&&(c=t("dijit.form.Button",c,{_setLabelAttr:function(e){
this.inherited(arguments),this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title);
},_setTextDirAttr:function(e){this._created&&this.textDir!=e&&(this._set("textDir",e),
this._setLabelAttr(this.label))}})),c}),define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./_FormWidgetMixin"],function(e,t,n,i,r,o,a){
return e("dijit.form._FormValueMixin",a,{readOnly:!1,_setReadOnlyAttr:function(e){
t.set(this.focusNode,"readOnly",e),this._set("readOnly",e)},postCreate:function(){
this.inherited(arguments),void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value);
},_setValueAttr:function(e,t){this._handleOnChange(e,t)},_handleOnChange:function(e,t){
this._set("value",e),this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1);
},reset:function(){this._hasBeenBlurred=!1,this._setValueAttr(this._resetValue,!0);
}})}),define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(e,t,n,i){
return e("dijit.form._FormValueWidget",[n,i],{_layoutHackIE7:function(){if(7==t("ie"))for(var e=this.domNode,n=e.parentNode,i=e.firstChild||e,r=i.style.filter,o=this;n&&0==n.clientHeight;)!function(){
var e=o.connect(n,"onscroll",function(){o.disconnect(e),i.style.filter=(new Date).getMilliseconds(),
o.defer(function(){i.style.filter=r})})}(),n=n.parentNode}})}),define("dojo/text!dijit/form/templates/HorizontalSlider.html",[],function(){
return'<table class="dijit dijitReset dijitSlider dijitSliderH" cellspacing="0" cellpadding="0" border="0" rules="none" data-dojo-attach-event="onkeydown:_onKeyDown, onkeyup:_onKeyUp"\n	role="presentation"\n	><tr class="dijitReset"\n		><td class="dijitReset" colspan="2"></td\n		><td data-dojo-attach-point="topDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"></td\n		><td class="dijitReset" colspan="2"></td\n	></tr\n	><tr class="dijitReset"\n		><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n			><div class="dijitSliderDecrementIconH" style="display:none" data-dojo-attach-point="decrementButton"><span class="dijitSliderButtonInner">-</span></div\n		></td\n		><td class="dijitReset"\n			><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event="press:_onClkDecBumper"></div\n		></td\n		><td class="dijitReset"\n			><input data-dojo-attach-point="valueNode" type="hidden" ${!nameAttrSetting}\n			/><div class="dijitReset dijitSliderBarContainerH" role="presentation" data-dojo-attach-point="sliderBarContainer"\n				><div role="presentation" data-dojo-attach-point="progressBar" class="dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event="press:_onBarClick"\n					><div class="dijitSliderMoveable dijitSliderMoveableH"\n						><div data-dojo-attach-point="sliderHandle,focusNode" class="dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event="press:_onHandleClick" role="slider"></div\n					></div\n				></div\n				><div role="presentation" data-dojo-attach-point="remainingBar" class="dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event="press:_onBarClick"></div\n			></div\n		></td\n		><td class="dijitReset"\n			><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event="press:_onClkIncBumper"></div\n		></td\n		><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n			><div class="dijitSliderIncrementIconH" style="display:none" data-dojo-attach-point="incrementButton"><span class="dijitSliderButtonInner">+</span></div\n		></td\n	></tr\n	><tr class="dijitReset"\n		><td class="dijitReset" colspan="2"></td\n		><td data-dojo-attach-point="containerNode,bottomDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"></td\n		><td class="dijitReset" colspan="2"></td\n	></tr\n></table>\n';
}),define("dijit/form/HorizontalSlider",["dojo/_base/array","dojo/_base/declare","dojo/dnd/move","dojo/_base/fx","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/dnd/Moveable","dojo/dnd/Mover","dojo/query","dojo/mouse","dojo/on","../_base/manager","../focus","../typematic","./Button","./_FormValueWidget","../_Container","dojo/text!./templates/HorizontalSlider.html"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b,_){
var x=t("dijit.form._SliderMover",c,{onMouseMove:function(e){var t=this.widget,n=t._abspos;
n||(n=t._abspos=r.position(t.sliderBarContainer,!0),t._setPixelValue_=s.hitch(t,"_setPixelValue"),
t._isReversed_=t._isReversed());var i=e[t._mousePixelCoord]-n[t._startingPixelCoord];
t._setPixelValue_(t._isReversed_?n[t._pixelCount]-i:i,n[t._pixelCount],!1)},destroy:function(e){
c.prototype.destroy.apply(this,arguments);var t=this.widget;t._abspos=null,t._setValueAttr(t.value,!0);
}}),w=t("dijit.form.HorizontalSlider",[y,b],{templateString:_,value:0,showButtons:!0,
minimum:0,maximum:100,discreteValues:1/0,pageIncrement:2,clickSelect:!0,slideDuration:p.defaultDuration,
_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",
decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",
_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",
_onKeyUp:function(e){this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey||this._setValueAttr(this.value,!0);
},_onKeyDown:function(e){if(!(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey)){
switch(e.keyCode){case a.HOME:this._setValueAttr(this.minimum,!1);break;case a.END:
this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?a.RIGHT_ARROW:a.LEFT_ARROW:
case this._descending===!1?a.DOWN_ARROW:a.UP_ARROW:case this._descending===!1?a.PAGE_DOWN:a.PAGE_UP:
this.increment(e);break;case this._descending||this.isLeftToRight()?a.LEFT_ARROW:a.RIGHT_ARROW:
case this._descending===!1?a.UP_ARROW:a.DOWN_ARROW:case this._descending===!1?a.PAGE_UP:a.PAGE_DOWN:
this.decrement(e);break;default:return}e.stopPropagation(),e.preventDefault()}},_onHandleClick:function(e){
this.disabled||this.readOnly||(l("ie")||m.focus(this.sliderHandle),e.stopPropagation(),
e.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(e){
if(!this.disabled&&!this.readOnly&&this.clickSelect){m.focus(this.sliderHandle),e.stopPropagation(),
e.preventDefault();var t=r.position(this.sliderBarContainer,!0),n=e[this._mousePixelCoord]-t[this._startingPixelCoord];
this._setPixelValue(this._isReversed()?t[this._pixelCount]-n:n,t[this._pixelCount],!0),
this._movable.onMouseDown(e)}},_setPixelValue:function(e,t,n){if(!this.disabled&&!this.readOnly){
var i=this.discreteValues;(1>=i||i==1/0)&&(i=t),i--;var r=t/i,o=Math.round(e/r);this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*o/i+this.minimum,this.maximum),this.minimum),n);
}},_setValueAttr:function(e,t){this._set("value",e),this.valueNode.value=e,this.focusNode.setAttribute("aria-valuenow",e),
this.inherited(arguments);var n=(e-this.minimum)/(this.maximum-this.minimum),r=this._descending===!1?this.remainingBar:this.progressBar,o=this._descending===!1?this.progressBar:this.remainingBar;
if(this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0),
t&&this.slideDuration>0&&r.style[this._progressPixelSize]){var a=this,s={},l=parseFloat(r.style[this._progressPixelSize]),u=this.slideDuration*(n-l/100);
if(0==u)return;0>u&&(u=0-u),s[this._progressPixelSize]={start:l,end:100*n,units:"%"
},this._inProgressAnim=i.animateProperty({node:r,duration:u,onAnimate:function(e){
o.style[a._progressPixelSize]=100-parseFloat(e[a._progressPixelSize])+"%"},onEnd:function(){
delete a._inProgressAnim},properties:s}),this._inProgressAnim.play()}else r.style[this._progressPixelSize]=100*n+"%",
o.style[this._progressPixelSize]=100*(1-n)+"%"},_bumpValue:function(e,t){if(!this.disabled&&!this.readOnly){
var n=o.getComputedStyle(this.sliderBarContainer),i=r.getContentBox(this.sliderBarContainer,n),a=this.discreteValues;
(1>=a||a==1/0)&&(a=i[this._pixelCount]),a--;var s=(this.value-this.minimum)*a/(this.maximum-this.minimum)+e;
0>s&&(s=0),s>a&&(s=a),s=s*(this.maximum-this.minimum)/a+this.minimum,this._setValueAttr(s,t);
}},_onClkBumper:function(e){this.disabled||this.readOnly||!this.clickSelect||this._setValueAttr(e,!0);
},_onClkIncBumper:function(){this._onClkBumper(this._descending===!1?this.minimum:this.maximum);
},_onClkDecBumper:function(){this._onClkBumper(this._descending===!1?this.maximum:this.minimum);
},decrement:function(e){this._bumpValue(e.keyCode==a.PAGE_DOWN?-this.pageIncrement:-1);
},increment:function(e){this._bumpValue(e.keyCode==a.PAGE_UP?this.pageIncrement:1);
},_mouseWheeled:function(e){e.stopPropagation(),e.preventDefault(),this._bumpValue(e.wheelDelta<0?-1:1,!0);
},startup:function(){this._started||(e.forEach(this.getChildren(),function(e){this[e.container]!=this.containerNode&&this[e.container].appendChild(e.domNode);
},this),this.inherited(arguments))},_typematicCallback:function(e,t,n){-1==e?this._setValueAttr(this.value,!0):this[t==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](n);
},buildRendering:function(){this.inherited(arguments),this.showButtons&&(this.incrementButton.style.display="",
this.decrementButton.style.display="");var e=h('label[for="'+this.id+'"]');e.length&&(e[0].id||(e[0].id=this.id+"_label"),
this.focusNode.setAttribute("aria-labelledby",e[0].id)),this.focusNode.setAttribute("aria-valuemin",this.minimum),
this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){
this.inherited(arguments),this.showButtons&&this.own(g.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),g.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500)),
this.own(f(this.domNode,d.wheel,s.hitch(this,"_mouseWheeled")));var e=t(x,{widget:this
});this._movable=new u(this.sliderHandle,{mover:e}),this._layoutHackIE7()},destroy:function(){
this._movable.destroy(),this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0),
this.inherited(arguments)}});return w._Mover=x,w}),define("dijit/form/_TextBoxMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(e,t,n,i,r,o,a,s){
var l=t("dijit.form._TextBoxMixin"+(i("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,
lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){
return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(e,t,n){
var i;void 0!==e&&(i=this.filter(e),"string"!=typeof n&&(n=null===i||"number"==typeof i&&isNaN(i)?"":this.filter(this.format(i,this.constraints)))),
null==n||"number"==typeof n&&isNaN(n)||this.textbox.value==n||(this.textbox.value=n,
this._set("displayedValue",this.get("displayedValue"))),this.inherited(arguments,[i,t]);
},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);
},_setDisplayedValueAttr:function(e){null==e?e="":"string"!=typeof e&&(e=String(e)),
this.textbox.value=e,this._setValueAttr(this.get("value"),void 0),this._set("displayedValue",this.get("displayedValue"));
},format:function(e){return null==e?"":e.toString?e.toString():e},parse:function(e){
return e},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(e){
this._processInput(e),this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1);
})},_processInput:function(e){this._refreshState(),this._set("displayedValue",this.get("displayedValue"));
},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value),this.inherited(arguments);
var e=function(e){var t;if("keydown"==e.type){switch(t=e.keyCode){case r.SHIFT:case r.ALT:
case r.CTRL:case r.META:case r.CAPS_LOCK:case r.NUM_LOCK:case r.SCROLL_LOCK:return;
}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(t){case r.NUMPAD_0:case r.NUMPAD_1:
case r.NUMPAD_2:case r.NUMPAD_3:case r.NUMPAD_4:case r.NUMPAD_5:case r.NUMPAD_6:case r.NUMPAD_7:
case r.NUMPAD_8:case r.NUMPAD_9:case r.NUMPAD_MULTIPLY:case r.NUMPAD_PLUS:case r.NUMPAD_ENTER:
case r.NUMPAD_MINUS:case r.NUMPAD_PERIOD:case r.NUMPAD_DIVIDE:return}if(t>=65&&90>=t||t>=48&&57>=t||t==r.SPACE)return;
var n=!1;for(var i in r)if(r[i]===e.keyCode){n=!0;break}if(!n)return}}if(t=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode,
t||(t=e.keyCode>=65&&e.keyCode<=90||e.keyCode>=48&&e.keyCode<=57||e.keyCode==r.SPACE?String.fromCharCode(e.keyCode):e.keyCode),
t||(t=229),"keypress"==e.type){if("string"!=typeof t)return;if((t>="a"&&"z">=t||t>="A"&&"Z">=t||t>="0"&&"9">=t||" "===t)&&(e.ctrlKey||e.metaKey||e.altKey))return;
}if("input"==e.type){if(this.__skipInputEvent)return void(this.__skipInputEvent=!1);
}else this.__skipInputEvent=!0;var a,s={faux:!0};for(a in e)if("layerX"!=a&&"layerY"!=a){
var l=e[a];"function"!=typeof l&&"undefined"!=typeof l&&(s[a]=l)}o.mixin(s,{charOrCode:t,
_wasConsumed:!1,preventDefault:function(){s._wasConsumed=!0,e.preventDefault()},stopPropagation:function(){
e.stopPropagation()}}),this.onInput(s)===!1&&(s.preventDefault(),s.stopPropagation()),
s._wasConsumed||(this.defer(function(){this._onInput(s)}),"keypress"==e.type&&e.stopPropagation());
};this.own(a(this.textbox,"keydown, keypress, paste, cut, input, compositionend",o.hitch(this,e)));
},_blankValue:"",filter:function(e){return null===e?this._blankValue:"string"!=typeof e?e:(this.trim&&(e=o.trim(e)),
this.uppercase&&(e=e.toUpperCase()),this.lowercase&&(e=e.toLowerCase()),this.propercase&&(e=e.replace(/[^\s]+/g,function(e){
return e.substring(0,1).toUpperCase()+e.substring(1)})),e)},_setBlurValue:function(){
this._setValueAttr(this.get("value"),!0)},_onBlur:function(e){this.disabled||(this._setBlurValue(),
this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd;
},_onFocus:function(e){this.disabled||this.readOnly||(this.selectOnClick&&"mouse"==e&&(this._selectOnClickHandle=a.once(this.domNode,"mouseup, touchend",o.hitch(this,function(e){
this._isTextSelected()||l.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),
this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),
this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState());
},reset:function(){this.textbox.value="",this.inherited(arguments)}});return i("dojo-bidi")&&(l=t("dijit.form._TextBoxMixin",l,{
_setValueAttr:function(){this.inherited(arguments),this.applyTextDir(this.focusNode);
},_setDisplayedValueAttr:function(){this.inherited(arguments),this.applyTextDir(this.focusNode);
},_onInput:function(){this.applyTextDir(this.focusNode),this.inherited(arguments);
}})),l._setSelectionRange=s._setSelectionRange=function(e,t,n){e.setSelectionRange&&e.setSelectionRange(t,n);
},l.selectInputText=s.selectInputText=function(e,t,i){e=n.byId(e),isNaN(t)&&(t=0),
isNaN(i)&&(i=e.value?e.value.length:0);try{e.focus(),l._setSelectionRange(e,t,i)}catch(r){}
},l}),define("dojo/text!dijit/form/templates/TextBox.html",[],function(){return'<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}" role="presentation"\n	><div class="dijitReset dijitInputField dijitInputContainer"\n		><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n			${!nameAttrSetting} type=\'${type}\'\n	/></div\n></div>\n';
}),define("dijit/form/TextBox",["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(e,t,n,i,r,o,a,s,l,u,c){
var h=e("dijit.form.TextBox"+(a("dojo-bidi")?"_NoBidi":""),[s,l],{templateString:u,
_singleNodeTemplate:'<input class="dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point="textbox,focusNode" autocomplete="off" type="${type}" ${!nameAttrSetting} />',
_buttonInputDisabled:a("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){
var e=this.type.toLowerCase();(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==e||"file"==e)&&this.templateString==this.constructor.prototype.templateString)&&(this.templateString=this._singleNodeTemplate),
this.inherited(arguments)},postCreate:function(){this.inherited(arguments),a("ie")<9&&this.defer(function(){
try{var e=n.getComputedStyle(this.domNode);if(e){var t=e.fontFamily;if(t){var i=this.domNode.getElementsByTagName("INPUT");
if(i)for(var r=0;r<i.length;r++)i[r].style.fontFamily=t}}}catch(o){}})},_setPlaceHolderAttr:function(e){
this._set("placeHolder",e),this._phspan||(this._attachPoints.push("_phspan"),this._phspan=t.create("span",{
onmousedown:function(e){e.preventDefault()},className:"dijitPlaceHolder dijitInputField"
},this.textbox,"after"),this.own(o(this._phspan,"touchend, pointerup, MSPointerUp",r.hitch(this,function(){
this.focus()})))),this._phspan.innerHTML="",this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(e)),
this._updatePlaceHolder()},_onInput:function(e){this.inherited(arguments),this._updatePlaceHolder();
},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none");
},_setValueAttr:function(e,t,n){this.inherited(arguments),this._updatePlaceHolder();
},getDisplayedValue:function(){return i.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0"),
this.get("displayedValue")},setDisplayedValue:function(e){i.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0"),
this.set("displayedValue",e)},_onBlur:function(e){this.disabled||(this.inherited(arguments),
this._updatePlaceHolder(),a("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0));
},_onFocus:function(e){this.disabled||this.readOnly||(this.inherited(arguments),this._updatePlaceHolder());
}});return a("ie")<9&&(h.prototype._isTextSelected=function(){var e=this.ownerDocument.selection.createRange(),t=e.parentElement();
return t==this.textbox&&e.text.length>0},c._setSelectionRange=l._setSelectionRange=function(e,t,n){
if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",-99999),
i.moveStart("character",t),i.moveEnd("character",n-t),i.select()}}),a("dojo-bidi")&&(h=e("dijit.form.TextBox",h,{
_setPlaceHolderAttr:function(e){this.inherited(arguments),this.applyTextDir(this._phspan);
}})),h}),define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(e,t,n,i,r,o,a){
function s(i,a,s,l){var u=o.getEffectiveBox(i.ownerDocument);i.parentNode&&"body"==String(i.parentNode.tagName).toLowerCase()||r.body(i.ownerDocument).appendChild(i);
var c=null;e.some(a,function(e){var n=e.corner,r=e.pos,o=0,a={w:{L:u.l+u.w-r.x,R:r.x-u.l,
M:u.w}[n.charAt(1)],h:{T:u.t+u.h-r.y,B:r.y-u.t,M:u.h}[n.charAt(0)]},h=i.style;if(h.left=h.right="auto",
s){var d=s(i,e.aroundCorner,n,a,l);o="undefined"==typeof d?0:d}var f=i.style,p=f.display,m=f.visibility;
"none"==f.display&&(f.visibility="hidden",f.display="");var g=t.position(i);f.display=p,
f.visibility=m;var v={L:r.x,R:r.x-g.w,M:Math.max(u.l,Math.min(u.l+u.w,r.x+(g.w>>1))-g.w)
}[n.charAt(1)],y={T:r.y,B:r.y-g.h,M:Math.max(u.t,Math.min(u.t+u.h,r.y+(g.h>>1))-g.h)
}[n.charAt(0)],b=Math.max(u.l,v),_=Math.max(u.t,y),x=Math.min(u.l+u.w,v+g.w),w=Math.min(u.t+u.h,y+g.h),C=x-b,S=w-_;
return o+=g.w-C+(g.h-S),(null==c||o<c.overflow)&&(c={corner:n,aroundCorner:e.aroundCorner,
x:b,y:_,w:C,h:S,overflow:o,spaceAvailable:a}),!o}),c.overflow&&s&&s(i,c.aroundCorner,c.corner,c.spaceAvailable,l);
var h=t.isBodyLtr(i.ownerDocument),d=c.y,f=h?c.x:u.w-c.x-c.w;/relative|absolute/.test(n.get(r.body(i.ownerDocument),"position"))&&(d-=n.get(r.body(i.ownerDocument),"marginTop"),
f-=(h?1:-1)*n.get(r.body(i.ownerDocument),h?"marginLeft":"marginRight"));var p=i.style;
return p.top=d+"px",p[h?"left":"right"]=f+"px",p[h?"right":"left"]="auto",c}var l={
TL:"BR",TR:"BL",BL:"TR",BR:"TL"},u={at:function(t,n,i,r,o){var a=e.map(i,function(e){
var t={corner:e,aroundCorner:l[e],pos:{x:n.x,y:n.y}};return r&&(t.pos.x+="L"==e.charAt(1)?r.x:-r.x,
t.pos.y+="T"==e.charAt(0)?r.y:-r.y),t});return s(t,a,o)},around:function(r,o,a,l,u){
function c(e,t){D.push({aroundCorner:e,corner:t,pos:{x:{L:w,R:w+S,M:w+(S>>1)}[e.charAt(1)],
y:{T:C,B:C+k,M:C+(k>>1)}[e.charAt(0)]}})}var h;if("string"==typeof o||"offsetWidth"in o){
if(h=t.position(o,!0),/^(above|below)/.test(a[0])){var d=t.getBorderExtents(o),f=o.firstChild?t.getBorderExtents(o.firstChild):{
t:0,l:0,b:0,r:0},p=t.getBorderExtents(r),m=r.firstChild?t.getBorderExtents(r.firstChild):{
t:0,l:0,b:0,r:0};h.y+=Math.min(d.t+f.t,p.t+m.t),h.h-=Math.min(d.t+f.t,p.t+m.t)+Math.min(d.b+f.b,p.b+m.b);
}}else h=o;if(o.parentNode)for(var g="absolute"==n.getComputedStyle(o).position,v=o.parentNode;v&&1==v.nodeType&&"BODY"!=v.nodeName;){
var y=t.position(v,!0),b=n.getComputedStyle(v);if(/relative|absolute/.test(b.position)&&(g=!1),
!g&&/hidden|auto|scroll/.test(b.overflow)){var _=Math.min(h.y+h.h,y.y+y.h),x=Math.min(h.x+h.w,y.x+y.w);
h.x=Math.max(h.x,y.x),h.y=Math.max(h.y,y.y),h.h=_-h.y,h.w=x-h.x}"absolute"==b.position&&(g=!0),
v=v.parentNode}var w=h.x,C=h.y,S="w"in h?h.w:h.w=h.width,k="h"in h?h.h:(i.deprecated("place.around: dijit/place.__Rectangle: { x:"+w+", y:"+C+", height:"+h.height+", width:"+S+" } has been deprecated.  Please use { x:"+w+", y:"+C+", h:"+h.height+", w:"+S+" }","","2.0"),
h.h=h.height),D=[];e.forEach(a,function(e){var t=l;switch(e){case"above-centered":
c("TM","BM");break;case"below-centered":c("BM","TM");break;case"after-centered":t=!t;
case"before-centered":c(t?"ML":"MR",t?"MR":"ML");break;case"after":t=!t;case"before":
c(t?"TL":"TR",t?"TR":"TL"),c(t?"BL":"BR",t?"BR":"BL");break;case"below-alt":t=!t;case"below":
c(t?"BL":"BR",t?"TL":"TR"),c(t?"BR":"BL",t?"TR":"TL");break;case"above-alt":t=!t;case"above":
c(t?"TL":"TR",t?"BL":"BR"),c(t?"TR":"TL",t?"BR":"BL");break;default:c(e.aroundCorner,e.corner);
}});var M=s(r,D,u,{w:S,h:k});return M.aroundNodePos=h,M}};return a.place=u}),define("dijit/BackgroundIframe",["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(e,t,n,i,r,o,a,s){
s.add("config-bgIframe",!s("touch"));var l=new function(){var t=[];this.pop=function(){
var o;if(t.length)o=t.pop(),o.style.display="";else{if(s("ie")<9){var a=n.dojoBlankHtmlUrl||e.toUrl("dojo/resources/blank.html")||'javascript:""',l="<iframe src='"+a+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>";
o=document.createElement(l)}else o=i.create("iframe"),o.src='javascript:""',o.className="dijitBackgroundIframe",
o.setAttribute("role","presentation"),r.set(o,"opacity",.1);o.tabIndex=-1}return o;
},this.push=function(e){e.style.display="none",t.push(e)}};return t.BackgroundIframe=function(e){
if(!e.id)throw new Error("no id");if(s("config-bgIframe")){var t=this.iframe=l.pop();
e.appendChild(t),s("ie")<7||s("quirks")?(this.resize(e),this._conn=a(e,"resize",o.hitch(this,"resize",e))):r.set(t,{
width:"100%",height:"100%"})}},o.extend(t.BackgroundIframe,{resize:function(e){this.iframe&&r.set(this.iframe,{
width:e.offsetWidth+"px",height:e.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),
this._conn=null),this.iframe&&(l.push(this.iframe),delete this.iframe)}}),t.BackgroundIframe;
}),define("dojo/text!dijit/templates/Tooltip.html",[],function(){return'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\n	><div class="dijitTooltipConnector pentaho-tooltip-contents" data-dojo-attach-point="connectorNode"></div\n	><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\n></div>\n';
}),define("dijit/Tooltip",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m,g,v){
var y=t("dijit._MasterTooltip",[f,p],{duration:h.defaultDuration,templateString:g,
postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode),this.bgIframe=new m(this.domNode),
this.fadeIn=n.fadeIn({node:this.domNode,duration:this.duration,onEnd:s.hitch(this,"_onShow")
}),this.fadeOut=n.fadeOut({node:this.domNode,duration:this.duration,onEnd:s.hitch(this,"_onHide")
})},show:function(e,t,n,i,r){if(!this.aroundNode||this.aroundNode!==t||this.containerNode.innerHTML!=e){
if("playing"==this.fadeOut.status())return void(this._onDeck=arguments);this.containerNode.innerHTML=e,
r&&this.set("textDir",r),this.containerNode.align=i?"right":"left";var o=d.around(this.domNode,t,n&&n.length?n:b.defaultPosition,!i,s.hitch(this,"orient")),l=o.aroundNodePos;
"M"==o.corner.charAt(0)&&"M"==o.aroundCorner.charAt(0)?(this.connectorNode.style.top=l.y+(l.h-this.connectorNode.offsetHeight>>1)-o.y+"px",
this.connectorNode.style.left=""):"M"==o.corner.charAt(1)&&"M"==o.aroundCorner.charAt(1)?this.connectorNode.style.left=l.x+(l.w-this.connectorNode.offsetWidth>>1)-o.x+"px":(this.connectorNode.style.left="",
this.connectorNode.style.top=""),a.set(this.domNode,"opacity",0),this.fadeIn.play(),
this.isShowingNow=!0,this.aroundNode=t}},orient:function(e,t,n,i,r){this.connectorNode.style.top="";
var a=i.h,s=i.w;e.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft",
"TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft",
"TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight",
"TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"
}[t+"-"+n],this.domNode.style.width="auto";var l=o.position(this.domNode);9==c("ie")&&(l.w+=2);
var u=Math.min(Math.max(s,1),l.w);if(o.setMarginBox(this.domNode,{w:u}),"B"==n.charAt(0)&&"B"==t.charAt(0)){
var h=o.position(e),d=this.connectorNode.offsetHeight;if(h.h>a){var f=a-(r.h+d>>1);
this.connectorNode.style.top=f+"px",this.connectorNode.style.bottom=""}else this.connectorNode.style.bottom=Math.min(Math.max(r.h/2-d/2,0),h.h-d)+"px",
this.connectorNode.style.top=""}else this.connectorNode.style.top="",this.connectorNode.style.bottom="";
return Math.max(0,l.w-s)},_onShow:function(){c("ie")&&(this.domNode.style.filter="");
},hide:function(e){this._onDeck&&this._onDeck[1]==e?this._onDeck=null:this.aroundNode===e&&(this.fadeIn.stop(),
this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play())},_onHide:function(){
this.domNode.style.cssText="",this.containerNode.innerHTML="",this._onDeck&&(this.show.apply(this,this._onDeck),
this._onDeck=null)}});c("dojo-bidi")&&y.extend({_setAutoTextDir:function(t){this.applyTextDir(t),
e.forEach(t.children,function(e){this._setAutoTextDir(e)},this)},_setTextDirAttr:function(e){
this._set("textDir",e),"auto"==e?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir;
}}),v.showTooltip=function(t,n,i,r,o){return i&&(i=e.map(i,function(e){return{after:"after-centered",
before:"before-centered"}[e]||e})),b._masterTT||(v._masterTT=b._masterTT=new y),b._masterTT.show(t,n,i,r,o);
},v.hideTooltip=function(e){return b._masterTT&&b._masterTT.hide(e)};var b=t("dijit.Tooltip",f,{
label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(t){
e.forEach(this._connections||[],function(t){e.forEach(t,function(e){e.remove()})},this),
this._connectIds=e.filter(s.isArrayLike(t)?t:t?[t]:[],function(e){return i.byId(e,this.ownerDocument);
},this),this._connections=e.map(this._connectIds,function(e){var t=i.byId(e,this.ownerDocument),n=this.selector,r=n?function(e){
return u.selector(n,e)}:function(e){return e},o=this;return[u(t,r(l.enter),function(){
o._onHover(this)}),u(t,r("focusin"),function(){o._onHover(this)}),u(t,r(l.leave),s.hitch(o,"_onUnHover")),u(t,r("focusout"),s.hitch(o,"_onUnHover"))];
},this),this._set("connectId",t)},addTarget:function(t){var n=t.id||t;-1==e.indexOf(this._connectIds,n)&&this.set("connectId",this._connectIds.concat(n));
},removeTarget:function(t){var n=t.id||t,i=e.indexOf(this._connectIds,n);i>=0&&(this._connectIds.splice(i,1),
this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments),
r.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);
var t=this.connectId;e.forEach(s.isArrayLike(t)?t:[t],this.addTarget,this)},getContent:function(e){
return this.label||this.domNode.innerHTML},_onHover:function(e){this._showTimer||(this._showTimer=this.defer(function(){
this.open(e)},this.showDelay))},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),
delete this._showTimer),this.close()},open:function(e){this._showTimer&&(this._showTimer.remove(),
delete this._showTimer);var t=this.getContent(e);t&&(b.show(t,e,this.position,!this.isLeftToRight(),this.textDir),
this._connectNode=e,this.onShow(e,this.position))},close:function(){this._connectNode&&(b.hide(this._connectNode),
delete this._connectNode,this.onHide()),this._showTimer&&(this._showTimer.remove(),
delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){
this.close(),e.forEach(this._connections||[],function(t){e.forEach(t,function(e){
e.remove()})},this),this.inherited(arguments)}});return b._MasterTooltip=y,b.show=v.showTooltip,
b.hide=v.hideTooltip,b.defaultPosition=["after-centered","before-centered"],b}),define("dojo/text!dijit/form/templates/ValidationTextBox.html",[],function(){
return'<div class="dijit dijitReset dijitInline dijitLeft"\n	id="widget_${id}" role="presentation"\n	><div class=\'dijitReset dijitValidationContainer\'\n		><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n	/></div\n	><div class="dijitReset dijitInputField dijitInputContainer"\n		><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n			${!nameAttrSetting} type=\'${type}\'\n	/></div\n></div>\n';
}),define("dijit/form/ValidationTextBox",["dojo/_base/declare","dojo/_base/kernel","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(e,t,n,i,r,o){
var a;return a=e("dijit.form.ValidationTextBox",i,{templateString:o,required:!1,promptMessage:"",
invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",
regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(e,n){
n!=a.prototype[e]&&(t.deprecated("ValidationTextBox id="+this.id+", set('"+e+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),
this.set("pattern",n))},_setRegExpGenAttr:function(e){this._deprecateRegExp("regExpGen",e),
this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(e){this._deprecateRegExp("regExp",e);
},_setValueAttr:function(){this.inherited(arguments),this._refreshState()},validator:function(e,t){
return!(!new RegExp("^(?:"+this._computeRegexp(t)+")"+(this.required?"":"?")+"$").test(e)||this.required&&this._isEmpty(e)||!this._isEmpty(e)&&void 0===this.parse(e,t));
},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},
isValid:function(){return this.validator(this.textbox.value,this.get("constraints"));
},_isEmpty:function(e){return(this.trim?/^\s*$/:/^$/).test(e)},getErrorMessage:function(){
var e="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:this.invalidMessage?this.invalidMessage:this.promptMessage,t="$_unset_$"==this.missingMessage?this.messages.missingMessage:this.missingMessage?this.missingMessage:e;
return this.required&&this._isEmpty(this.textbox.value)?t:e},getPromptMessage:function(){
return this.promptMessage},_maskValidSubsetError:!0,validate:function(e){var t="",n=this.disabled||this.isValid(e);
n&&(this._maskValidSubsetError=!0);var i=this._isEmpty(this.textbox.value),r=!n&&e&&this._isValidSubset();
return this._set("state",n?"":((!this._hasBeenBlurred||e)&&i||r)&&(this._maskValidSubsetError||r&&!this._hasBeenBlurred&&e)?"Incomplete":"Error"),
this.focusNode.setAttribute("aria-invalid",n?"false":"true"),"Error"==this.state?(this._maskValidSubsetError=e&&r,
t=this.getErrorMessage(e)):"Incomplete"==this.state?(t=this.getPromptMessage(e),this._maskValidSubsetError=!this._hasBeenBlurred||e):i&&(t=this.getPromptMessage(e)),
this.set("message",t),n},displayMessage:function(e){e&&this.focused?r.show(e,this.domNode,this.tooltipPosition,!this.isLeftToRight()):r.hide(this.domNode);
},_refreshState:function(){this._created&&this.validate(this.focused),this.inherited(arguments);
},constructor:function(e){this.constraints={},this.baseClass+=" dijitValidationTextBox";
},startup:function(){this.inherited(arguments),this._refreshState()},_setConstraintsAttr:function(e){
!e.locale&&this.lang&&(e.locale=this.lang),this._set("constraints",e),this._refreshState();
},_setPatternAttr:function(e){this._set("pattern",e),this._refreshState()},_computeRegexp:function(e){
var t=this.pattern;if("function"==typeof t&&(t=t.call(this,e)),t!=this._lastRegExp){
var n="";this._lastRegExp=t,".*"!=t&&t.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(e){
switch(e.charAt(0)){case"{":case"+":case"?":case"*":case"^":case"$":case"|":case"(":
n+=e;break;case")":n+="|$)";break;default:n+="(?:"+e+"|$)"}});try{"".search(n)}catch(i){
n=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern);
}this._partialre="^(?:"+n+")$"}return t},postMixInProperties:function(){this.inherited(arguments),
this.messages=n.getLocalization("dijit.form","validate",this.lang),this._setConstraintsAttr(this.constraints);
},_setDisabledAttr:function(e){this.inherited(arguments),this._refreshState()},_setRequiredAttr:function(e){
this._set("required",e),this.focusNode.setAttribute("aria-required",e),this._refreshState();
},_setMessageAttr:function(e){this._set("message",e),this.displayMessage(e)},reset:function(){
this._maskValidSubsetError=!0,this.inherited(arguments)},_onBlur:function(){this.displayMessage(""),
this.inherited(arguments)}})}),define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../when"],function(e,t,n){
var i=function(r){function o(t){r[t]||(r[t]=function(){var o=arguments;return n(r,function(n){
return Array.prototype.unshift.call(o,n),i(e[t].apply(e,o))})})}return r?(r.then&&(r=t.delegate(r)),
o("forEach"),o("filter"),o("map"),r.total||(r.total=n(r,function(e){return e.length;
})),r):r};return t.setObject("dojo.store.util.QueryResults",i),i}),define("dojo/store/util/SimpleQueryEngine",["../../_base/array"],function(e){
return function(t,n){function i(i){var r=e.filter(i,t),o=n&&n.sort;if(o&&r.sort("function"==typeof o?o:function(e,t){
for(var n,i=0;n=o[i];i++){var r=e[n.attribute],a=t[n.attribute];if(r=null!=r?r.valueOf():r,
a=null!=a?a.valueOf():a,r!=a)return!!n.descending==(null==r||r>a)?-1:1}return 0}),
n&&(n.start||n.count)){var a=r.length;r=r.slice(n.start||0,(n.start||0)+(n.count||1/0)),
r.total=a}return r}switch(typeof t){default:throw new Error("Can not query with a "+typeof t);
case"object":case"undefined":var r=t;t=function(e){for(var t in r){var n=r[t];if(n&&n.test){
if(!n.test(e[t],e))return!1}else if(n!=e[t])return!1}return!0};break;case"string":
if(!this[t])throw new Error("No filter function "+t+" was found in store");t=this[t];
case"function":}return i.matches=t,i}}),define("dojo/store/Memory",["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(e,t,n){
var i=null;return e("dojo.store.Memory",i,{constructor:function(e){for(var t in e)this[t]=e[t];
this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:n,get:function(e){
return this.data[this.index[e]]},getIdentity:function(e){return e[this.idProperty];
},put:function(e,t){var n=this.data,i=this.idProperty,r=e[i]=t&&"id"in t?t.id:i in e?e[i]:Math.random(),o=!1;
if(r in this.index&&(o=!0),t){if(t.overwrite===!1&&o)throw new Error("Object already exists");
if(t.parent){var a=this.getIdentity(t.parent);if(!(a in this.index))throw new Error("Object specified in options.parent does not exists");
e.parent=a,o&&this.remove(r)}if(t.before){var s=this.getIdentity(t.before);return s in this.index&&o&&this.remove(r),
n.splice(this.index[s],0,e),this.setData(n),r}throw new Error("Object specified in options.before does not exists");
}return o?n[this.index[r]]=e:this.index[r]=n.push(e)-1,r},add:function(e,t){return(t=t||{}).overwrite=!1,
this.put(e,t)},remove:function(e){var t=this.index,n=this.data;return e in t?(n.splice(t[e],1),
this.setData(n),!0):void 0},query:function(e,n){return t(this.queryEngine(e,n)(this.data));
},setData:function(e){e.items?(this.idProperty=e.identifier,e=this.data=e.items):this.data=e,
this.index={};for(var t=0,n=e.length;n>t;t++)this.index[e[t][this.idProperty]]=t}
})}),define("dijit/form/DataList",["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(e,t,n,i,r,o){
function a(e){return{id:e.value,value:e.value,name:n.trim(e.innerText||e.textContent||"")
}}return e("dijit.form.DataList",r,{constructor:function(e,r){this.domNode=t.byId(r),
n.mixin(this,e),this.id&&o.add(this),this.domNode.style.display="none",this.inherited(arguments,[{
data:i("option",this.domNode).map(a)}])},destroy:function(){o.remove(this.id)},fetchSelectedItem:function(){
var e=i("> option[selected]",this.domNode)[0]||i("> option",this.domNode)[0];return e&&a(e);
}})}),define("dijit/form/_SearchMixin",["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/query","dojo/string","dojo/when","../registry"],function(e,t,n,i,r,o,a){
return e("dijit.form._SearchMixin",null,{pageSize:1/0,store:null,fetchProperties:{},
query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_patternToRegExp:function(e){
return new RegExp("^"+e.replace(/(\\.)|(\*)|(\?)|\W/g,function(e,t,n,i){return n?".*":i?".":t?t:"\\"+e;
})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove()),
this._queryDeferHandle&&(this._queryDeferHandle=this._queryDeferHandle.remove()),
this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),
this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,this._fetchHandle.cancel(),
this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(e){if(!this.disabled&&!this.readOnly){
var n=e.charOrCode;if(!("type"in e&&"key"==e.type.substring(0,3)&&(e.altKey||(e.ctrlKey||e.metaKey)&&"x"!=n&&"v"!=n||n==t.SHIFT))){
var i=!1;switch(this._prev_key_backspace=!1,n){case t.DELETE:case t.BACKSPACE:this._prev_key_backspace=!0,
this._maskValidSubsetError=!0,i=!0;break;default:i="string"==typeof n||229==n}i&&(this.store?this.searchTimer=this.defer("_startSearchFromInput",1):this.onSearch());
}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value);
},_startSearch:function(e){this._abortQuery();var t,i=this,a=n.clone(this.query),s={
start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},l=r.substitute(this.queryExpr,[e.replace(/([\\\*\?])/g,"\\$1")]),u=function(){
var e=i._fetchHandle=i.store.query(a,s);i.disabled||i.readOnly||t!==i._lastQuery||o(e,function(n){
i._fetchHandle=null,i.disabled||i.readOnly||t!==i._lastQuery||o(e.total,function(e){
n.total=e;var t=i.pageSize;(isNaN(t)||t>n.total)&&(t=n.total),n.nextPage=function(e){
s.direction=e=e!==!1,s.count=t,e?(s.start+=n.length,s.start>=n.total&&(s.count=0)):(s.start-=t,
s.start<0&&(s.count=Math.max(t+s.start,0),s.start=0)),s.count<=0?(n.length=0,i.onSearch(n,a,s)):u();
},i.onSearch(n,a,s)})},function(e){i._fetchHandle=null,i._cancelingQuery||console.error(i.declaredClass+" "+e.toString());
})};n.mixin(s,this.fetchProperties),this.store._oldAPI?t=l:(t=this._patternToRegExp(l),
t.toString=function(){return l}),this._lastQuery=a[this.searchAttr]=t,this._queryDeferHandle=this.defer(u,this.searchDelay);
},constructor:function(){this.query={},this.fetchProperties={}},postMixInProperties:function(){
if(!this.store){var e=this.list;e&&(this.store=a.byId(e))}this.inherited(arguments);
}})}),define("dijit/form/_AutoCompleterMixin",["dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","./DataList","./_TextBoxMixin","./_SearchMixin"],function(e,t,n,i,r,o,a,s,l,u,c){
var h=t("dijit.form._AutoCompleterMixin",c,{item:null,autoComplete:!0,highlightMatch:"first",
labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(e){
var t=0;if("number"==typeof e.selectionStart)t=e.selectionStart;else if(s("ie")){
var n=e.ownerDocument.selection.createRange().duplicate(),i=e.createTextRange();n.move("character",0),
i.move("character",0);try{i.setEndPoint("EndToEnd",n),t=String(i.text).replace(/\r/g,"").length;
}catch(r){}}return t},_setCaretPos:function(e,t){t=parseInt(t),u.selectInputText(e,t,t);
},_setDisabledAttr:function(e){this.inherited(arguments),this.domNode.setAttribute("aria-disabled",e?"true":"false");
},_onKey:function(e){if(!(e.charCode>=32)){var t=e.charCode||e.keyCode;if(t!=i.ALT&&t!=i.CTRL&&t!=i.META&&t!=i.SHIFT){
var n=this.dropDown,r=null;if(this._abortQuery(),this.inherited(arguments),!(e.altKey||e.ctrlKey||e.metaKey))switch(this._opened&&(r=n.getHighlightedOption()),
t){case i.PAGE_DOWN:case i.DOWN_ARROW:case i.PAGE_UP:case i.UP_ARROW:this._opened&&this._announceOption(r),
e.stopPropagation(),e.preventDefault();break;case i.ENTER:if(r){if(r==n.nextButton){
this._nextSearch(1),e.stopPropagation(),e.preventDefault();break}if(r==n.previousButton){
this._nextSearch(-1),e.stopPropagation(),e.preventDefault();break}e.stopPropagation(),
e.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);
case i.TAB:var o=this.get("displayedValue");if(n&&(o==n._messages.previousMessage||o==n._messages.nextMessage))break;
r&&this._selectOption(r);case i.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown());
}}}},_autoCompleteText:function(e){var t=this.focusNode;u.selectInputText(t,t.value.length);
var n=this.ignoreCase?"toLowerCase":"substr";if(0==e[n](0).indexOf(this.focusNode.value[n](0))){
var i=this.autoComplete?this._getCaretPos(t):t.value.length;i+1>t.value.length&&(t.value=e,
u.selectInputText(t,i))}else t.value=e,u.selectInputText(t)},_openResultList:function(e,t,n){
var i=this.dropDown.getHighlightedOption();return this.dropDown.clearResultList(),
e.length||0!=n.start?(this._nextSearch=this.dropDown.onPage=r.hitch(this,function(t){
e.nextPage(-1!==t),this.focus()}),this.dropDown.createOptions(e,n,r.hitch(this,"_getMenuLabelFromItem")),
this._showResultList(),void("direction"in n?(n.direction?this.dropDown.highlightFirstOption():n.direction||this.dropDown.highlightLastOption(),
i&&this._announceOption(this.dropDown.getHighlightedOption())):!this.autoComplete||this._prev_key_backspace||/^[*]+$/.test(t[this.searchAttr].toString())||this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))):void this.closeDropDown();
},_showResultList:function(){this.closeDropDown(!0),this.openDropDown(),this.domNode.setAttribute("aria-expanded","true");
},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){
this._abortQuery(),this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"));
},_setBlurValue:function(){var e=this.get("displayedValue"),t=this.dropDown;!t||e!=t._messages.previousMessage&&e!=t._messages.nextMessage?"undefined"==typeof this.item?(this.item=null,
this.set("displayedValue",e)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),
this._refreshState()):this._setValueAttr(this._lastValueReported,!0),this.focusNode.removeAttribute("aria-activedescendant");
},_setItemAttr:function(e,t,n){var i="";e&&(n||(n=this.store._oldAPI?this.store.getValue(e,this.searchAttr):e[this.searchAttr]),
i=this._getValueField()!=this.searchAttr?this.store.getIdentity(e):n),this.set("value",i,t,n,e);
},_announceOption:function(e){if(e){var t;if(e==this.dropDown.nextButton||e==this.dropDown.previousButton)t=e.innerHTML,
this.item=void 0,this.value="";else{var i=this.dropDown.items[e.getAttribute("item")];
t=(this.store._oldAPI?this.store.getValue(i,this.searchAttr):i[this.searchAttr]).toString(),
this.set("item",i,!1,t)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length),
this.focusNode.setAttribute("aria-activedescendant",n.get(e,"id")),this._autoCompleteText(t);
}},_selectOption:function(e){this.closeDropDown(),e&&this._announceOption(e),this._setCaretPos(this.focusNode,this.focusNode.value.length),
this._handleOnChange(this.value,!0),this.focusNode.removeAttribute("aria-activedescendant");
},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){
this.item=void 0,this.inherited(arguments)},_startSearch:function(e){if(!this.dropDown){
var t=this.id+"_popup",n=r.isString(this.dropDownClass)?r.getObject(this.dropDownClass,!1):this.dropDownClass;
this.dropDown=new n({onChange:r.hitch(this,this._selectOption),id:t,dir:this.dir,
textDir:this.textDir})}this._lastInput=e,this.inherited(arguments)},_getValueField:function(){
return this.searchAttr},postMixInProperties:function(){if(this.inherited(arguments),
!this.store){var e=this.srcNodeRef;if(this.store=new l({},e),!("value"in this.params)){
var t=this.item=this.store.fetchSelectedItem();if(t){var n=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(t,n):t[n];
}}}},postCreate:function(){var t=o('label[for="'+this.id+'"]');t.length&&(t[0].id||(t[0].id=this.id+"_label"),
this.domNode.setAttribute("aria-labelledby",t[0].id)),this.inherited(arguments),e.after(this,"onSearch",r.hitch(this,"_openResultList"),!0);
},_getMenuLabelFromItem:function(e){var t=this.labelFunc(e,this.store),n=this.labelType;
return"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(t=this.doHighlight(t,this._lastInput),
n="html"),{html:"html"==n,label:t}},doHighlight:function(e,t){var n=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),i=this.queryExpr.indexOf("${0}");
return t=a.escapeString(t),this._escapeHtml(e.replace(new RegExp((0==i?"^":"")+"("+t+")"+(i==this.queryExpr.length-4?"$":""),n),"$1")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'<span class="dijitComboBoxHighlightMatch">$1</span>');
},_escapeHtml:function(e){return e=String(e).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");
},reset:function(){this.item=null,this.inherited(arguments)},labelFunc:function(e,t){
return(t._oldAPI?t.getValue(e,this.labelAttr||this.searchAttr):e[this.labelAttr||this.searchAttr]).toString();
},_setValueAttr:function(e,t,n,i){this._set("item",i||null),null==e&&(e=""),this.inherited(arguments);
}});return s("dojo-bidi")&&h.extend({_setTextDirAttr:function(e){this.inherited(arguments),
this.dropDown&&this.dropDown._set("textDir",e)}}),h}),define("dijit/form/_ComboBoxMenuMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(e,t,n,i,r){
var o=t("dijit.form._ComboBoxMenuMixin"+(i("dojo-bidi")?"_NoBidi":""),null,{_messages:null,
postMixInProperties:function(){this.inherited(arguments),this._messages=r.getLocalization("dijit.form","ComboBox",this.lang);
},buildRendering:function(){this.inherited(arguments),this.previousButton.innerHTML=this._messages.previousMessage,
this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(e){this._set("value",e),
this.onChange(e)},onClick:function(e){e==this.previousButton?(this._setSelectedAttr(null),
this.onPage(-1)):e==this.nextButton?(this._setSelectedAttr(null),this.onPage(1)):this.onChange(e);
},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null);
},_createOption:function(e,t){var n=this._createMenuItem(),i=t(e);return i.html?n.innerHTML=i.label:n.appendChild(n.ownerDocument.createTextNode(i.label)),
""==n.innerHTML&&(n.innerHTML="&#160;"),n},createOptions:function(t,i,r){this.items=t,
this.previousButton.style.display=0==i.start?"none":"",n.set(this.previousButton,"id",this.id+"_prev"),
e.forEach(t,function(e,t){var i=this._createOption(e,r);i.setAttribute("item",t),
n.set(i,"id",this.id+t),this.nextButton.parentNode.insertBefore(i,this.nextButton);
},this);var o=!1;t.total&&!t.total.then&&-1!=t.total?i.start+i.count<t.total?o=!0:i.start+i.count>t.total&&i.count==t.length&&(o=!0):i.count==t.length&&(o=!0),
this.nextButton.style.display=o?"":"none",n.set(this.nextButton,"id",this.id+"_next");
},clearResultList:function(){for(var e=this.containerNode;e.childNodes.length>2;)e.removeChild(e.childNodes[e.childNodes.length-2]);
this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode();
},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){
this.inherited(arguments),this.getHighlightedOption()==this.previousButton&&this.selectNextNode();
},selectLastNode:function(){this.inherited(arguments),this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode();
},getHighlightedOption:function(){return this.selected}});return i("dojo-bidi")&&(o=t("dijit.form._ComboBoxMenuMixin",o,{
_createOption:function(){var e=this.inherited(arguments);return this.applyTextDir(e),
e}})),o}),define("dijit/form/_ListBase",["dojo/_base/declare","dojo/on","dojo/window"],function(e,t,n){
return e("dijit.form._ListBase",null,{selected:null,_listConnect:function(e,n){var i=this;
return i.own(t(i.containerNode,t.selector(function(e,t,n){return e.parentNode==n},e),function(e){
/^touch/.test(e.type)||e.preventDefault(),i[n](e,this)}))},selectFirstNode:function(){
for(var e=this.containerNode.firstChild;e&&"none"==e.style.display;)e=e.nextSibling;
this._setSelectedAttr(e)},selectLastNode:function(){for(var e=this.containerNode.lastChild;e&&"none"==e.style.display;)e=e.previousSibling;
this._setSelectedAttr(e)},selectNextNode:function(){var e=this.selected;if(e){for(var t=e.nextSibling;t&&"none"==t.style.display;)t=t.nextSibling;
t?this._setSelectedAttr(t):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){
var e=this.selected;if(e){for(var t=e.previousSibling;t&&"none"==t.style.display;)t=t.previousSibling;
t?this._setSelectedAttr(t):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(e){
if(this.selected!=e){var t=this.selected;t&&this.onDeselect(t),e&&(n.scrollIntoView(e),
this.onSelect(e)),this._set("selected",e)}else e&&this.onSelect(e)}})}),define("dijit/form/_ListMouseMixin",["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(e,t,n,i){
return e("dijit.form._ListMouseMixin",i,{postCreate:function(){this.inherited(arguments),
this.domNode.dojoClick=!0,this.own(t(this.domNode,"mousedown",function(e){e.preventDefault();
})),this._listConnect("click","_onClick"),this._listConnect("mousedown","_onMouseDown"),
this._listConnect("mouseup","_onMouseUp"),this._listConnect("mouseover","_onMouseOver"),
this._listConnect("mouseout","_onMouseOut")},_onClick:function(e,t){this._setSelectedAttr(t),
this._deferredClick&&this._deferredClick.remove(),this._deferredClick=this.defer(function(){
this._deferredClick=null,this.onClick(t)})},_onMouseDown:function(e,t){this._hoveredNode&&(this.onUnhover(this._hoveredNode),
this._hoveredNode=null),this._isDragging=!0,this._setSelectedAttr(t)},_onMouseUp:function(e,t){
this._isDragging=!1;var n=this.selected,i=this._hoveredNode;n&&t==n?this.defer(function(){
this._onClick(e,n)}):i&&this.defer(function(){this._onClick(e,i)})},_onMouseOut:function(e,t){
this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null),this._isDragging&&(this._cancelDrag=(new Date).getTime()+1e3);
},_onMouseOver:function(e,t){if(this._cancelDrag){var n=(new Date).getTime();n>this._cancelDrag&&(this._isDragging=!1),
this._cancelDrag=null}this._hoveredNode=t,this.onHover(t),this._isDragging&&this._setSelectedAttr(t);
}})}),define("dijit/form/_ComboBoxMenu",["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(e,t,n,i,r,o,a,s){
return e("dijit.form._ComboBoxMenu",[r,o,s,a],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'><div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div><div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div></div>",
baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments),this.isLeftToRight()||(t.add(this.previousButton,"dijitMenuItemRtl"),
t.add(this.nextButton,"dijitMenuItemRtl")),this.containerNode.setAttribute("role","listbox");
},_createMenuItem:function(){var e=this.ownerDocument.createElement("div");return e.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl"),
e.setAttribute("role","option"),e},onHover:function(e){t.add(e,"dijitMenuItemHover");
},onUnhover:function(e){t.remove(e,"dijitMenuItemHover")},onSelect:function(e){t.add(e,"dijitMenuItemSelected");
},onDeselect:function(e){t.remove(e,"dijitMenuItemSelected")},_page:function(e){var t=0,i=this.domNode.scrollTop,r=n.get(this.domNode,"height");
for(this.getHighlightedOption()||this.selectNextNode();r>t;){var o=this.getHighlightedOption();
if(e){if(!o.previousSibling||"none"==o.previousSibling.style.display)break;this.selectPreviousNode();
}else{if(!o.nextSibling||"none"==o.nextSibling.style.display)break;this.selectNextNode();
}var a=this.domNode.scrollTop;t+=(a-i)*(e?-1:1),i=a}},handleKey:function(e){switch(e.keyCode){
case i.DOWN_ARROW:return this.selectNextNode(),!1;case i.PAGE_DOWN:return this._page(!1),
!1;case i.UP_ARROW:return this.selectPreviousNode(),!1;case i.PAGE_UP:return this._page(!0),
!1;default:return!0}}})}),define("dijit/popup",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m){
function g(){this._popupWrapper&&(o.destroy(this._popupWrapper),delete this._popupWrapper);
}var v=n(null,{_stack:[],_beginZIndex:1e3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){
var e=this._firstAroundPosition,t=a.position(this._firstAroundNode,!0),n=t.x-e.x,i=t.y-e.y;
if(n||i){this._firstAroundPosition=t;for(var r=0;r<this._stack.length;r++){var o=this._stack[r].wrapper.style;
o.top=parseInt(o.top,10)+i+"px","auto"==o.right?o.left=parseInt(o.left,10)+n+"px":o.right=parseInt(o.right,10)-n+"px";
}}this._aroundMoveListener=setTimeout(c.hitch(this,"_repositionAll"),n||i?10:50)}
},_createWrapper:function(e){var n=e._popupWrapper,i=e.domNode;if(!n){n=o.create("div",{
"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":e["aria-label"]||e.label||e.name||e.id
},e.ownerDocumentBody),n.appendChild(i);var r=i.style;r.display="",r.visibility="",
r.position="",r.top="0px",e._popupWrapper=n,t.after(e,"destroy",g,!0)}return n},moveOffScreen:function(e){
var t=this._createWrapper(e),n=a.isBodyLtr(e.ownerDocument),i={visibility:"hidden",
top:"-9999px",display:""};return i[n?"left":"right"]="-9999px",i[n?"right":"left"]="auto",
s.set(t,i),t},hide:function(e){var t=this._createWrapper(e);s.set(t,{display:"none",
height:"auto",overflow:"visible",border:""});var n=e.domNode;"_originalStyle"in n&&(n.style.cssText=n._originalStyle);
},getTopPopup:function(){for(var e=this._stack,t=e.length-1;t>0&&e[t].parent===e[t-1].widget;t--);
return e[t]},open:function(e){for(var t=this._stack,n=e.popup,o=n.domNode,m=e.orient||["below","below-alt","above","above-alt"],g=e.parent?e.parent.isLeftToRight():a.isBodyLtr(n.ownerDocument),v=e.around,y=e.around&&e.around.id?e.around.id+"_dropdown":"popup_"+this._idGen++;t.length&&(!e.parent||!i.isDescendant(e.parent.domNode,t[t.length-1].widget.domNode));)this.close(t[t.length-1].widget);
var b=this.moveOffScreen(n);n.startup&&!n._started&&n.startup();var _,x=a.position(o);
if("maxHeight"in e&&-1!=e.maxHeight)_=e.maxHeight||1/0;else{var w=p.getEffectiveBox(this.ownerDocument),C=v?a.position(v,!1):{
y:e.y-(e.padding||0),h:2*(e.padding||0)};_=Math.floor(Math.max(C.y,w.h-(C.y+C.h)));
}if(x.h>_){var S=s.getComputedStyle(o),k=S.borderLeftWidth+" "+S.borderLeftStyle+" "+S.borderLeftColor;
s.set(b,{overflowY:"scroll",height:_+"px",border:k}),o._originalStyle=o.style.cssText,
o.style.border="none"}r.set(b,{id:y,style:{zIndex:this._beginZIndex+t.length},"class":"dijitPopup "+(n.baseClass||n["class"]||"").split(" ")[0]+"Popup",
dijitPopupParent:e.parent?e.parent.id:""}),0==t.length&&v&&(this._firstAroundNode=v,
this._firstAroundPosition=a.position(v,!0),this._aroundMoveListener=setTimeout(c.hitch(this,"_repositionAll"),50)),
l("config-bgIframe")&&!n.bgIframe&&(n.bgIframe=new f(b));var D=n.orient?c.hitch(n,"orient"):null,M=v?d.around(b,v,m,g,D):d.at(b,e,"R"==m?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],e.padding,D);
b.style.visibility="visible",o.style.visibility="visible";var N=[];return N.push(h(b,"keydown",c.hitch(this,function(t){
if(t.keyCode==u.ESCAPE&&e.onCancel)t.stopPropagation(),t.preventDefault(),e.onCancel();else if(t.keyCode==u.TAB){
t.stopPropagation(),t.preventDefault();var n=this.getTopPopup();n&&n.onCancel&&n.onCancel();
}}))),n.onCancel&&e.onCancel&&N.push(n.on("cancel",e.onCancel)),N.push(n.on(n.onExecute?"execute":"change",c.hitch(this,function(){
var e=this.getTopPopup();e&&e.onExecute&&e.onExecute()}))),t.push({widget:n,wrapper:b,
parent:e.parent,onExecute:e.onExecute,onCancel:e.onCancel,onClose:e.onClose,handlers:N
}),n.onOpen&&n.onOpen(M),M},close:function(t){for(var n=this._stack;t&&e.some(n,function(e){
return e.widget==t})||!t&&n.length;){var i=n.pop(),r=i.widget,o=i.onClose;r.onClose&&r.onClose();
for(var a;a=i.handlers.pop();)a.remove();r&&r.domNode&&this.hide(r),o&&o()}0==n.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),
this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});
return m.popup=new v}),define("dijit/_HasDropDown",["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m){
return e("dijit._HasDropDown",m,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,
_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],
_stopClickEvents:!0,_onDropDownMouseDown:function(e){this.disabled||this.readOnly||("MSPointerDown"!=e.type&&"pointerdown"!=e.type&&e.preventDefault(),
this._docHandler=this.own(c(this.ownerDocument,h.release,u.hitch(this,"_onDropDownMouseUp")))[0],
this.toggleDropDown())},_onDropDownMouseUp:function(e){e&&this._docHandler&&(this._docHandler.remove(),
this._docHandler=null);var t=this.dropDown,n=!1;if(e&&this._opened){var i=o.position(this._buttonNode,!0);
if(!(e.pageX>=i.x&&e.pageX<=i.x+i.w&&e.pageY>=i.y&&e.pageY<=i.y+i.h)){for(var a=e.target;a&&!n;)r.contains(a,"dijitPopup")?n=!0:a=a.parentNode;
if(n){if(a=e.target,t.onItemClick){for(var s;a&&!(s=d.byNode(a));)a=a.parentNode;s&&s.onClick&&s.getParent&&s.getParent().onItemClick(s,e);
}return}}}this._opened?t.focus&&(t.autoFocus!==!1||"mouseup"==e.type&&!this.hovering)&&(this._focusDropDownTimer=this.defer(function(){
t.focus(),delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},_onDropDownClick:function(e){
this._stopClickEvents&&(e.stopPropagation(),e.preventDefault())},buildRendering:function(){
this.inherited(arguments),this._buttonNode=this._buttonNode||this.focusNode||this.domNode,
this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var e={
after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",
above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";
r.add(this._arrowWrapperNode||this._buttonNode,"dijit"+e+"ArrowButton")},postCreate:function(){
this.inherited(arguments);var e=this.focusNode||this.domNode;this.own(c(this._buttonNode,h.press,u.hitch(this,"_onDropDownMouseDown")),c(this._buttonNode,"click",u.hitch(this,"_onDropDownClick")),c(e,"keydown",u.hitch(this,"_onKey")),c(e,"keyup",u.hitch(this,"_onKeyUp")));
},destroy:function(){this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),
delete this.dropDown),this.inherited(arguments)},_onKey:function(e){if(!this.disabled&&!this.readOnly){
var t=this.dropDown,n=e.target;return t&&this._opened&&t.handleKey&&t.handleKey(e)===!1?(e.stopPropagation(),
void e.preventDefault()):void(t&&this._opened&&e.keyCode==l.ESCAPE?(this.closeDropDown(),
e.stopPropagation(),e.preventDefault()):!this._opened&&(e.keyCode==l.DOWN_ARROW||(e.keyCode==l.ENTER||e.keyCode==l.SPACE&&(!this._searchTimer||e.ctrlKey||e.altKey||e.metaKey))&&("input"!==(n.tagName||"").toLowerCase()||n.type&&"text"!==n.type.toLowerCase()))&&(this._toggleOnKeyUp=!0,
e.stopPropagation(),e.preventDefault()))}},_onKeyUp:function(){if(this._toggleOnKeyUp){
delete this._toggleOnKeyUp,this.toggleDropDown();var e=this.dropDown;e&&e.focus&&this.defer(u.hitch(e,"focus"),1);
}},_onBlur:function(){this.closeDropDown(!1),this.inherited(arguments)},isLoaded:function(){
return!0},loadDropDown:function(e){e()},loadAndOpenDropDown:function(){var e=new t,n=u.hitch(this,function(){
this.openDropDown(),e.resolve(this.dropDown)});return this.isLoaded()?n():this.loadDropDown(n),
e},toggleDropDown:function(){this.disabled||this.readOnly||(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown());
},openDropDown:function(){var e=this.dropDown,t=e.domNode,n=this._aroundNode||this.domNode,a=this,s=p.open({
parent:this,popup:e,around:n,orient:this.dropDownPosition,maxHeight:this.maxHeight,
onExecute:function(){a.closeDropDown(!0)},onCancel:function(){a.closeDropDown(!0);
},onClose:function(){"undefined"!=typeof a._popupStateNode&&null!=a._popupStateNode&&(i.set(a._popupStateNode,"popupActive",!1),
r.remove(a._popupStateNode,"dijitHasDropDownOpen")),a._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&n.offsetWidth>e._popupWrapper.offsetWidth){
var l={w:n.offsetWidth-(e._popupWrapper.offsetWidth-e.domNode.offsetWidth)};u.isFunction(e.resize)?e.resize(l):o.setMarginBox(t,l);
}return"undefined"!=typeof a._popupStateNode&&null!=a._popupStateNode&&(i.set(this._popupStateNode,"popupActive","true"),
r.add(this._popupStateNode,"dijitHasDropDownOpen")),this._set("_opened",!0),"undefined"!=typeof a._popupStateNode&&null!=a._popupStateNode&&(this._popupStateNode.setAttribute("aria-expanded","true"),
this._popupStateNode.setAttribute("aria-owns",e.id)),"presentation"===t.getAttribute("role")||t.getAttribute("aria-labelledby")||t.setAttribute("aria-labelledby",this.id),
s},closeDropDown:function(e){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),
delete this._focusDropDownTimer),this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),
e&&this.focus(),p.close(this.dropDown),this._opened=!1,$("#queryOptions").removeClass("checked"));
}})}),define("dojo/text!dijit/form/templates/DropDownBox.html",[],function(){return'<div class="dijit dijitReset dijitInline dijitLeft"\n	id="widget_${id}"\n	role="combobox"\n	aria-haspopup="true"\n	data-dojo-attach-point="_popupStateNode"\n	><div class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n		data-dojo-attach-point="_buttonNode" role="presentation"\n		><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="button presentation" aria-hidden="true"\n			${_buttonInputDisabled}\n	/></div\n	><div class=\'dijitReset dijitValidationContainer\'\n		><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n	/></div\n	><div class="dijitReset dijitInputField dijitInputContainer"\n		><input class=\'dijitReset dijitInputInner\' ${!nameAttrSetting} type="text" autocomplete="off"\n			data-dojo-attach-point="textbox,focusNode" role="textbox"\n	/></div\n></div>\n';
}),define("dijit/form/ComboBoxMixin",["dojo/_base/declare","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(e,t,n,i,r,o,a,s,l){
return e("dijit.form.ComboBoxMixin",[s,o],{dropDownClass:a,hasDownArrow:!0,templateString:l,
baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"
},_setHasDownArrowAttr:function(e){this._set("hasDownArrow",e),this._buttonNode.style.display=e?"":"none";
},_showResultList:function(){this.displayMessage(""),this.inherited(arguments)},_setStoreAttr:function(e){
e.get||i.mixin(e,{_oldAPI:!0,get:function(e){var n=new t;return this.fetchItemByIdentity({
identity:e,onItem:function(e){n.resolve(e)},onError:function(e){n.reject(e)}}),n.promise;
},query:function(e,n){var o=new t(function(){a.abort&&a.abort()});o.total=new t;var a=this.fetch(i.mixin({
query:e,onBegin:function(e){o.total.resolve(e)},onComplete:function(e){o.resolve(e);
},onError:function(e){o.reject(e)}},n));return r(o)}}),this._set("store",e)},postMixInProperties:function(){
var e=this.params.store||this.store;if(e&&this._setStoreAttr(e),this.inherited(arguments),
!this.params.store&&!this.store._oldAPI){var t=this.declaredClass;i.mixin(this.store,{
getValue:function(e,i){return n.deprecated(t+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0"),
e[i]},getLabel:function(e){return n.deprecated(t+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0"),
e.name},fetch:function(e){n.deprecated(t+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");
var r=["dojo/data/ObjectStore"];require(r,i.hitch(this,function(t){new t({objectStore:this
}).fetch(e)}))}})}}})}),define("dijit/form/ComboBox",["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(e,t,n){
return e("dijit.form.ComboBox",[t,n],{})}),define("dijit/form/_FormSelectWidget",["dojo/_base/array","dojo/_base/Deferred","dojo/aspect","dojo/data/util/sorter","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/when","dojo/store/util/QueryResults","./_FormValueWidget"],function(e,t,n,i,r,o,a,s,l,u,c,h,d){
var f=r("dijit.form._FormSelectWidget",d,{multiple:!1,options:null,store:null,query:null,
queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,
onLoadDeferred:null,getOptions:function(t){var n=this.options||[];return null==t?n:l.isArray(t)?e.map(t,"return this.getOptions(item);",this):(l.isString(t)&&(t={
value:t}),l.isObject(t)&&(e.some(n,function(e,n){for(var i in t)if(!(i in e)||e[i]!=t[i])return!1;
return t=n,!0})||(t=-1)),t>=0&&t<n.length?n[t]:null)},addOption:function(t){e.forEach(l.isArray(t)?t:[t],function(e){
e&&l.isObject(e)&&this.options.push(e)},this),this._loadChildren()},removeOption:function(t){
var n=this.getOptions(l.isArray(t)?t:[t]);e.forEach(n,function(t){t&&(this.options=e.filter(this.options,function(e){
return e.value!==t.value||e.label!==t.label}),this._removeOptionItem(t))},this),this._loadChildren();
},updateOption:function(t){e.forEach(l.isArray(t)?t:[t],function(e){var t,n=this.getOptions({
value:e.value});if(n)for(t in e)n[t]=e[t]},this),this._loadChildren()},setStore:function(r,o,a){
var s=this.store;if(a=a||{},s!==r){for(var u;u=this._notifyConnections.pop();)u.remove();
r.get||(l.mixin(r,{_oldAPI:!0,get:function(e){var n=new t;return this.fetchItemByIdentity({
identity:e,onItem:function(e){n.resolve(e)},onError:function(e){n.reject(e)}}),n.promise;
},query:function(e,n){var i=new t(function(){r.abort&&r.abort()});i.total=new t;var r=this.fetch(l.mixin({
query:e,onBegin:function(e){i.total.resolve(e)},onComplete:function(e){i.resolve(e);
},onError:function(e){i.reject(e)}},n));return new h(i)}}),r.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[n.after(r,"onNew",l.hitch(this,"_onNewItem"),!0),n.after(r,"onDelete",l.hitch(this,"_onDeleteItem"),!0),n.after(r,"onSet",l.hitch(this,"_onSetItem"),!0)])),
this._set("store",r)}return this.options&&this.options.length&&this.removeOption(this.options),
this._queryRes&&this._queryRes.close&&this._queryRes.close(),this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),
this._observeHandle=null),a.query&&(this._set("query",a.query),this._set("queryOptions",a.queryOptions)),
r&&(this._loadingStore=!0,this.onLoadDeferred=new t,this._queryRes=r.query(this.query,this.queryOptions),
c(this._queryRes,l.hitch(this,function(t){if(this.sortByLabel&&!a.sort&&t.length)if(r.getValue)t.sort(i.createSortFunction([{
attribute:r.getLabelAttributes(t[0])[0]}],r));else{var n=this.labelAttr;t.sort(function(e,t){
return e[n]>t[n]?1:t[n]>e[n]?-1:0})}a.onFetch&&(t=a.onFetch.call(this,t,a)),e.forEach(t,function(e){
this._addOptionForItem(e)},this),this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(l.hitch(this,function(e,t,n){
t==n?this._onSetItem(e):(-1!=t&&this._onDeleteItem(e),-1!=n&&this._onNewItem(e))}),!0)),
this._loadingStore=!1,this.set("value","_pendingValue"in this?this._pendingValue:o),
delete this._pendingValue,this.loadChildrenOnOpen?this._pseudoLoadChildren(t):this._loadChildren(),
this.onLoadDeferred.resolve(!0),this.onSetStore()}),function(e){console.error("dijit.form.Select: "+e.toString()),
this.onLoadDeferred.reject(e)})),s},_setValueAttr:function(t,n){if(this._onChangeActive||(n=null),
this._loadingStore)return void(this._pendingValue=t);if(null!=t){t=l.isArray(t)?e.map(t,function(e){
return l.isObject(e)?e:{value:e}}):l.isObject(t)?[t]:[{value:t}],t=e.filter(this.getOptions(t),function(e){
return e&&e.value});var i=this.getOptions()||[];this.multiple||t[0]&&t[0].value||!i.length||(t[0]=i[0]),
e.forEach(i,function(n){n.selected=e.some(t,function(e){return e.value===n.value});
});var r=e.map(t,function(e){return e.value});if("undefined"!=typeof r&&"undefined"!=typeof r[0]){
var o=e.map(t,function(e){return e.label});this._setDisplay(this.multiple?o:o[0]),
this.inherited(arguments,[this.multiple?r:r[0],n]),this._updateSelection()}}},_getDisplayedValueAttr:function(){
var t=e.map([].concat(this.get("selectedOptions")),function(e){return e&&"label"in e?e.label:e?e.value:null;
},this);return this.multiple?t:t[0]},_setDisplayedValueAttr:function(e){this.set("value",this.getOptions("string"==typeof e?{
label:e}:e))},_loadChildren:function(){this._loadingStore||(e.forEach(this._getChildren(),function(e){
e.destroyRecursive()}),e.forEach(this.options,this._addOptionItem,this),this._updateSelection());
},_updateSelection:function(){this.focusedChild=null,this._set("value",this._getValueFromOpts());
var t=[].concat(this.value);if(t&&t[0]){var n=this;e.forEach(this._getChildren(),function(i){
var r=e.some(t,function(e){return i.option&&e===i.option.value});r&&!n.multiple&&(n.focusedChild=i),
a.toggle(i.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),r),i.domNode.setAttribute("aria-selected",r?"true":"false");
},this)}},_getValueFromOpts:function(){var t=this.getOptions()||[];if(!this.multiple&&t.length){
var n=e.filter(t,function(e){return e.selected})[0];return n&&n.value?n.value:(t[0].selected=!0,
t[0].value)}return this.multiple?e.map(e.filter(t,function(e){return e.selected}),function(e){
return e.value})||[]:""},_onNewItem:function(e,t){t&&t.parent||this._addOptionForItem(e);
},_onDeleteItem:function(e){var t=this.store;this.removeOption({value:t.getIdentity(e)
})},_onSetItem:function(e){this.updateOption(this._getOptionObjForItem(e))},_getOptionObjForItem:function(e){
var t=this.store,n=this.labelAttr&&this.labelAttr in e?e[this.labelAttr]:t.getLabel(e),i=n?t.getIdentity(e):null;
return{value:i,label:n,item:e}},_addOptionForItem:function(e){var t=this.store;if(t.isItemLoaded&&!t.isItemLoaded(e))return void t.loadItem({
item:e,onItem:function(e){this._addOptionForItem(e)},scope:this});var n=this._getOptionObjForItem(e);
this.addOption(n)},constructor:function(e){this._oValue=(e||{}).value||null,this._notifyConnections=[];
},buildRendering:function(){this.inherited(arguments),o.setSelectable(this.focusNode,!1);
},_fillContent:function(){this.options||(this.options=this.srcNodeRef?u("> *",this.srcNodeRef).map(function(e){
return"separator"===e.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1
}:{value:e.getAttribute("data-"+s._scopeName+"-value")||e.getAttribute("value"),label:String(e.innerHTML),
selected:e.getAttribute("selected")||!1,disabled:e.getAttribute("disabled")||!1}},this):[]),
this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts());
},postCreate:function(){this.inherited(arguments),n.after(this,"onChange",l.hitch(this,"_updateSelection"));
var e=this.store;e&&(e.getIdentity||e.getFeatures()["dojo.data.api.Identity"])&&(this.store=null,
this.setStore(e,this._oValue))},startup:function(){this._loadChildren(),this.inherited(arguments);
},destroy:function(){for(var e;e=this._notifyConnections.pop();)e.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close(),
this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null),
this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},
_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){
return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}
});return f}),define("dojo/text!dijit/templates/Menu.html",[],function(){return'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}"\n	   cellspacing="0">\n	<tbody class="dijitReset" data-dojo-attach-point="containerNode"></tbody>\n</table>\n';
}),define("dijit/_KeyNavMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(e,t,n,i,r,o,a,s){
return t("dijit._KeyNavMixin",s,{tabIndex:"0",childSelector:null,postCreate:function(){
if(this.inherited(arguments),n.set(this.domNode,"tabIndex",this.tabIndex),!this._keyNavCodes){
var e=this._keyNavCodes={};e[i.HOME]=r.hitch(this,"focusFirstChild"),e[i.END]=r.hitch(this,"focusLastChild"),
e[this.isLeftToRight()?i.LEFT_ARROW:i.RIGHT_ARROW]=r.hitch(this,"_onLeftArrow"),e[this.isLeftToRight()?i.RIGHT_ARROW:i.LEFT_ARROW]=r.hitch(this,"_onRightArrow"),
e[i.UP_ARROW]=r.hitch(this,"_onUpArrow"),e[i.DOWN_ARROW]=r.hitch(this,"_onDownArrow");
}var t=this,s="string"==typeof this.childSelector?this.childSelector:r.hitch(this,"childSelector");
this.own(o(this.domNode,"keypress",r.hitch(this,"_onContainerKeypress")),o(this.domNode,"keydown",r.hitch(this,"_onContainerKeydown")),o(this.domNode,"focus",r.hitch(this,"_onContainerFocus")),o(this.containerNode,o.selector(s,"focusin"),function(e){
t._onChildFocus(a.getEnclosingWidget(this),e)}))},_onLeftArrow:function(){},_onRightArrow:function(){},
_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild();
},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},
_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){
this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());
},focusChild:function(e,t){e&&(this.focusedChild&&e!==this.focusedChild&&this._onChildBlur(this.focusedChild),
e.set("tabIndex",this.tabIndex),e.focus(t?"end":"start"))},_onContainerFocus:function(e){
e.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){n.set(this.domNode,"tabIndex","-1"),
this.inherited(arguments)},_onBlur:function(e){n.set(this.domNode,"tabIndex",this.tabIndex),
this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),this.lastFocusedChild=this.focusedChild,
this._set("focusedChild",null)),this.inherited(arguments)},_onChildFocus:function(e){
e&&e!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),
e.set("tabIndex",this.tabIndex),this.lastFocused=e,this._set("focusedChild",e))},
_searchString:"",multiCharSearchDuration:1e3,onKeyboardSearch:function(e,t,n,i){e&&this.focusChild(e);
},_keyboardSearchCompare:function(e,t){var n=e.domNode,i=e.label||(n.focusNode?n.focusNode.label:"")||n.innerText||n.textContent||"",r=i.replace(/^\s+/,"").substr(0,t.length).toLowerCase();
return t.length&&r==t?-1:0},_onContainerKeydown:function(e){var t=this._keyNavCodes[e.keyCode];
t?(t(e,this.focusedChild),e.stopPropagation(),e.preventDefault(),this._searchString=""):e.keyCode==i.SPACE&&this._searchTimer&&!(e.ctrlKey||e.altKey||e.metaKey)&&(e.stopImmediatePropagation(),
e.preventDefault(),this._keyboardSearch(e," "))},_onContainerKeypress:function(e){
e.charCode<i.SPACE||e.ctrlKey||e.altKey||e.metaKey||e.charCode==i.SPACE&&this._searchTimer||(e.preventDefault(),
e.stopPropagation(),this._keyboardSearch(e,String.fromCharCode(e.charCode).toLowerCase()));
},_keyboardSearch:function(e,t){var n,i=null,o=0,a=r.hitch(this,function(){this._searchTimer&&this._searchTimer.remove(),
this._searchString+=t;var e=/^(.)\1*$/.test(this._searchString),r=e?1:this._searchString.length;
n=this._searchString.substr(0,r),this._searchTimer=this.defer(function(){this._searchTimer=null,
this._searchString=""},this.multiCharSearchDuration);var a=this.focusedChild||null;
if(1!=r&&a||(a=this._getNextFocusableChild(a,1))){var s=a;do{var l=this._keyboardSearchCompare(a,n);
if(l&&0==o++&&(i=a),-1==l){o=-1;break}a=this._getNextFocusableChild(a,1)}while(a!=s);
}});a(),this.onKeyboardSearch(i,e,n,o)},_onChildBlur:function(){},_getNextFocusableChild:function(e,t){
var n=e;do{if(e)e=this._getNext(e,t);else if(e=this[t>0?"_getFirst":"_getLast"](),
!e)break;if(null!=e&&e!=n&&e.isFocusable())return e}while(e!=n);return null},_getFirst:function(){
return null},_getLast:function(){return null},_getNext:function(e,t){if(e)for(e=e.domNode;e;)if(e=e[0>t?"previousSibling":"nextSibling"],
e&&"getAttribute"in e){var n=a.byNode(e);if(n)return n}return null}})}),define("dijit/_KeyNavContainer",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(e,t,n,i,r,o,a,s,l,u){
return t("dijit._KeyNavContainer",[l,u,s],{connectKeyNavHandlers:function(t,n){var i=this._keyNavCodes={},a=o.hitch(this,"focusPrev"),s=o.hitch(this,"focusNext");
e.forEach(t,function(e){i[e]=a}),e.forEach(n,function(e){i[e]=s}),i[r.HOME]=o.hitch(this,"focusFirstChild"),
i[r.END]=o.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){i.deprecated("startupKeyNavChildren() call no longer needed","","2.0");
},startup:function(){this.inherited(arguments),e.forEach(this.getChildren(),o.hitch(this,"_startupChild"));
},addChild:function(e,t){this.inherited(arguments),this._startupChild(e)},_startupChild:function(e){
e.set("tabIndex","-1")},_getFirst:function(){var e=this.getChildren();return e.length?e[0]:null;
},_getLast:function(){var e=this.getChildren();return e.length?e[e.length-1]:null;
},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));
},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0);
},childSelector:function(e){var e=a.byNode(e);return e&&e.getParent()==this}})}),
define("dijit/_MenuBase",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./registry","./_Widget","./_CssStateMixin","./_KeyNavContainer","./_TemplatedMixin"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p){
return t("dijit._MenuBase",[h,p,f,d],{selected:null,_setSelectedAttr:function(e){
this.selected!=e&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),
e&&e._setSelected(!0),this._set("selected",e))},activated:!1,_setActivatedAttr:function(e){
r.toggle(this.domNode,"dijitMenuActive",e),r.toggle(this.domNode,"dijitMenuPassive",!e),
this._set("activated",e)},parentMenu:null,popupDelay:500,passivePopupDelay:1/0,autoFocus:!1,
childSelector:function(e){var t=c.byNode(e);return e.parentNode==this.containerNode&&t&&t.focus;
},postCreate:function(){var e=this,t="string"==typeof this.childSelector?this.childSelector:o.hitch(this,"childSelector");
this.own(s(this.containerNode,s.selector(t,a.enter),function(){e.onItemHover(c.byNode(this));
}),s(this.containerNode,s.selector(t,a.leave),function(){e.onItemUnhover(c.byNode(this));
}),s(this.containerNode,s.selector(t,u),function(t){e.onItemClick(c.byNode(this),t),
t.stopPropagation(),t.preventDefault()})),this.inherited(arguments)},onKeyboardSearch:function(e,t,n,i){
this.inherited(arguments),e&&(-1==i||e.popup&&1==i)&&this.onItemClick(e,t)},_keyboardSearchCompare:function(e,t){
return e.shortcutKey?t==e.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0;
},onExecute:function(){},onCancel:function(){},_moveToPopup:function(e){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,e);else{
var t=this._getTopMenu();t&&t._isMenuBar&&t.focusNext()}},_onPopupHover:function(){
this.set("selected",this.currentPopupItem),this._stopPendingCloseTimer()},onItemHover:function(e){
this.activated?(this.set("selected",e),!e.popup||e.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){
this._openItemPopup(e)},this.popupDelay))):this.passivePopupDelay<1/0&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),
this.passive_hover_timer=this.defer(function(){this.onItemClick(e,{type:"click"});
},this.passivePopupDelay)),this._hoveredChild=e,e._set("hovering",!0)},_onChildDeselect:function(e){
this._stopPopupTimer(),this.currentPopupItem==e&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){
this._pendingClose_timer=null,this.currentPopupItem=null,e._closePopup()},this.popupDelay));
},onItemUnhover:function(e){this._hoveredChild==e&&(this._hoveredChild=null),this.passive_hover_timer&&(this.passive_hover_timer.remove(),
this.passive_hover_timer=null),e._set("hovering",!1)},_stopPopupTimer:function(){
this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){
this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove());
},_getTopMenu:function(){for(var e=this;e.parentMenu;e=e.parentMenu);return e},onItemClick:function(e,t){
if(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.focusChild(e),
e.disabled)return!1;if(e.popup){this.set("selected",e),this.set("activated",!0);var n=/^key/.test(t._origType||t.type)||0==t.clientX&&0==t.clientY;
this._openItemPopup(e,n)}else this.onExecute(),e._onClick?e._onClick(t):e.onClick(t);
},_openItemPopup:function(e,t){if(e!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),
this.currentPopupItem._closePopup()),this._stopPopupTimer();var n=e.popup;n.parentMenu=this,
this.own(this._mouseoverHandle=s.once(n.domNode,"mouseover",o.hitch(this,"_onPopupHover")));
var i=this;e._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){
t&&i.focusChild(e),i._cleanUp()},onExecute:o.hitch(this,"_cleanUp",!0),onClose:function(){
i._mouseoverHandle&&(i._mouseoverHandle.remove(),delete i._mouseoverHandle)}},t),
this.currentPopupItem=e}},onOpen:function(){this.isShowingNow=!0,this.set("activated",!0);
},onClose:function(){this.set("activated",!1),this.set("selected",null),this.isShowingNow=!1,
this.parentMenu=null},_closeChild:function(){this._stopPopupTimer(),this.currentPopupItem&&(this.focused&&(i.set(this.selected.focusNode,"tabIndex",this.tabIndex),
this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null);
},_onItemFocus:function(e){this._hoveredChild&&this._hoveredChild!=e&&this.onItemUnhover(this._hoveredChild),
this.set("selected",e)},_onBlur:function(){this._cleanUp(!0),this.inherited(arguments);
},_cleanUp:function(e){this._closeChild(),"undefined"==typeof this.isShowingNow&&this.set("activated",!1),
e&&this.set("selected",null)}})}),define("dijit/DropDownMenu",["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(e,t,n,i,r){
return e("dijit.DropDownMenu",[r,i],{templateString:n,baseClass:"dijitMenu",_onUpArrow:function(){
this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(e){
this._moveToPopup(e),e.stopPropagation(),e.preventDefault()},_onLeftArrow:function(e){
this.parentMenu?this.parentMenu._isMenuBar?this.parentMenu.focusPrev():this.onCancel(!1):(e.stopPropagation(),
e.preventDefault())}})}),define("dojo/text!dijit/templates/MenuItem.html",[],function(){
return'<tr class="dijitReset dijitMenuItem pentaho-menuitem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\n	<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n		<span role="presentation" class="dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"></span>\n	</td>\n	<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode,textDirNode"></td>\n	<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n	<td class="dijitReset dijitMenuArrowCell" role="presentation">\n		<span data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n			<span class="dijitInline dijitIcon dijitMenuExpand"></span>\n			<span class="dijitMenuExpandA11y">+</span>\n		</span>\n	</td>\n</tr>\n';
}),define("dijit/MenuItem",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(e,t,n,i,r,o,a,s,l,u,c,h){
var d=e("dijit.MenuItem"+(o("dojo-bidi")?"_NoBidi":""),[s,l,u,c],{templateString:h,
baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(e){this._set("label",e);
var t,n="",i=e.search(/{\S}/);if(i>=0){n=e.charAt(i+1);var r=e.substr(0,i),o=e.substr(i+3);
t=r+n+o,e=r+'<span class="dijitMenuItemShortcutKey">'+n+"</span>"+o}else t=e;this.domNode.setAttribute("aria-label",t+" "+this.accelKey),
this.containerNode.innerHTML=e,this._set("shortcutKey",n)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(e){
!e||"label"in this.params||this._set("label",e.innerHTML)},buildRendering:function(){
this.inherited(arguments);var e=this.id+"_text";n.set(this.containerNode,"id",e),
this.accelKeyNode&&n.set(this.accelKeyNode,"id",this.id+"_accel"),t.setSelectable(this.domNode,!1);
},onClick:function(){},focus:function(){try{8==o("ie")&&this.containerNode.focus(),
this.focusNode.focus()}catch(e){}},_onFocus:function(){this.getParent()._onItemFocus(this),
this.inherited(arguments)},_setSelected:function(e){i.toggle(this.domNode,"dijitMenuItemSelected",e);
},setLabel:function(e){r.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0"),
this.set("label",e)},setDisabled:function(e){r.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0"),
this.set("disabled",e)},_setDisabledAttr:function(e){this.focusNode.setAttribute("aria-disabled",e?"true":"false"),
this._set("disabled",e)},_setAccelKeyAttr:function(e){this.accelKeyNode&&(this.accelKeyNode.style.display=e?"":"none",
this.accelKeyNode.innerHTML=e,n.set(this.containerNode,"colSpan",e?"1":"2")),this._set("accelKey",e);
}});return o("dojo-bidi")&&(d=e("dijit.MenuItem",d,{_setLabelAttr:function(e){this.inherited(arguments),
"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}})),d}),define("dojo/text!dijit/templates/MenuSeparator.html",[],function(){
return'<tr class="dijitMenuSeparator" role="separator">\n	<td class="dijitMenuSeparatorIconCell">\n		<div class="dijitMenuSeparatorTop"></div>\n		<div class="dijitMenuSeparatorBottom"></div>\n	</td>\n	<td colspan="3" class="dijitMenuSeparatorLabelCell">\n		<div class="dijitMenuSeparatorTop dijitMenuSeparatorLabel"></div>\n		<div class="dijitMenuSeparatorBottom"></div>\n	</td>\n</tr>\n';
}),define("dijit/MenuSeparator",["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(e,t,n,i,r,o){
return e("dijit.MenuSeparator",[n,i,r],{templateString:o,buildRendering:function(){
this.inherited(arguments),t.setSelectable(this.domNode,!1)},isFocusable:function(){
return!1}})}),define("dojo/text!dijit/form/templates/Select.html",[],function(){return'<table class="dijit dijitReset dijitInline dijitLeft"\n	data-dojo-attach-point="_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing=\'0\' cellpadding=\'0\'\n	role="listbox" aria-haspopup="true"\n	><tbody role="presentation"><tr role="presentation"\n		><td class="dijitReset dijitStretch dijitButtonContents" role="presentation"\n			><div class="dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point="containerNode,textDirNode" role="presentation"></div\n			><div class="dijitReset dijitValidationContainer"\n				><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n			/></div\n			><input type="hidden" ${!nameAttrSetting} data-dojo-attach-point="valueNode" value="${value}" aria-hidden="true"\n		/></td\n		><td class="dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n			data-dojo-attach-point="titleNode" role="presentation"\n			><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n				${_buttonInputDisabled}\n		/></td\n	></tr></tbody\n></table>\n';
}),define("dijit/form/Select",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/i18n","dojo/_base/lang","dojo/on","dojo/sniff","./_FormSelectWidget","../_HasDropDown","../DropDownMenu","../MenuItem","../MenuSeparator","../Tooltip","../_KeyNavMixin","../registry","dojo/text!./templates/Select.html","dojo/i18n!./nls/validate"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m,g,v){
function y(e){return function(t){this._isLoaded?this.inherited(e,arguments):this.loadDropDown(a.hitch(this,e,t));
}}var b=t("dijit.form._SelectMenu",h,{autoFocus:!0,buildRendering:function(){this.inherited(arguments),
this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments),
this.own(s(this.domNode,"selectstart",function(e){e.preventDefault(),e.stopPropagation();
}))},focus:function(){var t=!1,n=this.parentWidget.value;a.isArray(n)&&(n=n[n.length-1]),
n&&e.forEach(this.parentWidget._getChildren(),function(e){e.option&&n===e.option.value&&(t=!0,
this.focusChild(e,!1))},this),t||this.inherited(arguments)}}),_=t("dijit.form.Select"+(l("dojo-bidi")?"_NoBidi":""),[u,c,m],{
baseClass:"dijitSelect dijitValidationTextBox",templateString:v,_buttonInputDisabled:l("ie")?"disabled":"",
required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:!1,
_childrenLoaded:!1,_fillContent:function(){if(this.inherited(arguments),this.options.length&&!this.value&&this.srcNodeRef){
var e=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[e>=0?e:0].value);
}this.dropDown=new b({id:this.id+"_menu",parentWidget:this}),i.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "));
},_getMenuItemForOption:function(e){if(e.value||e.label){var t=a.hitch(this,"_setValueAttr",e),n=new d({
option:e,label:e.label||this.emptyLabel,onClick:t,ownerDocument:this.ownerDocument,
dir:this.dir,textDir:this.textDir,disabled:e.disabled||!1});return n.focusNode.setAttribute("role","option"),
n}return new f({ownerDocument:this.ownerDocument})},_addOptionItem:function(e){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(e));
},_getChildren:function(){return this.dropDown?this.dropDown.getChildren():[]},focus:function(){
if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(e){}},focusChild:function(e){
e&&this.set("value",e.option)},_getFirst:function(){var e=this._getChildren();return e.length?e[0]:null;
},_getLast:function(){var e=this._getChildren();return e.length?e[e.length-1]:null;
},childSelector:function(e){var e=g.byNode(e);return e&&e.getParent()==this.dropDown;
},onKeyboardSearch:function(e,t,n,i){e&&this.focusChild(e)},_loadChildren:function(t){
if(t===!0)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),
this.options.length)this.inherited(arguments);else{e.forEach(this._getChildren(),function(e){
e.destroyRecursive()});var n=new d({ownerDocument:this.ownerDocument,label:this.emptyLabel
});this.dropDown.addChild(n)}else this._updateSelection();this._isLoaded=!1,this._childrenLoaded=!0,
this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused);
},startup:function(){this.inherited(arguments),this._refreshState()},_setValueAttr:function(e){
this.inherited(arguments),n.set(this.valueNode,"value",this.get("value")),this._refreshState();
},_setNameAttr:"valueNode",_setDisabledAttr:function(e){this.inherited(arguments),
this._refreshState()},_setRequiredAttr:function(e){this._set("required",e),this.focusNode.setAttribute("aria-required",e),
this._refreshState()},_setOptionsAttr:function(e){this._isLoaded=!1,this._set("options",e);
},_setDisplay:function(e){var t=e||this.emptyLabel;this.containerNode.innerHTML='<span role="option" class="dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'">'+t+"</span>";
},validate:function(e){var t=this.disabled||this.isValid(e);this._set("state",t?"":this._hasBeenBlurred?"Error":"Incomplete"),
this.focusNode.setAttribute("aria-invalid",t?"false":"true");var n=t?"":this._missingMsg;
return n&&this.focused&&this._hasBeenBlurred?p.show(n,this.domNode,this.tooltipPosition,!this.isLeftToRight()):p.hide(this.domNode),
this._set("message",n),t},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"");
},reset:function(){this.inherited(arguments),p.hide(this.domNode),this._refreshState();
},postMixInProperties:function(){this.inherited(arguments),this._missingMsg=o.getLocalization("dijit.form","validate",this.lang).missingMessage;
},postCreate:function(){this.inherited(arguments),this.own(s(this.domNode,"selectstart",function(e){
e.preventDefault(),e.stopPropagation()})),this.domNode.setAttribute("aria-expanded","false"),
l("ie")<9&&this.defer(function(){try{var e=domStyle.getComputedStyle(this.domNode);
if(e){var t=e.fontFamily;if(t){var n=this.domNode.getElementsByTagName("INPUT");if(n)for(var i=0;i<n.length;i++)n[i].style.fontFamily=t;
}}}catch(r){}})},_setStyleAttr:function(e){this.inherited(arguments),i.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width);
},isLoaded:function(){return this._isLoaded},loadDropDown:function(e){this._loadChildren(!0),
this._isLoaded=!0,e()},destroy:function(e){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(e),
delete this.dropDown),this.inherited(arguments)},_onFocus:function(){this.validate(!0);
},_onBlur:function(){p.hide(this.domNode),this.inherited(arguments),this.validate(!1);
}});return l("dojo-bidi")&&(_=t("dijit.form.Select",_,{_setDisplay:function(e){this.inherited(arguments),
this.applyTextDir(this.containerNode)}})),_._Menu=b,_.prototype._onContainerKeydown=y("_onContainerKeydown"),
_.prototype._onContainerKeypress=y("_onContainerKeypress"),_}),define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(e,t){
return e("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",
_onClick:function(e){var t=this.checked;this._set("checked",!t);var n=this.inherited(arguments);
return this.set("checked",n?this.checked:t),n},_setCheckedAttr:function(e,n){this._set("checked",e);
var i=this.focusNode||this.domNode;this._created&&t.get(i,"checked")!=!!e&&t.set(i,"checked",!!e),
i.setAttribute(this._aria_attr,String(e)),this._handleOnChange(e,n)},postCreate:function(){
this.inherited(arguments);var e=this.focusNode||this.domNode;this.checked&&e.setAttribute("checked","checked");
},reset:function(){this._hasBeenBlurred=!1,this.set("checked",this.params.checked||!1);
}})}),define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(e,t,n,i){
return e("dijit.form.ToggleButton",[n,i],{baseClass:"dijitToggleButton",setChecked:function(e){
t.deprecated("setChecked("+e+") is deprecated. Use set('checked',"+e+") instead.","","2.0"),
this.set("checked",e)}})}),define("dijit/form/_CheckBoxMixin",["dojo/_base/declare","dojo/dom-attr"],function(e,t){
return e("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,
_aria_attr:"aria-checked",_setReadOnlyAttr:function(e){this._set("readOnly",e),t.set(this.focusNode,"readOnly",e);
},_setLabelAttr:void 0,_getSubmitValue:function(e){return null==e||""===e?"on":e},
_setValueAttr:function(e){e=this._getSubmitValue(e),this._set("value",e),t.set(this.focusNode,"value",e);
},reset:function(){this.inherited(arguments),this._set("value",this._getSubmitValue(this.params.value)),
t.set(this.focusNode,"value",this.value)},_onClick:function(e){return this.readOnly?(e.stopPropagation(),
e.preventDefault(),!1):this.inherited(arguments)}})}),define("dojo/text!dijit/form/templates/CheckBox.html",[],function(){
return'<div class="dijit dijitReset dijitInline" role="presentation"\n	><input\n	 	${!nameAttrSetting} type="${type}" role="${type}" aria-checked="false" ${checkedAttrSetting}\n		class="dijitReset dijitCheckBoxInput"\n		data-dojo-attach-point="focusNode"\n	 	data-dojo-attach-event="ondijitclick:_onClick"\n/></div>\n';
}),define("dojo/NodeList-dom",["./_base/kernel","./query","./_base/array","./_base/lang","./dom-class","./dom-construct","./dom-geometry","./dom-attr","./dom-style"],function(e,t,n,i,r,o,a,s,l){
function u(e){return function(t,n,i){return 2==arguments.length?e["string"==typeof n?"get":"set"](t,n):e.set(t,n,i);
}}var c=function(e){return 1==e.length&&"string"==typeof e[0]},h=function(e){var t=e.parentNode;
t&&t.removeChild(e)},d=t.NodeList,f=d._adaptWithCondition,p=d._adaptAsForEach,m=d._adaptAsMap;
return i.extend(d,{_normalize:function(t,n){var r=t.parse===!0;if("string"==typeof t.template){
var a=t.templateFunc||e.string&&e.string.substitute;t=a?a(t.template,t):t}var s=typeof t;
return"string"==s||"number"==s?(t=o.toDom(t,n&&n.ownerDocument),t=11==t.nodeType?i._toArray(t.childNodes):[t]):i.isArrayLike(t)?i.isArray(t)||(t=i._toArray(t)):t=[t],
r&&(t._runParse=!0),t},_cloneNode:function(e){return e.cloneNode(!0)},_place:function(t,n,i,r){
if(1==n.nodeType||"only"!=i)for(var a,s=n,l=t.length,u=l-1;u>=0;u--){var c=r?this._cloneNode(t[u]):t[u];
if(t._runParse&&e.parser&&e.parser.parse)for(a||(a=s.ownerDocument.createElement("div")),
a.appendChild(c),e.parser.parse(a),c=a.firstChild;a.firstChild;)a.removeChild(a.firstChild);
u==l-1?o.place(c,s,i):s.parentNode.insertBefore(c,s),s=c}},position:m(a.position),
attr:f(u(s),c),style:f(u(l),c),addClass:p(r.add),removeClass:p(r.remove),toggleClass:p(r.toggle),
replaceClass:p(r.replace),empty:p(o.empty),removeAttr:p(s.remove),marginBox:m(a.getMarginBox),
place:function(e,n){var i=t(e)[0];return this.forEach(function(e){o.place(e,i,n)});
},orphan:function(e){return(e?t._filterResult(this,e):this).forEach(h)},adopt:function(e,n){
return t(e).place(this[0],n)._stash(this)},query:function(e){if(!e)return this;var n=new d;
return this.map(function(i){t(e,i).forEach(function(e){void 0!==e&&n.push(e)})}),
n._stash(this)},filter:function(e){var i=arguments,r=this,o=0;if("string"==typeof e){
if(r=t._filterResult(this,i[0]),1==i.length)return r._stash(this);o=1}return this._wrap(n.filter(r,i[o],i[o+1]),this);
},addContent:function(e,t){e=this._normalize(e,this[0]);for(var n,i=0;n=this[i];i++)e.length?this._place(e,n,t,i>0):o.empty(n);
return this}}),d}),define("dijit/form/CheckBox",["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom","../a11yclick"],function(e,t,n,i,r,o,a,s,l){
return i("dijit-legacy-requires")&&o(0,function(){var t=["dijit/form/RadioButton"];
e(t)}),t("dijit.form.CheckBox",[a,s],{templateString:l,baseClass:"dijitCheckBox",
_setValueAttr:function(e,t){"string"==typeof e&&(this.inherited(arguments),e=!0),
this._created&&this.set("checked",e,t)},_getValueAttr:function(){return this.checked&&this._get("value");
},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){
this.inherited(arguments),this.checkedAttrSetting=""},_fillContent:function(){},_onFocus:function(){
this.id&&r("label[for='"+this.id+"']").addClass("dijitFocusedLabel"),this.inherited(arguments);
},_onBlur:function(){this.id&&r("label[for='"+this.id+"']").removeClass("dijitFocusedLabel"),
this.inherited(arguments)}})}),define("dojo/fx",["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(e,t,n,i,r,o,a,s,l,u,c){
n.isAsync||u(0,function(){var e=["./fx/Toggler"];c(e)});var h=n.fx={},d={_fire:function(e,t){
return this[e]&&this[e].apply(this,t||[]),this}},f=function(e){this._index=-1,this._animations=e||[],
this._current=this._onAnimateCtx=this._onEndCtx=null,this.duration=0,i.forEach(this._animations,function(e){
this.duration+=e.duration,e.delay&&(this.duration+=e.delay)},this)};f.prototype=new t,
e.extend(f,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){
this._onAnimateCtx.remove(),this._onEndCtx.remove(),this._onAnimateCtx=this._onEndCtx=null,
this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],
this._onAnimateCtx=r.after(this._current,"onAnimate",e.hitch(this,"_onAnimate"),!0),
this._onEndCtx=r.after(this._current,"onEnd",e.hitch(this,"_onEnd"),!0),this._current.play(0,!0));
},play:function(t,n){if(this._current||(this._current=this._animations[this._index=0]),
!n&&"playing"==this._current.status())return this;var i=r.after(this._current,"beforeBegin",e.hitch(this,function(){
this._fire("beforeBegin")}),!0),o=r.after(this._current,"onBegin",e.hitch(this,function(e){
this._fire("onBegin",arguments)}),!0),a=r.after(this._current,"onPlay",e.hitch(this,function(e){
this._fire("onPlay",arguments),i.remove(),o.remove(),a.remove()}));return this._onAnimateCtx&&this._onAnimateCtx.remove(),
this._onAnimateCtx=r.after(this._current,"onAnimate",e.hitch(this,"_onAnimate"),!0),
this._onEndCtx&&this._onEndCtx.remove(),this._onEndCtx=r.after(this._current,"onEnd",e.hitch(this,"_onEnd"),!0),
this._current.play.apply(this._current,arguments),this},pause:function(){if(this._current){
var t=r.after(this._current,"onPause",e.hitch(this,function(e){this._fire("onPause",arguments),
t.remove()}),!0);this._current.pause()}return this},gotoPercent:function(e,t){this.pause();
var n=this.duration*e;return this._current=null,i.some(this._animations,function(e){
return e.duration<=n?(this._current=e,!0):(n-=e.duration,!1)}),this._current&&this._current.gotoPercent(n/this._current.duration,t),
this},stop:function(t){if(this._current){if(t){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);
this._current=this._animations[this._index]}var n=r.after(this._current,"onStop",e.hitch(this,function(e){
this._fire("onStop",arguments),n.remove()}),!0);this._current.stop()}return this},
status:function(){return this._current?this._current.status():"stopped"},destroy:function(){
this._onAnimateCtx&&this._onAnimateCtx.remove(),this._onEndCtx&&this._onEndCtx.remove();
}}),e.extend(f,d),h.chain=function(e){return new f(e)};var p=function(t){this._animations=t||[],
this._connects=[],this._finished=0,this.duration=0,i.forEach(t,function(t){var n=t.duration;
t.delay&&(n+=t.delay),this.duration<n&&(this.duration=n),this._connects.push(r.after(t,"onEnd",e.hitch(this,"_onEnd"),!0));
},this),this._pseudoAnimation=new o.Animation({curve:[0,1],duration:this.duration
});var n=this;i.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(e){
n._connects.push(r.after(n._pseudoAnimation,e,function(){n._fire(e,arguments)},!0));
})};return e.extend(p,{_doAction:function(e,t){return i.forEach(this._animations,function(n){
n[e].apply(n,t)}),this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd");
},_call:function(e,t){var n=this._pseudoAnimation;n[e].apply(n,t)},play:function(e,t){
return this._finished=0,this._doAction("play",arguments),this._call("play",arguments),
this},pause:function(){return this._doAction("pause",arguments),this._call("pause",arguments),
this},gotoPercent:function(e,t){var n=this.duration*e;return i.forEach(this._animations,function(e){
e.gotoPercent(e.duration<n?1:n/e.duration,t)}),this._call("gotoPercent",arguments),
this},stop:function(e){return this._doAction("stop",arguments),this._call("stop",arguments),
this},status:function(){return this._pseudoAnimation.status()},destroy:function(){
i.forEach(this._connects,function(e){e.remove()})}}),e.extend(p,d),h.combine=function(e){
return new p(e)},h.wipeIn=function(t){var n,i=t.node=a.byId(t.node),l=i.style,u=o.animateProperty(e.mixin({
properties:{height:{start:function(){if(n=l.overflow,l.overflow="hidden","hidden"==l.visibility||"none"==l.display)return l.height="1px",
l.display="",l.visibility="",1;var e=s.get(i,"height");return Math.max(e,1)},end:function(){
return i.scrollHeight}}}},t)),c=function(){l.height="auto",l.overflow=n};return r.after(u,"onStop",c,!0),
r.after(u,"onEnd",c,!0),u},h.wipeOut=function(t){var n,i=t.node=a.byId(t.node),s=i.style,l=o.animateProperty(e.mixin({
properties:{height:{end:1}}},t));r.after(l,"beforeBegin",function(){n=s.overflow,
s.overflow="hidden",s.display=""},!0);var u=function(){s.overflow=n,s.height="auto",
s.display="none"};return r.after(l,"onStop",u,!0),r.after(l,"onEnd",u,!0),l},h.slideTo=function(t){
var n=t.node=a.byId(t.node),i=null,u=null,c=function(e){return function(){var t=s.getComputedStyle(e),n=t.position;
if(i="absolute"==n?e.offsetTop:parseInt(t.top)||0,u="absolute"==n?e.offsetLeft:parseInt(t.left)||0,
"absolute"!=n&&"relative"!=n){var r=l.position(e,!0);i=r.y,u=r.x,e.style.position="absolute",
e.style.top=i+"px",e.style.left=u+"px"}}}(n);c();var h=o.animateProperty(e.mixin({
properties:{top:t.top||0,left:t.left||0}},t));return r.after(h,"beforeBegin",c,!0),
h},h}),define("dojo/text!dijit/templates/TitlePane.html",[],function(){return'<div>\n	<div data-dojo-attach-event="ondijitclick:_onTitleClick, onkeydown:_onTitleKey"\n			class="pentaho-titled-toolbar section-header-inner pentaho-padding-sm" data-dojo-attach-point="titleBarNode" id="${id}_titleBarNode">\n		<div class="dijitTitlePaneTitleFocus" data-dojo-attach-point="focusNode">\n			<span data-dojo-attach-point="arrowNode" class="dijitInline dijitArrowNode" role="presentation"></span\n			><span data-dojo-attach-point="arrowNodeInner" class="dijitArrowNodeInner"></span\n			><span data-dojo-attach-point="titleNode" class="dijitTitlePaneTextNode"></span>\n		</div>\n	</div>\n	<div class="dijitTitlePaneContentOuter" data-dojo-attach-point="hideNode" role="presentation">\n		<div class="dijitReset" data-dojo-attach-point="wipeNode" role="presentation">\n			<div class="dijitTitlePaneContentInner" data-dojo-attach-point="containerNode" role="region" id="${id}_pane" aria-labelledby="${id}_titleBarNode">\n				<!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. -->\n			</div>\n		</div>\n	</div>\n</div>\n';
}),define("dijit/TitlePane",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/fx","dojo/has","dojo/_base/kernel","dojo/keys","./_CssStateMixin","./_TemplatedMixin","./layout/ContentPane","dojo/text!./templates/TitlePane.html","./_base/manager","./a11yclick"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p){
var m=t("dijit.TitlePane",[d,h,c],{title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"
},open:!0,toggleable:!0,tabIndex:"0",duration:p.defaultDuration,baseClass:"dijitTitlePane",
templateString:f,doLayout:!1,_setTooltipAttr:{node:"focusNode",type:"attribute",attribute:"title"
},buildRendering:function(){this.inherited(arguments),n.setSelectable(this.titleNode,!1);
},postCreate:function(){this.inherited(arguments),this.toggleable&&this._trackMouseState(this.titleBarNode,this.baseClass+"Title");
var e=this.hideNode,t=this.wipeNode;this._wipeIn=a.wipeIn({node:t,duration:this.duration,
beforeBegin:function(){e.style.display=""}}),this._wipeOut=a.wipeOut({node:t,duration:this.duration,
onEnd:function(){e.style.display="none"}})},_setOpenAttr:function(t,n){if(e.forEach([this._wipeIn,this._wipeOut],function(e){
e&&"playing"==e.status()&&e.stop()}),n){var i=this[t?"_wipeIn":"_wipeOut"];i.play();
}else this.hideNode.style.display=this.wipeNode.style.display=t?"":"none";this._started&&(t?this._onShow():this.onHide()),
this.containerNode.setAttribute("aria-hidden",t?"false":"true"),this.focusNode.setAttribute("aria-pressed",t?"true":"false"),
this._set("open",t),this._setCss()},_setToggleableAttr:function(e){this.focusNode.setAttribute("role",e?"button":"heading"),
e?(this.focusNode.setAttribute("aria-controls",this.id+"_pane"),this.focusNode.setAttribute("tabIndex",this.tabIndex),
this.focusNode.setAttribute("aria-pressed",this.open)):(i.remove(this.focusNode,"aria-controls"),
i.remove(this.focusNode,"tabIndex"),i.remove(this.focusNode,"aria-pressed")),this._set("toggleable",e),
this._setCss()},_setContentAttr:function(e){this.open&&this._wipeOut&&"playing"!=this._wipeOut.status()?(this._wipeIn&&"playing"==this._wipeIn.status()&&this._wipeIn.stop(),
o.setMarginBox(this.wipeNode,{h:o.getMarginBox(this.wipeNode).h}),this.inherited(arguments),
this._wipeIn?this._wipeIn.play():this.hideNode.style.display=""):this.inherited(arguments);
},toggle:function(){this._setOpenAttr(!this.open,!0)},_setCss:function(){var e=this.titleBarNode||this.focusNode,t=this._titleBarClass;
this._titleBarClass=this.baseClass+"Title"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed"),
r.replace(e,this._titleBarClass,t||""),r.replace(e,this._titleBarClass.replace("TitlePaneTitle",""),(t||"").replace("TitlePaneTitle","")),
this.arrowNodeInner.innerHTML=this.open?"-":"+"},_onTitleKey:function(e){e.keyCode==u.DOWN_ARROW&&this.open&&(this.containerNode.focus(),
e.preventDefault())},_onTitleClick:function(){this.toggleable&&this.toggle()},setTitle:function(e){
l.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0"),
this.set("title",e)}});return s("dojo-bidi")&&m.extend({_setTitleAttr:function(e){
this._set("title",e),this.titleNode.innerHTML=e,this.applyTextDir(this.titleNode);
},_setTooltipAttr:function(e){this._set("tooltip",e),this.textDir&&(e=this.enforceTextDirWithUcc(null,e)),
i.set(this.focusNode,"title",e)},_setTextDirAttr:function(e){this._created&&this.textDir!=e&&(this._set("textDir",e),
this.set("title",this.title),this.set("tooltip",this.tooltip))}}),m}),define("dojo/_base/html",["./kernel","../dom","../dom-style","../dom-attr","../dom-prop","../dom-class","../dom-construct","../dom-geometry"],function(e,t,n,i,r,o,a,s){
return e.byId=t.byId,e.isDescendant=t.isDescendant,e.setSelectable=t.setSelectable,
e.getAttr=i.get,e.setAttr=i.set,e.hasAttr=i.has,e.removeAttr=i.remove,e.getNodeProp=i.getNodeProp,
e.attr=function(e,t,n){return 2==arguments.length?i["string"==typeof t?"get":"set"](e,t):i.set(e,t,n);
},e.hasClass=o.contains,e.addClass=o.add,e.removeClass=o.remove,e.toggleClass=o.toggle,
e.replaceClass=o.replace,e._toDom=e.toDom=a.toDom,e.place=a.place,e.create=a.create,
e.empty=function(e){a.empty(e)},e._destroyElement=e.destroy=function(e){a.destroy(e);
},e._getPadExtents=e.getPadExtents=s.getPadExtents,e._getBorderExtents=e.getBorderExtents=s.getBorderExtents,
e._getPadBorderExtents=e.getPadBorderExtents=s.getPadBorderExtents,e._getMarginExtents=e.getMarginExtents=s.getMarginExtents,
e._getMarginSize=e.getMarginSize=s.getMarginSize,e._getMarginBox=e.getMarginBox=s.getMarginBox,
e.setMarginBox=s.setMarginBox,e._getContentBox=e.getContentBox=s.getContentBox,e.setContentSize=s.setContentSize,
e._isBodyLtr=e.isBodyLtr=s.isBodyLtr,e._docScroll=e.docScroll=s.docScroll,e._getIeDocumentElementOffset=e.getIeDocumentElementOffset=s.getIeDocumentElementOffset,
e._fixIeBiDiScrollLeft=e.fixIeBiDiScrollLeft=s.fixIeBiDiScrollLeft,e.position=s.position,
e.marginBox=function(e,t){return t?s.setMarginBox(e,t):s.getMarginBox(e)},e.contentBox=function(e,t){
return t?s.setContentSize(e,t):s.getContentBox(e)},e.coords=function(i,r){e.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox()."),
i=t.byId(i);var o=n.getComputedStyle(i),a=s.getMarginBox(i,o),l=s.position(i,r);return a.x=l.x,
a.y=l.y,a},e.getProp=r.get,e.setProp=r.set,e.prop=function(e,t,n){return 2==arguments.length?r["string"==typeof t?"get":"set"](e,t):r.set(e,t,n);
},e.getStyle=n.get,e.setStyle=n.set,e.getComputedStyle=n.getComputedStyle,e.__toPixelValue=e.toPixelValue=n.toPixelValue,
e.style=function(e,t,i){switch(arguments.length){case 1:return n.get(e);case 2:return n["string"==typeof t?"get":"set"](e,t);
}return n.set(e,t,i)},e}),define("dojo/_base/NodeList",["./kernel","../query","./array","./html","../NodeList-dom"],function(e,t,n){
var i=t.NodeList,r=i.prototype;return r.connect=i._adaptAsForEach(function(){return e.connect.apply(this,arguments);
}),r.coords=i._adaptAsMap(e.coords),i.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"],
n.forEach(i.events,function(e){var t="on"+e;r[t]=function(e,n){return this.connect(t,e,n);
}}),e.NodeList=i,i}),define("dojo/dnd/Container",["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../_base/window","../dom","../dom-class","../dom-construct","../Evented","../has","../on","../query","../touch","./common"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f){
var p=t("dojo.dnd.Container",l,{skipForm:!1,allowNested:!1,constructor:function(e,t){
this.node=o.byId(e),t||(t={}),this.creator=t.creator||null,this.skipForm=t.skipForm,
this.parent=t.dropParent&&o.byId(t.dropParent),this.map={},this.current=null,this.containerState="",
a.add(this.node,"dojoDndContainer"),t&&t._skipStartup||this.startup(),this.events=[c(this.node,d.over,i.hitch(this,"onMouseOver")),c(this.node,d.out,i.hitch(this,"onMouseOut")),c(this.node,"dragstart",i.hitch(this,"onSelectStart")),c(this.node,"selectstart",i.hitch(this,"onSelectStart"))];
},creator:function(){},getItem:function(e){return this.map[e]},setItem:function(e,t){
this.map[e]=t},delItem:function(e){delete this.map[e]},forInItems:function(e,t){t=t||n.global;
var i=this.map,r=f._empty;for(var o in i)o in r||e.call(t,i[o],o,this);return t},
clearItems:function(){this.map={}},getAllNodes:function(){return h((this.allowNested?"":"> ")+".dojoDndItem",this.parent);
},sync:function(){var e={};return this.getAllNodes().forEach(function(t){if(t.id){
var n=this.getItem(t.id);if(n)return void(e[t.id]=n)}else t.id=f.getUniqueId();var i=t.getAttribute("dndType"),r=t.getAttribute("dndData");
e[t.id]={data:r||t.innerHTML,type:i?i.split(/\s*,\s*/):["text"]}},this),this.map=e,
this},insertNodes:function(e,t,n){this.parent.firstChild?t?n||(n=this.parent.firstChild):n&&(n=n.nextSibling):n=null;
var i,r;if(n)for(i=0;i<e.length;++i)r=this._normalizedCreator(e[i]),this.setItem(r.node.id,{
data:r.data,type:r.type}),n.parentNode.insertBefore(r.node,n);else for(i=0;i<e.length;++i)r=this._normalizedCreator(e[i]),
this.setItem(r.node.id,{data:r.data,type:r.type}),this.parent.appendChild(r.node);
return this},destroy:function(){e.forEach(this.events,function(e){e.remove()}),this.clearItems(),
this.node=this.parent=this.current=null},markupFactory:function(e,t,n){return e._skipStartup=!0,
new n(t,e)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){
var e=this.parent.getElementsByTagName("tbody");e&&e.length&&(this.parent=e[0])}this.defaultCreator=f._defaultCreator(this.parent),
this.sync()},onMouseOver:function(e){for(var t=e.relatedTarget;t&&t!=this.node;)try{
t=t.parentNode}catch(n){t=null}t||(this._changeState("Container","Over"),this.onOverEvent()),
t=this._getChildByEvent(e),this.current!=t&&(this.current&&this._removeItemClass(this.current,"Over"),
t&&this._addItemClass(t,"Over"),this.current=t)},onMouseOut:function(e){for(var t=e.relatedTarget;t;){
if(t==this.node)return;try{t=t.parentNode}catch(n){t=null}}this.current&&(this._removeItemClass(this.current,"Over"),
this.current=null),this._changeState("Container",""),this.onOutEvent()},onSelectStart:function(e){
this.skipForm&&f.isFormElement(e)||(e.stopPropagation(),e.preventDefault())},onOverEvent:function(){},
onOutEvent:function(){},_changeState:function(e,t){var n="dojoDnd"+e,i=e.toLowerCase()+"State";
a.replace(this.node,n+t,n+this[i]),this[i]=t},_addItemClass:function(e,t){a.add(e,"dojoDndItem"+t);
},_removeItemClass:function(e,t){a.remove(e,"dojoDndItem"+t)},_getChildByEvent:function(e){
var t=e.target;if(t)for(var n=t.parentNode;n;t=n,n=t.parentNode)if((n==this.parent||this.allowNested)&&a.contains(t,"dojoDndItem"))return t;
return null},_normalizedCreator:function(e,t){var n=(this.creator||this.defaultCreator).call(this,e,t);
return i.isArray(n.type)||(n.type=["text"]),n.node.id||(n.node.id=f.getUniqueId()),
a.add(n.node,"dojoDndItem"),n}});return f._createNode=function(e){return e?function(t){
return s.create(e,{innerHTML:t})}:f._createSpan},f._createTrTd=function(e){var t=s.create("tr");
return s.create("td",{innerHTML:e},t),t},f._createSpan=function(e){return s.create("span",{
innerHTML:e})},f._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"},f._defaultCreator=function(e){
var t=e.tagName.toLowerCase(),n="tbody"==t||"thead"==t?f._createTrTd:f._createNode(f._defaultCreatorNodes[t]);
return function(e,t){var r,o,a,s=e&&i.isObject(e);return s&&e.tagName&&e.nodeType&&e.getAttribute?(r=e.getAttribute("dndData")||e.innerHTML,
o=e.getAttribute("dndType"),o=o?o.split(/\s*,\s*/):["text"],a=e):(r=s&&e.data?e.data:e,
o=s&&e.type?e.type:["text"],a=("avatar"==t?f._createSpan:n)(String(r))),a.id||(a.id=f.getUniqueId()),
{node:a,data:r,type:o}}},p}),define("dojo/dnd/Selector",["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../dom","../dom-construct","../mouse","../_base/NodeList","../on","../touch","./common","./Container"],function(e,t,n,i,r,o,a,s,l,u,c,h){
var d=t("dojo.dnd.Selector",h,{constructor:function(e,t){t||(t={}),this.singular=t.singular,
this.autoSync=t.autoSync,this.selection={},this.anchor=null,this.simpleSelection=!1,
this.events.push(l(this.node,u.press,i.hitch(this,"onMouseDown")),l(this.node,u.release,i.hitch(this,"onMouseUp")));
},singular:!1,getSelectedNodes:function(){var e=new s,t=c._empty;for(var n in this.selection)n in t||e.push(r.byId(n));
return e},selectNone:function(){return this._removeSelection()._removeAnchor()},selectAll:function(){
return this.forInItems(function(e,t){this._addItemClass(r.byId(t),"Selected"),this.selection[t]=1;
},this),this._removeAnchor()},deleteSelectedNodes:function(){var e=c._empty;for(var t in this.selection)if(!(t in e)){
var n=r.byId(t);this.delItem(t),o.destroy(n)}return this.anchor=null,this.selection={},
this},forInSelectedItems:function(e,t){t=t||n.global;var i=this.selection,r=c._empty;
for(var o in i)o in r||e.call(t,this.getItem(o),o,this)},sync:function(){d.superclass.sync.call(this),
this.anchor&&(this.getItem(this.anchor.id)||(this.anchor=null));var t=[],n=c._empty;
for(var i in this.selection)i in n||this.getItem(i)||t.push(i);return e.forEach(t,function(e){
delete this.selection[e]},this),this},insertNodes:function(e,t,n,i){var r=this._normalizedCreator;
return this._normalizedCreator=function(t,n){var i=r.call(this,t,n);return e?(this.anchor?this.anchor!=i.node&&(this._removeItemClass(i.node,"Anchor"),
this._addItemClass(i.node,"Selected")):(this.anchor=i.node,this._removeItemClass(i.node,"Selected"),
this._addItemClass(this.anchor,"Anchor")),this.selection[i.node.id]=1):(this._removeItemClass(i.node,"Selected"),
this._removeItemClass(i.node,"Anchor")),i},d.superclass.insertNodes.call(this,t,n,i),
this._normalizedCreator=r,this},destroy:function(){d.superclass.destroy.call(this),
this.selection=this.anchor=null},onMouseDown:function(e){if(this.autoSync&&this.sync(),
this.current){if(!this.singular&&!c.getCopyKeyState(e)&&!e.shiftKey&&this.current.id in this.selection)return this.simpleSelection=!0,
void(a.isLeft(e)&&(e.stopPropagation(),e.preventDefault()));if(!this.singular&&e.shiftKey){
c.getCopyKeyState(e)||this._removeSelection();var t=this.getAllNodes();if(t.length&&(this.anchor||(this.anchor=t[0],
this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){
for(var n,i=0;i<t.length&&(n=t[i],n!=this.anchor&&n!=this.current);++i);for(++i;i<t.length&&(n=t[i],
n!=this.anchor&&n!=this.current);++i)this._addItemClass(n,"Selected"),this.selection[n.id]=1;
this._addItemClass(this.current,"Selected"),this.selection[this.current.id]=1}}else this.singular?this.anchor==this.current?c.getCopyKeyState(e)&&this.selectNone():(this.selectNone(),
this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):c.getCopyKeyState(e)?this.anchor==this.current?(delete this.selection[this.anchor.id],
this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),
delete this.selection[this.current.id]):(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),
this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),
this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),
this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);
e.stopPropagation(),e.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,
this.selectNone(),this.current&&(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),
this.selection[this.current.id]=1))},onMouseMove:function(){this.simpleSelection=!1;
},onOverEvent:function(){this.onmousemoveEvent=l(this.node,u.move,i.hitch(this,"onMouseMove"));
},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent);
},_removeSelection:function(){var e=c._empty;for(var t in this.selection)if(!(t in e)){
var n=r.byId(t);n&&this._removeItemClass(n,"Selected")}return this.selection={},this;
},_removeAnchor:function(){return this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),
this.anchor=null),this}});return d}),define("dojo/dnd/Avatar",["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(e,t,n,i,r,o,a,s){
return e("dojo.dnd.Avatar",null,{constructor:function(e){this.manager=e,this.construct();
},construct:function(){var e,t=o.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",
zIndex:"1999",margin:"0px"}}),n=this.manager.source,r=o.create("tbody",null,t),s=o.create("tr",null,r),l=o.create("td",null,s),u=Math.min(5,this.manager.nodes.length),c=0;
for(a("highcontrast")&&o.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"
},l),o.create("span",{innerHTML:n.generateText?this._generateText():""},l),i.set(s,{
"class":"dojoDndAvatarHeader",style:{opacity:.9}});u>c;++c){if(n.creator)e=n._normalizedCreator(n.getItem(this.manager.nodes[c].id).data,"avatar").node;else if(e=this.manager.nodes[c].cloneNode(!0),
"tr"==e.tagName.toLowerCase()){var h=o.create("table"),d=o.create("tbody",null,h);
d.appendChild(e),e=h}e.id="",s=o.create("tr",null,r),l=o.create("td",null,s),l.appendChild(e),
i.set(s,{"class":"dojoDndAvatarItem",style:{opacity:(9-c)/10}})}this.node=t},destroy:function(){
o.destroy(this.node),this.node=!1},update:function(){if(r.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag),
a("highcontrast")){var e=n.byId("a11yIcon"),t="+";this.manager.canDropFlag&&!this.manager.copy?t="< ":this.manager.canDropFlag||this.manager.copy?this.manager.canDropFlag||(t="x"):t="o",
e.innerHTML=t}s("tr.dojoDndAvatarHeader td span"+(a("highcontrast")?" span":""),this.node).forEach(function(e){
e.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){
return this.manager.nodes.length.toString()}})}),define("dojo/dnd/Manager",["../_base/array","../_base/declare","../_base/lang","../_base/window","../dom-class","../Evented","../has","../keys","../on","../topic","../touch","./common","./autoscroll","./Avatar"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f){
var p=t("dojo.dnd.Manager",[o],{constructor:function(){this.avatar=null,this.source=null,
this.nodes=[],this.copy=!0,this.target=null,this.canDropFlag=!1,this.events=[]},OFFSET_X:a("touch")?0:16,
OFFSET_Y:a("touch")?-64:16,overSource:function(e){this.avatar&&(this.target=e&&"Disabled"!=e.targetState?e:null,
this.canDropFlag=Boolean(this.target),this.avatar.update()),u.publish("/dnd/source/over",e);
},outSource:function(e){this.avatar?this.target==e&&(this.target=null,this.canDropFlag=!1,
this.avatar.update(),u.publish("/dnd/source/over",null)):u.publish("/dnd/source/over",null);
},startDrag:function(e,t,o){function a(e){e.preventDefault(),e.stopPropagation()}
d.autoScrollStart(i.doc),this.source=e,this.nodes=t,this.copy=Boolean(o),this.avatar=this.makeAvatar(),
i.body().appendChild(this.avatar.node),u.publish("/dnd/start",e,t,this.copy),this.events=[l(i.doc,c.move,n.hitch(this,"onMouseMove")),l(i.doc,c.release,n.hitch(this,"onMouseUp")),l(i.doc,"keydown",n.hitch(this,"onKeyDown")),l(i.doc,"keyup",n.hitch(this,"onKeyUp")),l(i.doc,"dragstart",a),l(i.body(),"selectstart",a)];
var s="dojoDnd"+(o?"Copy":"Move");r.add(i.body(),s)},canDrop:function(e){var t=Boolean(this.target&&e);
this.canDropFlag!=t&&(this.canDropFlag=t,this.avatar.update())},stopDrag:function(){
r.remove(i.body(),["dojoDndCopy","dojoDndMove"]),e.forEach(this.events,function(e){
e.remove()}),this.events=[],this.avatar.destroy(),this.avatar=null,this.source=this.target=null,
this.nodes=[]},makeAvatar:function(){return new f(this)},updateAvatar:function(){
this.avatar.update()},onMouseMove:function(e){var t=this.avatar;if(t){d.autoScrollNodes(e);
var n=t.node.style;n.left=e.pageX+this.OFFSET_X+"px",n.top=e.pageY+this.OFFSET_Y+"px";
var i=Boolean(this.source.copyState(h.getCopyKeyState(e)));this.copy!=i&&this._setCopyStatus(i);
}a("touch")&&e.preventDefault()},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){
var t=Boolean(this.source.copyState(h.getCopyKeyState(e)));u.publish("/dnd/drop/before",this.source,this.nodes,t,this.target,e),
u.publish("/dnd/drop",this.source,this.nodes,t,this.target,e)}else u.publish("/dnd/cancel");
this.stopDrag()}},onKeyDown:function(e){if(this.avatar)switch(e.keyCode){case s.CTRL:
var t=Boolean(this.source.copyState(!0));this.copy!=t&&this._setCopyStatus(t);break;
case s.ESCAPE:u.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(e){if(this.avatar&&e.keyCode==s.CTRL){
var t=Boolean(this.source.copyState(!1));this.copy!=t&&this._setCopyStatus(t)}},_setCopyStatus:function(e){
this.copy=e,this.source._markDndStatus(this.copy),this.updateAvatar(),r.replace(i.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));
}});return h._manager=null,p.manager=h.manager=function(){return h._manager||(h._manager=new p),
h._manager},p}),define("dojo/dnd/Source",["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../dom-class","../dom-geometry","../mouse","../ready","../topic","./common","./Selector","./Manager"],function(e,t,n,i,r,o,a,s,l,u,c,h){
n.isAsync||s(0,function(){var e=["dojo/dnd/AutoSource","dojo/dnd/Target"];require(e);
});var d=t("dojo.dnd.Source",c,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,
selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,
constructor:function(e,t){i.mixin(this,i.mixin({},t));var n=this.accept;if(n.length){
this.accept={};for(var o=0;o<n.length;++o)this.accept[n[o]]=1}this.isDragging=!1,
this.mouseDown=!1,this.targetAnchor=null,this.targetBox=null,this.before=!0,this._lastX=0,
this._lastY=0,this.sourceState="",this.isSource&&r.add(this.node,"dojoDndSource"),
this.targetState="",this.accept&&r.add(this.node,"dojoDndTarget"),this.horizontal&&r.add(this.node,"dojoDndHorizontal"),
this.topics=[l.subscribe("/dnd/source/over",i.hitch(this,"onDndSourceOver")),l.subscribe("/dnd/start",i.hitch(this,"onDndStart")),l.subscribe("/dnd/drop",i.hitch(this,"onDndDrop")),l.subscribe("/dnd/cancel",i.hitch(this,"onDndCancel"))];
},checkAcceptance:function(e,t){if(this==e)return!this.copyOnly||this.selfAccept;for(var n=0;n<t.length;++n){
for(var i=e.getItem(t[n].id).type,r=!1,o=0;o<i.length;++o)if(i[o]in this.accept){
r=!0;break}if(!r)return!1}return!0},copyState:function(e,t){return e?!0:(arguments.length<2&&(t=this==h.manager().target),
t?this.copyOnly?this.selfCopy:!1:this.copyOnly)},destroy:function(){d.superclass.destroy.call(this),
e.forEach(this.topics,function(e){e.remove()}),this.targetAnchor=null},onMouseMove:function(e){
if(!this.isDragging||"Disabled"!=this.targetState){d.superclass.onMouseMove.call(this,e);
var t=h.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){
var n=this.getSelectedNodes();n.length&&t.startDrag(this,n,this.copyState(u.getCopyKeyState(e),!0));
}if(this.isDragging){var i=!1;this.current&&(this.targetBox&&this.targetAnchor==this.current||(this.targetBox=o.position(this.current,!0)),
i=this.horizontal?e.pageX-this.targetBox.x<this.targetBox.w/2==o.isBodyLtr(this.current.ownerDocument):e.pageY-this.targetBox.y<this.targetBox.h/2),
(this.current!=this.targetAnchor||i!=this.before)&&(this._markTargetAnchor(i),t.canDrop(!(this.current&&t.source==this&&this.current.id in this.selection)));
}}},onMouseDown:function(e){this.mouseDown||!this._legalMouseDown(e)||this.skipForm&&u.isFormElement(e)||(this.mouseDown=!0,
this._lastX=e.pageX,this._lastY=e.pageY,d.superclass.onMouseDown.call(this,e))},onMouseUp:function(e){
this.mouseDown&&(this.mouseDown=!1,d.superclass.onMouseUp.call(this,e))},onDndSourceOver:function(e){
if(this!==e)this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor();else if(this.isDragging){
var t=h.manager();t.canDrop(!("Disabled"==this.targetState||this.current&&t.source==this&&this.current.id in this.selection));
}},onDndStart:function(e,t,n){this.autoSync&&this.sync(),this.isSource&&this._changeState("Source",this==e?n?"Copied":"Moved":"");
var i=this.accept&&this.checkAcceptance(e,t);this._changeState("Target",i?"":"Disabled"),
this==e&&h.manager().overSource(this),this.isDragging=!0},onDndDrop:function(e,t,n,i){
this==i&&this.onDrop(e,t,n),this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),
this.targetAnchor=null),this.before=!0,this.isDragging=!1,this.mouseDown=!1,this._changeState("Source",""),
this._changeState("Target","")},onDrop:function(e,t,n){this!=e?this.onDropExternal(e,t,n):this.onDropInternal(t,n);
},onDropExternal:function(e,t,n){var i=this._normalizedCreator;this.creator?this._normalizedCreator=function(t,n){
return i.call(this,e.getItem(t.id).data,n)}:n?this._normalizedCreator=function(t){
var n=e.getItem(t.id),i=t.cloneNode(!0);return i.id=u.getUniqueId(),{node:i,data:n.data,
type:n.type}}:this._normalizedCreator=function(t){var n=e.getItem(t.id);return e.delItem(t.id),
{node:t,data:n.data,type:n.type}},this.selectNone(),n||this.creator||e.selectNone(),
this.insertNodes(!0,t,this.before,this.current),!n&&this.creator&&e.deleteSelectedNodes(),
this._normalizedCreator=i},onDropInternal:function(e,t){var n=this._normalizedCreator;
if(!(this.current&&this.current.id in this.selection)){if(t)this.creator?this._normalizedCreator=function(e,t){
return n.call(this,this.getItem(e.id).data,t)}:this._normalizedCreator=function(e){
var t=this.getItem(e.id),n=e.cloneNode(!0);return n.id=u.getUniqueId(),{node:n,data:t.data,
type:t.type}};else{if(!this.current)return;this._normalizedCreator=function(e){var t=this.getItem(e.id);
return{node:e,data:t.data,type:t.type}}}this._removeSelection(),this.insertNodes(!0,e,this.before,this.current),
this._normalizedCreator=n}},onDraggingOver:function(){},onDraggingOut:function(){},
onOverEvent:function(){d.superclass.onOverEvent.call(this),h.manager().overSource(this),
this.isDragging&&"Disabled"!=this.targetState&&this.onDraggingOver()},onOutEvent:function(){
d.superclass.onOutEvent.call(this),h.manager().outSource(this),this.isDragging&&"Disabled"!=this.targetState&&this.onDraggingOut();
},_markTargetAnchor:function(e){(this.current!=this.targetAnchor||this.before!=e)&&(this.targetAnchor&&this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),
this.targetAnchor=this.current,this.targetBox=null,this.before=e,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After"));
},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),
this.targetAnchor=null,this.targetBox=null,this.before=!0)},_markDndStatus:function(e){
this._changeState("Source",e?"Copied":"Moved")},_legalMouseDown:function(e){if("touchstart"!=e.type&&!a.isLeft(e))return!1;
if(!this.withHandles)return!0;for(var t=e.target;t&&t!==this.node;t=t.parentNode){
if(r.contains(t,"dojoDndHandle"))return!0;if(r.contains(t,"dojoDndItem")||r.contains(t,"dojoDndIgnore"))break;
}return!1}});return d}),define("dojo/dnd/Target",["../_base/declare","../dom-class","./Source"],function(e,t,n){
return e("dojo.dnd.Target",n,{constructor:function(){this.isSource=!1,t.remove(this.node,"dojoDndSource");
}})}),define("dijit/_Templated",["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(e,t,n,i,r,o,a){
return o.extend(e,{waiRole:"",waiState:""}),r("dijit._Templated",[t,n],{widgetsInTemplate:!1,
constructor:function(){a.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0");
},_processNode:function(e,t){var n=this.inherited(arguments),r=t(e,"waiRole");r&&e.setAttribute("role",r);
var o=t(e,"waiState");return o&&i.forEach(o.split(/\s*,\s*/),function(t){if(-1!=t.indexOf("-")){
var n=t.split("-");e.setAttribute("aria-"+n[0],n[1])}}),n}})}),define("dojo/request/default",["exports","require","../has"],function(e,t,n){
var i,r=n("config-requestProvider");n("host-browser")?i="./xhr":n("host-node")&&(i="./node"),
r||(r=i),e.getPlatformDefaultId=function(){return i},e.load=function(e,n,o,a){return a&&a.isBuild?o():void t(["platform"==e?i:r],function(e){
o(e)})}}),define("dojo/request",["./request/default!"],function(e){return e}),define("pentaho/common/Messages",["dojo/_base/declare","dijit/_WidgetBase","dijit/_Templated","dojo/on","dojo/query","dojo/_base/lang","dojo/request","dojo/i18n","dojo/string"],function(e,t,n,i,r,o,a,s,l){
var u=e("pentaho.common.Messages",[],{});u.init=function(){void 0===u.messageBundle&&(u.messageBundle={});
},pentaho="undefined"==typeof pentaho?{}:pentaho,pentaho.common=pentaho.common||{},
pentaho.common.Messages=pentaho.common.Messages||u,u.addBundle=function(e,t){return t&&"object"==typeof t?void(u.messageBundle[e]=t):(dojo.requireLocalization(e,t,"ROOT","ROOT"),
void(u.messageBundle[e]=s.getLocalization(e,t)))},u.getBundle=function(e){return u.messageBundle[e];
},u.entityDecoder=document.createElement("textarea"),u.getString=function(e,t){var n,i,r=e;
for(n in u.messageBundle)if(u.messageBundle.hasOwnProperty(n)&&(i=u.messageBundle[n],
i.hasOwnProperty(e))){if(r=i[e],void 0!=t){var a={};if("string"==typeof t)a[0]=t;else if("array"==typeof t)for(var s=0;s<t.length;s++)a[""+s]=t[s];else o.isObject(t)&&(a=t);
r=o.replace(r,a)}break}return r};return u.setElementText=function(e,t){var n;n="string"==typeof e?document.getElementById(e):e,
n&&(n.innerHTML=u.getString(t))},u.addUrlBundle=function(e,t,n){if(n||!u.messageBundle.hasOwnProperty(e)){
var i=a(t,{handleAs:"json",sync:!0});i.then(function(t){u.messageBundle[e]=t},function(e){
"undefined"!=typeof console&&console.log("error loading message bundle at:"+t)})}
},u.init(),u.addUrlBundle("pentaho.common",CONTEXT_PATH+"i18n?plugin=common-ui&name=resources/web/dojo/pentaho/common/nls/messages"),
u}),define("pentaho/common/propertiesPanel/Configuration",["dojo/_base/declare","dojo/Stateful","dojo/_base/array","dojo/Evented","dojo/_base/lang","dojo/aspect"],function(e,t,n,i,r,o){
var a=Object.prototype.hasOwnProperty,s=e("pentaho.common.propertiesPanel.Configuration",[t,i],{
constructor:function(e){this.items=[],this.itemsById={},this.rawConfiguration=e,e&&e.properties&&n.forEach(e.properties,this.initializeItem,this);
},initializeItem:function(e){var t=s.registeredTypes[e.ui.type];if(!t)throw"No Properties Panel UI implementation found for "+e.ui.type;
var n=new t(e);n.postCreate(),o.after(n,"onModelEvent",r.hitch(this,function(e,t){
this.onModelEvent(n,e,t)}),!0),n.watch(r.hitch(this,function(e,t,i){this.onModelEvent(n,e,{
prevVal:t,newVal:i})})),this.items.push(n),this.itemsById[n.id]=n},onModelEvent:function(e,t,n){},
byId:function(e){return a.call(this.itemsById,e)?this.itemsById[e]:void 0}});s.registeredTypes={};
var l=pentaho.common.propertiesPanel,u=e("pentaho.common.propertiesPanel.Property",[t,i],{
value:null,constructor:function(e){this.item=e,r.mixin(this,e),null==this.value&&this.values&&this.values.length&&(this.value=this.values[0]);
},postCreate:function(){},setValue:function(e){this.value=e},onModelEvent:function(e,t){}
});return e("pentaho.common.propertiesPanel.GemBar",[u],{gems:null,_value:null,selectedGem:null,
allowMultiple:!0,constructor:function(e){},postCreate:function(){var e=this.gems;this.gems=[],
n.forEach(e,this.initializeGem,this)},initializeGem:function(e){var t=new s.registeredTypes.gem(e);
t.postCreate(),this._value=null,this.gems.push(t)},createGemFromNode:function(e){
var t=s.registeredTypes.gem,n={id:"gem-"+e.id,value:e.innerHTML.replace(/'/g,"&#39;"),
gemBar:this,sourceNode:e,dndType:e.getAttribute("dndType")};return t.create?t.create(n):new t(n);
},createGemByFormula:function(e,t){var n=s.registeredTypes.gem,i={formula:e,value:t,
gemBar:this};return n.create?n.create(i):new n(i)},remove:function(e){this._value=null,
this.gems.splice(this.gems.indexOf(e),1),this.set("gems",this.gems),this.onModelEvent("removedGem",{
gem:e})},add:function(e){this._value=null,this.gems.push(e),this.set("gems",this.gems),
this.onModelEvent("insertAt",{gem:e,idx:this.gems.length,oldIdx:-1})},reorder:function(){
this._value=null,this.set("gems",this.gems),this.onModelEvent("reorderedGems",{});
},insertAt:function(e,t,i){this._value=null;var r=i=n.indexOf(this.gems,e);this.gems.splice(t,0,e),
r>-1&&(r>=t&&r++,this.gems.splice(r,1)),r>-1&&t>r&&t--,this.onModelEvent("insertAt",{
gem:e,idx:t,oldIdx:i})}}),s.registeredTypes.gemBar=l.GemBar,s.registeredTypes.gem=u,
s.registeredTypes.combo=u,s.registeredTypes.slider=u,s.registeredTypes.textbox=u,
s.registeredTypes.checkbox=u,s.registeredTypes.button=u,s}),define("pentaho/common/propertiesPanel/Panel",["dojo/_base/declare","dojo/data/ItemFileReadStore","dijit/registry","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/layout/ContentPane","dijit/layout/BorderContainer","dijit/form/HorizontalSlider","dijit/form/TextBox","dijit/form/ComboBox","dijit/form/Select","dijit/form/CheckBox","dijit/TitlePane","dojo/on","dojo/query","dojo/_base/array","dojo/_base/lang","dojo/html","dojo/dom-construct","dojo/string","dojo/dom-class","dojo/dnd/Target","dojo/dnd/Source","dojo/dnd/Manager","dojo/Evented","dojo/topic","dojo/dom","dojo/dom-geometry","dojo/aspect","pentaho/common/Messages","pentaho/common/propertiesPanel/Configuration"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b,_,x,w,C,S,k,D,M,N,T,A,j){
function I(e){return e+ ++P}var P=0,L=e("pentaho.common.propertiesPanel.Panel",[a,k],{
captionTemplate:"<div class='caption'><span class='caption-text'>${ui.caption:i18n}</span><i class='captionIcon'></i></div>",
seperatorTemplate:"<div class='propPanel-seperator'></div>",propUIs:null,groups:null,
previousGroupsOpenState:null,gutters:!1,baseClass:"pentahoPropertiesPanel",minHeightDeviation:0,
_gemUIByGemId:null,constructor:function(e){this.configuration=e,this._gemUIByGemId={};
},postCreate:function(){g.forEach(this.configuration.items,v.hitch(this,"initializeItem")),
this.inherited(arguments)},resize:function(){this.minHeightDeviation=0,this.inherited(arguments);
},initializeItem:function(e){if(!e.ui.hidden){var t=L.registeredTypes[e.ui.type];if(!t)throw"No Properties Panel UI implementation found for "+e.ui.type;
var n;n=t.create?t.create({model:e,propPanel:this}):new t({model:e,propPanel:this
});var i=this.domNode,r=e.ui.group;if(r){var o=this._getOrCreateGroup(r);o&&(i=o.content);
}if(e.ui.seperator&&i.appendChild(b.toDom(this.seperatorTemplate)),e.ui.caption){
var a=b.toDom(_.substitute(this.captionTemplate,e,null,{i18n:function(e,t){var n=A.getString(e,e);
return n.length&&":"===n[n.length-1]?n.slice(0,-1):n}})),s=m("i",a);s&&null!=s&&s.length>0&&(s=s[s.length-1],
e.ui.captionIcon?x.add(s,e.ui.captionIcon):s.style.display="none"),i.appendChild(a);
}this.setupEventHandling(n),n instanceof F&&this.registerGemUI(n),this.propUIs.push(n),
this.own(p(n,"UIEvent",v.hitch(this,"onUIEvent"))),x.add(n.domNode,"propPanelItem"),
i.appendChild(n.domNode),this.resize()}},_getOrCreateGroup:function(e){var t=this.groups[e];
if(!t){var n=this.configuration.groups[e];n&&(t=this._createGroup(e,n))}return t},
_createGroup:function(e,t){var n=new f({title:A.getString(t.title,t.title),content:document.createElement("div"),
region:"top",splitter:!1});return null!==this.previousGroupsOpenState&&"undefined"!=typeof this.previousGroupsOpenState[e]&&n.open&&this.previousGroupsOpenState[e].open===!1&&n.toggle(),
T.after(n,"resize",v.hitch(this,function(){this._resizeGroup(n)})),T.after(n._wipeOut,"onEnd",v.hitch(this,"resize")),
T.after(n._wipeIn,"onEnd",v.hitch(this,"resize")),this.domNode.appendChild(n.domNode),
this.groups[e]=n},_resizeGroup:function(e){var t=(N.position(this.domNode.children[this.domNode.children.length-1]),
0),n=0,i=0,r=0;for(var o in this.groups){t++;var a=this.groups[o],s=N.position(a.titleBarNode).h;
n+=a.open?s+a.hideNode.scrollHeight:0,r+=a.open?a.usingMinHeight?a.heightAdjustment:0:s;
}g.forEach(this.domNode.children,function(e){e.className.match(/dijitTitlePane/)||(i+=N.position(e).h);
});var l=(N.position(this.domNode).h,N.position(this.domNode).h-i-r),u=N.position(e.titleBarNode),s=u.h,c=u.w;
if(e.open){var h=s+e.hideNode.scrollHeight,d=h/n*l;d>h?(e.hideNode.style.overflow="hidden",
e.wipeNode.style.width=c+"px"):(e.hideNode.style.overflow="auto",e.wipeNode.style.width="");
var f=2.2;s*f>d?(e.usingMinHeight=!0,e.heightAdjustment=s*f-d,d=s*f):e.usingMinHeight=!1,
isNaN(d)||(e.domNode.style.height=d+"px"),N.position(e.domNode).h>0&&(e.hideNode.style.height=Math.min(N.position(e.domNode).h-s,e.hideNode.scrollHeight)+"px");
}else isNaN(s)||(e.domNode.style.height=s+"px"),e.usingMinHeight=!1;e.domNode.style.width="";
},onUIEvent:function(e,t){p.emit(this,e,t)},registerGemUI:function(e){this._gemUIByGemId[e.model.id]=e;
},unregisterGemUI:function(e){delete this._gemUIByGemId[e.model.id]},getGemUIById:function(e){
if(e){var t=/^gem_(.*?)(:?_\d+)?$/.exec(e);return t&&(e=t[1]),this._gemUIByGemId[e];
}},setupEventHandling:function(e){this.own(p(e,"contextMenu",function(t){this.onUIEvent("onContextMenu",{
item:e,args:[e,t]})})),this.own(p(e,"click",function(t){this.onUIEvent("onClick",{
item:e,args:[e,t]})})),this.own(p(e,"dblclick",function(t){this.onUIEvent("onDblClick",{
item:e,args:[e,t]})}))},setConfiguration:function(e){this._setConfiguration(new j(e));
},_setConfiguration:function(e){if(this.propUIs&&this.propUIs.length&&this._destroyChildrenDeferred(),
this.groups){this.previousGroupsOpenState={};for(var t in this.groups)this.groups.hasOwnProperty(t)&&(this.previousGroupsOpenState[t]={},
this.previousGroupsOpenState[t].open=this.groups[t].open||!1)}for(this.propUIs=[],
this.groups={},this._gemUIByGemId={};null!==this.domNode.firstChild;)this.domNode.removeChild(this.domNode.firstChild);
this.configuration=e,this.postCreate()},_destroyChildrenDeferred:function(){function e(){
g.forEach(t,function(e){e.destroyRecursive()})}var t=this.getChildren();window.setTimeout(e,0);
},reload:function(){this._setConfiguration(this.configuration)},set:function(e,t,n){
g.forEach(this.propUIs,function(i){i.model.id==t&&i.model.set(e,n)})}});L.registeredTypes={};
var R=e([],{constructor:function(e){this.model=e.model,this.propPanel=e.propPanel,
this._watchHandle=this.model.watch(v.hitch(this,function(e,t,n){switch(e){case"value":
case"default":this._destroyed||this.set(e,n)}}))},onUIEvent:function(e,t){},destroy:function(){
this.inherited(arguments),this.model=this.propPanel=null,this._watchHandle&&(this._watchHandle.remove(),
this._watchHandle=null)}}),O=e([C],{constructor:function(e){this.dropIndicator=document.createElement("div"),
this.dropIndicator.className="indicator",this.dropIndicator.id="propertyPanelIndicator",
this.dropIndicator.style.display="none";var t=document.createElement("div");t.className="indicatorLine",
this.dropIndicator.appendChild(t),this.node.parentNode.appendChild(this.dropIndicator);
},destroy:function(){this.inherited(arguments),null!==this.__autoHideDropIndicatorCallback&&this.__autoHideDropIndicatorCallback(),
this.gemBar=this.dropIndicator=this.gemUIbeingInserted=null},onDropAtEnd:function(e,t,n){
var i=this.__getEndDropInfo();return this.onDrop(e,t,n,i)},onDrop:function(e,t,n,i){
if(this.dropZone2Zone=!1,!t||0===t.length)return!1;var r=t[0];if(null!=i&&(this.current=i.anchor,
this.before=i.before),!this.checkAcceptanceAtDropInfo(this,t,!0))return!1;var o,a=this.gemBar.propPanel.getGemUIById(r.id);
a?(o=a.model,a.gemBar===this.gemBar||(this.dropZone2Zone=!0,a.gemBar.remove(a,!0),
a.model.previousGemBar=a.gemBar.model,a.gemBar=this.gemBar)):(o=this.createGemFromNode(r),
a=this.createGemUI(o,r),t[0]=a.domNode),this.gemUIbeingInserted=a;var s=t[0].id;t[0].id=r.id,
this.inherited(arguments),t[0].id=s,this.sync(),e.sync();var l=e.postDrop||o.postDrop;
return this._executePostDrop(r.getAttribute("formula"),l),!0},_onDrop:function(e,t,n,i,r,o,a,s){
var l=this.gemBar,u=this.node;this.gemBar=i,this.node=a;var c=this.createGemByFormula(e,n);
this.gemUIbeingInserted=this.createGembarUIFromGembar(c,i,t),this.insertNodes(null,null,r,o,!0),
this.gemBar=l,this.node=u,this._executePostDrop(e,s)},_executePostDrop:function(e,t){
t&&t.f.call(t.scope,e,this.gemBar.id)},createGemFromNode:function(e){return this.gemBar.model.createGemFromNode(e);
},createGemByFormula:function(e,t){return this.gemBar.model.createGemByFormula(e,t);
},createGembarUIFromGembar:function(e,t){var n=L.registeredTypes.gem,i={model:e,gemBar:this.gemBar,
dndType:t};return n.create?n.create(i):new n(i)},createGemUI:function(e,t){return this.gemBar.createGemUI(e,t);
},onDraggingOver:function(){this.inherited(arguments),this.__previousDropInfo=void 0,
this.updateDropIndicatorAtDropInfo()},onMouseMove:function(){this.inherited(arguments),
this.__isDraggingAndEnabled()&&this.updateDropIndicatorAtDropInfo()},onDraggingOut:function(){
this.inherited(arguments),this.__autoHideDropIndicatorCallback?this.__autoHideDropIndicatorCallback():this._hideDropIndicator();
},updateDropIndicatorAtEnd:function(){var e=this.__getEndDropInfo();this.updateDropIndicatorAtDropInfo(e);
},updateDropIndicatorAtDropInfo:function(e){var t=this.__previousDropInfo;if(void 0===e&&(e=this.__getCurrentDropInfo()),
null===e||this.__shouldShowDropIndicator(e)||(e=null),void 0===t||!this.__areEqualDropInfos(e,t)){
this.__previousDropInfo=e;var n=null!==e&&this.checkAcceptanceAtDropInfo(this,S.manager().nodes,void 0,e);
n?(this.__placeIndicator(e.anchor,e.before),this.__hideDropIndicatorOnDndEnd()):this.__autoHideDropIndicatorCallback?this.__autoHideDropIndicatorCallback():this._hideDropIndicator();
}},__previousDropInfo:void 0,__autoHideDropIndicatorCallback:null,__hideDropIndicatorOnDndEnd:function(){
if(null===this.__autoHideDropIndicatorCallback){var e,t,n=v.hitch(this,function(){
this.__previousDropInfo=void 0,this.__autoHideDropIndicatorCallback=null,this._hideDropIndicator(),
e.remove(),t.remove()});e=D.subscribe("/dnd/cancel",n),t=D.subscribe("/dnd/drop",n),
this.__autoHideDropIndicatorCallback=n}},__shouldShowDropIndicator:function(e){var t=e.anchor;
if(null==t)return!1;var n=this.node.children,i=e.before,r=this.__getChildIndex(t),o=S.manager().nodes[0];
return t===o?!1:!i&&r+1<n.length&&n[r+1]===o?!1:i&&r>0&&n[r-1]===o?!1:!0},_showDropIndicator:function(){
var e=this.__getCurrentDropInfo();return this.__shouldShowDropIndicator(e)?(this.__placeIndicator(e.anchor,e.before),
e):(this._hideDropIndicator(),null)},_hideDropIndicator:function(){this.dropIndicator&&(this.dropIndicator.style.display="none");
},__placeIndicator:function(e,t){var n,i=-5,r=this.node.children,o=N.position(this.node,!0),a=this.dropIndicator.style;
if(null==e)r.length?(e=r[r.length-1],n=N.position(e,!0),a.left=n.x-7-(o.x-5)+"px",
n=N.position(r[0]),a.top=(t?n.y-i:e.y+e.h+i)-(o.y-5)+"px",a.width=n.w+"px"):(a.left="-2px",
a.top=o.h+5+"px",a.width=o.w+"px");else{var s=this.__getChildIndex(e),l=r.length;!t&&l-1>s&&(t=!0,
s++,e=r[s]),n=N.position(e,!0);var u=N.getPadExtents(this.dropIndicator.parentNode),c=n.x-o.x;
a.left=c-2+"px",a.width=n.w+"px",this.dropIndicator.style.display="";var h=N.position(this.dropIndicator,!0);
this.dropIndicator.style.display="none";var d,f=n.y-o.y;if(t)if(0===s)d=f;else{var p=N.position(r[s-1],!0),m=p.y-o.y,g=m+p.h;
d=(f+g)/2}else d=f+n.h;var v=u.t-h.h/2;a.top=v+d+"px"}this.dropIndicator.style.display="";
},_getChildByEvent:function(e){var t=this.inherited(arguments);if(null===t){var n=this.__getIndexOfChildClosestToMouse(e);
n>=0&&(t=this.node.children[n])}return t},__calculateInsertPosition:function(e,t){
var n;return n=null==e||(n=this.__getChildIndex(e))<0?this.node.children.length:t?n:n+1;
},insertNodes:function(e,t,n,i,r){var o=this.__calculateInsertPosition(i,n);this.gemBar.insertAt(this.gemUIbeingInserted,o,this.dropZone2Zone),
r||this.inherited(arguments),this.gemBar.propPanel.resize()},checkAcceptance:function(e,t,n){
var i=null;return this.gemBar.checkAcceptance(e,t,n,i)},checkAcceptanceAtDropInfo:function(e,t,n,i){
null==i&&(i=this.__getCurrentDropInfo());var r=this.__calculateInsertPosition(i.anchor,i.before);
return this.gemBar.checkAcceptance(e,t,n,r)},checkAcceptanceAtEnd:function(e,t,n){
var i=this.__getEndDropInfo();return this.checkAcceptanceAtDropInfo(e,t,n,i)},__getCurrentDropInfo:function(){
return{anchor:this.current,before:this.before}},__getEndDropInfo:function(){var e=this.node.children;
return{anchor:e.length>0?e[e.length-1]:null,before:!1}},__areEqualDropInfos:function(e,t){
return e===t||null!==e&&null!==t&&e.before===t.before&&e.anchor===t.anchor},__getChildIndex:function(e){
return Array.prototype.indexOf.call(this.node.children,e)},__getIndexOfChildClosestToMouse:function(e){
for(var t=6,n=e.clientX,i=e.clientY,r=-1,o=1/0,a=this.node.children,s=0;a&&s<a.length;++s){
var l=N.position(a[s],!0),u=l.x+l.w,c=l.x,h=l.y,d=l.y+l.h;if(n>=c-t&&u+t>=n&&i>=h-t&&d+t>=i){
if(n>=c&&u>=n&&i>=h&&d>=i)return s;var f=h+l.h/2,p=Math.abs(i-f);(0>r||o>p)&&(r=s,
o=p)}}return r},__isDraggingAndEnabled:function(){return this.isDragging&&"Disabled"!==this.targetState;
}}),E=e([w],{constructor:function(e,t){this.dropZone=t.dropZone},onDraggingOver:function(){
this.inherited(arguments),this.dropZone.updateDropIndicatorAtEnd()},onDraggingOut:function(){
this.inherited(arguments),this.dropZone.updateDropIndicatorAtDropInfo(null)},onDrop:function(e,t,n){
return this.dropZone.onDropAtEnd(e,t,n)},checkAcceptance:function(e,t,n){return this.dropZone.checkAcceptanceAtEnd(e,t,n);
},destroy:function(){this.inherited(arguments),this.dropZone=null}}),B=e([i,r,o,k,R],{
className:"propPanel_gemBar",gemLimit:-1,templateString:"<div class='${className}' data-dojo-type='dijit.layout.BorderContainer' data-dojo-props='gutters:false'><div class='gemDropZone' data-dojo-props='region:center'></div><div class='gemPlaceholder'><span>${placeholderText}</span></div></div>",
gems:null,accept:["gem"],showPlaceholder:!0,placeholderText:"Drop Level Here",constructor:function(e){
this.id=I(this.model.id+"_ui"),this.showPlaceholder=this.model.ui.showPlaceholder,
this.model.ui.placeholderText&&(this.placeholderText=this.model.ui.placeholderText);
},postCreate:function(){this.gems=[];var e=this.model.dataType;e&&x.add(this.domNode,e),
this.dropZoneNode=this.domNode.firstChild,this.dropZone=new O(this.dropZoneNode,{
accept:this.model.ui.dndType,gemBar:this});var t=0===this.model.gems.length,n=this.showPlaceholder;
if(n){var i=!this.model.allowMultiple&&!t;i&&(n=!1)}this.placeholder=m(".gemPlaceholder",this.domNode)[0],
this.placeholder.style.display=n?"":"none",this.model.required&&t&&x.add(this.placeholder,"reqiured"),
n&&(this._placeHolderSource=new E(this.placeholder,{accept:this.model.ui.dndType,
dropZone:this.dropZone})),this.own(T.after(this.dropZone,"onDndStart",v.hitch(this,"__onDndStart"),!0),T.after(this.dropZone,"onDndCancel",v.hitch(this,"__onDndEnd")),p(this.domNode,"mouseover",v.hitch(this,"__onDndOver")),p(this.domNode,"mouseout",v.hitch(this,"_hideOver"))),
g.forEach(this.model.gems,function(e){var t=this.createGemUI(e,e.sourceNode);this.dropZoneNode.appendChild(t.domNode),
this.add(t)},this),this.dropZone.sync(),this.inherited(arguments)},__onDndStart:function(e){
this.dropZone.__isDraggingAndEnabled()?e===this.dropZone&&this._showOver():this._showDiminish();
},__onDndOver:function(){this.dropZone.__isDraggingAndEnabled()&&this._showOver();
},__onDndEnd:function(){this._hideDiminish(),this._hideOver()},_showOver:function(){
this.domNode&&x.add(this.domNode,"over")},_hideOver:function(){this.domNode&&x.remove(this.domNode,"over");
},_showDiminish:function(){this.domNode&&x.add(this.domNode,"dimished")},_hideDiminish:function(){
this.domNode&&x.remove(this.domNode,"dimished")},add:function(e){e.model.gemBar=this.model,
e.gemBar=this,this.gems.push(e),this.propPanel.setupEventHandling(e),this.propPanel.registerGemUI(e),
this.model.required&&x.remove(this.placeholder,"reqiured")},insertAt:function(e,t,n){
var i=g.indexOf(this.gems,e);i>-1&&this.gems.splice(i,1),this.gems.splice(t,0,e),
this.propPanel.registerGemUI(e),this.model.insertAt(e.model,t,i,n),this.model.allowMultiple||(this.placeholder.style.display="none"),
this.model.required&&x.remove(this.placeholder,"reqiured")},remove:function(e,t){
this.dropZoneNode.removeChild(e.domNode);var n=g.indexOf(this.gems,e);this.gems.splice(n,1),
this.model.remove(e.model,t),(this.model.allowMultiple||0===this.model.gems.length)&&(this.placeholder.style.display=""),
this.propPanel.unregisterGemUI(e),this.propPanel.resize()},onContextMenu:function(e,t){},
checkAcceptance:function(e,t,n,i){return this.model.allowMultiple||0===this.model.gems.length;
},validateGem:function(e){return!0},createGemFromNode:function(e){var t={id:e.innerHTML
};return new j.registeredTypes.gem(t)},createGemUI:function(e,t){var n=L.registeredTypes.gem,i={
model:e,postDrop:e.postDrop,dndType:e.dndType,gemBar:this,sourceNode:t};return n.create?n.create(i):new n(i);
},destroyRecursive:function(){this.inherited(arguments),g.forEach(this.gems,function(e){
e._destroyed||e.destroyRecursive()})},destroy:function(){this.dropZone&&(this.dropZone.destroy(),
this.dropZone=null),this._placeHolderSource&&(this._placeHolderSource.destroy(),this._placeHolderSource=null),
this.inherited(arguments),this.dropZoneNode=this.placeholder=this._startupWidgets=this._supportingWidgets=null;
}});L.registeredTypes.gemBar=B;var F=e([i,r,k,R],{className:"gem",templateString:"<div id='${id}' class='${className} dojoDndItem' dndType='${dndType}'><div class='gem-label' title='${model.value}'></div><div class='gemMenuHandle'></div></div>",
constructor:function(e){e.id=I("gem_"+this.model.id+"_"),this.gemBar=e.gemBar,this.dndType=e.dndType;
},detach:function(){model.detach()},destroy:function(){this.inherited(arguments),
this.menuHandle=this.postDrop=this.gemBar=this._startupWidgets=this._supportingWidgets=null;
},postCreate:function(){this.menuHandle=m("div.gemMenuHandle",this.domNode)[0],this.menuHandle||(this.menuHandle=m(".gemMenuHandle",this.domNode)[0]);
var e=m("div.gem-label",this.domNode)[0];e||(e=m(".gem-label",this.domNode)[0]),e.innerHTML=this.model.value,
this.own(p(this.domNode,"contextmenu",v.hitch(this,"onContextMenu")),p(this.menuHandle,"mouseover",function(e){
S.manager().source||x.add(e.target,"over")}),p(this.menuHandle,"mouseout",function(e){
S.manager().source||x.remove(e.target,"over")}),p(this.menuHandle,"click",v.hitch(this,"onContextMenu")),p(this.domNode,"mouseover",v.hitch(this,"onMouseOver")),p(this.domNode,"mouseout",v.hitch(this,"onMouseOut"))),
this.inherited(arguments)},onMouseOver:function(){S.manager().source||x.add(this.domNode,"over");
},onMouseOut:function(){x.remove(this.domNode,"over")},onContextMenu:function(e){}
});L.registeredTypes.gem=F;var z=e([i,r,o,R,k],{className:"propPanel_combobox propPanel_control",
options:null,templateString:"<div class='${className}' id='${id}'></div>",constructor:function(e){
this.name=this.model.id,e.id=I(this.name,"_wrapper"),this.options=[],g.forEach(this.model.values,function(e,t){
var n={label:e,value:e};if(this.model.ui.labels){var i=this.model.ui.labels[t];n.label=A.getString(i,i);
}this.options.push(n)},this),null==this.model.value&&this.model.set("value",this.model.values[0]),
this.value=this.model.value},postCreate:function(){var e=this,t=this.options;if(g.forEach(t,function(n,i){
"undefined"==typeof e.value?t.selected=!0:e.value==n.value&&(n.selected=!0)},this),
this.isMobile()){var n=this.id+"_select",i=b.create("select",{id:n});g.forEach(t,function(e,t){
var n;n="undefined"!=typeof e.selected&&1==e.selected?{label:e.label,value:e.value,
selected:!0}:{label:e.label,value:e.value},b.create("option",n,i)},this),this.domNode.appendChild(i),
this.own(p(i,"onchange",function(){e.model.set("value",this.value),e.value=this.value;
}))}else{x.add(this.domNode,this.className);var r=this.selNode=new h({options:t,onChange:function(){
e.model.set("value",this.value),e.value=this.value}});r.placeAt(this.domNode)}this.inherited(arguments);
},isMobile:function(){return this.isMobileSafari()||void 0!==window.orientation},
isMobileSafari:function(){return null!=navigator.userAgent.match(/(iPad|iPod|iPhone)/);
},destroy:function(){this.inherited(arguments),this.selNode&&(this.selNode.destroyRecursive(),
this.selNode=null),this._startupWidgets=null,this._supportingWidgets=null}});L.registeredTypes.combo=z;
var V=e([l,R,k],{className:"propPanel_slider propPanel_control",minimum:0,maximum:100,
style:"width: 100%",intermediateChanges:!0,discreteValues:!0,constructor:function(e){
e.id=I(this.model.id+"_slider"),this.value=this.model.value,this.model.minimum&&(this.minimum=this.model.minimum),
this.model.maximum&&(this.maximum=this.model.maximum),this.discreteValues=this.maximum-this.minimum+1;
},onChange:function(){this.model.set("value",this.value)}});L.registeredTypes.slider=V;
var q=e([u,R,k],{className:"propPanel_control",constructor:function(e){this.disabled=this.model.disabled,
this.value=this.model.value,e.id=null,this.inherited(arguments)},onChange:function(){
this.model.set("value",this.value)}});L.registeredTypes.textbox=q;var H=e([i,r,o,R,k],{
className:"propPanel_checkbox propPanel_control",value:!1,templateString:"<div class='${className}'><label for='${checkBoxId}'>${label}</label></div>",
constructor:function(e){e.id=null,this.checkBoxId=I(this.model.id+"_checkbox"),null!=this.model.value?this.value=this.model.value:this.model.set("value",this.value),
this.label=A.getString(this.model.ui.label,this.model.ui.label)},postCreate:function(){
var e=this.checkBoxId;this.checkbox=new d({id:e,name:e,checked:this.model.get("value"),
onChange:v.hitch(this,function(e){this.model.set("value",e)})},e),this.checkbox.placeAt(this.domNode,"first");
},destroy:function(){this.inherited(arguments),this.checkbox&&(this.checkbox.destroyRecursive(),
this.checkbox=null),this._startupWidgets=this._supportingWidgets=null}});L.registeredTypes.checkbox=H;
var W=e([i,r,o,R,k],{templateString:"<div class='button-wrapper'><button id='${buttonId}' name='${buttonId}' data-dojo-type='dijit.form.Button' type='button' >${label}</button></div>",
constructor:function(e){this.buttonId=I(this.model.id+"_button"),this.disabled=this.model.disabled,
e.id=null;var t=this.model.ui.label;this.label=A.getString(t,t),this.inherited(arguments);
},postCreate:function(){var e=n.byId(this.buttonId);this.own(p(e,"click",v.hitch(this,"onClick")));
},onClick:function(){this.model.set("clicked",!0)},destroy:function(){this.inherited(arguments),
this._startupWidgets=this._supportingWidgets=null}});return L.registeredTypes.button=W,
L}),define("dojo/NodeList-traverse",["./query","./_base/lang","./_base/array"],function(e,t,n){
var i=e.NodeList;return t.extend(i,{_buildArrayFromCallback:function(e){for(var t=[],n=0;n<this.length;n++){
var i=e.call(this[n],this[n],t);i&&(t=t.concat(i))}return t},_getUniqueAsNodeList:function(e){
for(var t,i=[],r=0;t=e[r];r++)1==t.nodeType&&-1==n.indexOf(i,t)&&i.push(t);return this._wrap(i,null,this._NodeListCtor);
},_getUniqueNodeListWithParent:function(t,n){var i=this._getUniqueAsNodeList(t);return i=n?e._filterResult(i,n):i,
i._stash(this)},_getRelatedUniqueNodes:function(e,t){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(t),e);
},children:function(e){return this._getRelatedUniqueNodes(e,function(e,n){return t._toArray(e.childNodes);
})},closest:function(t,n){return this._getRelatedUniqueNodes(null,function(i,r){do if(e._filterResult([i],t,n).length)return i;while(i!=n&&(i=i.parentNode)&&1==i.nodeType);
return null})},parent:function(e){return this._getRelatedUniqueNodes(e,function(e,t){
return e.parentNode})},parents:function(e){return this._getRelatedUniqueNodes(e,function(e,t){
for(var n=[];e.parentNode;)e=e.parentNode,n.push(e);return n})},siblings:function(e){
return this._getRelatedUniqueNodes(e,function(e,t){for(var n=[],i=e.parentNode&&e.parentNode.childNodes,r=0;r<i.length;r++)i[r]!=e&&n.push(i[r]);
return n})},next:function(e){return this._getRelatedUniqueNodes(e,function(e,t){for(var n=e.nextSibling;n&&1!=n.nodeType;)n=n.nextSibling;
return n})},nextAll:function(e){return this._getRelatedUniqueNodes(e,function(e,t){
for(var n=[],i=e;i=i.nextSibling;)1==i.nodeType&&n.push(i);return n})},prev:function(e){
return this._getRelatedUniqueNodes(e,function(e,t){for(var n=e.previousSibling;n&&1!=n.nodeType;)n=n.previousSibling;
return n})},prevAll:function(e){return this._getRelatedUniqueNodes(e,function(e,t){
for(var n=[],i=e;i=i.previousSibling;)1==i.nodeType&&n.push(i);return n})},andSelf:function(){
return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this);
},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){
return this.filter(function(e,t){return t%2!=0})},odd:function(){return this.filter(function(e,t){
return t%2==0})}}),i}),define("dojo/fx/easing",["../_base/lang"],function(e){var t={
linear:function(e){return e},quadIn:function(e){return Math.pow(e,2)},quadOut:function(e){
return e*(e-2)*-1},quadInOut:function(e){return e=2*e,1>e?Math.pow(e,2)/2:-1*(--e*(e-2)-1)/2;
},cubicIn:function(e){return Math.pow(e,3)},cubicOut:function(e){return Math.pow(e-1,3)+1;
},cubicInOut:function(e){return e=2*e,1>e?Math.pow(e,3)/2:(e-=2,(Math.pow(e,3)+2)/2);
},quartIn:function(e){return Math.pow(e,4)},quartOut:function(e){return-1*(Math.pow(e-1,4)-1);
},quartInOut:function(e){return e=2*e,1>e?Math.pow(e,4)/2:(e-=2,-0.5*(Math.pow(e,4)-2));
},quintIn:function(e){return Math.pow(e,5)},quintOut:function(e){return Math.pow(e-1,5)+1;
},quintInOut:function(e){return e=2*e,1>e?Math.pow(e,5)/2:(e-=2,(Math.pow(e,5)+2)/2);
},sineIn:function(e){return-1*Math.cos(e*(Math.PI/2))+1},sineOut:function(e){return Math.sin(e*(Math.PI/2));
},sineInOut:function(e){return-1*(Math.cos(Math.PI*e)-1)/2},expoIn:function(e){return 0==e?0:Math.pow(2,10*(e-1));
},expoOut:function(e){return 1==e?1:-1*Math.pow(2,-10*e)+1},expoInOut:function(e){
return 0==e?0:1==e?1:(e=2*e,1>e?Math.pow(2,10*(e-1))/2:(--e,(-1*Math.pow(2,-10*e)+2)/2));
},circIn:function(e){return-1*(Math.sqrt(1-Math.pow(e,2))-1)},circOut:function(e){
return e-=1,Math.sqrt(1-Math.pow(e,2))},circInOut:function(e){return e=2*e,1>e?-0.5*(Math.sqrt(1-Math.pow(e,2))-1):(e-=2,
.5*(Math.sqrt(1-Math.pow(e,2))+1))},backIn:function(e){var t=1.70158;return Math.pow(e,2)*((t+1)*e-t);
},backOut:function(e){e-=1;var t=1.70158;return Math.pow(e,2)*((t+1)*e+t)+1},backInOut:function(e){
var t=2.5949095;return e=2*e,1>e?Math.pow(e,2)*((t+1)*e-t)/2:(e-=2,(Math.pow(e,2)*((t+1)*e+t)+2)/2);
},elasticIn:function(e){if(0==e||1==e)return e;var t=.3,n=t/4;return e-=1,-1*Math.pow(2,10*e)*Math.sin(2*(e-n)*Math.PI/t);
},elasticOut:function(e){if(0==e||1==e)return e;var t=.3,n=t/4;return Math.pow(2,-10*e)*Math.sin(2*(e-n)*Math.PI/t)+1;
},elasticInOut:function(e){if(0==e)return 0;if(e=2*e,2==e)return 1;var t=.3*1.5,n=t/4;
return 1>e?(e-=1,-.5*Math.pow(2,10*e)*Math.sin(2*(e-n)*Math.PI/t)):(e-=1,.5*Math.pow(2,-10*e)*Math.sin(2*(e-n)*Math.PI/t)+1);
},bounceIn:function(e){return 1-t.bounceOut(1-e)},bounceOut:function(e){var t,n=7.5625,i=2.75;
return 1/i>e?t=n*Math.pow(e,2):2/i>e?(e-=1.5/i,t=n*Math.pow(e,2)+.75):2.5/i>e?(e-=2.25/i,
t=n*Math.pow(e,2)+.9375):(e-=2.625/i,t=n*Math.pow(e,2)+.984375),t},bounceInOut:function(e){
return.5>e?t.bounceIn(2*e)/2:t.bounceOut(2*e-1)/2+.5}};return e.setObject("dojo.fx.easing",t),
t}),define("dijit/Menu",["require","dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m){
return c("dijit-legacy-requires")&&m(0,function(){var t=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];
e(t)}),n("dijit.Menu",p,{constructor:function(){this._bindings=[]},targetNodeIds:[],
selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){
this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):t.forEach(this.targetNodeIds,this.bindDomNode,this),
this.inherited(arguments)},_iframeContentWindow:function(e){return d.get(this._iframeContentDocument(e))||this._iframeContentDocument(e).__parent__||e.name&&document.frames[e.name]||null;
},_iframeContentDocument:function(e){return e.contentDocument||e.contentWindow&&e.contentWindow.document||e.name&&document.frames[e.name]&&document.frames[e.name].document||null;
},bindDomNode:function(e){e=i.byId(e,this.ownerDocument);var t;if("iframe"==e.tagName.toLowerCase()){
var n=e,o=this._iframeContentWindow(n);t=h.body(o.document)}else t=e==h.body(this.ownerDocument)?this.ownerDocument.documentElement:e;
var a={node:e,iframe:n};r.set(e,"_dijitMenu"+this.id,this._bindings.push(a));var c=l.hitch(this,function(e){
var t=this.selector,i=t?function(e){return u.selector(t,e)}:function(e){return e},r=this;
return[u(e,i(this.leftClickToOpen?"click":"contextmenu"),function(e){e.stopPropagation(),
e.preventDefault(),r._scheduleOpen(this,n,{x:e.pageX,y:e.pageY})}),u(e,i("keydown"),function(e){
e.shiftKey&&e.keyCode==s.F10&&(e.stopPropagation(),e.preventDefault(),r._scheduleOpen(this,n));
})]});a.connects=t?c(t):[],n&&(a.onloadHandler=l.hitch(this,function(){var e=this._iframeContentWindow(n),t=h.body(e.document);
a.connects=c(t)}),n.addEventListener?n.addEventListener("load",a.onloadHandler,!1):n.attachEvent("onload",a.onloadHandler));
},unBindDomNode:function(e){var t;try{t=i.byId(e,this.ownerDocument)}catch(n){return;
}var o="_dijitMenu"+this.id;if(t&&r.has(t,o)){for(var a,s=r.get(t,o)-1,l=this._bindings[s];a=l.connects.pop();)a.remove();
var u=l.iframe;u&&(u.removeEventListener?u.removeEventListener("load",l.onloadHandler,!1):u.detachEvent("onload",l.onloadHandler)),
r.remove(t,o),delete this._bindings[s]}},_scheduleOpen:function(e,t,n){this._openTimer||(this._openTimer=this.defer(function(){
delete this._openTimer,this._openMyself({target:e,iframe:t,coords:n})},1))},_openMyself:function(e){
function t(){y.refocus&&x&&x.focus(),f.close(y)}var n=e.target,r=e.iframe,s=e.coords,l=!s;
if(this.currentTarget=n,s){if(r){var u=o.position(r,!0),h=this._iframeContentWindow(r),d=o.docScroll(h.document),p=a.getComputedStyle(r),m=a.toPixelValue,g=(c("ie")&&c("quirks")?0:m(r,p.paddingLeft))+(c("ie")&&c("quirks")?m(r,p.borderLeftWidth):0),v=(c("ie")&&c("quirks")?0:m(r,p.paddingTop))+(c("ie")&&c("quirks")?m(r,p.borderTopWidth):0);
s.x+=u.x+g-d.x,s.y+=u.y+v-d.y}}else s=o.position(n,!0),s.x+=10,s.y+=10;var y=this,b=this._focusManager.get("prevNode"),_=this._focusManager.get("curNode"),x=!_||i.isDescendant(_,this.domNode)?b:_;
f.open({popup:this,x:s.x,y:s.y,onExecute:t,onCancel:t,orient:this.isLeftToRight()?"L":"R"
}),this.focus(),l||this.defer(function(){this._cleanUp(!0)}),this._onBlur=function(){
this.inherited("_onBlur",arguments),f.close(this)}},destroy:function(){t.forEach(this._bindings,function(e){
e&&this.unBindDomNode(e.node)},this),this.inherited(arguments)}})}),define("dijit/PopupMenuItem",["dojo/_base/declare","dojo/dom-style","dojo/_base/lang","dojo/query","./popup","./registry","./MenuItem","./hccss"],function(e,t,n,i,r,o,a){
return e("dijit.PopupMenuItem",a,{_fillContent:function(){if(this.srcNodeRef){var e=i("*",this.srcNodeRef);
this.inherited(arguments,[e[0]]),this.dropDownContainer=this.srcNodeRef}},_openPopup:function(e,t){
var i=this.popup;r.open(n.delegate(e,{popup:this.popup,around:this.domNode})),t&&i.focus&&i.focus();
},_closePopup:function(){r.close(this.popup),this.popup.parentMenu=null},startup:function(){
if(!this._started){if(this.inherited(arguments),!this.popup){var e=i("[widgetId]",this.dropDownContainer)[0];
this.popup=o.byNode(e)}this.ownerDocumentBody.appendChild(this.popup.domNode),this.popup.domNode.setAttribute("aria-labelledby",this.containerNode.id),
this.popup.startup(),this.popup.domNode.style.display="none",this.arrowWrapper&&t.set(this.arrowWrapper,"visibility",""),
this.focusNode.setAttribute("aria-haspopup","true")}},destroyDescendants:function(e){
this.popup&&(this.popup._destroyed||this.popup.destroyRecursive(e),delete this.popup),
this.inherited(arguments)}})}),define("dojo/date",["./has","./_base/lang"],function(e,t){
var n={};return n.getDaysInMonth=function(e){var t=e.getMonth(),i=[31,28,31,30,31,30,31,31,30,31,30,31];
return 1==t&&n.isLeapYear(e)?29:i[t]},n.isLeapYear=function(e){var t=e.getFullYear();
return!(t%400&&(t%4||!(t%100)))},n.getTimezoneName=function(e){var t,n=e.toString(),i="",r=n.indexOf("(");
if(r>-1)i=n.substring(++r,n.indexOf(")"));else{var o=/([A-Z\/]+) \d{4}$/;(t=n.match(o))?i=t[1]:(n=e.toLocaleString(),
o=/ ([A-Z\/]+)$/,(t=n.match(o))&&(i=t[1]))}return"AM"==i||"PM"==i?"":i},n.compare=function(e,t,n){
return e=new Date(+e),t=new Date(+(t||new Date)),"date"==n?(e.setHours(0,0,0,0),t.setHours(0,0,0,0)):"time"==n&&(e.setFullYear(0,0,0),
t.setFullYear(0,0,0)),e>t?1:t>e?-1:0},n.add=function(e,t,n){var i=new Date(+e),r=!1,o="Date";
switch(t){case"day":break;case"weekday":var a,s,l=n%5;l?(a=l,s=parseInt(n/5)):(a=n>0?5:-5,
s=n>0?(n-5)/5:(n+5)/5);var u=e.getDay(),c=0;6==u&&n>0?c=1:0==u&&0>n&&(c=-1);var h=u+a;
(0==h||6==h)&&(c=n>0?2:-2),n=7*s+a+c;break;case"year":o="FullYear",r=!0;break;case"week":
n*=7;break;case"quarter":n*=3;case"month":r=!0,o="Month";break;default:o="UTC"+t.charAt(0).toUpperCase()+t.substring(1)+"s";
}return o&&i["set"+o](i["get"+o]()+n),r&&i.getDate()<e.getDate()&&i.setDate(0),i},
n.difference=function(e,t,i){t=t||new Date,i=i||"day";var r=t.getFullYear()-e.getFullYear(),o=1;
switch(i){case"quarter":var a=e.getMonth(),s=t.getMonth(),l=Math.floor(a/3)+1,u=Math.floor(s/3)+1;
u+=4*r,o=u-l;break;case"weekday":var c=Math.round(n.difference(e,t,"day")),h=parseInt(n.difference(e,t,"week")),d=c%7;
if(0==d)c=5*h;else{var f=0,p=e.getDay(),m=t.getDay();h=parseInt(c/7),d=c%7;var g=new Date(e);
g.setDate(g.getDate()+7*h);var v=g.getDay();if(c>0)switch(!0){case 6==p:f=-1;break;
case 0==p:f=0;break;case 6==m:f=-1;break;case 0==m:f=-2;break;case v+d>5:f=-2}else if(0>c)switch(!0){
case 6==p:f=0;break;case 0==p:f=1;break;case 6==m:f=2;break;case 0==m:f=1;break;case 0>v+d:
f=2}c+=f,c-=2*h}o=c;break;case"year":o=r;break;case"month":o=t.getMonth()-e.getMonth()+12*r;
break;case"week":o=parseInt(n.difference(e,t,"day")/7);break;case"day":o/=24;case"hour":
o/=60;case"minute":o/=60;case"second":o/=1e3;case"millisecond":o*=t.getTime()-e.getTime();
}return Math.round(o)},e("extend-dojo")&&t.mixin(t.getObject("dojo.date",!0),n),n;
}),define("dojo/cldr/supplemental",["../_base/lang","../i18n"],function(e,t){var n={};
return e.setObject("dojo.cldr.supplemental",n),n.getFirstDayOfWeek=function(e){var t={
bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,
sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,
"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,
mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,
th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0},i=n._region(e),r=t[i];return void 0===r?1:r;
},n._region=function(e){e=t.normalizeLocale(e);var n=e.split("-"),i=n[1];return i?4==i.length&&(i=n[2]):i={
aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",
be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",
co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",
en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",
ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",
ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",
it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",
kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",
lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",
mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",
ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",
os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",
sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",
sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",
tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",
uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",
ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",
ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",
bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",
bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",
ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",
crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",
dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",
fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",
grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",
hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",
kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",
kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",
kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",
kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",
lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",
mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",
mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",
mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",
nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",
pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",
saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",
sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",
sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",
syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",
tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",
twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",
vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",
zza:"tr"}[n[0]],i},n.getWeekend=function(e){var t={"in":0,af:4,dz:4,ir:4,om:4,sa:4,
ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5},i={af:5,dz:5,
ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6
},r=n._region(e),o=t[r],a=i[r];return void 0===o&&(o=6),void 0===a&&(a=0),{start:o,
end:a}},n}),define("dojo/date/locale",["../_base/lang","../_base/array","../date","../cldr/supplemental","../i18n","../regexp","../string","../i18n!../cldr/nls/gregorian","module"],function(e,t,n,i,r,o,a,s,l){
function u(e,t,n,r){return r.replace(/([a-z])\1*/gi,function(o){var s,l,u=o.charAt(0),c=o.length,h=["abbr","wide","narrow"];
switch(u){case"G":s=t[4>c?"eraAbbr":"eraNames"][e.getFullYear()<0?0:1];break;case"y":
switch(s=e.getFullYear(),c){case 1:break;case 2:if(!n.fullYear){s=String(s),s=s.substr(s.length-2);
break}default:l=!0}break;case"Q":case"q":s=Math.ceil((e.getMonth()+1)/3),l=!0;break;
case"M":case"L":var f=e.getMonth();if(3>c)s=f+1,l=!0;else{var p=["months","L"==u?"standAlone":"format",h[c-3]].join("-");
s=t[p][f]}break;case"w":var m=0;s=d._getWeekOfYear(e,m),l=!0;break;case"d":s=e.getDate(),
l=!0;break;case"D":s=d._getDayOfYear(e),l=!0;break;case"e":case"c":var g=e.getDay();
if(2>c){s=(g-i.getFirstDayOfWeek(n.locale)+8)%7;break}case"E":if(g=e.getDay(),3>c)s=g+1,
l=!0;else{var v=["days","c"==u?"standAlone":"format",h[c-3]].join("-");s=t[v][g]}
break;case"a":var y=e.getHours()<12?"am":"pm";s=n[y]||t["dayPeriods-format-wide-"+y];
break;case"h":case"H":case"K":case"k":var b=e.getHours();switch(u){case"h":s=b%12||12;
break;case"H":s=b;break;case"K":s=b%12;break;case"k":s=b||24}l=!0;break;case"m":s=e.getMinutes(),
l=!0;break;case"s":s=e.getSeconds(),l=!0;break;case"S":s=Math.round(e.getMilliseconds()*Math.pow(10,c-3)),
l=!0;break;case"v":case"z":if(s=d._getZone(e,!0,n))break;c=4;case"Z":var _=d._getZone(e,!1,n),x=[0>=_?"+":"-",a.pad(Math.floor(Math.abs(_)/60),2),a.pad(Math.abs(_)%60,2)];
4==c&&(x.splice(0,0,"GMT"),x.splice(3,0,":")),s=x.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+r);
}return l&&(s=a.pad(s,c)),s})}function c(e,n,i,r){var o=function(e){return e};n=n||o,
i=i||o,r=r||o;var a=e.match(/(''|[^'])+/g),s="'"==e.charAt(0);return t.forEach(a,function(e,t){
e?(a[t]=(s?i:n)(e.replace(/''/g,"'")),s=!s):a[t]=""}),r(a.join(""))}function h(e,t,n,i){
return i=o.escapeString(i),n.strict||(i=i.replace(" a"," ?a")),i.replace(/([a-z])\1*/gi,function(i){
var r,o=i.charAt(0),a=i.length,s="",l="";switch(n.strict?(a>1&&(s="0{"+(a-1)+"}"),
a>2&&(l="0{"+(a-2)+"}")):(s="0?",l="0{0,2}"),o){case"y":r="\\d{2,4}";break;case"M":
case"L":r=a>2?"\\S+?":"1[0-2]|"+s+"[1-9]";break;case"D":r="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+s+"[1-9][0-9]|"+l+"[1-9]";
break;case"d":r="3[01]|[12]\\d|"+s+"[1-9]";break;case"w":r="[1-4][0-9]|5[0-3]|"+s+"[1-9]";
break;case"E":case"e":case"c":r=".+?";break;case"h":r="1[0-2]|"+s+"[1-9]";break;case"k":
r="1[01]|"+s+"\\d";break;case"H":r="1\\d|2[0-3]|"+s+"\\d";break;case"K":r="1\\d|2[0-4]|"+s+"[1-9]";
break;case"m":case"s":r="[0-5]\\d";break;case"S":r="\\d{"+a+"}";break;case"a":var u=n.am||t["dayPeriods-format-wide-am"],c=n.pm||t["dayPeriods-format-wide-pm"];
r=u+"|"+c,n.strict||(u!=u.toLowerCase()&&(r+="|"+u.toLowerCase()),c!=c.toLowerCase()&&(r+="|"+c.toLowerCase()),
-1!=r.indexOf(".")&&(r+="|"+r.replace(/\./g,""))),r=r.replace(/\./g,"\\.");break;default:
r=".*"}return e&&e.push(i),"("+r+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var d={};e.setObject(l.id.replace(/\//g,"."),d),
d._getZone=function(e,t,i){return t?n.getTimezoneName(e):e.getTimezoneOffset()},d.format=function(t,n){
n=n||{};var i=r.normalizeLocale(n.locale),o=n.formatLength||"short",a=d._getGregorianBundle(i),s=[],l=e.hitch(this,u,t,a,n);
if("year"==n.selector)return c(a["dateFormatItem-yyyy"]||"yyyy",l);var h;return"date"!=n.selector&&(h=n.timePattern||a["timeFormat-"+o],
h&&s.push(c(h,l))),"time"!=n.selector&&(h=n.datePattern||a["dateFormat-"+o],h&&s.push(c(h,l))),
1==s.length?s[0]:a["dateTimeFormat-"+o].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(e,t){
return s[t]})},d.regexp=function(e){return d._parseInfo(e).regexp},d._parseInfo=function(t){
t=t||{};var n,i=r.normalizeLocale(t.locale),o=d._getGregorianBundle(i),a=t.formatLength||"short",s=t.datePattern||o["dateFormat-"+a],l=t.timePattern||o["timeFormat-"+a];
n="date"==t.selector?s:"time"==t.selector?l:o["dateTimeFormat-"+a].replace(/\{(\d+)\}/g,function(e,t){
return[l,s][t]});var u=[],f=c(n,e.hitch(this,h,u,o,t));return{regexp:f,tokens:u,bundle:o
}},d.parse=function(e,i){var r=/[\u200E\u200F\u202A\u202E]/g,o=d._parseInfo(i),a=o.tokens,s=o.bundle,l=new RegExp("^"+o.regexp.replace(r,"")+"$",o.strict?"":"i"),u=l.exec(e&&e.replace(r,""));
if(!u)return null;var c=["abbr","wide","narrow"],h=[1970,0,1,0,0,0,0],f="",p=t.every(u,function(e,n){
if(!n)return!0;var r=a[n-1],o=r.length,l=r.charAt(0);switch(l){case"y":if(2!=o&&i.strict)h[0]=e;else if(100>e){
e=Number(e);var u=""+(new Date).getFullYear(),d=100*u.substring(0,2),p=Math.min(Number(u.substring(2,4))+20,99);
h[0]=p>e?d+e:d-100+e}else{if(i.strict)return!1;h[0]=e}break;case"M":case"L":if(o>2){
var m=s["months-"+("L"==l?"standAlone":"format")+"-"+c[o-3]].concat();if(i.strict||(e=e.replace(".","").toLowerCase(),
m=t.map(m,function(e){return e.replace(".","").toLowerCase()})),e=t.indexOf(m,e),
-1==e)return!1}else e--;h[1]=e;break;case"E":case"e":case"c":var g=s["days-"+("c"==l?"standAlone":"format")+"-"+c[o-3]].concat();
if(i.strict||(e=e.toLowerCase(),g=t.map(g,function(e){return e.toLowerCase()})),e=t.indexOf(g,e),
-1==e)return!1;break;case"D":h[1]=0;case"d":h[2]=e;break;case"a":var v=i.am||s["dayPeriods-format-wide-am"],y=i.pm||s["dayPeriods-format-wide-pm"];
if(!i.strict){var b=/\./g;e=e.replace(b,"").toLowerCase(),v=v.replace(b,"").toLowerCase(),
y=y.replace(b,"").toLowerCase()}if(i.strict&&e!=v&&e!=y)return!1;f=e==y?"p":e==v?"a":"";
break;case"K":24==e&&(e=0);case"h":case"H":case"k":if(e>23)return!1;h[3]=e;break;case"m":
h[4]=e;break;case"s":h[5]=e;break;case"S":h[6]=e}return!0}),m=+h[3];"p"===f&&12>m?h[3]=m+12:"a"===f&&12==m&&(h[3]=0);
var g=new Date(h[0],h[1],h[2],h[3],h[4],h[5],h[6]);i.strict&&g.setFullYear(h[0]);var v=a.join(""),y=-1!=v.indexOf("d"),b=-1!=v.indexOf("M");
return!p||b&&g.getMonth()>h[1]||y&&g.getDate()>h[2]?null:((b&&g.getMonth()<h[1]||y&&g.getDate()<h[2])&&(g=n.add(g,"hour",1)),
g)};var f=[];return d.addCustomFormats=function(e,t){f.push({pkg:e,name:t})},d._getGregorianBundle=function(n){
var i={};return t.forEach(f,function(t){var o=r.getLocalization(t.pkg,t.name,n);i=e.mixin(i,o);
},this),i},d.addCustomFormats(l.id.replace(/\/date\/locale$/,".cldr"),"gregorian"),
d.getNames=function(e,t,n,i){var r,o=d._getGregorianBundle(i),a=[e,n,t];if("standAlone"==n){
var s=a.join("-");r=o[s],1==r[0]&&(r=void 0)}return a[1]="format",(r||o[a.join("-")]).concat();
},d.isWeekend=function(e,t){var n=i.getWeekend(t),r=(e||new Date).getDay();return n.end<n.start&&(n.end+=7,
r<n.start&&(r+=7)),r>=n.start&&r<=n.end},d._getDayOfYear=function(e){return n.difference(new Date(e.getFullYear(),0,1,e.getHours()),e)+1;
},d._getWeekOfYear=function(e,t){1==arguments.length&&(t=0);var n=new Date(e.getFullYear(),0,1).getDay(),i=(n-t+7)%7,r=Math.floor((d._getDayOfYear(e)+i-1)/7);
return n==t&&r++,r},d}),define("dojo/text!dijit/templates/Calendar.html",[],function(){
return'<table cellspacing="0" cellpadding="0" class="dijitCalendarContainer" role="grid" aria-labelledby="${id}_mddb ${id}_year" data-dojo-attach-point="gridNode">\n	<thead>\n		<tr class="dijitReset dijitCalendarMonthContainer" valign="top">\n			<th class=\'dijitReset dijitCalendarArrow\' data-dojo-attach-point="decrementMonth" scope="col">\n				<span class="dijitInline dijitCalendarIncrementControl dijitCalendarDecrease" role="presentation"></span>\n				<span data-dojo-attach-point="decreaseArrowNode" class="dijitA11ySideArrow">-</span>\n			</th>\n			<th class=\'dijitReset\' colspan="5" scope="col">\n				<div data-dojo-attach-point="monthNode">\n				</div>\n			</th>\n			<th class=\'dijitReset dijitCalendarArrow\' scope="col" data-dojo-attach-point="incrementMonth">\n				<span class="dijitInline dijitCalendarIncrementControl dijitCalendarIncrease" role="presentation"></span>\n				<span data-dojo-attach-point="increaseArrowNode" class="dijitA11ySideArrow">+</span>\n			</th>\n		</tr>\n		<tr role="row">\n			${!dayCellsHtml}\n		</tr>\n	</thead>\n	<tbody data-dojo-attach-point="dateRowsNode" data-dojo-attach-event="ondijitclick: _onDayClick" class="dijitReset dijitCalendarBodyContainer">\n			${!dateRowsHtml}\n	</tbody>\n	<tfoot class="dijitReset dijitCalendarYearContainer">\n		<tr>\n			<td class=\'dijitReset\' valign="top" colspan="7" role="presentation">\n				<div class="dijitCalendarYearLabel">\n					<span data-dojo-attach-point="previousYearLabelNode" class="dijitInline dijitCalendarPreviousYear" role="button"></span>\n					<span data-dojo-attach-point="currentYearLabelNode" class="dijitInline dijitCalendarSelectedYear" role="button" id="${id}_year"></span>\n					<span data-dojo-attach-point="nextYearLabelNode" class="dijitInline dijitCalendarNextYear" role="button"></span>\n				</div>\n			</td>\n		</tr>\n	</tfoot>\n</table>\n';
}),define("dijit/CalendarLite",["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./a11yclick","./hccss"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p){
var m=t("dijit.CalendarLite",[d,f],{templateString:p,dowTemplateString:'<th class="dijitReset dijitCalendarDayLabelTemplate" role="columnheader" scope="col"><span class="dijitCalendarDayLabel">${d}</span></th>',
dateTemplateString:'<td class="dijitReset" role="gridcell" data-dojo-attach-point="dateCells"><span class="dijitCalendarDateLabel" data-dojo-attach-point="dateLabels"></span></td>',
weekTemplateString:'<tr class="dijitReset dijitCalendarWeekTemplate" role="row">${d}${d}${d}${d}${d}${d}${d}</tr>',
value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,
_setSummaryAttr:"gridNode",baseClass:"dijitCalendar",_isValidDate:function(e){return e&&!isNaN(e)&&"object"==typeof e&&e.toString()!=this.constructor.prototype.value.toString();
},_getValueAttr:function(){var e=this._get("value");if(e&&!isNaN(e)){var t=new this.dateClassObj(e);
return t.setHours(0,0,0,0),t.getDate()<e.getDate()&&(t=this.dateModule.add(t,"hour",1)),
t}return null},_setValueAttr:function(e,t){"string"==typeof e&&(e=o.fromISOString(e)),
e=this._patchDate(e),this._isValidDate(e)&&!this.isDisabledDate(e,this.lang)?(this._set("value",e),
this.set("currentFocus",e),this._markSelectedDates([e]),this._created&&(t||"undefined"==typeof t)&&this.onChange(this.get("value"))):(this._set("value",null),
this._markSelectedDates([]))},_patchDate:function(e){return e&&(e=new this.dateClassObj(e),
e.setHours(1,0,0,0)),e},_setText:function(e,t){for(;e.firstChild;)e.removeChild(e.firstChild);
e.appendChild(e.ownerDocument.createTextNode(t))},_populateGrid:function(){var t=new this.dateClassObj(this.currentFocus);
t.setDate(1);var i=t.getDay(),r=this.dateModule.getDaysInMonth(t),o=this.dateModule.getDaysInMonth(this.dateModule.add(t,"month",-1)),a=new this.dateClassObj,s=n.getFirstDayOfWeek(this.lang);
if(s>i&&(s-=7),!this.summary){var l=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,t);
this.gridNode.setAttribute("summary",l[t.getMonth()])}this._date2cell={},e.forEach(this.dateCells,function(e,n){
var l,u=n+s,c=new this.dateClassObj(t),h="dijitCalendar",d=0;i>u?(l=o-i+u+1,d=-1,
h+="Previous"):u>=i+r?(l=u-i-r+1,d=1,h+="Next"):(l=u-i+1,h+="Current"),d&&(c=this.dateModule.add(c,"month",d)),
c.setDate(l),this.dateModule.compare(c,a,"date")||(h="dijitCalendarCurrentDate "+h),
this.isDisabledDate(c,this.lang)?(h="dijitCalendarDisabledDate "+h,e.setAttribute("aria-disabled","true")):(h="dijitCalendarEnabledDate "+h,
e.removeAttribute("aria-disabled"),e.setAttribute("aria-selected","false"));var f=this.getClassForDate(c,this.lang);
f&&(h=f+" "+h),e.className=h+"Month dijitCalendarDateTemplate";var p=c.valueOf();this._date2cell[p]=e,
e.dijitDateValue=p,this._setText(this.dateLabels[n],c.getDateLocalized?c.getDateLocalized(this.lang):c.getDate());
},this)},_populateControls:function(){var t=new this.dateClassObj(this.currentFocus);
t.setDate(1),this.monthWidget.set("month",t);var n=t.getFullYear()-1,i=new this.dateClassObj;
e.forEach(["previous","current","next"],function(e){i.setFullYear(n++),this._setText(this[e+"YearLabelNode"],this.dateLocaleModule.format(i,{
selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj);
},constructor:function(e){this.dateModule=e.datePackage?l.getObject(e.datePackage,!1):i,
this.dateClassObj=this.dateModule.Date||Date,this.dateLocaleModule=e.datePackage?l.getObject(e.datePackage+".locale",!1):r;
},_createMonthWidget:function(){return m._MonthWidget({id:this.id+"_mddb",lang:this.lang,
dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){
var e=this.dowTemplateString,t=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),i=n.getFirstDayOfWeek(this.lang);
this.dayCellsHtml=h.substitute([e,e,e,e,e,e,e].join(""),{d:""},function(){return t[i++%7];
});var r=h.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join(""),
this.dateCells=[],this.dateLabels=[],this.inherited(arguments),a.setSelectable(this.domNode,!1);
var o=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget(),
this.set("currentFocus",o,!1)},postCreate:function(){this.inherited(arguments),this._connectControls();
},_connectControls:function(){var e=l.hitch(this,function(e,t,n){return u(this[e],"click",l.hitch(this,function(){
this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,t,n))}))});this.own(e("incrementMonth","month",1),e("decrementMonth","month",-1),e("nextYearLabelNode","year",1),e("previousYearLabelNode","year",-1));
},_setCurrentFocusAttr:function(e,t){var n=this.currentFocus,i=this._getNodeByDate(n);
e=this._patchDate(e),this._set("currentFocus",e),this._date2cell&&0==this.dateModule.difference(n,e,"month")||(this._populateGrid(),
this._populateControls(),this._markSelectedDates([this.value]));var r=this._getNodeByDate(e);
r.setAttribute("tabIndex",this.tabIndex),(this.focused||t)&&r.focus(),i&&i!=r&&(c("webkit")?i.setAttribute("tabIndex","-1"):i.removeAttribute("tabIndex"));
},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(e){
e.stopPropagation(),e.preventDefault();for(var t=e.target;t&&!t.dijitDateValue;t=t.parentNode);
t&&!s.contains(t,"dijitCalendarDisabledDate")&&this.set("value",t.dijitDateValue);
},_getNodeByDate:function(e){return e=this._patchDate(e),e&&this._date2cell?this._date2cell[e.valueOf()]:null;
},_markSelectedDates:function(t){function n(e,t){s.toggle(t,"dijitCalendarSelectedDate",e),
t.setAttribute("aria-selected",e?"true":"false")}e.forEach(this._selectedCells||[],l.partial(n,!1)),
this._selectedCells=e.filter(e.map(t,this._getNodeByDate,this),function(e){return e;
}),e.forEach(this._selectedCells,l.partial(n,!0))},onChange:function(){},isDisabledDate:function(){},
getClassForDate:function(){}});return m._MonthWidget=t("dijit.CalendarLite._MonthWidget",d,{
_setMonthAttr:function(t){var n=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,t),i=6==c("ie")?"":"<div class='dijitSpacer'>"+e.map(n,function(e){
return"<div>"+e+"</div>"}).join("")+"</div>";this.domNode.innerHTML=i+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+n[t.getMonth()]+"</div>";
}}),m}),define("dojo/text!dijit/form/templates/DropDownButton.html",[],function(){
return'<span class="dijit dijitReset dijitInline"\n	><span class=\'dijitReset dijitInline dijitButtonNode\'\n		data-dojo-attach-event="ondijitclick:__onClick" data-dojo-attach-point="_buttonNode"\n		><span class="dijitReset dijitStretch dijitButtonContents"\n			data-dojo-attach-point="focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n			role="button" aria-haspopup="true" aria-labelledby="${id}_label"\n			><span class="dijitReset dijitInline dijitIcon"\n				data-dojo-attach-point="iconNode"\n			></span\n			><span class="dijitReset dijitInline dijitButtonText"\n				data-dojo-attach-point="containerNode"\n				id="${id}_label"\n			></span\n			><span class="dijitReset dijitInline dijitArrowButtonInner"></span\n			><span class="dijitReset dijitInline dijitArrowButtonChar">&#9660;</span\n		></span\n	></span\n	><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen" tabIndex="-1"\n		data-dojo-attach-event="onclick:_onClick"\n		data-dojo-attach-point="valueNode" role="presentation"\n/></span>\n';
}),define("dijit/form/DropDownButton",["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(e,t,n,i,r,o,a,s,l){
return e("dijit.form.DropDownButton",[o,a,s],{baseClass:"dijitDropDownButton",templateString:l,
_fillContent:function(){if(this.srcNodeRef){var e=n("*",this.srcNodeRef);this.inherited(arguments,[e[0]]),
this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){
var e=n("[widgetId]",this.dropDownContainer)[0];e&&(this.dropDown=i.byNode(e)),delete this.dropDownContainer;
}this.dropDown&&r.hide(this.dropDown),this.inherited(arguments)}},isLoaded:function(){
var e=this.dropDown;return!!e&&(!e.href||e.isLoaded)},loadDropDown:function(e){var n=this.dropDown,i=n.on("load",t.hitch(this,function(){
i.remove(),e()}));n.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;
}})}),define("dijit/Calendar",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m){
var g=i("dijit.Calendar",[h,d,f],{cssStateNodes:{decrementMonth:"dijitCalendarArrow",
incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",
nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(e){a.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0"),
this.set("value",e)},_createMonthWidget:function(){return new g._MonthDropDownButton({
id:this.id+"_mddb",tabIndex:-1,onMonthSelect:l.hitch(this,"_onMonthSelect"),lang:this.lang,
dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments),
this.own(u(this.domNode,"keydown",l.hitch(this,"_onKeyDown")),u(this.dateRowsNode,"mouseover",l.hitch(this,"_onDayMouseOver")),u(this.dateRowsNode,"mouseout",l.hitch(this,"_onDayMouseOut")),u(this.dateRowsNode,"mousedown",l.hitch(this,"_onDayMouseDown")),u(this.dateRowsNode,"mouseup",l.hitch(this,"_onDayMouseUp")));
},_onMonthSelect:function(e){var t=new this.dateClassObj(this.currentFocus);t.setDate(1),
t.setMonth(e);var n=this.dateModule.getDaysInMonth(t),i=this.currentFocus.getDate();
t.setDate(Math.min(i,n)),this._setCurrentFocusAttr(t)},_onDayMouseOver:function(e){
var t=o.contains(e.target,"dijitCalendarDateLabel")?e.target.parentNode:e.target;t&&(t.dijitDateValue&&!o.contains(t,"dijitCalendarDisabledDate")||t==this.previousYearLabelNode||t==this.nextYearLabelNode)&&(o.add(t,"dijitCalendarHoveredDate"),
this._currentNode=t)},_onDayMouseOut:function(e){if(this._currentNode&&(!e.relatedTarget||e.relatedTarget.parentNode!=this._currentNode)){
var t="dijitCalendarHoveredDate";o.contains(this._currentNode,"dijitCalendarActiveDate")&&(t+=" dijitCalendarActiveDate"),
o.remove(this._currentNode,t),this._currentNode=null}},_onDayMouseDown:function(e){
var t=e.target.parentNode;t&&t.dijitDateValue&&!o.contains(t,"dijitCalendarDisabledDate")&&(o.add(t,"dijitCalendarActiveDate"),
this._currentNode=t)},_onDayMouseUp:function(e){var t=e.target.parentNode;t&&t.dijitDateValue&&o.remove(t,"dijitCalendarActiveDate");
},handleKey:function(e){var t,n=-1,i=this.currentFocus;switch(e.keyCode){case s.RIGHT_ARROW:
n=1;case s.LEFT_ARROW:t="day",this.isLeftToRight()||(n*=-1);break;case s.DOWN_ARROW:
n=1;case s.UP_ARROW:t="week";break;case s.PAGE_DOWN:n=1;case s.PAGE_UP:t=e.ctrlKey||e.altKey?"year":"month";
break;case s.END:i=this.dateModule.add(i,"month",1),t="day";case s.HOME:i=new this.dateClassObj(i),
i.setDate(1);break;default:return!0}return t&&(i=this.dateModule.add(i,t,n)),this._setCurrentFocusAttr(i),
!1},_onKeyDown:function(e){this.handleKey(e)||(e.stopPropagation(),e.preventDefault());
},onValueSelected:function(){},onChange:function(e){this.onValueSelected(e)},getClassForDate:function(){}
});return g._MonthDropDownButton=i("dijit.Calendar._MonthDropDownButton",m,{onMonthSelect:function(){},
postCreate:function(){this.inherited(arguments),this.dropDown=new g._MonthDropDown({
id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(e){var t=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,e);
this.dropDown.set("months",t),this.containerNode.innerHTML=(6==c("ie")?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+t[e.getMonth()]+"</div>";
}}),g._MonthDropDown=i("dijit.Calendar._MonthDropDown",[d,p],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",
_setMonthsAttr:function(t){this.domNode.innerHTML=e.map(t,function(e,t){return e?"<div class='dijitCalendarMonthLabel' month='"+t+"'>"+e+"</div>":"";
}).join("")},_onClick:function(e){this.onChange(r.get(e.target,"month"))},onChange:function(){},
_onMenuHover:function(e){o.toggle(e.target,"dijitCalendarMonthLabelHover","mouseover"==e.type);
}}),g}),define("dijit/form/MappedTextBox",["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(e,t,n,i){
return e("dijit.form.MappedTextBox",i,{postMixInProperties:function(){this.inherited(arguments),
this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(e){return e.toString?e.toString():"";
},toString:function(){var e=this.filter(this.get("value"));return null!=e?"string"==typeof e?e:this.serialize(e,this.constraints):"";
},validate:function(){return this.valueNode.value=this.toString(),this.inherited(arguments);
},buildRendering:function(){this.inherited(arguments),this.valueNode=n.place("<input type='hidden'"+(this.name&&!t("msapp")?' name="'+this.name.replace(/"/g,"&quot;")+'"':"")+"/>",this.textbox,"after");
},reset:function(){this.valueNode.value="",this.inherited(arguments)}})}),define("dijit/form/RangeBoundTextBox",["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(e,t,n){
var i=e("dijit.form.RangeBoundTextBox",n,{rangeMessage:"",rangeCheck:function(e,t){
return("min"in t?this.compare(e,t.min)>=0:!0)&&("max"in t?this.compare(e,t.max)<=0:!0);
},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints);
},_isDefinitelyOutOfRange:function(){var e=this.get("value");if(null==e)return!1;var t=!1;
if("min"in this.constraints){var n=this.constraints.min;t=this.compare(e,"number"==typeof n&&n>=0&&0!=e?0:n)<0;
}if(!t&&"max"in this.constraints){var i=this.constraints.max;t=this.compare(e,"number"!=typeof i||i>0?i:0)>0;
}return t},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();
},isValid:function(e){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(e));
},getErrorMessage:function(e){var t=this.get("value");return null==t||""===t||"number"==typeof t&&isNaN(t)||this.isInRange(e)?this.inherited(arguments):this.rangeMessage;
},postMixInProperties:function(){this.inherited(arguments),this.rangeMessage||(this.messages=t.getLocalization("dijit.form","validate",this.lang),
this.rangeMessage=this.messages.rangeMessage)}});return i}),define("dijit/form/_DateTimeTextBox",["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(e,t,n,i,r,o,a,s){
new Date("X");var l=i("dijit.form._DateTimeTextBox",[o,a],{templateString:s,hasDownArrow:!0,
cssStateNodes:{_buttonNode:"dijitDownArrowButton"},pattern:t.regexp,datePackage:"",
postMixInProperties:function(){this.inherited(arguments),this._set("type","text");
},compare:function(t,n){var i=this._isInvalidDate(t),r=this._isInvalidDate(n);return i?r?0:-1:r?1:e.compare(t,n,this._selector);
},autoWidth:!0,format:function(e,t){return e?this.dateLocaleModule.format(e,t):"";
},parse:function(e,t){return this.dateLocaleModule.parse(e,t)||(this._isEmpty(e)?null:void 0);
},serialize:function(e,t){return e.toGregorian&&(e=e.toGregorian()),n.toISOString(e,t);
},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",
_selector:"",constructor:function(n){this.dateModule=n.datePackage?r.getObject(n.datePackage,!1):e,
this.dateClassObj=this.dateModule.Date||Date,this.dateLocaleModule=n.datePackage?r.getObject(n.datePackage+".locale",!1):t,
this._set("pattern",this.dateLocaleModule.regexp),this._invalidDate=this.constructor.prototype.value.toString();
},buildRendering:function(){this.inherited(arguments),this.hasDownArrow||(this._buttonNode.style.display="none"),
this.hasDownArrow||(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick");
},_setConstraintsAttr:function(e){e.selector=this._selector,e.fullYear=!0;var t=n.fromISOString;
"string"==typeof e.min&&(e.min=t(e.min)),"string"==typeof e.max&&(e.max=t(e.max)),
this.inherited(arguments)},_isInvalidDate:function(e){return!e||isNaN(e)||"object"!=typeof e||e.toString()==this._invalidDate;
},_setValueAttr:function(e,t,i){void 0!==e&&("string"==typeof e&&(e=n.fromISOString(e)),
this._isInvalidDate(e)&&(e=null),e instanceof Date&&!(this.dateClassObj instanceof Date)&&(e=new this.dateClassObj(e))),
this.inherited(arguments),this.value instanceof Date&&(this.filterString=""),this.dropDown&&this.dropDown.set("value",e,!1);
},_set:function(e,t){var n=this._get("value");"value"==e&&n instanceof Date&&0==this.compare(t,n)||this.inherited(arguments);
},_setDropDownDefaultValueAttr:function(e){this._isInvalidDate(e)&&(e=new this.dateClassObj),
this._set("dropDownDefaultValue",e)},openDropDown:function(e){this.dropDown&&this.dropDown.destroy();
var t=r.isString(this.popupClass)?r.getObject(this.popupClass,!1):this.popupClass,n=this,i=this.get("value");
this.dropDown=new t({onChange:function(e){n.set("value",e,!0)},id:this.id+"_popup",
dir:n.dir,lang:n.lang,value:i,textDir:n.textDir,currentFocus:this._isInvalidDate(i)?this.dropDownDefaultValue:i,
constraints:n.constraints,filterString:n.filterString,datePackage:n.params.datePackage,
isDisabledDate:function(e){return!n.rangeCheck(e,n.constraints)}}),this.inherited(arguments);
},_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(e,t){
this._setValueAttr(this.parse(e,this.constraints),t,e)}});return l}),define("dijit/form/DateTextBox",["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(e,t,n){
return e("dijit.form.DateTextBox",n,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",
popupClass:t,_selector:"date",maxHeight:1/0,value:new Date("")})}),define("dojo/text!dijit/layout/templates/TabContainer.html",[],function(){
return'<div class="dijitTabContainer">\n  <div class="dijitTabListWrapper" dojoAttachPoint="tablistNode"></div>\n  <div dojoAttachPoint="tablistSpacer" class="dijitTabSpacer ${baseClass}-spacer"></div>\n  <div class="dijitTabPaneWrapper" dojoAttachPoint="containerNode"></div>\n</div>\n';
}),define("dijit/layout/StackContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/topic","dojo/when","../registry","../_WidgetBase","./_LayoutWidget","dojo/i18n!../nls/common"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f){
o("dijit-legacy-requires")&&l(0,function(){var e=["dijit/layout/StackController"];
require(e)});var p=n("dijit.layout.StackContainer",f,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",
buildRendering:function(){this.inherited(arguments),i.add(this.domNode,"dijitLayoutContainer");
},postCreate:function(){this.inherited(arguments),this.own(s(this.domNode,"keydown",a.hitch(this,"_onKeyDown")));
},startup:function(){if(!this._started){var n=this.getChildren();e.forEach(n,this._setupChild,this),
this.persist?this.selectedChildWidget=h.byId(t(this.id+"_selectedChild")):e.some(n,function(e){
return e.selected&&(this.selectedChildWidget=e),e.selected},this);var i=this.selectedChildWidget;
!i&&n[0]&&(i=this.selectedChildWidget=n[0],i.selected=!0),u.publish(this.id+"-startup",{
children:n,selected:i,textDir:this.textDir}),this.inherited(arguments)}},resize:function(){
if(!this._hasBeenShown){this._hasBeenShown=!0;var e=this.selectedChildWidget;e&&this._showChild(e);
}this.inherited(arguments)},_setupChild:function(e){var t=e.domNode,n=r.place("<div role='tabpanel' class='"+this.baseClass+"ChildWrapper dijitHidden'>",e.domNode,"replace"),i=e["aria-label"]||e.title||e.label;
i&&n.setAttribute("aria-label",i),r.place(t,n),e._wrapper=n,this.inherited(arguments),
"none"==t.style.display&&(t.style.display="block"),e.domNode.title=""},addChild:function(e,t){
this.inherited(arguments),this._started&&(u.publish(this.id+"-addChild",e,t),this.layout(),
this.selectedChildWidget||this.selectChild(e))},removeChild:function(t){var n=e.indexOf(this.getChildren(),t);
if(this.inherited(arguments),r.destroy(t._wrapper),delete t._wrapper,this._started&&u.publish(this.id+"-removeChild",t),
!this._descendantsBeingDestroyed){if(this.selectedChildWidget===t&&(this.selectedChildWidget=void 0,
this._started)){var i=this.getChildren();i.length&&this.selectChild(i[Math.max(n-1,0)]);
}this._started&&this.layout()}},selectChild:function(e,n){var i;return e=h.byId(e),
this.selectedChildWidget!=e&&(i=this._transition(e,this.selectedChildWidget,n),this._set("selectedChildWidget",e),
u.publish(this.id+"-selectChild",e),this.persist&&t(this.id+"_selectedChild",this.selectedChildWidget.id)),
c(i||!0)},_transition:function(e,t){t&&this._hideChild(t);var n=this._showChild(e);
return e.resize&&(this.doLayout?e.resize(this._containerContentBox||this._contentBox):e.resize()),
n},_adjacent:function(t){var n=this.getChildren(),i=e.indexOf(n,this.selectedChildWidget);
return i+=t?1:n.length-1,n[i%n.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0);
},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(e){
u.publish(this.id+"-containerKeyDown",{e:e,page:this})},layout:function(){var e=this.selectedChildWidget;
e&&e.resize&&(this.doLayout?e.resize(this._containerContentBox||this._contentBox):e.resize());
},_showChild:function(e){var t=this.getChildren();return e.isFirstChild=e==t[0],e.isLastChild=e==t[t.length-1],
e._set("selected",!0),e._wrapper&&i.replace(e._wrapper,"dijitVisible","dijitHidden"),
e._onShow&&e._onShow()||!0},_hideChild:function(e){e._set("selected",!1),e._wrapper&&i.replace(e._wrapper,"dijitHidden","dijitVisible"),
e.onHide&&e.onHide()},closeChild:function(e){var t=e.onClose&&e.onClose(this,e);t&&(this.removeChild(e),
e.destroyRecursive())},destroyDescendants:function(t){this._descendantsBeingDestroyed=!0,
this.selectedChildWidget=void 0,e.forEach(this.getChildren(),function(e){t||this.removeChild(e),
e.destroyRecursive(t)},this),this._descendantsBeingDestroyed=!1}});return p.ChildWidgetProperties={
selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0},a.extend(d,p.ChildWidgetProperties),
p}),define("dijit/layout/_TabContainerBase",["dojo/text!./templates/TabContainer.html","./StackContainer","./utils","../_TemplatedMixin","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(e,t,n,i,r,o,a,s){
return r("dijit.layout._TabContainerBase",[t,i],{tabPosition:"top",baseClass:"dijitTabContainer",
tabStrip:!1,nested:!1,templateString:e,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,""),
this.srcNodeRef&&s.set(this.srcNodeRef,"visibility","hidden"),this.inherited(arguments);
},buildRendering:function(){this.inherited(arguments),this.tablist=this._makeController(this.tablistNode),
this.doLayout||o.add(this.domNode,"dijitTabContainerNoLayout"),this.nested?(o.add(this.domNode,"dijitTabContainerNested"),
o.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),o.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),
o.add(this.containerNode,"dijitTabPaneWrapperNested")):o.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));
},_setupChild:function(e){o.add(e.domNode,"dijitTabPane"),this.inherited(arguments);
},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments));
},layout:function(){if(this._contentBox&&"undefined"!=typeof this._contentBox.l){
var e=this.selectedChildWidget;if(this.doLayout){var t=this.tabPosition.replace(/-h/,"");
this.tablist.region=t;var i=[this.tablist,{domNode:this.tablistSpacer,region:t},{
domNode:this.containerNode,region:"center"}];n.layoutChildren(this.domNode,this._contentBox,i),
this._containerContentBox=n.marginBox2contentBox(this.containerNode,i[2]),e&&e.resize&&e.resize(this._containerContentBox);
}else{if(this.tablist.resize){var r=this.tablist.domNode.style;r.width="0";var o=a.getContentBox(this.domNode).w;
r.width="",this.tablist.resize({w:o})}e&&e.resize&&e.resize()}}},destroy:function(e){
this.tablist&&this.tablist.destroy(e),this.inherited(arguments)}})}),define("dijit/layout/StackController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/touch","dojo/i18n!../nls/common"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f){
var p=t("dijit.layout._StackButton",f,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",
buildRendering:function(e){this.inherited(arguments),(this.focusNode||this.domNode).setAttribute("role","tab");
}}),m=t("dijit.layout.StackController",[c,h,d],{baseClass:"dijitStackController",
templateString:"<span role='tablist' data-dojo-attach-event='onkeydown'></span>",
containerId:"",buttonWidget:p,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(e){
return u.byId(this.id+"_"+e)},postCreate:function(){this.inherited(arguments),this.own(s.subscribe(this.containerId+"-startup",o.hitch(this,"onStartup")),s.subscribe(this.containerId+"-addChild",o.hitch(this,"onAddChild")),s.subscribe(this.containerId+"-removeChild",o.hitch(this,"onRemoveChild")),s.subscribe(this.containerId+"-selectChild",o.hitch(this,"onSelectChild")),s.subscribe(this.containerId+"-containerKeyDown",o.hitch(this,"onContainerKeyDown"))),
this.containerNode.dojoClick=!0,this.own(a(this.containerNode,"click",o.hitch(this,function(e){
var t=u.getEnclosingWidget(e.target);if(t!=this.containerNode&&!t.disabled&&t.page)for(var i=e.target;i!==this.containerNode;i=i.parentNode){
if(n.contains(i,this.buttonWidgetCloseClass)){this.onCloseButtonClick(t.page);break;
}if(i==t.domNode){this.onButtonClick(t.page);break}}})))},onStartup:function(t){this.textDir=t.textDir,
e.forEach(t.children,this.onAddChild,this),t.selected&&this.onSelectChild(t.selected);
var n=u.byId(this.containerId).containerNode,i=o.hitch(this,"pane2button"),r={title:"label",
showtitle:"showLabel",iconclass:"iconClass",closable:"closeButton",tooltip:"title",
disabled:"disabled",textdir:"textdir"},s=function(e,t){return a(n,"attrmodified-"+e,function(e){
var n=i(e.detail&&e.detail.widget&&e.detail.widget.id);n&&n.set(t,e.detail.newValue);
})};for(var l in r)this.own(s(l,r[l]))},destroy:function(e){this.destroyDescendants(e),
this.inherited(arguments)},onAddChild:function(e,t){var n=o.isString(this.buttonWidget)?o.getObject(this.buttonWidget):this.buttonWidget,i=new n({
id:this.id+"_"+e.id,name:this.id+"_"+e.id,label:e.title,disabled:e.disabled,ownerDocument:this.ownerDocument,
dir:e.dir,lang:e.lang,textDir:e.textDir||this.textDir,showLabel:e.showTitle,iconClass:e.iconClass,
closeButton:e.closable,title:e.tooltip,page:e});this.addChild(i,t),e.controlButton=i,
this._currentChild||this.onSelectChild(e);var r=e._wrapper.getAttribute("aria-labelledby")?e._wrapper.getAttribute("aria-labelledby")+" "+i.id:i.id;
e._wrapper.removeAttribute("aria-label"),e._wrapper.setAttribute("aria-labelledby",r);
},onRemoveChild:function(e){this._currentChild===e&&(this._currentChild=null);var t=this.pane2button(e.id);
t&&(this.removeChild(t),t.destroy()),delete e.controlButton},onSelectChild:function(e){
if(e){if(this._currentChild){var t=this.pane2button(this._currentChild.id);t.set("checked",!1),
t.focusNode.setAttribute("tabIndex","-1")}var n=this.pane2button(e.id);n.set("checked",!0),
this._currentChild=e,n.focusNode.setAttribute("tabIndex","0");u.byId(this.containerId);
}},onButtonClick:function(e){var t=this.pane2button(e.id);l.focus(t.focusNode),this._currentChild&&this._currentChild.id===e.id&&t.set("checked",!0);
var n=u.byId(this.containerId);n.selectChild(e)},onCloseButtonClick:function(e){var t=u.byId(this.containerId);
if(t.closeChild(e),this._currentChild){var n=this.pane2button(this._currentChild.id);
n&&l.focus(n.focusNode||n.domNode)}},adjacent:function(t){this.isLeftToRight()||this.tabPosition&&!/top|bottom/.test(this.tabPosition)||(t=!t);
var n,i=this.getChildren(),r=e.indexOf(i,this.pane2button(this._currentChild.id)),o=i[r];
do r=(r+(t?1:i.length-1))%i.length,n=i[r];while(n.disabled&&n!=o);return n},onkeydown:function(e,t){
if(!this.disabled&&!e.altKey){var n=null;if(e.ctrlKey||!e._djpage){switch(e.keyCode){
case r.LEFT_ARROW:case r.UP_ARROW:e._djpage||(n=!1);break;case r.PAGE_UP:e.ctrlKey&&(n=!1);
break;case r.RIGHT_ARROW:case r.DOWN_ARROW:e._djpage||(n=!0);break;case r.PAGE_DOWN:
e.ctrlKey&&(n=!0);break;case r.HOME:for(var i=this.getChildren(),o=0;o<i.length;o++){
var a=i[o];if(!a.disabled){this.onButtonClick(a.page);break}}e.stopPropagation(),
e.preventDefault();break;case r.END:for(var i=this.getChildren(),o=i.length-1;o>=0;o--){
var a=i[o];if(!a.disabled){this.onButtonClick(a.page);break}}e.stopPropagation(),
e.preventDefault();break;case r.DELETE:case"W".charCodeAt(0):this._currentChild.closable&&(e.keyCode==r.DELETE||e.ctrlKey)&&(this.onCloseButtonClick(this._currentChild),
e.stopPropagation(),e.preventDefault());break;case r.TAB:e.ctrlKey&&(this.onButtonClick(this.adjacent(!e.shiftKey).page),
e.stopPropagation(),e.preventDefault())}null!==n&&(this.onButtonClick(this.adjacent(n).page),
e.stopPropagation(),e.preventDefault())}}},onContainerKeyDown:function(e){e.e._djpage=e.page,
this.onkeydown(e.e)}});return m.StackButton=p,m}),define("dojo/text!dijit/layout/templates/_TabButton.html",[],function(){
return'<div role="presentation" data-dojo-attach-point="titleNode,innerDiv,tabContent" class="pentaho-tabWidget">\n  <span role="presentation" class="dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point="iconNode"></span>\n  <span data-dojo-attach-point=\'containerNode,focusNode\' class=\'pentaho-tabWidgetLabel\'></span>\n  <span class="dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point=\'closeNode\'\n      role="presentation">\n    <span data-dojo-attach-point=\'closeText\' class=\'dijitTabCloseText\'>[x]</span\n        ></span>\n</div>\n';
}),define("dijit/layout/TabController",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/has","dojo/i18n","dojo/_base/lang","./StackController","../registry","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(e,t,n,i,r,o,a,s,l,u,c,h){
var d=e("dijit.layout._TabButton"+(r("dojo-bidi")?"_NoBidi":""),s.StackButton,{baseClass:"dijitTab",
cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:h,_setNameAttr:"focusNode",
scrollOnFocus:!1,buildRendering:function(){this.inherited(arguments),t.setSelectable(this.containerNode,!1);
},startup:function(){this.inherited(arguments);var e=this.domNode;this.defer(function(){
e.className=e.className},1)},_setCloseButtonAttr:function(e){if(this._set("closeButton",e),
i.toggle(this.domNode,"dijitClosable",e),this.closeNode.style.display=e?"":"none",
e){var t=o.getLocalization("dijit","common");this.closeNode&&n.set(this.closeNode,"title",t.itemClose);
}},_setDisabledAttr:function(e){if(this.inherited(arguments),this.closeNode)if(e)n.remove(this.closeNode,"title");else{
var t=o.getLocalization("dijit","common");n.set(this.closeNode,"title",t.itemClose);
}},_setLabelAttr:function(e){this.inherited(arguments),this.showLabel||this.params.title||(this.iconNode.alt=a.trim(this.containerNode.innerText||this.containerNode.textContent||""));
}});r("dojo-bidi")&&(d=e("dijit.layout._TabButton",d,{_setLabelAttr:function(e){this.inherited(arguments),
this.applyTextDir(this.iconNode,this.iconNode.alt)}}));var f=e("dijit.layout.TabController",s,{
baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'></div>",
tabPosition:"top",buttonWidget:d,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){
this.inherited(arguments);var e=new u({id:this.id+"_Menu",ownerDocument:this.ownerDocument,
dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(e){
return i.contains(e,"dijitClosable")&&!i.contains(e,"dijitTabDisabled")}});this.own(e);
var t=o.getLocalization("dijit","common"),n=this;e.addChild(new c({label:t.itemClose,
ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,
onClick:function(e){var t=l.byNode(this.getParent().currentTarget);n.onCloseButtonClick(t.page);
}}))}});return f.TabButton=d,f}),define("dojo/text!dijit/layout/templates/ScrollingTabController.html",[],function(){
return'<div class="dijitTabListContainer-${tabPosition}" style="visibility:hidden">\n	<div data-dojo-type="dijit.layout._ScrollingTabControllerMenuButton"\n		 class="tabStripButton-${tabPosition}"\n		 id="${id}_menuBtn"\n		 data-dojo-props="containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\n					dropDownPosition: [\'below-alt\', \'above-alt\']"\n		 data-dojo-attach-point="_menuBtn" showLabel="false" title="">&#9660;</div>\n	<div data-dojo-type="dijit.layout._ScrollingTabControllerButton"\n		 class="tabStripButton-${tabPosition}"\n		 id="${id}_leftBtn"\n		 data-dojo-props="iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\n		 data-dojo-attach-point="_leftBtn" data-dojo-attach-event="onClick: doSlideLeft">&#9664;</div>\n	<div data-dojo-type="dijit.layout._ScrollingTabControllerButton"\n		 class="tabStripButton-${tabPosition}"\n		 id="${id}_rightBtn"\n		 data-dojo-props="iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\n		 data-dojo-attach-point="_rightBtn" data-dojo-attach-event="onClick: doSlideRight">&#9654;</div>\n	<div class=\'dijitTabListWrapper\' data-dojo-attach-point=\'tablistWrapper\'>\n		<div role=\'tablist\' data-dojo-attach-event=\'onkeydown:onkeydown\'\n			 data-dojo-attach-point=\'containerNode\' class=\'nowrapTabStrip\'></div>\n	</div>\n</div>';
}),define("dojo/text!dijit/layout/templates/_ScrollingTabControllerButton.html",[],function(){
return'<div data-dojo-attach-event="ondijitclick:_onClick" class="dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point="focusNode" role="button">\n	<span role="presentation" class="dijitInline dijitTabStripIcon" data-dojo-attach-point="iconNode"></span>\n	<span data-dojo-attach-point="containerNode,titleNode" class="dijitButtonText"></span>\n</div>';
}),define("dijit/layout/ScrollingTabController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/on","dojo/query","dojo/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom","../a11yclick"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b){
var _=t("dijit.layout.ScrollingTabController",[f,m],{baseClass:"dijitTabController dijitScrollingTabController",
templateString:h,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{
node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);
var e=this.domNode;this.scrollNode=this.tablistWrapper,this._initButtons(),this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None",
n.add(e,"tabStrip-disabled")),n.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){
this.inherited(arguments),r.set(this.domNode,"visibility",""),this._postStartup=!0,
this.own(s(this.containerNode,"attrmodified-label, attrmodified-iconclass",a.hitch(this,function(e){
this._dim&&this.resize(this._dim)})))},onAddChild:function(e,t){this.inherited(arguments),
r.set(this.containerNode,"width",r.get(this.containerNode,"width")+200+"px")},onRemoveChild:function(e,t){
var n=this.pane2button(e.id);this._selectedTab===n.domNode&&(this._selectedTab=null),
this.inherited(arguments)},_initButtons:function(){this._btnWidth=0,this._buttons=l("> .tabStripButton",this.domNode).filter(function(e){
return this.useMenu&&e==this._menuBtn.domNode||this.useSlider&&(e==this._rightBtn.domNode||e==this._leftBtn.domNode)?(this._btnWidth+=i.getMarginSize(e).w,
!0):(r.set(e,"display","none"),!1)},this)},_getTabsWidth:function(){var e=this.getChildren();
if(e.length){var t=e[this.isLeftToRight()?0:e.length-1].domNode,n=e[this.isLeftToRight()?e.length-1:0].domNode;
return n.offsetLeft+n.offsetWidth-t.offsetLeft}return 0},_enableBtn:function(e){var t=this._getTabsWidth();
return e=e||r.get(this.scrollNode,"width"),t>0&&t>e},resize:function(e){this._dim=e,
this.scrollNode.style.height="auto";var t=this._contentBox=p.marginBox2contentBox(this.domNode,{
h:0,w:e.w});t.h=this.scrollNode.offsetHeight,i.setContentSize(this.domNode,t);var n=this._enableBtn(this._contentBox.w);
return this._buttons.style("display",n?"":"none"),this._leftBtn.region="left",this._rightBtn.region="right",
this._menuBtn.region=this.isLeftToRight()?"right":"left",p.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{
domNode:this.scrollNode,region:"center"}]),this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),
this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab())),
this._setButtonClass(this._getScroll()),this._postResize=!0,{h:this._contentBox.h,
w:e.w}},_getScroll:function(){return this.isLeftToRight()||u("ie")<8||u("ie")&&u("quirks")||u("webkit")?this.scrollNode.scrollLeft:r.get(this.containerNode,"width")-r.get(this.scrollNode,"width")+(u("ie")>=8?-1:1)*this.scrollNode.scrollLeft;
},_convertToScrollLeft:function(e){if(this.isLeftToRight()||u("ie")<8||u("ie")&&u("quirks")||u("webkit"))return e;
var t=r.get(this.containerNode,"width")-r.get(this.scrollNode,"width");return(u("ie")>=8?-1:1)*(e-t);
},onSelectChild:function(e){var t=this.pane2button(e.id);if(t){var n=t.domNode;if(n!=this._selectedTab&&(this._selectedTab=n,
this._postResize)){var i=this._getScroll();(i>n.offsetLeft||i+r.get(this.scrollNode,"width")<n.offsetLeft+r.get(n,"width"))&&this.createSmoothScroll().play();
}this.inherited(arguments)}},_getScrollBounds:function(){var e=this.getChildren(),t=r.get(this.scrollNode,"width"),n=r.get(this.containerNode,"width"),i=n-t,o=this._getTabsWidth();
if(e.length&&o>t)return{min:this.isLeftToRight()?0:e[e.length-1].domNode.offsetLeft,
max:this.isLeftToRight()?e[e.length-1].domNode.offsetLeft+e[e.length-1].domNode.offsetWidth-t:i
};var a=this.isLeftToRight()?0:i;return{min:a,max:a}},_getScrollForSelectedTab:function(){
var e=(this.scrollNode,this._selectedTab),t=r.get(this.scrollNode,"width"),n=this._getScrollBounds(),i=e.offsetLeft+r.get(e,"width")/2-t/2;
return i=Math.min(Math.max(i,n.min),n.max)},createSmoothScroll:function(e){if(arguments.length>0){
var t=this._getScrollBounds();e=Math.min(Math.max(e,t.min),t.max)}else e=this._getScrollForSelectedTab();
this._anim&&"playing"==this._anim.status()&&this._anim.stop();var n=this,i=this.scrollNode,r=new o.Animation({
beforeBegin:function(){this.curve&&delete this.curve;var t=i.scrollLeft,a=n._convertToScrollLeft(e);
r.curve=new o._Line(t,a)},onAnimate:function(e){i.scrollLeft=e}});return this._anim=r,
this._setButtonClass(e),r},_getBtnNode:function(e){for(var t=e.target;t&&!n.contains(t,"tabStripButton");)t=t.parentNode;
return t},doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e))},doSlideLeft:function(e){
this.doSlide(-1,this._getBtnNode(e))},doSlide:function(e,t){if(!t||!n.contains(t,"dijitTabDisabled")){
var i=r.get(this.scrollNode,"width"),o=.75*i*e,a=this._getScroll()+o;this._setButtonClass(a),
this.createSmoothScroll(a).play()}},_setButtonClass:function(e){var t=this._getScrollBounds();
this._leftBtn.set("disabled",e<=t.min),this._rightBtn.set("disabled",e>=t.max)}}),x=t("dijit.layout._ScrollingTabControllerButtonMixin",null,{
baseClass:"dijitTab tabStripButton",templateString:d,tabIndex:"",isFocusable:function(){
return!1}});return t("dijit.layout._ScrollingTabControllerButton",[y,x]),t("dijit.layout._ScrollingTabControllerMenuButton",[y,b,x],{
containerId:"",tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(t){
this.dropDown=new g({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,
dir:this.dir,lang:this.lang,textDir:this.textDir});var n=c.byId(this.containerId);
e.forEach(n.getChildren(),function(e){var t=new v({id:e.id+"_stcMi",label:e.title,
iconClass:e.iconClass,disabled:e.disabled,ownerDocument:this.ownerDocument,dir:e.dir,
lang:e.lang,textDir:e.textDir||n.textDir,onClick:function(){n.selectChild(e)}});this.dropDown.addChild(t);
},this),t()},closeDropDown:function(e){this.inherited(arguments),this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),
this.dropDown.destroyRecursive(),delete this.dropDown)}}),_}),define("dijit/layout/TabContainer",["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(e,t,n,i,r){
return t("dijit.layout.TabContainer",n,{useMenu:!0,useSlider:!0,controllerWidget:"",
_makeController:function(t){var n=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),i="string"==typeof this.controllerWidget?e.getObject(this.controllerWidget):this.controllerWidget;
return new i({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,
lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,
containerId:this.id,"class":n,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,
tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},t);
},postMixInProperties:function(){this.inherited(arguments),this.controllerWidget||(this.controllerWidget="top"!=this.tabPosition&&"bottom"!=this.tabPosition||this.nested?i:r);
}})}),define("dijit/DialogUnderlay",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(e,t,n,i,r,o,a,s,l,u,c,h){
var d=e("dijit.DialogUnderlay",[s,l],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",
dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(e){i.set(this.node,"id",e+"_underlay"),
this._set("dialogId",e)},_setClassAttr:function(e){this.node.className="dijitDialogUnderlay "+e,
this._set("class",e)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode),
this.own(o(this.domNode,"keydown",t.hitch(this,"_onKeyDown"))),this.inherited(arguments);
},layout:function(){var e=this.node.style,t=this.domNode.style;t.display="none";var n=a.getBox(this.ownerDocument);
t.top=n.t+"px",t.left=n.l+"px",e.width=n.w+"px",e.height=n.h+"px",t.display="block";
},show:function(){this.domNode.style.display="block",this.open=!0,this.layout(),this.bgIframe=new u(this.domNode);
var e=a.get(this.ownerDocument);this._modalConnects=[c.on("resize",t.hitch(this,"layout")),o(e,"scroll",t.hitch(this,"layout"))];
},hide:function(){for(this.bgIframe.destroy(),delete this.bgIframe,this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();
this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();
this.inherited(arguments)},_onKeyDown:function(){}});return d.show=function(e,t){
var n=d._singleton;!n||n._destroyed?n=h._underlay=d._singleton=new d(e):e&&n.set(e),
r.set(n.domNode,"zIndex",t),n.open||n.show()},d.hide=function(){var e=d._singleton;
e&&!e._destroyed&&e.hide()},d}),define("dijit/Declaration",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser","dojo/query","./_Widget","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/NodeList-dom"],function(e,t,n,i,r,o,a,s,l){
return n("dijit.Declaration",a,{_noScript:!0,stopParser:!0,widgetClass:"",defaults:null,
mixins:[],buildRendering:function(){var u=this.srcNodeRef.parentNode.removeChild(this.srcNodeRef),c=o("> script[type='dojo/method']",u).orphan(),h=o("> script[type='dojo/connect']",u).orphan(),d=o("> script[type='dojo/aspect']",u).orphan(),f=u.nodeName,p=this.defaults||{};
e.forEach(c,function(e){var t=e.getAttribute("event")||e.getAttribute("data-dojo-event"),n=r._functionFromScript(e,"data-dojo-");
t?p[t]=n:d.push(e)}),this.mixins.length?this.mixins=e.map(this.mixins,function(e){
return i.getObject(e)}):this.mixins=[a,s,l],p._skipNodeCache=!0,p.templateString="<"+f+" class='"+u.className+"' data-dojo-attach-point='"+(u.getAttribute("data-dojo-attach-point")||u.getAttribute("dojoAttachPoint")||"")+"' data-dojo-attach-event='"+(u.getAttribute("data-dojo-attach-event")||u.getAttribute("dojoAttachEvent")||"")+"' >"+u.innerHTML.replace(/\%7B/g,"{").replace(/\%7D/g,"}")+"</"+f+">";
var m=n(this.widgetClass,this.mixins,p);e.forEach(d,function(e){var n=(e.getAttribute("data-dojo-advice")||"after",
e.getAttribute("data-dojo-method")||"postscript"),i=r._functionFromScript(e);t.after(m.prototype,n,i,!0);
}),e.forEach(h,function(e){var n=e.getAttribute("event")||e.getAttribute("data-dojo-event"),i=r._functionFromScript(e);
t.after(m.prototype,n,i,!0)})}})}),define("dijit/_base/popup",["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(e,t,n){
var i=n._createWrapper;n._createWrapper=function(n){return n.declaredClass||(n={_popupWrapper:n.parentNode&&e.contains(n.parentNode,"dijitPopup")?n.parentNode:null,
domNode:n,destroy:function(){},ownerDocument:n.ownerDocument,ownerDocumentBody:t.body(n.ownerDocument)
}),i.call(this,n)};var r=n.open;return n.open=function(e){if(e.orient&&"string"!=typeof e.orient&&!("length"in e.orient)){
var t=[];for(var n in e.orient)t.push({aroundCorner:n,corner:e.orient[n]});e.orient=t;
}return r.call(this,e)},n}),define("dojo/dnd/TimedMoveable",["../_base/declare","./Moveable"],function(e,t){
var n=t.prototype.onMove;return e("dojo.dnd.TimedMoveable",t,{timeout:40,constructor:function(e,t){
t||(t={}),t.timeout&&"number"==typeof t.timeout&&t.timeout>=0&&(this.timeout=t.timeout);
},onMoveStop:function(e){e._timer&&(clearTimeout(e._timer),n.call(this,e,e._leftTop)),
t.prototype.onMoveStop.apply(this,arguments)},onMove:function(e,t){if(e._leftTop=t,
!e._timer){var i=this;e._timer=setTimeout(function(){e._timer=null,n.call(i,e,e._leftTop);
},this.timeout)}}})}),define("dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(e,t,n,i,r,o){
return t("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(t){
var n=[];return e.forEach(t||this.getChildren(),function(e){"value"in e?n.push(e):n=n.concat(this._getDescendantFormWidgets(e.getChildren()));
},this),n},reset:function(){e.forEach(this._getDescendantFormWidgets(),function(e){
e.reset&&e.reset()})},validate:function(){var t=!1;return e.every(e.map(this._getDescendantFormWidgets(),function(e){
e._hasBeenBlurred=!0;var n=e.disabled||!e.validate||e.validate();return n||t||(o.scrollIntoView(e.containerNode||e.domNode),
e.focus(),t=!0),n}),function(e){return e})},setValues:function(e){return n.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0"),
this.set("value",e)},_setValueAttr:function(t){var n={};e.forEach(this._getDescendantFormWidgets(),function(e){
if(e.name){var t=n[e.name]||(n[e.name]=[]);t.push(e)}});for(var r in n)if(n.hasOwnProperty(r)){
var o=n[r],a=i.getObject(r,!1,t);void 0!==a&&(a=[].concat(a),"boolean"==typeof o[0].checked?e.forEach(o,function(t){
t.set("value",-1!=e.indexOf(a,t._get("value")))}):o[0].multiple?o[0].set("value",a):e.forEach(o,function(e,t){
e.set("value",a[t])}))}},getValues:function(){return n.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0"),
this.get("value")},_getValueAttr:function(){var t={};return e.forEach(this._getDescendantFormWidgets(),function(e){
var n=e.name;if(n&&!e.disabled){var r=e.get("value");if("boolean"==typeof e.checked)if(/Radio/.test(e.declaredClass))r!==!1?i.setObject(n,r,t):(r=i.getObject(n,!1,t),
void 0===r&&i.setObject(n,null,t));else{var o=i.getObject(n,!1,t);o||(o=[],i.setObject(n,o,t)),
r!==!1&&o.push(r)}else{var a=i.getObject(n,!1,t);"undefined"!=typeof a?i.isArray(a)?a.push(r):i.setObject(n,[a,r],t):i.setObject(n,r,t);
}}}),t},isValid:function(){return""==this.state},onValidStateChange:function(){},
_getState:function(){var t=e.map(this._descendants,function(e){return e.get("state")||"";
});return e.indexOf(t,"Error")>=0?"Error":e.indexOf(t,"Incomplete")>=0?"Incomplete":"";
},disconnectChildren:function(){},connectChildren:function(t){this._descendants=this._getDescendantFormWidgets(),
e.forEach(this._descendants,function(e){e._started||e.startup()}),t||this._onChildChange();
},_onChildChange:function(e){e&&"state"!=e&&"disabled"!=e||this._set("state",this._getState()),
e&&"value"!=e&&"disabled"!=e&&"checked"!=e||(this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),
this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer,this._set("value",this.get("value"));
},10))},startup:function(){this.inherited(arguments),this._descendants=this._getDescendantFormWidgets(),
this.value=this.get("value"),this.state=this._getState();var e=this;this.own(r(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(t){
t.target!=e.domNode&&e._onChildChange(t.type.replace("attrmodified-",""))})),this.watch("state",function(e,t,n){
this.onValidStateChange(""==n)})},destroy:function(){this.inherited(arguments)}});
}),define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(e,t){return e("dijit._DialogMixin",null,{
execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){
this.onExecute(),this.execute(this.get("value"))},_getFocusItems:function(){var e=t._getTabNavigable(this.containerNode);
this._firstFocusItem=e.lowest||e.first||this.closeButtonNode||this.domNode,this._lastFocusItem=e.last||e.highest||this._firstFocusItem;
}})}),define("dojo/text!dijit/templates/Dialog.html",[],function(){return'<div class="dijitDialog pentaho-dialog" role="dialog" aria-labelledby="${id}_title">\n	<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar Caption">\n		<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n				role="heading" level="1"></span>\n		<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabindex="0">\n			<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n		</span>\n	</div>\n	<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n';
}),define("dijit/Dialog",["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html","dojo/i18n!./nls/common"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b,_,x,w,C,S,k,D,M,N){
var T=i("dijit._DialogBase"+(m("dojo-bidi")?"_NoBidi":""),[w,S,k,C],{templateString:N,
baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{
node:"titleNode",type:"innerHTML"},open:!1,duration:_.defaultDuration,refocus:!0,
autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,_setDraggableAttr:function(e){
this._set("draggable",e)},maxRatio:.9,closable:!0,_setClosableAttr:function(e){this.closeButtonNode.style.display=e?"":"none",
this._set("closable",e)},postMixInProperties:function(){var e=c.getLocalization("dijit","common");
d.mixin(this,e),this.inherited(arguments)},postCreate:function(){l.set(this.domNode,{
display:"none",position:"absolute"}),this.ownerDocumentBody.appendChild(this.domNode),
this.inherited(arguments),n.after(this,"onExecute",d.hitch(this,"hide"),!0),n.after(this,"onCancel",d.hitch(this,"hide"),!0),
this._modalconnects=[]},onLoad:function(){this._size(),this._position(),this.autofocus&&j.isTop(this)&&(this._getFocusItems(this.domNode),
b.focus(this._firstFocusItem)),this.inherited(arguments)},focus:function(){this._getFocusItems(this.domNode),
b.focus(this._firstFocusItem)},_endDrag:function(){var e=s.position(this.domNode),t=g.getBox(this.ownerDocument);
e.y=Math.min(Math.max(e.y,0),t.h-e.h),e.x=Math.min(Math.max(e.x,0),t.w-e.w),this._relativePosition=e,
this._position()},_setup:function(){var e=this.domNode;this.titleBar&&this.draggable?(this._moveable=new(6==m("ie")?y:v)(e,{
handle:this.titleBar}),n.after(this._moveable,"onMoveStop",d.hitch(this,"_endDrag"),!0)):a.add(e,"dijitDialogFixed"),
this.underlayAttrs={dialogId:this.id,"class":t.map(this["class"].split(/\s/),function(e){
return e+"_underlay"}).join(" "),_onKeyDown:d.hitch(this,"_onKey"),ownerDocument:this.ownerDocument
}},_size:function(){this._checkIfSingleChild(),this._singleChild?"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,
delete this._singleChildOriginalStyle):l.set(this.containerNode,{width:"auto",height:"auto"
});var e=s.position(this.domNode),t=g.getBox(this.ownerDocument);if(t.w*=this.maxRatio,
t.h*=this.maxRatio,e.w>=t.w||e.h>=t.h){var n=s.position(this.containerNode),i=Math.min(e.w,t.w)-(e.w-n.w),r=Math.min(e.h,t.h)-(e.h-n.h);
this._singleChild&&this._singleChild.resize?("undefined"==typeof this._singleChildOriginalStyle&&(this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText),
this._singleChild.resize({w:i,h:r})):l.set(this.containerNode,{width:i+"px",height:r+"px",
overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize();
},_position:function(){if(!a.contains(this.ownerDocumentBody,"dojoMove")){var e=this.domNode,t=g.getBox(this.ownerDocument),n=this._relativePosition,i=n?null:s.position(e),r=Math.floor(t.l+(n?n.x:(t.w-i.w)/2)),o=Math.floor(t.t+(n?n.y:(t.h-i.h)/2));
l.set(e,{left:r+"px",top:o+"px"})}},_onKey:function(e){if(e.keyCode==h.TAB){this._getFocusItems(this.domNode);
var t=e.target;this._firstFocusItem==this._lastFocusItem?(e.stopPropagation(),e.preventDefault()):t==this._firstFocusItem&&e.shiftKey?(b.focus(this._lastFocusItem),
e.stopPropagation(),e.preventDefault()):t!=this._lastFocusItem||e.shiftKey||(b.focus(this._firstFocusItem),
e.stopPropagation(),e.preventDefault())}else this.closable&&e.keyCode==h.ESCAPE&&(this.onCancel(),
e.stopPropagation(),e.preventDefault())},show:function(){if(!this.open){this._started||this.startup(),
this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0),this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),
j.hide(this));var e=g.get(this.ownerDocument);this._modalconnects.push(f(e,"scroll",d.hitch(this,"resize"))),
this._modalconnects.push(f(this.domNode,"keydown",d.hitch(this,"_onKey"))),l.set(this.domNode,{
opacity:0,display:""}),this._set("open",!0),this._onShow(),this._size(),this._position();
var t;this._fadeInDeferred=new r(d.hitch(this,function(){t.stop(),delete this._fadeInDeferred;
}));var n=this._fadeInDeferred.promise;return t=u.fadeIn({node:this.domNode,duration:this.duration,
beforeBegin:d.hitch(this,function(){j.show(this,this.underlayAttrs)}),onEnd:d.hitch(this,function(){
this.autofocus&&j.isTop(this)&&(this._getFocusItems(this.domNode),b.focus(this._firstFocusItem)),
this._fadeInDeferred.resolve(!0),delete this._fadeInDeferred})}).play(),n}},hide:function(){
if(this._alreadyInitialized&&this.open){this._fadeInDeferred&&this._fadeInDeferred.cancel();
var e;this._fadeOutDeferred=new r(d.hitch(this,function(){e.stop(),delete this._fadeOutDeferred;
})),this._fadeOutDeferred.then(d.hitch(this,"onHide"));var t=this._fadeOutDeferred.promise;
e=u.fadeOut({node:this.domNode,duration:this.duration,onEnd:d.hitch(this,function(){
this.domNode.style.display="none",j.hide(this),this._fadeOutDeferred.resolve(!0),
delete this._fadeOutDeferred})}).play(),this._scrollConnected&&(this._scrollConnected=!1);
for(var n;n=this._modalconnects.pop();)n.remove();return this._relativePosition&&delete this._relativePosition,
this._set("open",!1),t}},resize:function(){"none"!=this.domNode.style.display&&(this._size(),
m("touch")||this._position())},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel(),
this._fadeOutDeferred&&this._fadeOutDeferred.cancel(),this._moveable&&this._moveable.destroy();
for(var e;e=this._modalconnects.pop();)e.remove();j.hide(this),this.inherited(arguments);
}});m("dojo-bidi")&&(T=i("dijit._DialogBase",T,{_setTitleAttr:function(e){this._set("title",e),
this.titleNode.innerHTML=e,this.applyTextDir(this.titleNode)},_setTextDirAttr:function(e){
this._created&&this.textDir!=e&&(this._set("textDir",e),this.set("title",this.title));
}}));var A=i("dijit.Dialog",[M,T],{});A._DialogBase=T;var j=A._DialogLevelManager={
_beginZIndex:950,show:function(e,t){I[I.length-1].focus=b.curNode;var n=I[I.length-1].dialog?I[I.length-1].zIndex+2:A._DialogLevelManager._beginZIndex;
l.set(e.domNode,"zIndex",n),D.show(t,n-1),I.push({dialog:e,underlayAttrs:t,zIndex:n
})},hide:function(e){if(I[I.length-1].dialog==e){I.pop();var n=I[I.length-1];if(1==I.length?D.hide():D.show(n.underlayAttrs,n.zIndex-1),
e.refocus){var i=n.focus;if(!n.dialog||i&&o.isDescendant(i,n.dialog.domNode)||(n.dialog._getFocusItems(n.dialog.domNode),
i=n.dialog._firstFocusItem),i)try{i.focus()}catch(r){}}}else{var a=t.indexOf(t.map(I,function(e){
return e.dialog}),e);-1!=a&&I.splice(a,1)}},isTop:function(e){return I[I.length-1].dialog==e;
}},I=A._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];return b.watch("curNode",function(e,t,n){
var i=I[I.length-1].dialog;if(n&&i&&!i._fadeOutDeferred&&n.ownerDocument==i.ownerDocument){
do if(n==i.domNode||a.contains(n,"dijitPopup"))return;while(n=n.parentNode);i.focus();
}}),m("dijit-legacy-requires")&&p(0,function(){var t=["dijit/TooltipDialog"];e(t);
}),A}),define("dojo/text!dijit/templates/ColorPalette.html",[],function(){return'<div class="dijitInline dijitColorPalette" role="grid">\n	<table dojoAttachPoint="paletteTableNode" class="dijitPaletteTable" cellSpacing="0" cellPadding="0" role="presentation">\n		<tbody data-dojo-attach-point="gridNode"></tbody>\n	</table>\n</div>\n';
}),define("dijit/_PaletteMixin",["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","./_CssStateMixin","./a11yclick","./focus","./typematic"],function(e,t,n,i,r,o,a,s,l,u,c){
var h=e("dijit._PaletteMixin",s,{defaultTimeout:500,timeoutChangeRate:.9,value:"",
_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:null,_dyeFactory:function(e){
var t="string"==typeof this.dyeClass?o.getObject(this.dyeClass):this.dyeClass;return new t(e);
},_preparePalette:function(e,t){this._cells=[];var n=this._blankGif;this.own(a(this.gridNode,l,o.hitch(this,"_onCellClick")));
for(var s=0;s<e.length;s++)for(var u=i.create("tr",{tabIndex:"-1",role:"row"},this.gridNode),h=0;h<e[s].length;h++){
var d=e[s][h];if(d){var f=this._dyeFactory(d,s,h,t[d]),p=i.create("td",{"class":this.cellClass,
tabIndex:"-1",title:t[d],role:"gridcell"},u);f.fillCell(p,n),p.idx=this._cells.length,
this._cells.push({node:p,dye:f})}}this._xDim=e[0].length,this._yDim=e.length;var m={
UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,
LEFT_ARROW:this.isLeftToRight()?-1:1};for(var g in m)this.own(c.addKeyListener(this.domNode,{
keyCode:r[g],ctrlKey:!1,altKey:!1,shiftKey:!1},this,function(){var e=m[g];return function(t){
this._navigateByKey(e,t)}}(),this.timeoutChangeRate,this.defaultTimeout))},postCreate:function(){
this.inherited(arguments),this._setCurrent(this._cells[0].node)},focus:function(){
u.focus(this._currentFocus)},_onCellClick:function(e){for(var t=e.target;"TD"!=t.tagName;){
if(!t.parentNode||t==this.gridNode)return;t=t.parentNode}var n=this._getDye(t).getValue();
this._setCurrent(t),u.focus(t),this._setValueAttr(n,!0),e.stopPropagation(),e.preventDefault();
},_setCurrent:function(e){"_currentFocus"in this&&t.set(this._currentFocus,"tabIndex","-1"),
this._currentFocus=e,e&&t.set(e,"tabIndex",this.tabIndex)},_setValueAttr:function(e,t){
if(this._selectedCell>=0&&n.remove(this._cells[this._selectedCell].node,this.cellClass+"Selected"),
this._selectedCell=-1,e)for(var i=0;i<this._cells.length;i++)if(e==this._cells[i].dye.getValue()){
this._selectedCell=i,n.add(this._cells[i].node,this.cellClass+"Selected");break}this._set("value",this._selectedCell>=0?e:null),
(t||void 0===t)&&this.onChange(e)},onChange:function(){},_navigateByKey:function(e,t){
if(-1!=t){var n=this._currentFocus.idx+e;if(n<this._cells.length&&n>-1){var i=this._cells[n].node;
this._setCurrent(i),this.defer(o.hitch(u,"focus",i))}}},_getDye:function(e){return this._cells[e.idx].dye;
}});return h}),define("dojo/colors",["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(e,t,n,i){
var r={};t.setObject("dojo.colors",r);var o=function(e,t,n){0>n&&++n,n>1&&--n;var i=6*n;
return 1>i?e+(t-e)*i:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e};e.colorFromRgb=n.fromRgb=function(e,t){
var r=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(r){var a,s=r[2].split(/\s*,\s*/),l=s.length,u=r[1];
if("rgb"==u&&3==l||"rgba"==u&&4==l){var c=s[0];return"%"==c.charAt(c.length-1)?(a=i.map(s,function(e){
return 2.56*parseFloat(e)}),4==l&&(a[3]=s[3]),n.fromArray(a,t)):n.fromArray(s,t)}
if("hsl"==u&&3==l||"hsla"==u&&4==l){var h=(parseFloat(s[0])%360+360)%360/360,d=parseFloat(s[1])/100,f=parseFloat(s[2])/100,p=.5>=f?f*(d+1):f+d-f*d,m=2*f-p;
return a=[256*o(m,p,h+1/3),256*o(m,p,h),256*o(m,p,h-1/3),1],4==l&&(a[3]=s[3]),n.fromArray(a,t);
}}return null};var a=function(e,t,n){return e=Number(e),isNaN(e)?n:t>e?t:e>n?n:e};
return n.prototype.sanitize=function(){var e=this;return e.r=Math.round(a(e.r,0,255)),
e.g=Math.round(a(e.g,0,255)),e.b=Math.round(a(e.b,0,255)),e.a=a(e.a,0,1),this},r.makeGrey=n.makeGrey=function(e,t){
return n.fromArray([e,e,e,t])},t.mixin(n.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],
aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],
blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],
cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],
cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],
darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],
darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],
darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],
darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],
darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],
deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],
firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],
ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],
grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],
indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],
lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],
lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],
lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],
lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],
lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],
limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],
mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],
mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],
mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],
moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],
orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],
palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],
peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],
rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],
sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],
skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],
snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],
thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],
wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]}),n}),define("dijit/ColorPalette",["require","dojo/text!./templates/ColorPalette.html","./_Widget","./_TemplatedMixin","./_PaletteMixin","./hccss","dojo/i18n","dojo/_base/Color","dojo/_base/declare","dojo/dom-construct","dojo/string","dojo/i18n!dojo/nls/colors","dojo/colors"],function(e,t,n,i,r,o,a,s,l,u,c){
var h=l("dijit.ColorPalette",[n,i,r],{palette:"7x10",_palettes:{"7x10":[["white","seashell","cornsilk","lemonchiffon","lightyellow","palegreen","paleturquoise","lightcyan","lavender","plum"],["lightgray","pink","bisque","moccasin","khaki","lightgreen","lightseagreen","lightskyblue","cornflowerblue","violet"],["silver","lightcoral","sandybrown","orange","palegoldenrod","chartreuse","mediumturquoise","skyblue","mediumslateblue","orchid"],["gray","red","orangered","darkorange","yellow","limegreen","darkseagreen","royalblue","slateblue","mediumorchid"],["dimgray","crimson","chocolate","coral","gold","forestgreen","seagreen","blue","blueviolet","darkorchid"],["darkslategray","firebrick","saddlebrown","sienna","olive","green","darkcyan","mediumblue","darkslateblue","darkmagenta"],["black","darkred","maroon","brown","darkolivegreen","darkgreen","midnightblue","navy","indigo","purple"]],
"3x4":[["white","lime","green","blue"],["silver","yellow","fuchsia","navy"],["gray","red","purple","black"]]
},templateString:t,baseClass:"dijitColorPalette",_dyeFactory:function(e,t,n,i){return new this._dyeClass(e,t,n,i);
},buildRendering:function(){this.inherited(arguments),this._dyeClass=l(h._Color,{
palette:this.palette}),this._preparePalette(this._palettes[this.palette],a.getLocalization("dojo","colors",this.lang));
}});return h._Color=l("dijit._Color",s,{template:"<span class='dijitInline dijitPaletteImg'><img src='${blankGif}' alt='${alt}' title='${title}' class='dijitColorPaletteSwatch' style='background-color: ${color}'/></span>",
hcTemplate:"<span class='dijitInline dijitPaletteImg' style='position: relative; overflow: hidden; height: 12px; width: 14px;'><img src='${image}' alt='${alt}' title='${title}' style='position: absolute; left: ${left}px; top: ${top}px; ${size}'/></span>",
_imagePaths:{"7x10":e.toUrl("./themes/a11y/colors7x10.png"),"3x4":e.toUrl("./themes/a11y/colors3x4.png")
},constructor:function(e,t,n,i){this._title=i,this._row=t,this._col=n,this.setColor(s.named[e]);
},getValue:function(){return this.toHex()},fillCell:function(e,t){var n=c.substitute(o("highcontrast")?this.hcTemplate:this.template,{
color:this.toHex(),blankGif:t,alt:this._title,title:this._title,image:this._imagePaths[this.palette].toString(),
left:-20*this._col-5,top:-20*this._row-5,size:"7x10"==this.palette?"height: 145px; width: 206px":"height: 64px; width: 86px"
});u.place(n,e)}}),h}),define("dojox/collections/_base",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(e,t,n){
var i=t.getObject("dojox.collections",!0);return i.DictionaryEntry=function(e,t){
this.key=e,this.value=t,this.valueOf=function(){return this.value},this.toString=function(){
return String(this.value)}},i.Iterator=function(e){var t=0;this.element=e[t]||null,
this.atEnd=function(){return t>=e.length},this.get=function(){return this.atEnd()?null:(this.element=e[t++],
this.element)},this.map=function(t,i){return n.map(e,t,i)},this.reset=function(){
t=0,this.element=e[t]}},i.DictionaryIterator=function(e){var t=[],i={};for(var r in e)i[r]||t.push(e[r]);
var o=0;this.element=t[o]||null,this.atEnd=function(){return o>=t.length},this.get=function(){
return this.atEnd()?null:(this.element=t[o++],this.element)},this.map=function(e,i){
return n.map(t,e,i)},this.reset=function(){o=0,this.element=t[o]}},i}),define("dojox/collections/Stack",["dojo/_base/kernel","dojo/_base/array","./_base"],function(e,t,n){
return n.Stack=function(t){var i=[];t&&(i=i.concat(t)),this.count=i.length,this.clear=function(){
i=[],this.count=i.length},this.clone=function(){return new n.Stack(i)},this.contains=function(e){
for(var t=0;t<i.length;t++)if(i[t]==e)return!0;return!1},this.copyTo=function(e,t){
e.splice(t,0,i)},this.forEach=function(t,n){e.forEach(i,t,n)},this.getIterator=function(){
return new n.Iterator(i)},this.peek=function(){return i[i.length-1]},this.pop=function(){
var e=i.pop();return this.count=i.length,e},this.push=function(e){this.count=i.push(e);
},this.toArray=function(){return[].concat(i)}},n.Stack}),define("dojox/collections/ArrayList",["dojo/_base/kernel","dojo/_base/array","./_base"],function(e,t,n){
return n.ArrayList=function(t){var i=[];t&&(i=i.concat(t)),this.count=i.length,this.add=function(e){
i.push(e),this.count=i.length},this.addRange=function(e){if(e.getIterator){for(var t=e.getIterator();!t.atEnd();)this.add(t.get());
this.count=i.length}else{for(var n=0;n<e.length;n++)i.push(e[n]);this.count=i.length;
}},this.clear=function(){i.splice(0,i.length),this.count=0},this.clone=function(){
return new n.ArrayList(i)},this.contains=function(e){for(var t=0;t<i.length;t++)if(i[t]==e)return!0;
return!1},this.forEach=function(t,n){e.forEach(i,t,n)},this.getIterator=function(){
return new n.Iterator(i)},this.indexOf=function(e){for(var t=0;t<i.length;t++)if(i[t]==e)return t;
return-1},this.insert=function(e,t){i.splice(e,0,t),this.count=i.length},this.item=function(e){
return i[e]},this.remove=function(e){var t=this.indexOf(e);t>=0&&i.splice(t,1),this.count=i.length;
},this.removeAt=function(e){i.splice(e,1),this.count=i.length},this.reverse=function(){
i.reverse()},this.sort=function(e){e?i.sort(e):i.sort()},this.setByIndex=function(e,t){
i[e]=t,this.count=i.length},this.toArray=function(){return[].concat(i)},this.toString=function(e){
return i.join(e||",")}},n.ArrayList}),define("dojox/collections/Dictionary",["dojo/_base/kernel","dojo/_base/array","./_base"],function(e,t,n){
return n.Dictionary=function(t){var i={};this.count=0;var r={};if(this.add=function(e,t){
var r=e in i;i[e]=new n.DictionaryEntry(e,t),r||this.count++},this.clear=function(){
i={},this.count=0},this.clone=function(){return new n.Dictionary(this)},this.contains=this.containsKey=function(e){
return r[e]?!1:null!=i[e]},this.containsValue=function(e){for(var t=this.getIterator();t.get();)if(t.element.value==e)return!0;
return!1},this.entry=function(e){return i[e]},this.forEach=function(t,n){var o=[];
for(var a in i)r[a]||o.push(i[a]);e.forEach(o,t,n)},this.getKeyList=function(){return this.getIterator().map(function(e){
return e.key})},this.getValueList=function(){return this.getIterator().map(function(e){
return e.value})},this.item=function(e){return e in i?i[e].valueOf():void 0},this.getIterator=function(){
return new n.DictionaryIterator(i)},this.remove=function(e){return e in i&&!r[e]?(delete i[e],
this.count--,!0):!1},t)for(var o=t.getIterator();o.get();)this.add(o.element.key,o.element.value);
},n.Dictionary}),define("dojox/layout/ResizeHandle",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/connect","dojo/_base/array","dojo/_base/event","dojo/_base/fx","dojo/_base/window","dojo/fx","dojo/window","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dijit/_base/manager","dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/declare"],function(e,t,n,i,r,o,a,s,l,u,c,h,d,f,p,m,g){
e.experimental("dojox.layout.ResizeHandle");var v=g("dojox.layout.ResizeHandle",[p,m],{
targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:!1,activeResizeClass:"dojoxResizeHandleClone",
animateSizing:!0,animateMethod:"chain",animateDuration:225,minHeight:100,minWidth:100,
constrainMax:!1,maxHeight:0,maxWidth:0,fixedAspect:!1,intermediateChanges:!1,startTopic:"/dojo/resize/start",
endTopic:"/dojo/resize/stop",templateString:'<div dojoAttachPoint="resizeHandle" class="dojoxResizeHandle"><div></div></div>',
postCreate:function(){this.connect(this.resizeHandle,"onmousedown","_beginSizing"),
this.activeResize?this.animateSizing=!1:(this._resizeHelper=f.byId("dojoxGlobalResizeHelper"),
this._resizeHelper||(this._resizeHelper=new y({id:"dojoxGlobalResizeHelper"}).placeAt(a.body()),
c.add(this._resizeHelper.domNode,this.activeResizeClass))),this.minSize||(this.minSize={
w:this.minWidth,h:this.minHeight}),this.constrainMax&&(this.maxSize={w:this.maxWidth,
h:this.maxHeight}),this._resizeX=this._resizeY=!1;var e=t.partial(c.add,this.resizeHandle);
switch(this.resizeAxis.toLowerCase()){case"xy":this._resizeX=this._resizeY=!0,e("dojoxResizeNW");
break;case"x":this._resizeX=!0,e("dojoxResizeW");break;case"y":this._resizeY=!0,e("dojoxResizeN");
}},_beginSizing:function(e){if(!this._isSizing&&(n.publish(this.startTopic,[this]),
this.targetWidget=f.byId(this.targetId),this.targetDomNode=this.targetWidget?this.targetWidget.domNode:u.byId(this.targetId),
this.targetContainer&&(this.targetDomNode=this.targetContainer),this.targetDomNode)){
if(!this.activeResize){var t=h.position(this.targetDomNode,!0);this._resizeHelper.resize({
l:t.x,t:t.y,w:t.w,h:t.h}),this._resizeHelper.show(),this.isLeftToRight()||(this._resizeHelper.startPosition={
l:t.x,t:t.y})}this._isSizing=!0,this.startPoint={x:e.clientX,y:e.clientY};var i,o=d.getComputedStyle(this.targetDomNode),s="border-model"===h.boxModel,l=s?{
w:0,h:0}:h.getPadBorderExtents(this.targetDomNode,o),c=h.getMarginExtents(this.targetDomNode,o);
if(i=this.startSize={w:d.get(this.targetDomNode,"width",o),h:d.get(this.targetDomNode,"height",o),
pbw:l.w,pbh:l.h,mw:c.w,mh:c.h},!this.isLeftToRight()&&"absolute"==dojo.style(this.targetDomNode,"position")){
var p=h.position(this.targetDomNode,!0);this.startPosition={l:p.x,t:p.y}}this._pconnects=[n.connect(a.doc,"onmousemove",this,"_updateSizing"),n.connect(a.doc,"onmouseup",this,"_endSizing")],
r.stop(e)}},_updateSizing:function(e){if(this.activeResize)this._changeSizing(e);else{
var t=this._getNewCoords(e,"border",this._resizeHelper.startPosition);if(t===!1)return;
this._resizeHelper.resize(t)}e.preventDefault()},_getNewCoords:function(e,t,n){try{
if(!e.clientX||!e.clientY)return!1}catch(e){return!1}this._activeResizeLastEvent=e;
var i=(this.isLeftToRight()?1:-1)*(this.startPoint.x-e.clientX),r=this.startPoint.y-e.clientY,o=this.startSize.w-(this._resizeX?i:0),a=this.startSize.h-(this._resizeY?r:0),s=this._checkConstraints(o,a);
switch(n=n||this.startPosition,n&&this._resizeX&&(s.l=n.l+i,s.w!=o&&(s.l+=o-s.w),
s.t=n.t),t){case"margin":s.w+=this.startSize.mw,s.h+=this.startSize.mh;case"border":
s.w+=this.startSize.pbw,s.h+=this.startSize.pbh}return s},_checkConstraints:function(e,t){
if(this.minSize){var n=this.minSize;e<n.w&&(e=n.w),t<n.h&&(t=n.h)}if(this.constrainMax&&this.maxSize){
var i=this.maxSize;e>i.w&&(e=i.w),t>i.h&&(t=i.h)}if(this.fixedAspect){var r=this.startSize.w,o=this.startSize.h,a=r*t-o*e;
0>a?e=t*r/o:a>0&&(t=e*o/r)}return{w:e,h:t}},_changeSizing:function(e){var n=this.targetWidget&&t.isFunction(this.targetWidget.resize),i=this._getNewCoords(e,n&&"margin");
if(i!==!1){if(n)this.targetWidget.resize(i);else if(this.animateSizing){var r=s[this.animateMethod]([o.animateProperty({
node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:i.w}},duration:this.animateDuration
}),o.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,
end:i.h}},duration:this.animateDuration})]);r.play()}else d.set(this.targetDomNode,{
width:i.w+"px",height:i.h+"px"});this.intermediateChanges&&this.onResize(e)}},_endSizing:function(e){
i.forEach(this._pconnects,n.disconnect);var r=t.partial(n.publish,this.endTopic,[this]);
this.activeResize?r():(this._resizeHelper.hide(),this._changeSizing(e),setTimeout(r,this.animateDuration+15)),
this._isSizing=!1,this.onResize(e)},onResize:function(e){}}),y=g("dojox.layout._ResizeHelper",p,{
show:function(){d.set(this.domNode,"display","")},hide:function(){d.set(this.domNode,"display","none");
},resize:function(e){h.setMarginBox(this.domNode,e)}});return v}),define("dojox/xml/parser",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(e,t){
return dojox="undefined"!=typeof dojox?dojox:t.getObject("dojox"),e.getObject("xml.parser",!0,dojox),
dojox.xml.parser.parse=function(t,n){var i,r=e.doc;if(n=n||"text/xml",t&&e.trim(t)&&"DOMParser"in e.global){
var o=new DOMParser;i=o.parseFromString(t,n);var a=i.documentElement,s="http://www.mozilla.org/newlayout/xml/parsererror.xml";
if("parsererror"==a.nodeName&&a.namespaceURI==s){var l=a.getElementsByTagNameNS(s,"sourcetext")[0];
throw l&&(l=l.firstChild.data),new Error("Error parsing text "+a.firstChild.data+" \n"+l);
}return i}if("ActiveXObject"in e.global){var u=function(e){return"MSXML"+e+".DOMDocument";
},c=["Microsoft.XMLDOM",u(6),u(4),u(3),u(2)];if(e.some(c,function(e){try{i=new ActiveXObject(e);
}catch(t){return!1}return!0}),t&&i){i.async=!1,i.loadXML(t);var h=i.parseError;if(0!==h.errorCode)throw new Error("Line: "+h.line+"\nCol: "+h.linepos+"\nReason: "+h.reason+"\nError Code: "+h.errorCode+"\nSource: "+h.srcText);
}if(i)return i}else if(r.implementation&&r.implementation.createDocument){if(t&&e.trim(t)&&r.createElement){
var d=r.createElement("xml");d.innerHTML=t;var f=r.implementation.createDocument("foo","",null);
return e.forEach(d.childNodes,function(e){f.importNode(e,!0)}),f}return r.implementation.createDocument("","",null);
}return null},dojox.xml.parser.textContent=function(t,n){if(arguments.length>1){var i=t.ownerDocument||e.doc;
return dojox.xml.parser.replaceChildren(t,i.createTextNode(n)),n}if(void 0!==t.textContent)return t.textContent;
var r="";return t&&e.forEach(t.childNodes,function(e){switch(e.nodeType){case 1:case 5:
r+=dojox.xml.parser.textContent(e);break;case 3:case 2:case 4:r+=e.nodeValue}}),r;
},dojox.xml.parser.replaceChildren=function(t,n){var i=[];e.isIE&&e.forEach(t.childNodes,function(e){
i.push(e)}),dojox.xml.parser.removeChildren(t),e.forEach(i,e.destroy),e.isArray(n)?e.forEach(n,function(e){
t.appendChild(e)}):t.appendChild(n)},dojox.xml.parser.removeChildren=function(e){
for(var t=e.childNodes.length;e.hasChildNodes();)e.removeChild(e.firstChild);return t;
},dojox.xml.parser.innerXML=function(e){return e.innerXML?e.innerXML:e.xml?e.xml:"undefined"!=typeof XMLSerializer?(new XMLSerializer).serializeToString(e):null;
},dojox.xml.parser}),define("dojox/fx/_base",["dojo/_base/array","dojo/_base/lang","dojo/_base/fx","dojo/fx","dojo/dom","dojo/dom-style","dojo/dom-geometry","dojo/_base/connect","dojo/_base/html"],function(e,t,n,i,r,o,a,s,l){
var u=t.getObject("dojox.fx",!0);return t.mixin(u,{anim:n.anim,animateProperty:n.animateProperty,
fadeTo:n._fade,fadeIn:n.fadeIn,fadeOut:n.fadeOut,combine:i.combine,chain:i.chain,
slideTo:i.slideTo,wipeIn:i.wipeIn,wipeOut:i.wipeOut}),u.sizeTo=function(e){var a=e.node=r.byId(e.node),s="absolute",l=e.method||"chain";
e.duration||(e.duration=500),"chain"==l&&(e.duration=Math.floor(e.duration/2));var u,c,h,d,f,p=null,m=function(t){
return function(){var n=o.getComputedStyle(t),i=n.position,r=n.width,a=n.height;if(u=i==s?t.offsetTop:parseInt(n.top)||0,
h=i==s?t.offsetLeft:parseInt(n.left)||0,f="auto"==r?0:parseInt(r),p="auto"==a?0:parseInt(a),
d=h-Math.floor((e.width-f)/2),c=u-Math.floor((e.height-p)/2),i!=s&&"relative"!=i){
var l=o.coords(t,!0);u=l.y,h=l.x,t.style.position=s,t.style.top=u+"px",t.style.left=h+"px";
}}}(a),g=n.animateProperty(t.mixin({properties:{height:function(){return m(),{end:e.height||0,
start:p}},top:function(){return{start:u,end:c}}}},e)),v=n.animateProperty(t.mixin({
properties:{width:function(){return{start:f,end:e.width||0}},left:function(){return{
start:h,end:d}}}},e)),y=i["combine"==e.method?"combine":"chain"]([g,v]);return y},
u.slideBy=function(e){var i,l,u=e.node=r.byId(e.node),c=function(e){return function(){
var t=o.getComputedStyle(e),n=t.position;if(i="absolute"==n?e.offsetTop:parseInt(t.top)||0,
l="absolute"==n?e.offsetLeft:parseInt(t.left)||0,"absolute"!=n&&"relative"!=n){var r=a.coords(e,!0);
i=r.y,l=r.x,e.style.position="absolute",e.style.top=i+"px",e.style.left=l+"px"}}}(u);
c();var h=n.animateProperty(t.mixin({properties:{top:i+(e.top||0),left:l+(e.left||0)
}},e));return s.connect(h,"beforeBegin",h,c),h},u.crossFade=function(e){var o=e.nodes[0]=r.byId(e.nodes[0]),a=l.style(o,"opacity"),s=e.nodes[1]=r.byId(e.nodes[1]),u=(l.style(s,"opacity"),
i.combine([n[0==a?"fadeIn":"fadeOut"](t.mixin({node:o},e)),n[0==a?"fadeOut":"fadeIn"](t.mixin({
node:s},e))]));return u},u.highlight=function(e){var i=e.node=r.byId(e.node);e.duration=e.duration||400;
var o=e.color||"#ffff99",a=l.style(i,"backgroundColor");"rgba(0, 0, 0, 0)"==a&&(a="transparent");
var u=n.animateProperty(t.mixin({properties:{backgroundColor:{start:o,end:a}}},e));
return"transparent"==a&&s.connect(u,"onEnd",u,function(){i.style.backgroundColor=a;
}),u},u.wipeTo=function(e){e.node=r.byId(e.node);var i=e.node,o=i.style,a=e.width?"width":"height",s=e[a],u={};
u[a]={start:function(){if(o.overflow="hidden","hidden"==o.visibility||"none"==o.display)return o[a]="1px",
o.display="",o.visibility="",1;var e=l.style(i,a);return Math.max(e,1)},end:s};var c=n.animateProperty(t.mixin({
properties:u},e));return c},u}),define("dojox/fx",["./fx/_base"],function(e){return e;
}),define("pentaho/common/FormatCombo",["dojo/_base/declare","dijit/form/ComboBox","dojo/store/Memory","dojo/_base/lang"],function(e,t,n,i){
var r,o=[{name:"0",type:"numeric",category:"number"},{name:"0.00",type:"numeric",
category:"number"},{name:"#,##0",type:"numeric",category:"number"},{name:"#,###.00",
type:"numeric",category:"number"},{name:"-#,###.00",type:"numeric",category:"number"
},{name:"(#,###.00)",type:"numeric",category:"number"},{name:"$ #,##0",type:"numeric",
category:"currency"},{name:"$ #,##0.00",type:"numeric",category:"currency"},{name:"$ -#,##0.00",
type:"numeric",category:"currency"},{name:"$ (#,##0.00)",type:"numeric",category:"currency"
},{name:"$ #,##0.00;(#,##0.00)",type:"numeric",category:"currency"},{name:"0 %",type:"numeric",
category:"percent"},{name:"0.00 %",type:"numeric",category:"percent"},{name:"#E+#",
type:"numeric",category:"scientific"},{name:"0.00E+00",type:"numeric",category:"scientific"
},{name:"##0.0E+0",type:"numeric",category:"scientific"},{name:"M/d",type:"date",
category:"date"},{name:"M/d/yy",type:"date",category:"date"},{name:"MM/dd/yy",type:"date",
category:"date"},{name:"d-MMM",type:"date",category:"date"},{name:"d-MMM-yy",type:"date",
category:"date"},{name:"MMM-yy",type:"date",category:"date"},{name:"MMMMM-yy",type:"date",
category:"date"},{name:"MMMMM d, yyyy",type:"date",category:"date"},{name:"M/d/yy h:mm AM/PM",
type:"date",category:"date"},{name:"M/d/yy h:mm",type:"date",category:"date"},{name:"M/d/yyyy",
type:"date",category:"date"},{name:"d-MMM-yyyy",type:"date",category:"date"},{name:"h:mm",
type:"date",category:"time"},{name:"h:mm AM/PM",type:"date",category:"time"},{name:"h:mm:ss",
type:"date",category:"time"},{name:"h:mm:ss AM/PM",type:"date",category:"time"},{
name:"[h]:mm:ss",type:"date",category:"time"}];return e("pentaho.common.FormatCombo",[t],{
dataType:"numeric",placeHolder:"Type or select your format",searchAttr:"name",labelAttr:"label",
labelType:"html",orient:["below-centered","below","before"],ignoreCase:!1,constructor:function(e){
i.mixin(this,e),this.baseClass="pentahoFormatCombo "+this.baseClass,r=new n(e&&e.formats?{
data:e.formats}:{data:o}),this.store=r,e&&e.dataType?this.setDataType(e.dataType):this.setDataType(this.dataType);
},setDataType:function(e,t){this.dataType=e,t?(this.category=t,this.query={type:e,
category:t}):this.query={type:e}},labelFunc:function(e,t){return e[this.labelAttr]?e[this.labelAttr]:e.name;
}})}),define("pentaho/common/Overrides",["dijit/DialogUnderlay","dijit/layout/TabContainer","dijit/layout/TabController","dijit/form/Button","dojo/dnd/Manager","dojo/_base/lang","dijit/layout/TabController","dojo/dnd/common","dojo/dom-style","dojo/dom-geometry","dojo/has","dojo/sniff","dojo/_base/window"],function(e,t,n,i,r,o,a,s,l,u,c,h,d){
o.extend(t,{baseClass:"pentahoTabContainer"}),o.extend(e,{templateString:"<div class='glasspane'><div class='' data-dojo-attach-point='node'></div></div>",
_setClassAttr:function(e){this.node.className=e,this._set("class",e)}}),o.extend(a,{
baseClass:"pentaho-tabWidget"}),s.autoScroll=function(e){},s.autoScrollNodes=function(e){
for(var t=e.target;t;){if((!t.getAttribute||!t.getAttribute("preventAutoScroll")||"false"==t.getAttribute("preventAutoScroll"))&&1==t.nodeType&&t.tagName.toLowerCase()in s._validNodes){
var n=l.getComputedStyle(t);if(n.overflow.toLowerCase()in s._validOverflow){var i=u.getContentBox(t,n),r=u.position(t,!0),o=Math.min(s.H_TRIGGER_AUTOSCROLL,i.w/2),a=Math.min(s.V_TRIGGER_AUTOSCROLL,i.h/2),h=e.pageX-r.x,f=e.pageY-r.y,p=0,m=0;
c("webkit")&&(h+=d.body.scrollLeft,f+=dojo.body().scrollTop),h>0&&h<i.w&&(o>h?p=-o:h>i.w-o&&(p=o)),
f>0&&f<i.h&&(a>f?m=-a:f>i.h-a&&(m=a));var g=t.scrollLeft,v=t.scrollTop;if(t.scrollLeft=t.scrollLeft+p,
t.scrollTop=t.scrollTop+m,g!=t.scrollLeft||v!=t.scrollTop)return}}try{t=t.parentNode;
}catch(y){t=null}}s.autoScroll(e)}}),define("dojox/storage/Provider",["dojo/_base/declare","dojo/on","dojo/query","dojo/_base/array"],function(e,t,n,i){
return e("dojox.storage.Provider",null,{constructor:function(){},SUCCESS:"success",
FAILED:"failed",PENDING:"pending",SIZE_NOT_AVAILABLE:"Size not available",SIZE_NO_LIMIT:"No size limit",
DEFAULT_NAMESPACE:"default",onHideSettingsUI:null,initialize:function(){console.warn("dojox.storage.initialize not implemented");
},isAvailable:function(){console.warn("dojox.storage.isAvailable not implemented");
},put:function(e,t,n,i){console.warn("dojox.storage.put not implemented")},get:function(e,t){
console.warn("dojox.storage.get not implemented")},hasKey:function(e,t){return!!this.get(e,t);
},getKeys:function(e){console.warn("dojox.storage.getKeys not implemented")},clear:function(e){
console.warn("dojox.storage.clear not implemented")},remove:function(e,t){console.warn("dojox.storage.remove not implemented");
},getNamespaces:function(){console.warn("dojox.storage.getNamespaces not implemented");
},isPermanent:function(){console.warn("dojox.storage.isPermanent not implemented");
},getMaximumSize:function(){console.warn("dojox.storage.getMaximumSize not implemented");
},putMultiple:function(e,t,n,i){for(var r=0;r<e.length;r++)dojox.storage.put(e[r],t[r],n,i);
},getMultiple:function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(dojox.storage.get(e[i],t));
return n},removeMultiple:function(e,t){for(var n=0;n<e.length;n++)dojox.storage.remove(e[n],t);
},isValidKeyArray:function(e){return null!==e&&void 0!==e&&dojo.isArray(e)?!dojo.some(e,function(e){
return!this.isValidKey(e)},this):!1},hasSettingsUI:function(){return!1},showSettingsUI:function(){
console.warn("dojox.storage.showSettingsUI not implemented")},hideSettingsUI:function(){
console.warn("dojox.storage.hideSettingsUI not implemented")},isValidKey:function(e){
return null===e||void 0===e?!1:/^[0-9A-Za-z_]*$/.test(e)},getResourceList:function(){
return[]}})}),define("dojox/storage/manager",["dojo/_base/declare","dojo/on","dojo/query","dojo/_base/array","dojo/_base/lang","dojo/_base/config"],function(declare,on,query,array,lang,config){
lang.getObject("dojox.storage",!0),dojox.storage.manager=new function(){this.currentProvider=null,
this.available=!1,this.providers=[],this._initialized=!1,this._onLoadListeners=[],
this.initialize=function(){this.autodetect()},this.register=function(e,t){this.providers.push(t),
this.providers[e]=t},this.setProvider=function(e){},this.autodetect=function(){if(!this._initialized){
for(var e,t=config.forceStorageProvider||!1,n=0;n<this.providers.length;n++){if(e=this.providers[n],
t&&t==e.declaredClass){e.isAvailable();break}if(!t&&e.isAvailable())break}if(!e)return this._initialized=!0,
this.available=!1,this.currentProvider=null,console.warn("No storage provider found for this platform"),
void this.loaded();this.currentProvider=e,lang.mixin(dojox.storage,this.currentProvider),
dojox.storage.initialize(),this._initialized=!0,this.available=!0}},this.isAvailable=function(){
return this.available},this.addOnLoad=function(e){this._onLoadListeners.push(e),this.isInitialized()&&this._fireLoaded();
},this.removeOnLoad=function(e){for(var t=0;t<this._onLoadListeners.length;t++)if(e==this._onLoadListeners[t]){
this._onLoadListeners.splice(t,1);break}},this.isInitialized=function(){return null!=this.currentProvider&&"dojox.storage.FlashStorageProvider"==this.currentProvider.declaredClass&&0==dojox.flash.ready?!1:this._initialized;
},this.supportsProvider=function(storageClass){try{var provider=eval("new "+storageClass+"()"),results=provider.isAvailable();
return results?results:!1}catch(e){return!1}},this.getProvider=function(){return this.currentProvider;
},this.loaded=function(){this._fireLoaded()},this._fireLoaded=function(){array.forEach(this._onLoadListeners,function(e){
try{e()}catch(t){console.debug(t)}})},this.getResourceList=function(){var e=[];return array.forEach(dojox.storage.manager.providers,function(t){
e=e.concat(t.getResourceList())}),e}}}),define("dojox/storage/LocalStorageProvider",["dojo/_base/declare","dojo/on","dojo/query","dojo/_base/array","dojo/_base/lang","dojox/storage/Provider","dojox/storage/manager"],function(e,t,n,i,r,o,a){
var s=e("dojox.storage.LocalStorageProvider",[o],{store:null,initialize:function(){
this.store=localStorage,this.initialized=!0,dojox.storage.manager.loaded()},isAvailable:function(){
return"undefined"!=typeof localStorage},put:function(e,t,n,i){this._assertIsValidKey(e),
i=i||this.DEFAULT_NAMESPACE,this._assertIsValidNamespace(i);var r=this.getFullKey(e,i);
t=dojo.toJson(t);try{this.store.setItem(r,t),n&&n(this.SUCCESS,e,null,i)}catch(o){
n&&n(this.FAILED,e,o.toString(),i)}},get:function(e,t){return this._assertIsValidKey(e),
t=t||this.DEFAULT_NAMESPACE,this._assertIsValidNamespace(t),e=this.getFullKey(e,t),
dojo.fromJson(this.store.getItem(e))},getKeys:function(e){e=e||this.DEFAULT_NAMESPACE,
this._assertIsValidNamespace(e),e="__"+e+"_";for(var t=[],n=0;n<this.store.length;n++){
var i=this.store.key(n);this._beginsWith(i,e)&&(i=i.substring(e.length),t.push(i));
}return t},clear:function(e){e=e||this.DEFAULT_NAMESPACE,this._assertIsValidNamespace(e),
e="__"+e+"_";for(var t=[],n=0;n<this.store.length;n++)this._beginsWith(this.store.key(n),e)&&t.push(this.store.key(n));
dojo.forEach(t,dojo.hitch(this.store,"removeItem"))},remove:function(e,t){t=t||this.DEFAULT_NAMESPACE,
this._assertIsValidNamespace(t),this.store.removeItem(this.getFullKey(e,t))},getNamespaces:function(){
var e=[this.DEFAULT_NAMESPACE],t={};t[this.DEFAULT_NAMESPACE]=!0;for(var n=/^__([^_]*)_/,i=0;i<this.store.length;i++){
var r=this.store.key(i);if(1==n.test(r)){var o=r.match(n)[1];"undefined"==typeof t[o]&&(t[o]=!0,
e.push(o))}}return e},isPermanent:function(){return!0},getMaximumSize:function(){
return dojox.storage.SIZE_NO_LIMIT},hasSettingsUI:function(){return!1},isValidKey:function(e){
return null===e||void 0===e?!1:/^[0-9A-Za-z_-]*$/.test(e)},isValidNamespace:function(e){
return null===e||void 0===e?!1:/^[0-9A-Za-z-]*$/.test(e)},getFullKey:function(e,t){
return"__"+t+"_"+e},_beginsWith:function(e,t){return t.length>e.length?!1:e.substring(0,t.length)===t;
},_assertIsValidNamespace:function(e){if(this.isValidNamespace(e)===!1)throw new Error("Invalid namespace given: "+e);
},_assertIsValidKey:function(e){if(this.isValidKey(e)===!1)throw new Error("Invalid key given: "+e);
}});return dojox.storage.manager.register("dojox.storage.LocalStorageProvider",new dojox.storage.LocalStorageProvider),
s}),define("dojox/storage/_common",["dojox/storage/Provider","dojox/storage/manager","dojox/storage/LocalStorageProvider"],function(e,t){
dojox.storage.manager.initialize()}),define("dojox/storage",["./storage/_common"],function(){}),
function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){
if(!e.document)throw new Error("jQuery requires a window with a document");return t(e);
}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=fe.type(e);
return"function"===n||fe.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e;
}function i(e,t,n){if(fe.isFunction(t))return fe.grep(e,function(e,i){return!!t.call(e,i,e)!==n;
});if(t.nodeType)return fe.grep(e,function(e){return e===t!==n});if("string"==typeof t){
if(Ce.test(t))return fe.filter(t,e,n);t=fe.filter(t,e)}return fe.grep(e,function(e){
return fe.inArray(e,t)>-1!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);
return e}function o(e){var t={};return fe.each(e.match(Te)||[],function(e,n){t[n]=!0;
}),t}function a(){ie.addEventListener?(ie.removeEventListener("DOMContentLoaded",s),
e.removeEventListener("load",s)):(ie.detachEvent("onreadystatechange",s),e.detachEvent("onload",s));
}function s(){(ie.addEventListener||"load"===e.event.type||"complete"===ie.readyState)&&(a(),
fe.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Le,"-$1").toLowerCase();
if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Pe.test(n)?fe.parseJSON(n):n;
}catch(r){}fe.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!fe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;
return!0}function c(e,t,n,i){if(Ie(e)){var r,o,a=fe.expando,s=e.nodeType,l=s?fe.cache:e,u=s?e[a]:e[a]&&a;
if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[a]=ne.pop()||fe.guid++:a),
l[u]||(l[u]=s?{}:{toJSON:fe.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[u]=fe.extend(l[u],t):l[u].data=fe.extend(l[u].data,t)),
o=l[u],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[fe.camelCase(t)]=n),"string"==typeof t?(r=o[t],
null==r&&(r=o[fe.camelCase(t)])):r=o,r}}function h(e,t,n){if(Ie(e)){var i,r,o=e.nodeType,a=o?fe.cache:e,s=o?e[fe.expando]:fe.expando;
if(a[s]){if(t&&(i=n?a[s]:a[s].data)){fe.isArray(t)?t=t.concat(fe.map(t,fe.camelCase)):t in i?t=[t]:(t=fe.camelCase(t),
t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!u(i):!fe.isEmptyObject(i))return;
}(n||(delete a[s].data,u(a[s])))&&(o?fe.cleanData([e],!0):he.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0);
}}}function d(e,t,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return fe.css(e,t,"");
},l=s(),u=n&&n[3]||(fe.cssNumber[t]?"":"px"),c=(fe.cssNumber[t]||"px"!==u&&+l)&&Oe.exec(fe.css(e,t));
if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do o=o||".5",c/=o,fe.style(e,t,c+u);while(o!==(o=s()/l)&&1!==o&&--a);
}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),
r}function f(e){var t=We.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());
return n}function p(e,t){var n,i,r=0,o="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;
if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||fe.nodeName(i,t)?o.push(i):fe.merge(o,p(i,t));
return void 0===t||t&&fe.nodeName(e,t)?fe.merge([e],o):o}function m(e,t){for(var n,i=0;null!=(n=e[i]);i++)fe._data(n,"globalEval",!t||fe._data(t[i],"globalEval"));
}function g(e){ze.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t,n,i,r){
for(var o,a,s,l,u,c,h,d=e.length,v=f(t),y=[],b=0;d>b;b++)if(a=e[b],a||0===a)if("object"===fe.type(a))fe.merge(y,a.nodeType?[a]:a);else if(Ge.test(a)){
for(l=l||v.appendChild(t.createElement("div")),u=(Ve.exec(a)||["",""])[1].toLowerCase(),
h=Ue[u]||Ue._default,l.innerHTML=h[1]+fe.htmlPrefilter(a)+h[2],o=h[0];o--;)l=l.lastChild;
if(!he.leadingWhitespace&&He.test(a)&&y.push(t.createTextNode(He.exec(a)[0])),!he.tbody)for(a="table"!==u||$e.test(a)?"<table>"!==h[1]||$e.test(a)?0:l:l.firstChild,
o=a&&a.childNodes.length;o--;)fe.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);
for(fe.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);
l=v.lastChild}else y.push(t.createTextNode(a));for(l&&v.removeChild(l),he.appendChecked||fe.grep(p(y,"input"),g),
b=0;a=y[b++];)if(i&&fe.inArray(a,i)>-1)r&&r.push(a);else if(s=fe.contains(a.ownerDocument,a),
l=p(v.appendChild(a),"script"),s&&m(l),n)for(o=0;a=l[o++];)qe.test(a.type||"")&&n.push(a);
return l=null,v}function y(){return!0}function b(){return!1}function _(){try{return ie.activeElement;
}catch(e){}}function x(e,t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,
n=void 0);for(s in t)x(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,
i=void 0):(r=i,i=n,n=void 0)),r===!1)r=b;else if(!r)return e;return 1===o&&(a=r,r=function(e){
return fe().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=fe.guid++)),e.each(function(){
fe.event.add(this,t,r,i,n)})}function w(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e;
}function C(e){return e.type=(null!==fe.find.attr(e,"type"))+"/"+e.type,e}function S(e){
var t=rt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function k(e,t){
if(1===t.nodeType&&fe.hasData(e)){var n,i,r,o=fe._data(e),a=fe._data(t,o),s=o.events;
if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)fe.event.add(t,n,s[n][i]);
}a.data&&(a.data=fe.extend({},a.data))}}function D(e,t){var n,i,r;if(1===t.nodeType){
if(n=t.nodeName.toLowerCase(),!he.noCloneEvent&&t[fe.expando]){r=fe._data(t);for(i in r.events)fe.removeEvent(t,i,r.handle);
t.removeAttribute(fe.expando)}"script"===n&&t.text!==e.text?(C(t).text=e.text,S(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),
he.html5Clone&&e.innerHTML&&!fe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&ze.test(e.type)?(t.defaultChecked=t.checked=e.checked,
t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue);
}}function M(e,t,n,i){t=oe.apply([],t);var r,o,a,s,l,u,c=0,h=e.length,d=h-1,f=t[0],m=fe.isFunction(f);
if(m||h>1&&"string"==typeof f&&!he.checkClone&&it.test(f))return e.each(function(r){
var o=e.eq(r);m&&(t[0]=f.call(this,r,o.html())),M(o,t,n,i)});if(h&&(u=v(t,e[0].ownerDocument,!1,e,i),
r=u.firstChild,1===u.childNodes.length&&(u=r),r||i)){for(s=fe.map(p(u,"script"),C),
a=s.length;h>c;c++)o=u,c!==d&&(o=fe.clone(o,!0,!0),a&&fe.merge(s,p(o,"script"))),
n.call(e[c],o,c);if(a)for(l=s[s.length-1].ownerDocument,fe.map(s,S),c=0;a>c;c++)o=s[c],
qe.test(o.type||"")&&!fe._data(o,"globalEval")&&fe.contains(l,o)&&(o.src?fe._evalUrl&&fe._evalUrl(o.src):fe.globalEval((o.text||o.textContent||o.innerHTML||"").replace(ot,"")));
u=r=null}return e}function N(e,t,n){for(var i,r=t?fe.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||fe.cleanData(p(i)),
i.parentNode&&(n&&fe.contains(i.ownerDocument,i)&&m(p(i,"script")),i.parentNode.removeChild(i));
return e}function T(e,t){var n=fe(t.createElement(e)).appendTo(t.body),i=fe.css(n[0],"display");
return n.detach(),i}function A(e){var t=ie,n=ut[e];return n||(n=T(e,t),"none"!==n&&n||(lt=(lt||fe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),
t=(lt[0].contentWindow||lt[0].contentDocument).document,t.write(),t.close(),n=T(e,t),
lt.detach()),ut[e]=n),n}function j(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments);
}}}function I(e){if(e in St)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Ct.length;n--;)if(e=Ct[n]+t,
e in St)return e}function P(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],
i.style&&(o[a]=fe._data(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),
""===i.style.display&&Be(i)&&(o[a]=fe._data(i,"olddisplay",A(i.nodeName)))):(r=Be(i),
(n&&"none"!==n||!r)&&fe._data(i,"olddisplay",r?n:fe.css(i,"display"))));for(a=0;s>a;a++)i=e[a],
i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));
return e}function L(e,t,n){var i=_t.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t;
}function R(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=fe.css(e,n+Ee[o],!0,r)),
i?("content"===n&&(a-=fe.css(e,"padding"+Ee[o],!0,r)),"margin"!==n&&(a-=fe.css(e,"border"+Ee[o]+"Width",!0,r))):(a+=fe.css(e,"padding"+Ee[o],!0,r),
"padding"!==n&&(a+=fe.css(e,"border"+Ee[o]+"Width",!0,r)));return a}function O(e,t,n){
var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=pt(e),a=he.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,o);
if(0>=r||null==r){if(r=mt(e,t,o),(0>r||null==r)&&(r=e.style[t]),ht.test(r))return r;
i=a&&(he.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+R(e,t,n||(a?"border":"content"),i,o)+"px";
}function E(e,t,n,i,r){return new E.prototype.init(e,t,n,i,r)}function B(){return e.setTimeout(function(){
kt=void 0}),kt=fe.now()}function F(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Ee[r],
i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function z(e,t,n){
for(var i,r=(H.tweeners[t]||[]).concat(H.tweeners["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i;
}function V(e,t,n){var i,r,o,a,s,l,u,c,h=this,d={},f=e.style,p=e.nodeType&&Be(e),m=fe._data(e,"fxshow");
n.queue||(s=fe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,
s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){
s.unqueued--,fe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],
u=fe.css(e,"display"),c="none"===u?fe._data(e,"olddisplay")||A(e.nodeName):u,"inline"===c&&"none"===fe.css(e,"float")&&(he.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?f.zoom=1:f.display="inline-block")),
n.overflow&&(f.overflow="hidden",he.shrinkWrapBlocks()||h.always(function(){f.overflow=n.overflow[0],
f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Mt.exec(r)){
if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;
p=!0}d[i]=m&&m[i]||fe.style(e,i)}else u=void 0;if(fe.isEmptyObject(d))"inline"===("none"===u?A(e.nodeName):u)&&(f.display=u);else{
m?"hidden"in m&&(p=m.hidden):m=fe._data(e,"fxshow",{}),o&&(m.hidden=!p),p?fe(e).show():h.done(function(){
fe(e).hide()}),h.done(function(){var t;fe._removeData(e,"fxshow");for(t in d)fe.style(e,t,d[t]);
});for(i in d)a=z(p?m[i]:0,i,h),i in m||(m[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0));
}}function q(e,t){var n,i,r,o,a;for(n in e)if(i=fe.camelCase(n),r=t[i],o=e[n],fe.isArray(o)&&(r=o[1],
o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=fe.cssHooks[i],a&&"expand"in a){o=a.expand(o),
delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function H(e,t,n){var i,r,o=0,a=H.prefilters.length,s=fe.Deferred().always(function(){
delete l.elem}),l=function(){if(r)return!1;for(var t=kt||B(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);
return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,
props:fe.extend({},t),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default
},n),originalProperties:t,originalOptions:n,startTime:kt||B(),duration:n.duration,
tweens:[],createTween:function(t,n){var i=fe.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);
return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;
for(r=!0;i>n;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),
this}}),c=u.props;for(q(c,u.opts.specialEasing);a>o;o++)if(i=H.prefilters[o].call(u,e,c,u.opts))return fe.isFunction(i.stop)&&(fe._queueHooks(u.elem,u.opts.queue).stop=fe.proxy(i.stop,i)),
i;return fe.map(c,z,u),fe.isFunction(u.opts.start)&&u.opts.start.call(e,u),fe.fx.timer(fe.extend(l,{
elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always);
}function W(e){return fe.attr(e,"class")||""}function U(e){return function(t,n){"string"!=typeof t&&(n=t,
t="*");var i,r=0,o=t.toLowerCase().match(Te)||[];if(fe.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",
(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function G(e,t,n,i){function r(s){
var l;return o[s]=!0,fe.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),
r(u),!1)}),l}var o={},a=e===Zt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function $(e,t){
var n,i,r=fe.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);
return n&&fe.extend(!0,e,n),e}function K(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),
void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){
l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){
o=a;break}i||(i=a)}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function X(e,t,n,i){
var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];
for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),
l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],
!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[r]:u[r]!==!0&&(o=s[0],
c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(h){
return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+o}}}return{state:"success",
data:t}}function Y(e){return e.style&&e.style.display||fe.css(e,"display")}function Q(e){
if(!fe.contains(e.ownerDocument||ie,e))return!0;for(;e&&1===e.nodeType;){if("none"===Y(e)||"hidden"===e.type)return!0;
e=e.parentNode}return!1}function Z(e,t,n,i){var r;if(fe.isArray(t))fe.each(t,function(t,r){
n||rn.test(e)?i(e,r):Z(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==fe.type(t))i(e,t);else for(r in t)Z(e+"["+r+"]",t[r],n,i);
}function J(){try{return new e.XMLHttpRequest}catch(t){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP");
}catch(t){}}function te(e){return fe.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1;
}var ne=[],ie=e.document,re=ne.slice,oe=ne.concat,ae=ne.push,se=ne.indexOf,le={},ue=le.toString,ce=le.hasOwnProperty,he={},de="1.12.4",fe=function(e,t){
return new fe.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,me=/^-ms-/,ge=/-([\da-z])/gi,ve=function(e,t){
return t.toUpperCase()};fe.fn=fe.prototype={jquery:de,constructor:fe,selector:"",
length:0,toArray:function(){return re.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:re.call(this);
},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,
t.context=this.context,t},each:function(e){return fe.each(this,e)},map:function(e){
return this.pushStack(fe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){
return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0);
},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);
return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor();
},push:ae,sort:ne.sort,splice:ne.splice},fe.extend=fe.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;
for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||fe.isFunction(a)||(a={}),
s===l&&(a=this,s--);l>s;s++)if(null!=(r=arguments[s]))for(i in r)e=a[i],n=r[i],a!==n&&(u&&n&&(fe.isPlainObject(n)||(t=fe.isArray(n)))?(t?(t=!1,
o=e&&fe.isArray(e)?e:[]):o=e&&fe.isPlainObject(e)?e:{},a[i]=fe.extend(u,o,n)):void 0!==n&&(a[i]=n));
return a},fe.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,
error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e);
},isArray:Array.isArray||function(e){return"array"===fe.type(e)},isWindow:function(e){
return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!fe.isArray(e)&&t-parseFloat(t)+1>=0;
},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){
var t;if(!e||"object"!==fe.type(e)||e.nodeType||fe.isWindow(e))return!1;try{if(e.constructor&&!ce.call(e,"constructor")&&!ce.call(e.constructor.prototype,"isPrototypeOf"))return!1;
}catch(n){return!1}if(!he.ownFirst)for(t in e)return ce.call(e,t);for(t in e);return void 0===t||ce.call(e,t);
},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ue.call(e)]||"object":typeof e;
},globalEval:function(t){t&&fe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t);
})(t)},camelCase:function(e){return e.replace(me,"ms-").replace(ge,ve)},nodeName:function(e,t){
return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){
var i,r=0;if(n(e))for(i=e.length;i>r&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;
return e},trim:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){
var i=t||[];return null!=e&&(n(Object(e))?fe.merge(i,"string"==typeof e?[e]:e):ae.call(i,e)),
i},inArray:function(e,t,n){var i;if(t){if(se)return se.call(t,e,n);for(i=t.length,
n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){
for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];
return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),
i!==s&&r.push(e[o]);return r},map:function(e,t,i){var r,o,a=0,s=[];if(n(e))for(r=e.length;r>a;a++)o=t(e[a],a,i),
null!=o&&s.push(o);else for(a in e)o=t(e[a],a,i),null!=o&&s.push(o);return oe.apply([],s);
},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),
fe.isFunction(e)?(n=re.call(arguments,2),i=function(){return e.apply(t||this,n.concat(re.call(arguments)));
},i.guid=e.guid=e.guid||fe.guid++,i):void 0},now:function(){return+new Date},support:he
}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=ne[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){
le["[object "+t+"]"]=t.toLowerCase()});var ye=function(e){function t(e,t,n,i){var r,o,a,s,l,u,h,f,p=t&&t.ownerDocument,m=t?t.nodeType:9;
if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&((t?t.ownerDocument||t:z)!==I&&j(t),
t=t||I,L)){if(11!==m&&(u=ve.exec(e)))if(r=u[1]){if(9===m){if(!(a=t.getElementById(r)))return n;
if(a.id===r)return n.push(a),n}else if(p&&(a=p.getElementById(r))&&B(t,a)&&a.id===r)return n.push(a),
n}else{if(u[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((r=u[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(r)),
n}if(!(!x.qsa||U[e+" "]||R&&R.test(e))){if(1!==m)p=t,f=e;else if("object"!==t.nodeName.toLowerCase()){
for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=F),h=k(e),
o=h.length,l=de.test(s)?"#"+s:"[id='"+s+"']";o--;)h[o]=l+" "+d(h[o]);f=h.join(","),
p=ye.test(e)&&c(t.parentNode)||t}if(f)try{return Z.apply(n,p.querySelectorAll(f)),
n}catch(g){}finally{s===F&&t.removeAttribute("id")}}}return M(e.replace(se,"$1"),t,n,i);
}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],
e[n+" "]=i}var t=[];return e}function i(e){return e[F]=!0,e}function r(e){var t=I.createElement("div");
try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),
t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=t;
}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||$)-(~e.sourceIndex||$);
if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){
return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}
function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e;
}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]));
})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}
function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){
var i=t.dir,r=n&&"parentNode"===i,o=q++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o);
}:function(t,n,a){var s,l,u,c=[V,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0;
}else for(;t=t[i];)if(1===t.nodeType||r){if(u=t[F]||(t[F]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),
(s=l[i])&&s[0]===V&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}
function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;
return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i;
}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),
u&&t.push(s));return a}function v(e,t,n,r,o,a){return r&&!r[F]&&(r=v(r)),o&&!o[F]&&(o=v(o,a)),
i(function(i,a,s,l){var u,c,h,d=[],f=[],p=a.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:g(v,d,e,s,l),b=n?o||(i?e:p||r)?[]:a:y;
if(n&&n(y,b,s,l),r)for(u=g(b,f),r(u,[],s,l),c=u.length;c--;)(h=u[c])&&(b[f[c]]=!(y[f[c]]=h));
if(i){if(o||e){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);o(null,b=[],u,l);
}for(c=b.length;c--;)(h=b[c])&&(u=o?ee(i,h):d[c])>-1&&(i[u]=!(a[u]=h))}}else b=g(b===a?b.splice(p,b.length):b),
o?o(null,a,b,l):Z.apply(a,b)})}function y(e){for(var t,n,i,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=f(function(e){
return e===t},a,!0),u=f(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,i){var r=!o&&(i||n!==N)||((t=n).nodeType?l(e,n,i):u(e,n,i));
return t=null,r}];r>s;s++)if(n=w.relative[e[s].type])c=[f(p(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),
n[F]){for(i=++s;r>i&&!w.relative[e[i].type];i++);return v(s>1&&p(c),s>1&&d(e.slice(0,s-1).concat({
value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&d(e));
}c.push(n)}return p(c)}function b(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,u){
var c,h,d,f=0,p="0",m=i&&[],v=[],y=N,b=i||o&&w.find.TAG("*",u),_=V+=null==y?1:Math.random()||.1,x=b.length;
for(u&&(N=a===I||a||u);p!==x&&null!=(c=b[p]);p++){if(o&&c){for(h=0,a||c.ownerDocument===I||(j(c),
s=!L);d=e[h++];)if(d(c,a||I,s)){l.push(c);break}u&&(V=_)}r&&((c=!d&&c)&&f--,i&&m.push(c));
}if(f+=p,r&&p!==f){for(h=0;d=n[h++];)d(m,v,a,s);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=Y.call(l));
v=g(v)}Z.apply(l,v),u&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(V=_,
N=y),m};return r?i(a):a}var _,x,w,C,S,k,D,M,N,T,A,j,I,P,L,R,O,E,B,F="sizzle"+1*new Date,z=e.document,V=0,q=0,H=n(),W=n(),U=n(),G=function(e,t){
return e===t&&(A=!0),0},$=1<<31,K={}.hasOwnProperty,X=[],Y=X.pop,Q=X.push,Z=X.push,J=X.slice,ee=function(e,t){
for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(oe),de=new RegExp("^"+ie+"$"),fe={
ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),
ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),
bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")
},pe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){
var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320);
},we=function(){j()};try{Z.apply(X=J.call(z.childNodes),z.childNodes),X[z.childNodes.length].nodeType;
}catch(Ce){Z={apply:X.length?function(e,t){Q.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);
e.length=n-1}}}x=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;
return t?"HTML"!==t.nodeName:!1},j=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:z;
return i!==I&&9===i.nodeType&&i.documentElement?(I=i,P=I.documentElement,L=!S(I),
(n=I.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),
x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),
x.getElementsByTagName=r(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length;
}),x.getElementsByClassName=ge.test(I.getElementsByClassName),x.getById=r(function(e){
return P.appendChild(e).id=F,!I.getElementsByName||!I.getElementsByName(F).length;
}),x.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){
var n=t.getElementById(e);return n?[n]:[]}},w.filter.ID=function(e){var t=e.replace(_e,xe);
return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){
var t=e.replace(_e,xe);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");
return n&&n.value===t}}),w.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0;
}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);
return i}return o},w.find.CLASS=x.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&L?t.getElementsByClassName(e):void 0;
},O=[],R=[],(x.qsa=ge.test(I.querySelectorAll))&&(r(function(e){P.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",
e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+ne+"*(?:''|\"\")"),
e.querySelectorAll("[selected]").length||R.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||R.push("~="),
e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||R.push(".#.+[+~]");
}),r(function(e){var t=I.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),
e.querySelectorAll("[name=d]").length&&R.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),
e.querySelectorAll("*,:x"),R.push(",.*:")})),(x.matchesSelector=ge.test(E=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(e){
x.disconnectedMatch=E.call(e,"div"),E.call(e,"[s!='']:x"),O.push("!=",oe)}),R=R.length&&new RegExp(R.join("|")),
O=O.length&&new RegExp(O.join("|")),t=ge.test(P.compareDocumentPosition),B=t||ge.test(P.contains)?function(e,t){
var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)));
}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){
if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;
return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,
1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===I||e.ownerDocument===z&&B(z,e)?-1:t===I||t.ownerDocument===z&&B(z,t)?1:T?ee(T,e)-ee(T,t):0:4&n?-1:1);
}:function(e,t){if(e===t)return A=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t];
if(!r||!o)return e===I?-1:t===I?1:r?-1:o?1:T?ee(T,e)-ee(T,t):0;if(r===o)return a(e,t);
for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;
return i?a(s[i],l[i]):s[i]===z?-1:l[i]===z?1:0},I):I},t.matches=function(e,n){return t(e,null,null,n);
},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==I&&j(e),n=n.replace(ce,"='$1']"),
!(!x.matchesSelector||!L||U[n+" "]||O&&O.test(n)||R&&R.test(n)))try{var i=E.call(e,n);
if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}
return t(n,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&j(e),
B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&j(e);var n=w.attrHandle[t.toLowerCase()],i=n&&K.call(w.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;
return void 0!==i?i:x.attributes||!L?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null;
},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e);
},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(A=!x.detectDuplicates,T=!x.sortStable&&e.slice(0),
e.sort(G),A){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return T=null,
e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){
if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e);
}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},w=t.selectors={
cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",
first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"
}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,xe),
"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),
"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),
e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];
return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),
e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,xe).toLowerCase();
return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t;
}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&H(e,function(e){
return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"");
})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="",
"="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0;
}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;
return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,f,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;
if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;
p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){
for(d=g,h=d[F]||(d[F]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[e]||[],f=u[0]===V&&u[1],
b=f&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){
c[e]=[V,f,b];break}}else if(y&&(d=t,h=d[F]||(d[F]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),
u=c[e]||[],f=u[0]===V&&u[1],b=f),b===!1)for(;(d=++f&&d&&d[m]||(b=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&(h=d[F]||(d[F]={}),
c=h[d.uniqueID]||(h[d.uniqueID]={}),c[e]=[V,b]),d!==t)););return b-=r,b===i||b%i===0&&b/i>=0;
}}},PSEUDO:function(e,n){var r,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);
return o[F]?o(n):o.length>1?(r=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){
for(var i,r=o(e,n),a=r.length;a--;)i=ee(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r);
}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=D(e.replace(se,"$1"));return r[F]?i(function(e,t,n,i){
for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){
return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){
return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(_e,xe),function(t){
return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),
e=e.replace(_e,xe).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),
n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){
var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P;
},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex);
},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0;
},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected;
},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0;
},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;
return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName);
},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();
return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase());
},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){
return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),
odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){
for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);
return e})}},w.pseudos.nth=w.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,
image:!0})w.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})w.pseudos[_]=l(_);return h.prototype=w.filters=w.pseudos,
w.setFilters=new h,k=t.tokenize=function(e,n){var i,r,o,a,s,l,u,c=W[e+" "];if(c)return n?0:c.slice(0);
for(s=e,l=[],u=w.preFilter;s;){(!i||(r=le.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),
l.push(o=[])),i=!1,(r=ue.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(se," ")
}),s=s.slice(i.length));for(a in w.filter)!(r=fe[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),
o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):W(e,l).slice(0);
},D=t.compile=function(e,t){var n,i=[],r=[],o=U[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=y(t[n]),
o[F]?i.push(o):r.push(o);o=U(e,b(r,i)),o.selector=e}return o},M=t.select=function(e,t,n,i){
var r,o,a,s,l,u="function"==typeof e&&e,h=!i&&k(e=u.selector||e);if(n=n||[],1===h.length){
if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===t.nodeType&&L&&w.relative[o[1].type]){
if(t=(w.find.ID(a.matches[0].replace(_e,xe),t)||[])[0],!t)return n;u&&(t=t.parentNode),
e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(a=o[r],
!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(_e,xe),ye.test(o[0].type)&&c(t.parentNode)||t))){
if(o.splice(r,1),e=i.length&&d(o),!e)return Z.apply(n,i),n;break}}return(u||D(e,h))(i,t,!L,n,!t||ye.test(e)&&c(t.parentNode)||t),
n},x.sortStable=F.split("").sort(G).join("")===F,x.detectDuplicates=!!A,j(),x.sortDetached=r(function(e){
return 1&e.compareDocumentPosition(I.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>",
"#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){
return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){
return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value");
})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue;
}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){
var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null;
}),t}(e);fe.find=ye,fe.expr=ye.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=ye.uniqueSort,
fe.text=ye.getText,fe.isXMLDoc=ye.isXML,fe.contains=ye.contains;var be=function(e,t,n){
for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&fe(e).is(n))break;
i.push(e)}return i},_e=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);
return n},xe=fe.expr.match.needsContext,we=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ce=/^.[^:#\[\.,]*$/;
fe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?fe.find.matchesSelector(i,e)?[i]:[]:fe.find.matches(e,fe.grep(t,function(e){
return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;
if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;r>t;t++)if(fe.contains(i[t],this))return!0;
}));for(t=0;r>t;t++)fe.find(e,i[t],n);return n=this.pushStack(r>1?fe.unique(n):n),
n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1));
},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&xe.test(e)?fe(e):e||[],!1).length;
}});var Se,ke=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,De=fe.fn.init=function(e,t,n){
var i,r;if(!e)return this;if(n=n||Se,"string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ke.exec(e),
!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){
if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ie,!0)),
we.test(i[1])&&fe.isPlainObject(t))for(i in t)fe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);
return this}if(r=ie.getElementById(i[2]),r&&r.parentNode){if(r.id!==i[2])return Se.find(e);
this.length=1,this[0]=r}return this.context=ie,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,
this.length=1,this):fe.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(fe):(void 0!==e.selector&&(this.selector=e.selector,
this.context=e.context),fe.makeArray(e,this))};De.prototype=fe.fn,Se=fe(ie);var Me=/^(?:parents|prev(?:Until|All))/,Ne={
children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t,n=fe(e,this),i=n.length;
return this.filter(function(){for(t=0;i>t;t++)if(fe.contains(this,n[t]))return!0});
},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=xe.test(e)||"string"!=typeof e?fe(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&fe.find.matchesSelector(n,e))){
o.push(n);break}return this.pushStack(o.length>1?fe.uniqueSort(o):o)},index:function(e){
return e?"string"==typeof e?fe.inArray(this[0],fe(e)):fe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1;
},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))));
},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e));
}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null;
},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,n){return be(e,"parentNode",n);
},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling");
},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling");
},nextUntil:function(e,t,n){return be(e,"nextSibling",n)},prevUntil:function(e,t,n){
return be(e,"previousSibling",n)},siblings:function(e){return _e((e.parentNode||{}).firstChild,e);
},children:function(e){return _e(e.firstChild)},contents:function(e){return fe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:fe.merge([],e.childNodes);
}},function(e,t){fe.fn[e]=function(n,i){var r=fe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),
i&&"string"==typeof i&&(r=fe.filter(i,r)),this.length>1&&(Ne[e]||(r=fe.uniqueSort(r)),
Me.test(e)&&(r=r.reverse())),this.pushStack(r)}});var Te=/\S+/g;fe.Callbacks=function(e){
e="string"==typeof e?o(e):fe.extend({},e);var t,n,i,r,a=[],s=[],l=-1,u=function(){
for(r=e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=a.length,
n=!1);e.memory||(n=!1),t=!1,r&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(l=a.length-1,
s.push(n)),function i(t){fe.each(t,function(t,n){fe.isFunction(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==fe.type(n)&&i(n);
})}(arguments),n&&!t&&u()),this},remove:function(){return fe.each(arguments,function(e,t){
for(var n;(n=fe.inArray(t,a,n))>-1;)a.splice(n,1),l>=n&&l--}),this},has:function(e){
return e?fe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){
return r=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=!0,
n||c.disable(),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],
n=[e,n.slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),
this},fired:function(){return!!i}};return c},fe.extend({Deferred:function(e){var t=[["resolve","done",fe.Callbacks("once memory"),"resolved"],["reject","fail",fe.Callbacks("once memory"),"rejected"],["notify","progress",fe.Callbacks("memory")]],n="pending",i={
state:function(){return n},always:function(){return r.done(arguments).fail(arguments),
this},then:function(){var e=arguments;return fe.Deferred(function(n){fe.each(t,function(t,o){
var a=fe.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);
e&&fe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments);
})}),e=null}).promise()},promise:function(e){return null!=e?fe.extend(e,i):i}},r={};
return i.pipe=i.then,fe.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){
n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),
this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){
var t,n,i,r=0,o=re.call(arguments),a=o.length,s=1!==a||e&&fe.isFunction(e.promise)?a:0,l=1===s?e:fe.Deferred(),u=function(e,n,i){
return function(r){n[e]=this,i[e]=arguments.length>1?re.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i);
}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&fe.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,t)).done(u(r,i,o)).fail(l.reject):--s;
return s||l.resolveWith(i,o),l.promise()}});var Ae;fe.fn.ready=function(e){return fe.ready.promise().done(e),
this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0);
},ready:function(e){(e===!0?--fe.readyWait:fe.isReady)||(fe.isReady=!0,e!==!0&&--fe.readyWait>0||(Ae.resolveWith(ie,[fe]),
fe.fn.triggerHandler&&(fe(ie).triggerHandler("ready"),fe(ie).off("ready"))))}}),fe.ready.promise=function(t){
if(!Ae)if(Ae=fe.Deferred(),"complete"===ie.readyState||"loading"!==ie.readyState&&!ie.documentElement.doScroll)e.setTimeout(fe.ready);else if(ie.addEventListener)ie.addEventListener("DOMContentLoaded",s),
e.addEventListener("load",s);else{ie.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);
var n=!1;try{n=null==e.frameElement&&ie.documentElement}catch(i){}n&&n.doScroll&&!function r(){
if(!fe.isReady){try{n.doScroll("left")}catch(t){return e.setTimeout(r,50)}a(),fe.ready();
}}()}return Ae.promise(t)},fe.ready.promise();var je;for(je in fe(he))break;he.ownFirst="0"===je,
he.inlineBlockNeedsLayout=!1,fe(function(){var e,t,n,i;n=ie.getElementsByTagName("body")[0],
n&&n.style&&(t=ie.createElement("div"),i=ie.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",
he.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i));
}),function(){var e=ie.createElement("div");he.deleteExpando=!0;try{delete e.test;
}catch(t){he.deleteExpando=!1}e=null}();var Ie=function(e){var t=fe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;
return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t},Pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Le=/([A-Z])/g;
fe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
},hasData:function(e){return e=e.nodeType?fe.cache[e[fe.expando]]:e[fe.expando],!!e&&!u(e);
},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return h(e,t)},_data:function(e,t,n){
return c(e,t,n,!0)},_removeData:function(e,t){return h(e,t,!0)}}),fe.fn.extend({data:function(e,t){
var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=fe.data(o),
1===o.nodeType&&!fe._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,
0===i.indexOf("data-")&&(i=fe.camelCase(i.slice(5)),l(o,i,r[i])));fe._data(o,"parsedAttrs",!0);
}return r}return"object"==typeof e?this.each(function(){fe.data(this,e)}):arguments.length>1?this.each(function(){
fe.data(this,e,t)}):o?l(o,e,fe.data(o,e)):void 0},removeData:function(e){return this.each(function(){
fe.removeData(this,e)})}}),fe.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",
i=fe._data(e,t),n&&(!i||fe.isArray(n)?i=fe._data(e,t,fe.makeArray(n)):i.push(n)),
i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=fe.queue(e,t),i=n.length,r=n.shift(),o=fe._queueHooks(e,t),a=function(){
fe.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),
delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";
return fe._data(e,n)||fe._data(e,n,{empty:fe.Callbacks("once memory").add(function(){
fe._removeData(e,t+"queue"),fe._removeData(e,n)})})}}),fe.fn.extend({queue:function(e,t){
var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?fe.queue(this[0],e):void 0===t?this:this.each(function(){
var n=fe.queue(this,e,t);fe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&fe.dequeue(this,e);
})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){
return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=fe.Deferred(),o=this,a=this.length,s=function(){
--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=fe._data(o[a],e+"queueHooks"),
n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}}),function(){var e;he.shrinkWrapBlocks=function(){
if(null!=e)return e;e=!1;var t,n,i;return n=ie.getElementsByTagName("body")[0],n&&n.style?(t=ie.createElement("div"),
i=ie.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
t.appendChild(ie.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),
e):void 0}}();var Re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oe=new RegExp("^(?:([+-])=|)("+Re+")([a-z%]*)$","i"),Ee=["Top","Right","Bottom","Left"],Be=function(e,t){
return e=t||e,"none"===fe.css(e,"display")||!fe.contains(e.ownerDocument,e)},Fe=function(e,t,n,i,r,o,a){
var s=0,l=e.length,u=null==n;if("object"===fe.type(n)){r=!0;for(s in n)Fe(e,t,s,n[s],!0,o,a);
}else if(void 0!==i&&(r=!0,fe.isFunction(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,
t=function(e,t,n){return u.call(fe(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));
return r?e:u?t.call(e):l?t(e[0],n):o},ze=/^(?:checkbox|radio)$/i,Ve=/<([\w:-]+)/,qe=/^$|\/(?:java|ecma)script/i,He=/^\s+/,We="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";
!function(){var e=ie.createElement("div"),t=ie.createDocumentFragment(),n=ie.createElement("input");
e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
he.leadingWhitespace=3===e.firstChild.nodeType,he.tbody=!e.getElementsByTagName("tbody").length,
he.htmlSerialize=!!e.getElementsByTagName("link").length,he.html5Clone="<:nav></:nav>"!==ie.createElement("nav").cloneNode(!0).outerHTML,
n.type="checkbox",n.checked=!0,t.appendChild(n),he.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",
he.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),n=ie.createElement("input"),
n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),
e.appendChild(n),he.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,he.noCloneEvent=!!e.addEventListener,
e[fe.expando]=1,he.attributes=!e.getAttribute(fe.expando)}();var Ue={option:[1,"<select multiple='multiple'>","</select>"],
legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],
thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:he.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]
};Ue.optgroup=Ue.option,Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td;
var Ge=/<|&#?\w+;/,$e=/<tbody/i;!function(){var t,n,i=ie.createElement("div");for(t in{
submit:!0,change:!0,focusin:!0})n="on"+t,(he[t]=n in e)||(i.setAttribute(n,"t"),he[t]=i.attributes[n].expando===!1);
i=null}();var Ke=/^(?:input|select|textarea)$/i,Xe=/^key/,Ye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^(?:focusinfocus|focusoutblur)$/,Ze=/^([^.]*)(?:\.(.+)|)/;
fe.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,u,c,h,d,f,p,m,g=fe._data(e);
if(g){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=fe.guid++),(a=g.events)||(a=g.events={}),
(c=g.handle)||(c=g.handle=function(e){return"undefined"==typeof fe||e&&fe.event.triggered===e.type?void 0:fe.event.dispatch.apply(c.elem,arguments);
},c.elem=e),t=(t||"").match(Te)||[""],s=t.length;s--;)o=Ze.exec(t[s])||[],f=m=o[1],
p=(o[2]||"").split(".").sort(),f&&(u=fe.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,
u=fe.event.special[f]||{},h=fe.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,
selector:r,needsContext:r&&fe.expr.match.needsContext.test(r),namespace:p.join(".")
},l),(d=a[f])||(d=a[f]=[],d.delegateCount=0,u.setup&&u.setup.call(e,i,p,c)!==!1||(e.addEventListener?e.addEventListener(f,c,!1):e.attachEvent&&e.attachEvent("on"+f,c))),
u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),
fe.event.global[f]=!0);e=null}},remove:function(e,t,n,i,r){var o,a,s,l,u,c,h,d,f,p,m,g=fe.hasData(e)&&fe._data(e);
if(g&&(c=g.events)){for(t=(t||"").match(Te)||[""],u=t.length;u--;)if(s=Ze.exec(t[u])||[],
f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(h=fe.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,
d=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)a=d[o],
!r&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(d.splice(o,1),
a.selector&&d.delegateCount--,h.remove&&h.remove.call(e,a));l&&!d.length&&(h.teardown&&h.teardown.call(e,p,g.handle)!==!1||fe.removeEvent(e,f,g.handle),
delete c[f])}else for(f in c)fe.event.remove(e,f+t[u],n,i,!0);fe.isEmptyObject(c)&&(delete g.handle,
fe._removeData(e,"events"))}},trigger:function(t,n,i,r){var o,a,s,l,u,c,h,d=[i||ie],f=ce.call(t,"type")?t.type:t,p=ce.call(t,"namespace")?t.namespace.split("."):[];
if(s=c=i=i||ie,3!==i.nodeType&&8!==i.nodeType&&!Qe.test(f+fe.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),
f=p.shift(),p.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[fe.expando]?t:new fe.Event(f,"object"==typeof t&&t),
t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,
t.result=void 0,t.target||(t.target=i),n=null==n?[t]:fe.makeArray(n,[t]),u=fe.event.special[f]||{},
r||!u.trigger||u.trigger.apply(i,n)!==!1)){if(!r&&!u.noBubble&&!fe.isWindow(i)){for(l=u.delegateType||f,
Qe.test(l+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s;c===(i.ownerDocument||ie)&&d.push(c.defaultView||c.parentWindow||e);
}for(h=0;(s=d[h++])&&!t.isPropagationStopped();)t.type=h>1?l:u.bindType||f,o=(fe._data(s,"events")||{})[t.type]&&fe._data(s,"handle"),
o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&Ie(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());
if(t.type=f,!r&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(d.pop(),n)===!1)&&Ie(i)&&a&&i[f]&&!fe.isWindow(i)){
c=i[a],c&&(i[a]=null),fe.event.triggered=f;try{i[f]()}catch(m){}fe.event.triggered=void 0,
c&&(i[a]=c)}return t.result}},dispatch:function(e){e=fe.event.fix(e);var t,n,i,r,o,a=[],s=re.call(arguments),l=(fe._data(this,"events")||{})[e.type]||[],u=fe.event.special[e.type]||{};
if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){
for(a=fe.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,
n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(o.namespace))&&(e.handleObj=o,
e.data=o.data,i=((fe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),
void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),
e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){
for(i=[],n=0;s>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?fe(r,this).index(l)>-1:fe.find(r,this,null,[l]).length),
i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({
elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[fe.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];
for(a||(this.fixHooks[r]=a=Ye.test(r)?this.mouseHooks:Xe.test(r)?this.keyHooks:{}),
i=a.props?this.props.concat(a.props):this.props,e=new fe.Event(o),t=i.length;t--;)n=i[t],
e[n]=o[n];return e.target||(e.target=o.srcElement||ie),3===e.target.nodeType&&(e.target=e.target.parentNode),
e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){
return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{
props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(e,t){var n,i,r,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ie,
r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),
e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),
!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),
e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==_()&&this.focus)try{
return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){
return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{
trigger:function(){return fe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),
!1):void 0},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{
postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result);
}}},simulate:function(e,t,n){var i=fe.extend(new fe.Event,n,{type:e,isSimulated:!0
});fe.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}},fe.removeEvent=ie.removeEventListener?function(e,t,n){
e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),
e.detachEvent(i,n))},fe.Event=function(e,t){return this instanceof fe.Event?(e&&e.type?(this.originalEvent=e,
this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?y:b):this.type=e,
t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),void(this[fe.expando]=!0)):new fe.Event(e,t);
},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:b,isPropagationStopped:b,
isImmediatePropagationStopped:b,preventDefault:function(){var e=this.originalEvent;
this.isDefaultPrevented=y,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1);
},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=y,
e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},
stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=y,
e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation();
}},fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",
pointerleave:"pointerout"},function(e,t){fe.event.special[e]={delegateType:t,bindType:t,
handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!fe.contains(i,r))&&(e.type=o.origType,
n=o.handler.apply(this,arguments),e.type=t),n}}}),he.submit||(fe.event.special.submit={
setup:function(){return fe.nodeName(this,"form")?!1:void fe.event.add(this,"click._submit keypress._submit",function(e){
var t=e.target,n=fe.nodeName(t,"input")||fe.nodeName(t,"button")?fe.prop(t,"form"):void 0;
n&&!fe._data(n,"submit")&&(fe.event.add(n,"submit._submit",function(e){e._submitBubble=!0;
}),fe._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,
this.parentNode&&!e.isTrigger&&fe.event.simulate("submit",this.parentNode,e))},teardown:function(){
return fe.nodeName(this,"form")?!1:void fe.event.remove(this,"._submit")}}),he.change||(fe.event.special.change={
setup:function(){return Ke.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(fe.event.add(this,"propertychange._change",function(e){
"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),fe.event.add(this,"click._change",function(e){
this._justChanged&&!e.isTrigger&&(this._justChanged=!1),fe.event.simulate("change",this,e);
})),!1):void fe.event.add(this,"beforeactivate._change",function(e){var t=e.target;
Ke.test(t.nodeName)&&!fe._data(t,"change")&&(fe.event.add(t,"change._change",function(e){
!this.parentNode||e.isSimulated||e.isTrigger||fe.event.simulate("change",this.parentNode,e);
}),fe._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0;
},teardown:function(){return fe.event.remove(this,"._change"),!Ke.test(this.nodeName);
}}),he.focusin||fe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){
fe.event.simulate(t,e.target,fe.event.fix(e))};fe.event.special[t]={setup:function(){
var i=this.ownerDocument||this,r=fe._data(i,t);r||i.addEventListener(e,n,!0),fe._data(i,t,(r||0)+1);
},teardown:function(){var i=this.ownerDocument||this,r=fe._data(i,t)-1;r?fe._data(i,t,r):(i.removeEventListener(e,n,!0),
fe._removeData(i,t))}}}),fe.fn.extend({on:function(e,t,n,i){return x(this,e,t,n,i);
},one:function(e,t,n,i){return x(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,
fe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),
this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,
t=void 0),n===!1&&(n=b),this.each(function(){fe.event.remove(this,e,n,t)})},trigger:function(e,t){
return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){
var n=this[0];return n?fe.event.trigger(e,t,n,!0):void 0}});var Je=/ jQuery\d+="(?:null|\d+)"/g,et=new RegExp("<(?:"+We+")[\\s/>]","i"),tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,nt=/<script|<style|<link/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^true\/(.*)/,ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,at=f(ie),st=at.appendChild(ie.createElement("div"));
fe.extend({htmlPrefilter:function(e){return e.replace(tt,"<$1></$2>")},clone:function(e,t,n){
var i,r,o,a,s,l=fe.contains(e.ownerDocument,e);if(he.html5Clone||fe.isXMLDoc(e)||!et.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(st.innerHTML=e.outerHTML,
st.removeChild(o=st.firstChild)),!(he.noCloneEvent&&he.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(i=p(o),
s=p(e),a=0;null!=(r=s[a]);++a)i[a]&&D(r,i[a]);if(t)if(n)for(s=s||p(e),i=i||p(o),a=0;null!=(r=s[a]);a++)k(r,i[a]);else k(e,o);
return i=p(o,"script"),i.length>0&&m(i,!l&&p(e,"script")),i=s=r=null,o},cleanData:function(e,t){
for(var n,i,r,o,a=0,s=fe.expando,l=fe.cache,u=he.attributes,c=fe.event.special;null!=(n=e[a]);a++)if((t||Ie(n))&&(r=n[s],
o=r&&l[r])){if(o.events)for(i in o.events)c[i]?fe.event.remove(n,i):fe.removeEvent(n,i,o.handle);
l[r]&&(delete l[r],u||"undefined"==typeof n.removeAttribute?n[s]=void 0:n.removeAttribute(s),
ne.push(r))}}}),fe.fn.extend({domManip:M,detach:function(e){return N(this,e,!0)},
remove:function(e){return N(this,e)},text:function(e){return Fe(this,function(e){
return void 0===e?fe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ie).createTextNode(e));
},null,e,arguments.length)},append:function(){return M(this,arguments,function(e){
if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e);t.appendChild(e);
}})},prepend:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){
var t=w(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return M(this,arguments,function(e){
this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return M(this,arguments,function(e){
this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){
for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&fe.cleanData(p(e,!1));e.firstChild;)e.removeChild(e.firstChild);
e.options&&fe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){
return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t);
})},html:function(e){return Fe(this,function(e){var t=this[0]||{},n=0,i=this.length;
if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Je,""):void 0;if(!("string"!=typeof e||nt.test(e)||!he.htmlSerialize&&et.test(e)||!he.leadingWhitespace&&He.test(e)||Ue[(Ve.exec(e)||["",""])[1].toLowerCase()])){
e=fe.htmlPrefilter(e);try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(fe.cleanData(p(t,!1)),
t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length);
},replaceWith:function(){var e=[];return M(this,arguments,function(t){var n=this.parentNode;
fe.inArray(this,e)<0&&(fe.cleanData(p(this)),n&&n.replaceChild(t,this))},e)}}),fe.each({
appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"
},function(e,t){fe.fn[e]=function(e){for(var n,i=0,r=[],o=fe(e),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),
fe(o[i])[t](n),ae.apply(r,n.get());return this.pushStack(r)}});var lt,ut={HTML:"block",
BODY:"block"},ct=/^margin/,ht=new RegExp("^("+Re+")(?!px)[a-z%]+$","i"),dt=function(e,t,n,i){
var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];
return r},ft=ie.documentElement;!function(){function t(){var t,c,h=ie.documentElement;
h.appendChild(l),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",
n=r=s=!1,i=a=!0,e.getComputedStyle&&(c=e.getComputedStyle(u),n="1%"!==(c||{}).top,
s="2px"===(c||{}).marginLeft,r="4px"===(c||{width:"4px"}).width,u.style.marginRight="50%",
i="4px"===(c||{marginRight:"4px"}).marginRight,t=u.appendChild(ie.createElement("div")),
t.style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",
t.style.marginRight=t.style.width="0",u.style.width="1px",a=!parseFloat((e.getComputedStyle(t)||{}).marginRight),
u.removeChild(t)),u.style.display="none",o=0===u.getClientRects().length,o&&(u.style.display="",
u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",
t=u.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",
o=0===t[0].offsetHeight,o&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),
h.removeChild(l)}var n,i,r,o,a,s,l=ie.createElement("div"),u=ie.createElement("div");
u.style&&(u.style.cssText="float:left;opacity:.5",he.opacity="0.5"===u.style.opacity,
he.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",
he.clearCloneStyle="content-box"===u.style.backgroundClip,l=ie.createElement("div"),
l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",
u.innerHTML="",l.appendChild(u),he.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,
fe.extend(he,{reliableHiddenOffsets:function(){return null==n&&t(),o},boxSizingReliable:function(){
return null==n&&t(),r},pixelMarginRight:function(){return null==n&&t(),i},pixelPosition:function(){
return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),a},reliableMarginLeft:function(){
return null==n&&t(),s}}))}();var pt,mt,gt=/^(top|right|bottom|left)$/;e.getComputedStyle?(pt=function(t){
var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t);
},mt=function(e,t,n){var i,r,o,a,s=e.style;return n=n||pt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,
""!==a&&void 0!==a||fe.contains(e.ownerDocument,e)||(a=fe.style(e,t)),n&&!he.pixelMarginRight()&&ht.test(a)&&ct.test(t)&&(i=s.width,
r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,
s.maxWidth=o),void 0===a?a:a+""}):ft.currentStyle&&(pt=function(e){return e.currentStyle;
},mt=function(e,t,n){var i,r,o,a,s=e.style;return n=n||pt(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),
ht.test(a)&&!gt.test(t)&&(i=s.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),
s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=i,o&&(r.left=o)),void 0===a?a:a+""||"auto";
});var vt=/alpha\([^)]*\)/i,yt=/opacity\s*=\s*([^)]*)/i,bt=/^(none|table(?!-c[ea]).+)/,_t=new RegExp("^("+Re+")(.*)$","i"),xt={
position:"absolute",visibility:"hidden",display:"block"},wt={letterSpacing:"0",fontWeight:"400"
},Ct=["Webkit","O","Moz","ms"],St=ie.createElement("div").style;fe.extend({cssHooks:{
opacity:{get:function(e,t){if(t){var n=mt(e,"opacity");return""===n?"1":n}}}},cssNumber:{
animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,
fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0
},cssProps:{"float":he.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){
if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=fe.camelCase(t),l=e.style;
if(t=fe.cssProps[s]||(fe.cssProps[s]=I(s)||s),a=fe.cssHooks[t]||fe.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];
if(o=typeof n,"string"===o&&(r=Oe.exec(n))&&r[1]&&(n=d(e,t,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(fe.cssNumber[s]?"":"px")),
he.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,i)))))try{
l[t]=n}catch(u){}}},css:function(e,t,n,i){var r,o,a,s=fe.camelCase(t);return t=fe.cssProps[s]||(fe.cssProps[s]=I(s)||s),
a=fe.cssHooks[t]||fe.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=mt(e,t,i)),
"normal"===o&&t in wt&&(o=wt[t]),""===n||n?(r=parseFloat(o),n===!0||isFinite(r)?r||0:o):o;
}}),fe.each(["height","width"],function(e,t){fe.cssHooks[t]={get:function(e,n,i){
return n?bt.test(fe.css(e,"display"))&&0===e.offsetWidth?dt(e,xt,function(){return O(e,t,i);
}):O(e,t,i):void 0},set:function(e,n,i){var r=i&&pt(e);return L(e,n,i?R(e,t,i,he.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,r),r):0);
}}}),he.opacity||(fe.cssHooks.opacity={get:function(e,t){return yt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":"";
},set:function(e,t){var n=e.style,i=e.currentStyle,r=fe.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";
n.zoom=1,(t>=1||""===t)&&""===fe.trim(o.replace(vt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),
""===t||i&&!i.filter)||(n.filter=vt.test(o)?o.replace(vt,r):o+" "+r)}}),fe.cssHooks.marginRight=j(he.reliableMarginRight,function(e,t){
return t?dt(e,{display:"inline-block"},mt,[e,"marginRight"]):void 0}),fe.cssHooks.marginLeft=j(he.reliableMarginLeft,function(e,t){
return t?(parseFloat(mt(e,"marginLeft"))||(fe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-dt(e,{
marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),
fe.each({margin:"",padding:"",border:"Width"},function(e,t){fe.cssHooks[e+t]={expand:function(n){
for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Ee[i]+t]=o[i]||o[i-2]||o[0];
return r}},ct.test(e)||(fe.cssHooks[e+t].set=L)}),fe.fn.extend({css:function(e,t){
return Fe(this,function(e,t,n){var i,r,o={},a=0;if(fe.isArray(t)){for(i=pt(e),r=t.length;r>a;a++)o[t[a]]=fe.css(e,t[a],!1,i);
return o}return void 0!==n?fe.style(e,t,n):fe.css(e,t)},e,t,arguments.length>1)},
show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(e){
return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Be(this)?fe(this).show():fe(this).hide();
})}}),fe.Tween=E,E.prototype={constructor:E,init:function(e,t,n,i,r,o){this.elem=e,
this.prop=n,this.easing=r||fe.easing._default,this.options=t,this.start=this.now=this.cur(),
this.end=i,this.unit=o||(fe.cssNumber[n]?"":"px")},cur:function(){var e=E.propHooks[this.prop];
return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){var t,n=E.propHooks[this.prop];
return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,
this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),
n&&n.set?n.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,
E.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""),
t&&"auto"!==t?t:0)},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit);
}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now);
}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2;
},_default:"swing"},fe.fx=E.prototype.init,fe.fx.step={};var kt,Dt,Mt=/^(?:toggle|show|hide)$/,Nt=/queueHooks$/;
fe.Animation=fe.extend(H,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);
return d(n.elem,e,Oe.exec(t),n),n}]},tweener:function(e,t){fe.isFunction(e)?(t=e,
e=["*"]):e=e.match(Te);for(var n,i=0,r=e.length;r>i;i++)n=e[i],H.tweeners[n]=H.tweeners[n]||[],
H.tweeners[n].unshift(t)},prefilters:[V],prefilter:function(e,t){t?H.prefilters.unshift(e):H.prefilters.push(e);
}}),fe.speed=function(e,t,n){var i=e&&"object"==typeof e?fe.extend({},e):{complete:n||!n&&t||fe.isFunction(e)&&e,
duration:e,easing:n&&t||t&&!fe.isFunction(t)&&t};return i.duration=fe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in fe.fx.speeds?fe.fx.speeds[i.duration]:fe.fx.speeds._default,
(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){
fe.isFunction(i.old)&&i.old.call(this),i.queue&&fe.dequeue(this,i.queue)},i},fe.fn.extend({
fadeTo:function(e,t,n,i){return this.filter(Be).css("opacity",0).show().end().animate({
opacity:t},e,n,i)},animate:function(e,t,n,i){var r=fe.isEmptyObject(e),o=fe.speed(t,n,i),a=function(){
var t=H(this,fe.extend({},e),o);(r||fe._data(this,"finish"))&&t.stop(!0)};return a.finish=a,
r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){
var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),
this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=fe.timers,a=fe._data(this);
if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&Nt.test(r)&&i(a[r]);
for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),
t=!1,o.splice(r,1));(t||!n)&&fe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),
this.each(function(){var t,n=fe._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=fe.timers,a=i?i.length:0;
for(n.finish=!0,fe.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),
o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish;
})}}),fe.each(["toggle","show","hide"],function(e,t){var n=fe.fn[t];fe.fn[t]=function(e,i,r){
return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(F(t,!0),e,i,r);
}}),fe.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{
opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){
fe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),fe.timers=[],fe.fx.tick=function(){
var e,t=fe.timers,n=0;for(kt=fe.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);
t.length||fe.fx.stop(),kt=void 0},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop();
},fe.fx.interval=13,fe.fx.start=function(){Dt||(Dt=e.setInterval(fe.fx.tick,fe.fx.interval));
},fe.fx.stop=function(){e.clearInterval(Dt),Dt=null},fe.fx.speeds={slow:600,fast:200,
_default:400},fe.fn.delay=function(t,n){return t=fe.fx?fe.fx.speeds[t]||t:t,n=n||"fx",
this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r);
}})},function(){var e,t=ie.createElement("input"),n=ie.createElement("div"),i=ie.createElement("select"),r=i.appendChild(ie.createElement("option"));
n=ie.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),
e=n.getElementsByTagName("a")[0],e.style.cssText="top:1px",he.getSetAttribute="t"!==n.className,
he.style=/top/.test(e.getAttribute("style")),he.hrefNormalized="/a"===e.getAttribute("href"),
he.checkOn=!!t.value,he.optSelected=r.selected,he.enctype=!!ie.createElement("form").enctype,
i.disabled=!0,he.optDisabled=!r.disabled,t=ie.createElement("input"),t.setAttribute("value",""),
he.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),
he.radioValue="t"===t.value}();var Tt=/\r/g,At=/[\x20\t\r\n\f]+/g;fe.fn.extend({val:function(e){
var t,n,i,r=this[0];{if(arguments.length)return i=fe.isFunction(e),this.each(function(n){
var r;1===this.nodeType&&(r=i?e.call(this,n,fe(this).val()):e,null==r?r="":"number"==typeof r?r+="":fe.isArray(r)&&(r=fe.map(r,function(e){
return null==e?"":e+""})),t=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()],
t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=fe.valHooks[r.type]||fe.valHooks[r.nodeName.toLowerCase()],
t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Tt,""):null==n?"":n);
}}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:fe.trim(fe.text(e)).replace(At," ");
}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],
!(!n.selected&&l!==r||(he.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&fe.nodeName(n.parentNode,"optgroup"))){
if(t=fe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=fe.makeArray(t),a=r.length;a--;)if(i=r[a],
fe.inArray(fe.valHooks.option.get(i),o)>-1)try{i.selected=n=!0}catch(s){i.scrollHeight;
}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),fe.each(["radio","checkbox"],function(){
fe.valHooks[this]={set:function(e,t){return fe.isArray(t)?e.checked=fe.inArray(fe(e).val(),t)>-1:void 0;
}},he.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value;
})});var jt,It,Pt=fe.expr.attrHandle,Lt=/^(?:checked|selected)$/i,Rt=he.getSetAttribute,Ot=he.input;
fe.fn.extend({attr:function(e,t){return Fe(this,fe.attr,e,t,arguments.length>1)},
removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({
attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?fe.prop(e,t,n):(1===o&&fe.isXMLDoc(e)||(t=t.toLowerCase(),
r=fe.attrHooks[t]||(fe.expr.match.bool.test(t)?It:jt)),void 0!==n?null===n?void fe.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),
n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=fe.find.attr(e,t),null==i?void 0:i))},
attrHooks:{type:{set:function(e,t){if(!he.radioValue&&"radio"===t&&fe.nodeName(e,"input")){
var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){
var n,i,r=0,o=t&&t.match(Te);if(o&&1===e.nodeType)for(;n=o[r++];)i=fe.propFix[n]||n,
fe.expr.match.bool.test(n)?Ot&&Rt||!Lt.test(n)?e[i]=!1:e[fe.camelCase("default-"+n)]=e[i]=!1:fe.attr(e,n,""),
e.removeAttribute(Rt?n:i)}}),It={set:function(e,t,n){return t===!1?fe.removeAttr(e,n):Ot&&Rt||!Lt.test(n)?e.setAttribute(!Rt&&fe.propFix[n]||n,n):e[fe.camelCase("default-"+n)]=e[n]=!0,
n}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Pt[t]||fe.find.attr;
Ot&&Rt||!Lt.test(t)?Pt[t]=function(e,t,i){var r,o;return i||(o=Pt[t],Pt[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,
Pt[t]=o),r}:Pt[t]=function(e,t,n){return n?void 0:e[fe.camelCase("default-"+t)]?t.toLowerCase():null;
}}),Ot&&Rt||(fe.attrHooks.value={set:function(e,t,n){return fe.nodeName(e,"input")?void(e.defaultValue=t):jt&&jt.set(e,t,n);
}}),Rt||(jt={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),
i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Pt.id=Pt.name=Pt.coords=function(e,t,n){
var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},fe.valHooks.button={
get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0;
},set:jt.set},fe.attrHooks.contenteditable={set:function(e,t,n){jt.set(e,""===t?!1:t,n);
}},fe.each(["width","height"],function(e,t){fe.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),
n):void 0}}})),he.style||(fe.attrHooks.style={get:function(e){return e.style.cssText||void 0;
},set:function(e,t){return e.style.cssText=t+""}});var Et=/^(?:input|select|textarea|button|object)$/i,Bt=/^(?:a|area)$/i;
fe.fn.extend({prop:function(e,t){return Fe(this,fe.prop,e,t,arguments.length>1)},
removeProp:function(e){return e=fe.propFix[e]||e,this.each(function(){try{this[e]=void 0,
delete this[e]}catch(t){}})}}),fe.extend({prop:function(e,t,n){var i,r,o=e.nodeType;
if(3!==o&&8!==o&&2!==o)return 1===o&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,r=fe.propHooks[t]),
void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t];
},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||Bt.test(e.nodeName)&&e.href?0:-1;
}}},propFix:{"for":"htmlFor","class":"className"}}),he.hrefNormalized||fe.each(["href","src"],function(e,t){
fe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),he.optSelected||(fe.propHooks.selected={
get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),
null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex);
}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){
fe.propFix[this.toLowerCase()]=this}),he.enctype||(fe.propFix.enctype="encoding");
var Ft=/[\t\r\n\f]/g;fe.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(fe.isFunction(e))return this.each(function(t){
fe(this).addClass(e.call(this,t,W(this)))});if("string"==typeof e&&e)for(t=e.match(Te)||[];n=this[l++];)if(r=W(n),
i=1===n.nodeType&&(" "+r+" ").replace(Ft," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");
s=fe.trim(i),r!==s&&fe.attr(n,"class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;
if(fe.isFunction(e))return this.each(function(t){fe(this).removeClass(e.call(this,t,W(this)));
});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Te)||[];n=this[l++];)if(r=W(n),
i=1===n.nodeType&&(" "+r+" ").replace(Ft," ")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");
s=fe.trim(i),r!==s&&fe.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;
return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):fe.isFunction(e)?this.each(function(n){
fe(this).toggleClass(e.call(this,n,W(this),t),t)}):this.each(function(){var t,i,r,o;
if("string"===n)for(i=0,r=fe(this),o=e.match(Te)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(void 0===e||"boolean"===n)&&(t=W(this),
t&&fe._data(this,"__className__",t),fe.attr(this,"class",t||e===!1?"":fe._data(this,"__className__")||""));
})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+W(n)+" ").replace(Ft," ").indexOf(t)>-1)return!0;
return!1}}),fe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){
fe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t);
}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}
});var zt=e.location,Vt=fe.now(),qt=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
fe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=fe.trim(t+"");
return r&&!fe.trim(r.replace(Ht,function(e,t,r,o){return n&&t&&(i=0),0===i?e:(n=r||t,
i+=!o-!r,"")}))?Function("return "+r)():fe.error("Invalid JSON: "+t)},fe.parseXML=function(t){
var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new e.DOMParser,
n=i.parseFromString(t,"text/xml")):(n=new e.ActiveXObject("Microsoft.XMLDOM"),n.async="false",
n.loadXML(t))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+t),
n};var Wt=/#.*$/,Ut=/([?&])_=[^&]*/,Gt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Kt=/^(?:GET|HEAD)$/,Xt=/^\/\//,Yt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qt={},Zt={},Jt="*/".concat("*"),en=zt.href,tn=Yt.exec(en.toLowerCase())||[];
fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:en,type:"GET",isLocal:$t.test(tn[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
accepts:{"*":Jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",
json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/
},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{
"* text":String,"text html":!0,"text json":fe.parseJSON,"text xml":fe.parseXML},flatOptions:{
url:!0,context:!0}},ajaxSetup:function(e,t){return t?$($(e,fe.ajaxSettings),t):$(fe.ajaxSettings,e);
},ajaxPrefilter:U(Qt),ajaxTransport:U(Zt),ajax:function(t,n){function i(t,n,i,r){
var o,h,y,b,x,C=n;2!==_&&(_=2,l&&e.clearTimeout(l),c=void 0,s=r||"",w.readyState=t>0?4:0,
o=t>=200&&300>t||304===t,i&&(b=K(d,w,i)),b=X(d,b,w,o),o?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),
x&&(fe.lastModified[a]=x),x=w.getResponseHeader("etag"),x&&(fe.etag[a]=x)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=b.state,
h=b.data,y=b.error,o=!y)):(y=C,(t||!C)&&(C="error",0>t&&(t=0))),w.status=t,w.statusText=(n||C)+"",
o?m.resolveWith(f,[h,C,w]):m.rejectWith(f,[w,C,y]),w.statusCode(v),v=void 0,u&&p.trigger(o?"ajaxSuccess":"ajaxError",[w,d,o?h:y]),
g.fireWith(f,[w,C]),u&&(p.trigger("ajaxComplete",[w,d]),--fe.active||fe.event.trigger("ajaxStop")));
}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,a,s,l,u,c,h,d=fe.ajaxSetup({},n),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?fe(f):fe.event,m=fe.Deferred(),g=fe.Callbacks("once memory"),v=d.statusCode||{},y={},b={},_=0,x="canceled",w={
readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!h)for(h={};t=Gt.exec(s);)h[t[1].toLowerCase()]=t[2];
t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?s:null;
},setRequestHeader:function(e,t){var n=e.toLowerCase();return _||(e=b[n]=b[n]||e,
y[e]=t),this},overrideMimeType:function(e){return _||(d.mimeType=e),this},statusCode:function(e){
var t;if(e)if(2>_)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this;
},abort:function(e){var t=e||x;return c&&c.abort(t),i(0,t),this}};if(m.promise(w).complete=g.add,
w.success=w.done,w.error=w.fail,d.url=((t||d.url||en)+"").replace(Wt,"").replace(Xt,tn[1]+"//"),
d.type=n.method||n.type||d.method||d.type,d.dataTypes=fe.trim(d.dataType||"*").toLowerCase().match(Te)||[""],
null==d.crossDomain&&(r=Yt.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===tn[1]&&r[2]===tn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(tn[3]||("http:"===tn[1]?"80":"443")))),
d.data&&d.processData&&"string"!=typeof d.data&&(d.data=fe.param(d.data,d.traditional)),
G(Qt,d,n,w),2===_)return w;u=fe.event&&d.global,u&&0===fe.active++&&fe.event.trigger("ajaxStart"),
d.type=d.type.toUpperCase(),d.hasContent=!Kt.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(qt.test(a)?"&":"?")+d.data,
delete d.data),d.cache===!1&&(d.url=Ut.test(a)?a.replace(Ut,"$1_="+Vt++):a+(qt.test(a)?"&":"?")+"_="+Vt++)),
d.ifModified&&(fe.lastModified[a]&&w.setRequestHeader("If-Modified-Since",fe.lastModified[a]),
fe.etag[a]&&w.setRequestHeader("If-None-Match",fe.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",d.contentType),
w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Jt+"; q=0.01":""):d.accepts["*"]);
for(o in d.headers)w.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===_))return w.abort();
x="abort";for(o in{success:1,error:1,complete:1})w[o](d[o]);if(c=G(Zt,d,n,w)){if(w.readyState=1,
u&&p.trigger("ajaxSend",[w,d]),2===_)return w;d.async&&d.timeout>0&&(l=e.setTimeout(function(){
w.abort("timeout")},d.timeout));try{_=1,c.send(y,i)}catch(C){if(!(2>_))throw C;i(-1,C);
}}else i(-1,"No Transport");return w},getJSON:function(e,t,n){return fe.get(e,t,n,"json");
},getScript:function(e,t){return fe.get(e,void 0,t,"script")}}),fe.each(["get","post"],function(e,t){
fe[t]=function(e,n,i,r){return fe.isFunction(n)&&(r=r||i,i=n,n=void 0),fe.ajax(fe.extend({
url:e,type:t,dataType:r,data:n,success:i},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){
return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0
})},fe.fn.extend({wrapAll:function(e){if(fe.isFunction(e))return this.each(function(t){
fe(this).wrapAll(e.call(this,t))});if(this[0]){var t=fe(e,this[0].ownerDocument).eq(0).clone(!0);
this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;
return e}).append(this)}return this},wrapInner:function(e){return fe.isFunction(e)?this.each(function(t){
fe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=fe(this),n=t.contents();
n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=fe.isFunction(e);return this.each(function(n){
fe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){
fe.nodeName(this,"body")||fe(this).replaceWith(this.childNodes)}).end()}}),fe.expr.filters.hidden=function(e){
return he.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e);
},fe.expr.filters.visible=function(e){return!fe.expr.filters.hidden(e)};var nn=/%20/g,rn=/\[\]$/,on=/\r?\n/g,an=/^(?:submit|button|image|reset|file)$/i,sn=/^(?:input|select|textarea|keygen)/i;
fe.param=function(e,t){var n,i=[],r=function(e,t){t=fe.isFunction(t)?t():null==t?"":t,
i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=fe.ajaxSettings&&fe.ajaxSettings.traditional),
fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){r(this.name,this.value);
});else for(n in e)Z(n,e[n],t,r);return i.join("&").replace(nn,"+")},fe.fn.extend({
serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){
return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this;
}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&sn.test(this.nodeName)&&!an.test(e)&&(this.checked||!ze.test(e));
}).map(function(e,t){var n=fe(this).val();return null==n?null:fe.isArray(n)?fe.map(n,function(e){
return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")
}}).get()}}),fe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?ee():ie.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||ee();
}:J;var ln=0,un={},cn=fe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){
for(var e in un)un[e](void 0,!0)}),he.cors=!!cn&&"withCredentials"in cn,cn=he.ajax=!!cn,
cn&&fe.ajaxTransport(function(t){if(!t.crossDomain||he.cors){var n;return{send:function(i,r){
var o,a=t.xhr(),s=++ln;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];
t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");
for(o in i)void 0!==i[o]&&a.setRequestHeader(o,i[o]+"");a.send(t.hasContent&&t.data||null),
n=function(e,i){var o,l,u;if(n&&(i||4===a.readyState))if(delete un[s],n=void 0,a.onreadystatechange=fe.noop,
i)4!==a.readyState&&a.abort();else{u={},o=a.status,"string"==typeof a.responseText&&(u.text=a.responseText);
try{l=a.statusText}catch(c){l=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=u.text?200:404;
}u&&r(o,l,u,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(n):a.onreadystatechange=un[s]=n:n();
},abort:function(){n&&n(void 0,!0)}}}}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){
return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),
e.crossDomain&&(e.type="GET",e.global=!1)}),fe.ajaxTransport("script",function(e){
if(e.crossDomain){var t,n=ie.head||fe("head")[0]||ie.documentElement;return{send:function(i,r){
t=ie.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),
t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,
t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild);
},abort:function(){t&&t.onload(void 0,!0)}}}});var hn=[],dn=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({
jsonp:"callback",jsonpCallback:function(){var e=hn.pop()||fe.expando+"_"+Vt++;return this[e]=!0,
e}}),fe.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(dn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");
return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=fe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,
s?t[s]=t[s].replace(dn,"$1"+r):t.jsonp!==!1&&(t.url+=(qt.test(t.url)?"&":"?")+t.jsonp+"="+r),
t.converters["script json"]=function(){return a||fe.error(r+" was not called"),a[0];
},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){void 0===o?fe(e).removeProp(r):e[r]=o,
t[r]&&(t.jsonpCallback=n.jsonpCallback,hn.push(r)),a&&fe.isFunction(o)&&o(a[0]),a=o=void 0;
}),"script"):void 0}),fe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;
"boolean"==typeof t&&(n=t,t=!1),t=t||ie;var i=we.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=v([e],t,r),
r&&r.length&&fe(r).remove(),fe.merge([],i.childNodes))};var fn=fe.fn.load;fe.fn.load=function(e,t,n){
if("string"!=typeof e&&fn)return fn.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");
return s>-1&&(i=fe.trim(e.slice(s,e.length)),e=e.slice(0,s)),fe.isFunction(t)?(n=t,
t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&fe.ajax({url:e,type:r||"GET",
dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?fe("<div>").append(fe.parseHTML(e)).find(i):e);
}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e]);
})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){
fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.filters.animated=function(e){
return fe.grep(fe.timers,function(t){return e===t.elem}).length},fe.offset={setOffset:function(e,t,n){
var i,r,o,a,s,l,u,c=fe.css(e,"position"),h=fe(e),d={};"static"===c&&(e.style.position="relative"),
s=h.offset(),o=fe.css(e,"top"),l=fe.css(e,"left"),u=("absolute"===c||"fixed"===c)&&fe.inArray("auto",[o,l])>-1,
u?(i=h.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),fe.isFunction(t)&&(t=t.call(e,n,fe.extend({},s))),
null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):h.css(d);
}},fe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){
fe.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;
if(o)return t=o.documentElement,fe.contains(t,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),
n=te(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)
}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===fe.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),
t=this.offset(),fe.nodeName(e[0],"html")||(n=e.offset()),n.top+=fe.css(e[0],"borderTopWidth",!0),
n.left+=fe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-fe.css(i,"marginTop",!0),
left:t.left-n.left-fe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){
for(var e=this.offsetParent;e&&!fe.nodeName(e,"html")&&"static"===fe.css(e,"position");)e=e.offsetParent;
return e||ft})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){
var n=/Y/.test(t);fe.fn[e]=function(i){return Fe(this,function(e,i,r){var o=te(e);
return void 0===r?o?t in o?o[t]:o.document.documentElement[i]:e[i]:void(o?o.scrollTo(n?fe(o).scrollLeft():r,n?r:fe(o).scrollTop()):e[i]=r);
},e,i,arguments.length,null)}}),fe.each(["top","left"],function(e,t){fe.cssHooks[t]=j(he.pixelPosition,function(e,n){
return n?(n=mt(e,t),ht.test(n)?fe(e).position()[t]+"px":n):void 0})}),fe.each({Height:"height",
Width:"width"},function(e,t){fe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){
fe.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");
return Fe(this,function(t,n,i){var r;return fe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,
Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?fe.css(t,n,a):fe.style(t,n,i,a);
},t,o?i:void 0,o,null)}})}),fe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n);
},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i);
},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n);
}}),fe.fn.size=function(){return this.length},fe.fn.andSelf=fe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){
return fe});var pn=e.jQuery,mn=e.$;return fe.noConflict=function(t){return e.$===fe&&(e.$=mn),
t&&e.jQuery===fe&&(e.jQuery=pn),fe},t||(e.jQuery=e.$=fe),fe}),define("common-ui/jquery-clean",function(e){
return function(){var t;return t||e.$}}(this)),define("common-ui/jquery",["common-ui/jquery-clean"],function(e){
"use strict";return window.$=window.jQuery=e}),define("common-ui/cache/localCache",["dojox/storage","../jquery"],function(e,t){
e=dojox.storage;var n=new RegExp("[-\\.]","gi"),i={},r=!1;return{isAvailable:function(){
if(e.isAvailable()){if("dojox.storage.FlashStorageProvider"==e.manager.getProvider().declaredClass){
var t=new dojox.flash.Install;return!t.needed()}return!0}return!1},getCacheKey:function(e){
return e.replace(n,"_")},putValue:function(t,n,r){if(this.isAvailable()){this.refreshCacheExpirations(),
t=this.getCacheKey(t);var o,a=this.getLastModified(t);null==r&&(r=i[t]),o=null==a?{
lastModified:null==r?0:r,value:n}:{lastModified:null==r?a:r,value:n},e.put(t,o)}},
getValue:function(t){if(this.isAvailable()){this.refreshCacheExpirations(),t=this.getCacheKey(t);
var n=e.get(t);if(null!=n)return n.value}return null},getLastModified:function(t){
if(this.isAvailable()){this.refreshCacheExpirations(),t=this.getCacheKey(t);var n=e.get(t);
if(null!=n){var i=n.lastModified;return i}return null}},setLastModified:function(t,n){
if(this.isAvailable()){t=this.getCacheKey(t);var i=e.get(t);i?i.lastModified=n:i={
lastModified:n,value:null},e.put(t,i)}},clear:function(t){this.isAvailable()&&(t=this.getCacheKey(t),
e.remove(t))},updateCacheExpiration:function(e){i={};var n=this;t(e).find("cache-item").each(function(){
var e=t(this).find("key").text();e=n.getCacheKey(e);var r=t(this).find("last-modified").text();
i[e]=r;var o=n.getValue(e);null!=o&&n.getLastModified(e)<r&&(n.clear(e),n.setLastModified(e,r));
})},refreshCacheExpirations:function(){if(!r){var e=window.pentahoCacheExpirationServiceResults;
"undefined"!=e&&null!=e&&(r=!0,this.updateCacheExpiration(e))}}}}),define("common-repo/pentaho-ajax",[],function(){});
var COMPLETE=4,STATUS_OK=200,STATUS_UNAUTHORIZED=401,STATUS_NOT_FOUND=404,base="",pathArray=window.location.pathname.split("/"),webAppPath="/"+pathArray[1];
define("common-ui/repo/pentaho-ajax",function(){}),pentaho="undefined"==typeof pentaho?{}:pentaho,
pentaho.DataTable=function(e){this.jsonTable=e,this.className="pentaho.DataTable",
e.metadata&&(this.jsonTable=pentaho.DataTable.convertCdaToDataTable(e))},pentaho.DataTable.convertCdaToDataTable=function(e){
for(var t=[],n=[],i=0;i<e.metadata.length;i++)col={id:e.metadata[i].colName,type:e.metadata[i].colType.toLowerCase(),
label:e.metadata[i].colLabel},col.label||(col.label=col.id),"numeric"==col.type&&(col.type="number"),
t.push(col);for(var r=e.resultset,o=0;o<r.length;o++){var a=[],s=r[o];for(i=0;i<s.length;i++)a.push({
v:s[i]});var l={c:a};n.push(l)}return{cols:t,rows:n}},pentaho.DataTable.prototype.makePostable=function(){
this.jsonTable["class"]="org.pentaho.dataservice.DataTable";for(var e=0;e<this.getNumberOfColumns();e++)this.jsonTable.cols[e]["class"]="org.pentaho.dataservice.Column";
for(var e=0;e<this.getNumberOfRows();e++){var t=this.jsonTable.rows[e].c;if(t)for(cellNo=0;cellNo<t.length;cellNo++)t[cellNo]&&(t[cellNo]["class"]="org.pentaho.dataservice.Cell");
}},pentaho.DataTable.prototype.getJsonTable=function(){return this.jsonTable},pentaho.DataTable.prototype.getNumberOfColumns=function(){
return this.jsonTable.cols.length},pentaho.DataTable.prototype.getNumberOfRows=function(){
return this.jsonTable.rows.length},pentaho.DataTable.prototype.getColumnType=function(e){
return this.jsonTable.cols[e].type},pentaho.DataTable.prototype.getColumnId=function(e){
return this.jsonTable.cols[e].id},pentaho.DataTable.prototype.getColumnLabel=function(e){
return this.jsonTable.cols[e].label},pentaho.DataTable.prototype.getValue=function(e,t){
return this.jsonTable.rows[e].c[t]?void 0!==this.jsonTable.rows[e].c[t].v?this.jsonTable.rows[e].c[t].v:this.jsonTable.rows[e].c[t]:null;
},pentaho.DataTable.prototype._getCell=function(e,t){return this.jsonTable.rows[e].c[t]?this.jsonTable.rows[e].c[t]:null;
},pentaho.DataTable.prototype.getFormattedValue=function(e,t){return this.jsonTable.rows[e].c[t]?void 0!==this.jsonTable.rows[e].c[t].f?this.jsonTable.rows[e].c[t].f:void 0!==this.jsonTable.rows[e].c[t].v?this.jsonTable.rows[e].c[t].v:null==this.jsonTable.rows[e].c[t].v?null:this.jsonTable.rows[e].c[t]:null;
},pentaho.DataTable.prototype.getColumnRange=function(e,t){for(var n,i,r=!1,o=t&&t.key,a=0;a<this.getNumberOfRows();a++){
var s=this.getValue(a,e);null!=s&&(o&&(s=o(s)),r?(n>s&&(n=s),s>i&&(i=s)):(n=s,i=s,
r=!0))}var l={min:n,max:i};return l},pentaho.DataTable.prototype.getDistinctValues=function(e){
for(var t=[],n={},i="number"==this.getColumnType(e),r=0;r<this.getNumberOfRows();r++){
var o=i?this.getValue(r,e):this.getFormattedValue(r,e);n[o]||(n[o]=!0,t.push(o))}
return t},pentaho.DataTable.prototype.getDistinctFormattedValues=function(e){for(var t=[],n={},i=0;i<this.getNumberOfRows();i++){
var r=this.getFormattedValue(i,e);n[r]||(n[r]=!0,t.push(r))}return t},pentaho.DataTable.prototype.getFilteredRows=function(e){
for(var t=[],n={},i=0;i<this.getNumberOfRows();i++)for(var r=0;r<e.length;r++)if(e[r].value&&this.getValue(i,e[r].column)==e[r].value&&t.push(i),
e[r].combinations){var o=this.getValue(i,e[r].column),a=e[r].combinations,s=!1;for(combinationNo=0;combinationNo<a.length;combinationNo++)for(valueNo=0;valueNo<a[combinationNo].values.length;valueNo++)if(o==a[combinationNo].values[valueNo]){
if(n[combinationNo])n[combinationNo][1].push(i);else{var l=["combine",[]];l[1].push(i),
t.push(l),n[combinationNo]=l}s=!0}s||t.push(i)}return t},pentaho.DataTable.prototype.setColumnProperty=function(e,t,n){
e>=0&&e<this.jsonTable.cols.length&&(this.jsonTable.cols[e][t]=n)},pentaho.DataTable.prototype.getColumnProperty=function(e,t){
return e>=0&&e<this.jsonTable.cols.length?this.jsonTable.cols[e][t]:null},pentaho.DataView=function(e){
this.dataTable=e,this.rows=null,this.columns=null,this.className="pentaho.DataView";
},pentaho.DataView.prototype.setRows=function(e){this.rows=e},pentaho.DataView.prototype.setColumns=function(e){
this.columns=e},pentaho.DataView.prototype.getColumnRange=function(e,t){for(var n,i,r=!1,o=t&&t.key,a=0;a<this.getNumberOfRows();a++){
var s=this.getValue(a,e);null!=s&&(o&&(s=o(s)),r?(n>s&&(n=s),s>i&&(i=s)):(n=s,i=s,
r=!0))}var l={min:n,max:i};return l},pentaho.DataView.prototype.getDistinctValues=function(e){
for(var t=[],n={},i=0;i<this.getNumberOfRows();i++){var r=this.getValue(i,e);n[r]||(n[r]=!0,
t.push(r))}return t},pentaho.DataView.prototype.getDistinctFormattedValues=function(e){
for(var t=[],n={},i=0;i<this.getNumberOfRows();i++){var r=this.getFormattedValue(i,e);
n[r]||(n[r]=!0,t.push(r))}return t},pentaho.DataView.prototype.hideColumns=function(e){
tmpCols=[];for(var t=0;t<this.getNumberOfColumns();t++)tmpCols.push(t);for(var n=e.length-1;n>-1;n--)tmpCols.splice(e[n],1);
this.columns=tmpCols},pentaho.DataView.prototype.getNumberOfRows=function(){return null==this.rows?this.dataTable.getNumberOfRows():this.rows.length;
},pentaho.DataView.prototype.getNumberOfColumns=function(){return null==this.columns?this.dataTable.getNumberOfColumns():this.columns.length;
},pentaho.DataView.prototype.getColumnId=function(e){return null==this.columns?this.dataTable.getColumnId(e):this.dataTable.getColumnId(this.columns[e]);
},pentaho.DataView.prototype.getColumnLabel=function(e){return null==this.columns?this.dataTable.getColumnLabel(e):this.dataTable.getColumnLabel(this.columns[e]);
},pentaho.DataView.prototype.getColumnType=function(e){return null==this.columns?this.dataTable.getColumnType(e):this.dataTable.getColumnType(this.columns[e]);
},pentaho.DataView.prototype.getValue=function(e,t){var n=null==this.rows?e:this.rows[e],i=null==this.columns?t:this.columns[t];
if(n.length&&"combine"==n[0]){for(var r,o=this.getColumnType(t),a=0;a<n[1].length;a++)0==a?r=this.dataTable.getValue(n[1][a],i):"string"==o?r+=" + "+this.dataTable.getValue(n[1][a],i):"number"==o&&(r+=this.dataTable.getValue(n[1][a],i));
return r}return this.dataTable.getValue(n,i)},pentaho.DataView.prototype._getCell=function(e,t){
var n=null==this.rows?e:this.rows[e],i=null==this.columns?t:this.columns[t];return this.dataTable._getCell(n,i);
},pentaho.DataView.prototype.getFormattedValue=function(e,t){var n=null==this.rows?e:this.rows[e],i=null==this.columns?t:this.columns[t];
if(n.length&&"combine"==n[0]){for(var r,o=this.getColumnType(t),a=0;a<n[1].length;a++)0==a?r=this.dataTable.getFormattedValue(n[1][a],i):"string"==o?r+=" + "+this.dataTable.getFormattedValue(n[1][a],i):"number"==o&&(r+=this.dataTable.getFormattedValue(n[1][a],i));
return r}return this.dataTable.getFormattedValue(n,i)},pentaho.DataView.prototype.toDataTable=function(){
for(var e=[],t=0;t<this.getNumberOfColumns();t++)col={type:this.getColumnType(t),
id:this.getColumnId(t),label:this.getColumnLabel(t)},e.push(col);for(var n=[],i=0;i<this.getNumberOfRows();i++){
cells=[];for(var t=0;t<this.getNumberOfColumns();t++){var r=this._getCell(i,t);cells.push(r);
}row={c:cells},n.push(row)}var o={cols:e,rows:n},a=new pentaho.DataTable(o);return a;
},pentaho.DataView.prototype.setColumnProperty=function(e,t,n){this.dataTable.setColumnProperty(e,t,n);
},pentaho.DataView.prototype.getColumnProperty=function(e,t){return this.dataTable.getColumnProperty(e,t);
},function(){function e(e){return new Error("Argument '"+e+"' is required.")}function t(e,t){
return new Error("Argument '"+e+"' is invalid."+(t?" "+t:""))}function n(e){return null!=e?+e:NaN;
}pentaho.DataView.prototype.createTrend=pentaho.DataTable.prototype.createTrend=function(n){
if(!(n instanceof Object))throw e("trendArgs");var i=n.type;if(!i)throw e("trendArgs.type");
i=""+i;var r=pentaho.trends.get(i,!0),o=this.getNumberOfColumns(),a=n.x;if(null==a)throw e("trendArgs.x");
if(a=+a,isNaN(a))throw t("trendArgs.x","Not a number.");if(0>a||a>=o)throw t("trendArgs.x","Out of range.");
var s=n.y;if(null==s)throw e("trendArgs.y");if(s=+s,isNaN(s))throw t("trendArgs.y","Not a number.");
if(0>s||s>=o)throw t("trendArgs.y","Out of range.");if("number"!==this.getColumnType(s))throw t("trendArgs.y","Must be a numeric column.");
var l=n.name||i+"Trend",u=n.label||(n.name?l:r.label),c=n.options||{},h=(this.dataTable||this).jsonTable,d=h.cols.length;
h.cols.push({type:"number",id:l,label:u});var f="number"!==this.getColumnType(a),p=this.getRowIndexEnumerator(),m=this,g=f?null:function(e){
return m.getValue(e,a)},v=function(e){return m.getValue(e,s)},y=Object.create(c);y.rows=p,
y.x=g,y.y=v;var b=r.model(y);return b?(dojo.forEach(h.rows,function(e,t){var n=g?g(t):t,i=null!=n?b.sample(n,v(t),t):null;
e.c[d]={v:i}}),!0):(dojo.forEach(h.rows,function(e){e.c[d]={v:null}}),!1)},pentaho.DataView.prototype.getRowIndexEnumerator=pentaho.DataTable.prototype.getRowIndexEnumerator=function(){
var e=-1,t=this.getNumberOfRows(),n={item:void 0,next:function(){return t-1>e?(n.item=++e,
!0):(n.item&&(n.item=void 0),!1)}};return n};var i={};pentaho.trends={},pentaho.trends.define=function(n,r){
if(!n)throw e("type");if(n=""+n,!r)throw e("spec");var o=r.model;if(!o)throw e("spec.model");
if("function"!=typeof o)throw t("spec.model","Not a function");var a=r.label;a||(a=n.chartAt(0).toUpperCase()+n.substr(1)+" Trend");
var s={type:n,label:a,model:o};i[n]=s},pentaho.trends.get=function(n,r){if(!n)throw e("type");
var o=i.hasOwnProperty(n)?i[n]:null;if(!o&&r)throw t("type","There is no trend type named '"+n+"'.");
return o},pentaho.trends.types=function(){var e=[];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&e.push(t);
return e},pentaho.trends.define("linear",{label:"Linear trend",model:function(e){
for(var t=e.rows,i=e.x,r=e.y,o=0,a=0,s=0,l=0,u=0,c=0;t.next();){var h=t.item,d=i?n(i(h)):o;
if(!isNaN(d)){var f=n(r(h));isNaN(f)||(a++,s+=d,l+=f,u+=d*f,c+=d*d)}o++}var p,m;if(a>=2){
var g=s/a,v=l/a,y=u/a,b=c/a,_=b-g*g;return m=0===_?0:(y-g*v)/_,p=v-m*g,{alpha:p,beta:m,
reset:function(){},sample:function(e){return p+m*+e}}}}})}(),define("common-ui/vizapi/DataTable",function(){}),
pentaho="undefined"==typeof pentaho?{}:pentaho,pentaho.events={},pentaho.events.trigger=function(e,t,n){
var i=e&&e.__events__;if(i){var r=i[t];if(r)for(var o=-1,a=r.length;++o<a;)r[o](n);
}},pentaho.events.addListener=function(e,t,n){if(e){var i=e.__events__||(e.__events__={}),r=i[t]||(i[t]=[]);
r.push(n)}},pentaho.events.removeListener=function(e,t){var n=e&&e.__events__;n&&(t?delete n[t]:delete e.__events__);
},pentaho.events.removeSource=function(e){pentaho.events.removeListener(e)},define("common-ui/vizapi/Events",function(){}),
pentaho="undefined"==typeof pentaho?{}:pentaho,pentaho.palettes=[],pentaho.palettes.push({
name:"palette 1",colors:["#336699","#99CCFF","#999933","#666699","#CC9933","#006666","#3399FF","#993300","#CCCC99","#666666","#FFCC66","#6699CC","#663366"]
}),pentaho.palettes.push({name:"palette 2",colors:["#880a0f","#b09a6b","#772200","#c52f0d","#123d82","#4a0866","#ffaa00","#1e8ad3","#aa6611","#772200","#8b2834","#333333"]
}),pentaho.palettes.push({name:"palette 3",colors:["#387179","#626638","#A8979A","#B09A6B","#772200","#C52F0D","#123D82","#4A0866","#445500","#FFAA00","#1E8AD3","#AA6611","#772200"]
}),pentaho.visualizations=pentaho.visualizations||[],pentaho.visualizations.getById=function(e){
for(var t=0;t<this.length;t++)if(this[t].id==e)return this[t];return null};var visualizations=pentaho.visualizations;
pentaho.VizController=function(e){this.id=e,this.domNode=null,this.isDragging=!1,
this.combinations=[],this.selections=[],this.highlights=[],this.metrics=null,this.origTable=null,
this.dataTable=null,this.currentViz=null,this.currentAction="select",this.layoutPanelElement=null,
this.layoutPanel=null,this.visualPanelElement=null,this.layoutShown=!1,this.toolbarElement=null,
this.title=null,this.chart=null,this.palette=pentaho.palettes[0],this.lastError=null,
this.memberPalette=null,this.formatInfo=null},pentaho.VizController.prototype.dispose=function(){
pentaho.events.removeSource(this),this.chart&&(this.chart.dispose&&this.chart.dispose(),
pentaho.events.removeSource(this.chart),this.chart=null),this.domNode=this.visualPanelElement=null;
},pentaho.VizController.prototype.getError=function(){return this.lastError},pentaho.VizController.prototype.getState=function(){
try{var e={};return this.currentViz&&(e.vizId=this.currentViz.id,this.chart.getState&&(e.vizState=this.chart.getState())),
e}catch(t){return this.lastError=t,null}},pentaho.VizController.prototype.setState=function(e){
try{if(!this.currentViz||this.currentViz.id!=e.vizId){for(var t=0;t<pentaho.visualizations.length;t++)if(pentaho.visualizations[t].id==e.id){
this.currentViz=pentaho.visualizations[t];break}this.currentViz||alert("Visualization not found: "+e.vizId),
this.setVisualization(this.currentViz)}return delete e.dataReqs,dojo.safeMixin(this.currentViz,e),
this.chart&&this.chart.setState&&this.chart.setState(e.vizState),!0}catch(n){return this.lastError=n,
!1}},pentaho.VizController.prototype.setDomNode=function(e){try{for(this.domNode=e;e.firstChild;)e.removeChild(e.firstChild);
var t=this.domNode.offsetWidth,n=this.domNode.offsetHeight;return this.visualPanelElement=document.createElement("DIV"),
this.visualPanelElement.setAttribute("id","visualPanelElement-"+this.id),this.visualPanelElement.setAttribute("style","border:0px solid #red; background-color: white; width: "+t+"px; height: "+n+"px"),
this.domNode.appendChild(this.visualPanelElement),!0}catch(i){return this.lastError=i,
!1}},pentaho.VizController.prototype.setDataTable=function(e){try{return this.origTable=e,
this.setupTable(),!0}catch(t){return this.lastError=t,!1}},pentaho.VizController.prototype.setMemberPalette=function(e){
this.memberPalette=e},pentaho.VizController.prototype.setFormatInfo=function(e){this.formatInfo=e;
},pentaho.VizController.prototype.setTitle=function(e){this.title=e},pentaho.VizController.prototype.setVisualization=function(e,t){
try{return this.currentViz&&this.currentViz["class"]!=e["class"]&&this.setDomNode(this.domNode),
this.currentViz=e,this.doVisualization(e,t),!0}catch(n){return this.lastError=n,!1;
}},pentaho.VizController.prototype.updateVisualization=function(e){try{if(!this.currentViz)return;
return this.doVisualization(this.currentViz,e),!0}catch(t){return this.lastError=t,
!1}},pentaho.VizController.prototype.doVisualization=function(visualization,userDefinedOptions){
if(this.userDefinedOptions=userDefinedOptions||{},this.dataTable)try{currentView=new pentaho.DataView(this.dataTable);
var className=visualization["class"],options={title:this.title,width:this.visualPanelElement.offsetWidth,
height:this.visualPanelElement.offsetHeight,metrics:this.metrics,palette:this.palette,
controller:this,action:this.currentAction,selections:this.highlights};if(visualization.needsColorGradient){
var gradMap=[[255,0,0],[255,255,0],[0,0,255],[0,255,0]];options.color1=gradMap[0],
options.color2=gradMap[3]}var propMap=visualization.propMap;if(propMap)for(var propNo=0;propNo<propMap.length;propNo++){
var prop=propMap[propNo],propValue=null;"columnlabel"==prop.source&&(propValue=currentView.getColumnLabel(prop.position)),
"maxvalue"==prop.source&&(propValue=this.metrics[prop.position].range.max),"minvalue"==prop.source&&(propValue=this.metrics[prop.position].range.min);
for(var obj=options,nameNo=0;nameNo<prop.name.length;nameNo++)nameNo<prop.name.length-1?(obj[prop.name[nameNo]]||(obj[prop.name[nameNo]]={}),
obj=obj[prop.name[nameNo]]):obj[prop.name[nameNo]]=propValue}if(visualization.args)for(var x in visualization.args)options[x]=visualization.args[x];
for(var x in this.userDefinedOptions)options[x]=this.userDefinedOptions[x];options.memberPalette=this.memberPalette?this.memberPalette:{},
options.formatInfo=this.formatInfo;var id="chart_div"+this.id;if(this.chart&&this.chart.vizId==visualization.id);else{
var chartDiv=this.visualPanelElement;eval("this.chart = new "+className+"(chartDiv)"),
pentaho.events.addListener(this.chart,"select",function(){return myself.chartSelectHandler.apply(myself,arguments||[]);
}),pentaho.events.addListener(this.chart,"doubleclick",function(){return myself.chartDoubleClickHandler.apply(myself,arguments||[]);
}),pentaho.events.addListener(this.chart,"onmouseover",function(){return myself.chartMouseOverHandler.apply(myself,arguments||[]);
}),pentaho.events.addListener(this.chart,"onmouseout",function(){return myself.chartMouseOutHandler.apply(myself,arguments||[]);
})}var myself=this;if(this.chart.controller=this,this.chart.id="viz"+this.id,this.chart.vizId=visualization.id,
!currentView)return alert("No suitable dataset"),void(document.getElementById("chart_div").innerHTML="");
try{this.chart.draw(currentView,options)}catch(e){console&&console.log&&console.log(e.message);
}return this.currentViz=visualization,!0}catch(e){return this.lastError=e,!1}},pentaho.VizController.prototype.chartSelectHandler=function(e){
this.processHighlights(e),pentaho.events.trigger(this,"select",e)},pentaho.VizController.prototype.chartDoubleClickHandler=function(e){
pentaho.events.trigger(this,"doubleclick",e)},pentaho.VizController.prototype.processHighlights=function(e){
var t=e.selectionMode||"TOGGLE";"REPLACE"==t&&(this.highlights=[]);for(var n=0;n<e.selections.length;n++){
var i,r,o,a,s,l,u,c=e.selections[n];c.rowItem&&(i=c.rowItem,l=c.rowId,u=c.rowLabel),
(c.column||0==c.column)&&(r=c.columnId,o=c.columnLabel,s=c.columnItem),(c.row||0==c.row)&&c.column&&(a=c.value);
var h=!1,d=!1;if("TOGGLE"==t)for(var f=0;f<this.highlights.length;f++){var p=this.highlights[f].rowItem,m=this.highlights[f].colItem,g=p&&(p==i||p.join&&p.join("-")==i.join("-")),v=m&&(m==s||m.join&&m.join("-")==s.join("-"));
if("undefined"==typeof v&&(v=!0),g&&v&&this.highlights[f].colId&&this.highlights[f].colId==r&&"column"==this.highlights[f].type&&"cell"==c.type){
this.highlights[f].type="row",highlight.id=c.rowId,highlight.value=i,d=!0;break}if(g&&v&&this.highlights[f].colId&&this.highlights[f].colId==r&&"column"==this.highlights[f].type){
this.highlights.splice(f,1),h=!0;break}if(g&&v){this.highlights.splice(f,1),h=!0;break;
}}h||d||(highlight={rowItem:i,colId:r,colLabel:o,colItem:s,rowId:l,rowLabel:u},highlight.type=c.type,
"row"==c.type?(highlight.id=l,highlight.value=i):"column"==c.type?(highlight.type="column",
highlight.id=r,highlight.value=o):"cell"==c.type&&(highlight.type="cell",highlight.id=r,
highlight.value=o),this.highlights.push(highlight))}},pentaho.VizController.prototype.createCombination=function(){
for(var e,t,n=[],i=0;i<this.highlights.length;i++)0==i?(e=this.highlights[i].type,
n.push(this.highlights[i].value),t=this.highlights[i].id):this.highlights[i].id==t&&n.push(this.highlights[i].value);
this.combinations.push({values:n,columnId:t}),this.setupTable(),this.highlights=[],
this.updateVisualization()},pentaho.VizController.prototype.updateHighlights=function(){
this.chart.setHighlights&&this.chart.setHighlights(this.highlights)},pentaho.VizController.prototype.clearSelections=function(){
this.highlights=[]},pentaho.VizController.prototype.setupTable=function(){if(this.origTable){
if(this.metrics=[],this.dataTable=this.origTable,this.combinations&&this.combinations.length>0){
var e=this.origTable.getFilteredRows([{column:0,combinations:this.combinations}]),t=new pentaho.DataView(table);
t.setRows(e),this.dataTable=t}for(var n=0;n<this.dataTable.getNumberOfColumns();n++)if("string"==this.dataTable.getColumnType(n)){
var i=this.dataTable.getDistinctValues(n),r=pentaho.VizController.createPaletteMap(i,this.palette);
this.metrics.push({values:i,paletteMap:r})}else if("number"==this.dataTable.getColumnType(n)){
var o=this.dataTable.getColumnRange(n);this.metrics.push({range:o})}}},pentaho.VizController.createPaletteMap=function(e,t){
for(var n={},i=0;i<e.length&&i<t.colors.length;i++)n[e[i]]=t.colors[i];for(var i=t.colors.length;i<e.length;i++)n[e[i]]="#000000";
return n},pentaho.VizController.getRrbGradient=function(e,t,n,i,r){if(0>=n-t)return pentaho.VizController.getRrbColor(r[0],r[1],r[2]);
var o=(e-t)/(n-t),a=new Array(3);return a[0]=Math.floor(o*(r[0]-i[0])+i[0]),a[1]=Math.floor(o*(r[1]-i[1])+i[1]),
a[2]=Math.floor(o*(r[2]-i[2])+i[2]),pentaho.VizController.getRrbColor(a[0],a[1],a[2]);
},pentaho.VizController.getRgbGradientFromMultiColorHex=function(e,t,n,i){var r,o,a=i.length-1,s=n-t;
if(0>=s)r=i.length-1,o=r;else{var l=(e-t)/s*a;r=Math.floor(l),o=Math.ceil(l)}var u,c=pentaho.VizController.convertToRGB(i[r]),h=pentaho.VizController.convertToRGB(i[o]);
if(r==o)return pentaho.VizController.getRrbColor(c[0],c[1],c[2]);var d=r/a*s+t,f=o/a*s+t;
u=(e-d)/(f-d);var p=new Array(3);return p[0]=Math.floor(u*(h[0]-c[0])+c[0]),p[1]=Math.floor(u*(h[1]-c[1])+c[1]),
p[2]=Math.floor(u*(h[2]-c[2])+c[2]),pentaho.VizController.getRrbColor(p[0],p[1],p[2]);
},pentaho.VizController.getDarkerFromColorHex=function(e,t){var n=pentaho.VizController.convertToRGB(e);
return t=Math.pow(.7,null!=t?t:1),pentaho.VizController.getRrbColor(Math.max(0,Math.floor(t*n[0])),Math.max(0,Math.floor(t*n[1])),Math.max(0,Math.floor(t*n[2])));
},pentaho.VizController.getRgbStepFromMultiColorHex=function(e,t,n,i){var r=i.length-1,o=n-t,a=Math.round((e-t)/o*r),s=pentaho.VizController.convertToRGB(i[a]);
return pentaho.VizController.getRrbColor(s[0],s[1],s[2])},pentaho.VizController.convertToRGB=function(e){
return e=0==e.indexOf("#")?e.substring(1):pentaho.VizController.CSS_Names[e.toLowerCase()],
[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)];
},pentaho.VizController.getRrbColor=function(e,t,n){return"RGB("+e+","+t+","+n+")";
},pentaho.VizController.prototype.resize=function(e,t){this.visualPanelElement.style.width=e+"px",
this.visualPanelElement.style.height=t+"px",this.chart.resize(e,t)},pentaho.VizController.dashboardMode=!1;
try{window.parent&&"undefined"!=typeof window.parent.PentahoDashboardController}catch(ignored){}
pentaho.VizController.CSS_Names={aliceblue:"F0F8FF",antiquewhite:"FAEBD7",aqua:"00FFFF",
aquamarine:"7FFFD4",azure:"F0FFFF",beige:"F5F5DC",bisque:"FFE4C4",black:"000000",
blanchedalmond:"FFEBCD",blue:"0000FF",blueviolet:"8A2BE2",brown:"A52A2A",burlywood:"DEB887",
cadetblue:"5F9EA0",chartreuse:"7FFF00",chocolate:"D2691E",coral:"FF7F50",cornflowerblue:"6495ED",
cornsilk:"FFF8DC",crimson:"DC143C",cyan:"00FFFF",darkblue:"00008B",darkcyan:"008B8B",
darkgoldenRod:"B8860B",darkgray:"A9A9A9",darkgrey:"A9A9A9",darkgreen:"006400",darkkhaki:"BDB76B",
darkmagenta:"8B008B",darkoliveGreen:"556B2F",darkorange:"FF8C00",darkorchid:"9932CC",
darkred:"8B0000",darksalmon:"E9967A",darkseagreen:"8FBC8F",darkslateblue:"483D8B",
darkslategray:"2F4F4F",darkslategrey:"2F4F4F",darkturquoise:"00CED1",darkviolet:"9400D3",
deeppink:"FF1493",deepskyblue:"00BFFF",dimgray:"696969",dimgrey:"696969",dodgerblue:"1E90FF",
firebrick:"B22222",floralwhite:"FFFAF0",forestgreen:"228B22",fuchsia:"FF00FF",gainsboro:"DCDCDC",
ghostwhite:"F8F8FF",gold:"FFD700",goldenrod:"DAA520",gray:"808080",grey:"808080",
green:"008000",greenyellow:"ADFF2F",honeydew:"F0FFF0",hotpink:"FF69B4",indianred:"CD5C5C",
indigo:"4B0082",ivory:"FFFFF0",khaki:"F0E68C",lavender:"E6E6FA",lavenderblush:"FFF0F5",
lawngreen:"7CFC00",lemonchiffon:"FFFACD",lightblue:"ADD8E6",lightcoral:"F08080",lightcyan:"E0FFFF",
lightgoldenrodyellow:"FAFAD2",lightgray:"D3D3D3",lightgrey:"D3D3D3",lightgreen:"90EE90",
lightpink:"FFB6C1",lightsalmon:"FFA07A",lightseagreen:"20B2AA",lightskyblue:"87CEFA",
lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"B0C4DE",lightyellow:"FFFFE0",
lime:"00FF00",limegreen:"32CD32",linen:"FAF0E6",magenta:"FF00FF",maroon:"800000",
mediumaquamarine:"66CDAA",mediumblue:"0000CD",mediumorchid:"BA55D3",mediumpurple:"9370D8",
mediumseagreen:"3CB371",mediumslateblue:"7B68EE",mediumspringgreen:"00FA9A",mediumturquoise:"48D1CC",
mediumvioletred:"C71585",midnightblue:"191970",mintcream:"F5FFFA",mistyrose:"FFE4E1",
moccasin:"FFE4B5",navajowhite:"FFDEAD",navy:"000080",oldlace:"FDF5E6",olive:"808000",
olivedrab:"6B8E23",orange:"FFA500",orangered:"FF4500",orchid:"DA70D6",palegoldenrod:"EEE8AA",
palegreen:"98FB98",paleturquoise:"AFEEEE",palevioletRed:"D87093",papayawhip:"FFEFD5",
peachpuff:"FFDAB9",peru:"CD853F",pink:"FFC0CB",plum:"DDA0DD",powderblue:"B0E0E6",
purple:"800080",red:"FF0000",rosybrown:"BC8F8F",royalblue:"4169E1",saddlebrown:"8B4513",
salmon:"FA8072",sandybrown:"F4A460",seagreen:"2E8B57",seashell:"FFF5EE",sienna:"A0522D",
silver:"C0C0C0",skyblue:"87CEEB",slateblue:"6A5ACD",slategray:"708090",slategrey:"708090",
snow:"FFFAFA",springgreen:"00FF7F",steelblue:"4682B4",tan:"D2B48C",teal:"008080",
thistle:"D8BFD8",tomato:"FF6347",turquoise:"40E0D0",violet:"EE82EE",wheat:"F5DEB3",
white:"FFFFFF",whitesmoke:"F5F5F5",yellow:"FFFF00",yellowgreen:"9ACD32"},define("common-ui/vizapi/VizController",function(){}),
define("cdf/lib/CCC/def",[],function(){function e(n,i,r){if(n&&!(n instanceof e.QualifiedName)){
var o=typeof n;if("object"===o){for(var a in n)t(a,n[a],i);return e}if("array"===o){
for(var a in n)t(n[a],i);return e}}return t(n,i,r),i}function t(t,n,i){t=e.qualName(t),
i=e.space(t.namespace,i),t.name&&(i[t.name]=n,n instanceof Object&&e.qualNameOf(n,t));
}function n(t){e.log=e.logger("[DEF]"),he&&he.forEach(function(e){e(t)})}function i(){
return e.debug}function r(e,t){e=o(e,t);var n=u("log",e);return n.log=n,n.level=i,
fe.forEach(function(t){n[t]=u(pe[t]||t,e)}),n}function o(t,n){return t&&(e.fun.is(t)?t.call(n):t);
}function a(t,n,a){var s=function(i){if(e.debug>1){var s=t[n||"log"]=r(a,t);s[i||"log"].apply(s,oe.call(arguments,1));
}else"error"===i&&l.apply(null,e.array.append([o(a,t)],arguments,1))},u=s.bind("log");
return u.log=u,u.level=i,fe.forEach(function(e){u[e]=s.bind(e)}),u}function s(){function e(){}
return e.log=e,e.level=i,fe.forEach(function(t){e[t]=e}),e}function l(t,n,i){throw n&&"object"==typeof n&&n.message&&(n=n.message),
n=(t?t+": ":"")+e.nullyTo(n,"")+(i?" "+i:""),new Error(n)}function u(t,n){var i,r=console,o=r[t]||r.log;
if(o){var a=n?n+": %s":"%s";if(e.fun.is(o))i=o.bind(r,a);else{var s=Function.prototype.apply;
i=function(){s.call(o,r,e.array.append([a],arguments))}}}return i}function c(){function e(e){
function t(){n=e}return t.toString=h,t}function t(e){if(void 0!==n)throw new Error("Access denied.");
var t=(e(),n);return n=void 0,t}var n;return t.safe=e,t.property=d,t}function h(){
return"SAFE"}function d(t,n){function i(n,i){return e.setNonEnum(n,t,o.safe(i)),i;
}function r(e){return o(e[t])}t||(t=me(n));var o=this;return r.init=i,r.propertyName=t,
r}function f(e){var t;e&&(e instanceof Array?(t=e,e=t.join(".")):t=e.split(".")),
t&&t.length>1?(this.name=t.pop(),this.namespace=t.join(".")):(this.name=e||null,this.namespace=null);
}function p(t,n){var i=n||ve;if(t){var r=t.split("."),o=r.length;if(o){var a,s=0;if(i===e.global){
a=r[0];var l=e.getOwn(ye,a);l&&(i=l,s++)}for(;o>s;)a=r[s++],i=i[a]||(i[a]={})}}return i;
}function m(e){return function(t){return g(t,oe.call(arguments,1),e)}}function g(t,n,i){
for(var r,o=0,a=n.length;a>o;)(r=n[o++])&&(r=e.object.as(r.prototype||r),r&&v(t,r,i));
return t}function v(e,t,n){for(var i in t)y(e,i,t[i],n)}function y(t,n,i,r){if(void 0!==i){
var o,a=e.object.asNative(t[n]);a?(o=e.object.as(i),o?(ie.call(t,n)||(t[n]=a=Object.create(a)),
v(a,o,r)):t[n]=i):(o=e.object.asNative(i),o&&(i=(r||Object.create)(o)),t[n]=i)}}function b(t){
var n,i;for(n in t)(i=e.object.asNative(t[n]))&&b(t[n]=Object.create(i))}function _(t,n){
if(n){var i=t.configure;e.fun.is(i)?i.call(t,n):_.generic(t,n)}return t}function x(t,n){
function i(t){var i={};r.push(i);for(var o in t)if(o){var a=t[o];if(void 0===a)continue;
var s,l,u,c,h=i,d=o.indexOf("."),f=null;if(d>=0)for(n?(f=[o.substr(0,d)],o=o.substr(d+1)):(f=o.split("."),
o=f.pop()),s=f.length,l=-1;++l<s;)(u=f[l])&&(c=h[u],void 0===c?h[u]=c={}:null!==c&&e.object.is(c)&&c.constructor===Object||(r.push(i=c={}),
l=-1),h=c);var p=h[o];if(p!==a){if(void 0!==p){if(!w(a)||!w(p))continue;if(r.push(i=h={}),
f)for(l=-1;++l<s;)(u=f[l])&&(h=h[u]={})}h[o]=a}}}if(!t)return[];var r=[];return e.array.each(t,i),
r}function w(t){return t&&e.object.is(t)&&!C(t)}function C(e){return e.constructor!==Object&&!(e instanceof Array);
}function S(t,n){if(n){var i=n.prototype,r=t.prototype=Object.create(i);e.setNonEnum(r,"constructor",t),
"__proto__"in r||e.setNonEnum(r,"__proto__",i)}return t}function k(t,n,i){function r(){
var e=i.base;i.base=n;try{return t.apply(this,arguments)}finally{i.base=e}}function o(){
var e=N(this),i=e.base;e.base=n;try{return t.apply(this,arguments)}finally{e.base=i;
}}return t?n&&n!==t&&D(t)?(M(i),e.fun.wraps(i?r:o,t)):t:n}function D(e){return xe.test(e);
}function M(t){if(t===ne)throw e.error.invalidArgument("proto","Cannot change Object.prototype.");
return t}function N(t){M(e.protoOf(t))}function T(t,n){var i=e.fun.as(t[n]);return i===ne[n]?null:i;
}function A(t,n,i){t=ue(t);var r=e.protoOf(t),o=e.rootProtoOf(t),a=e.get(i,"enumerable",!0);
return e.array.each(n,function(n){(n=ue(n))&&(le?e.ownKeys(n).forEach(function(e){
R(t,e,le(n,e),r,o,a)}):e.eachOwn(n,function(e,n){P(t,n,e,r,o,a)}))}),e}function j(t,n,i,r){
t=ue(t);var o=e.get(r,"enumerable",!0);return P(t,n,i,e.protoOf(t),e.rootProtoOf(t),o);
}function I(e){return"base"!==e&&"constructor"!==e}function P(t,n,i,r,o,a){return void 0!==i&&r[n]!==i&&I(n)&&L(t,n,i,o,a),
e}function L(t,n,i,r,o){var a;i&&(a=e.fun.as(i))?(i=e.overrides(a,T(t,n),r),o?t[n]=i:e.setNonEnum(t,n,i)):y(t,n,i,e.identity);
}function R(t,n,i,r,o,a){var s;if(I(n))if(i.get||i.set){var l=O(r,n);l&&((i.get||l.get)&&(i.get=e.overrides(i.get,l.get,o)),
(i.set||l.set)&&(i.set=e.overrides(i.set,l.set,o))),a||(i.enumerable=!1),se(t,n,i);
}else void 0!==(s=i.value)&&L(t,n,s,o,a);return e}function O(t,n){var i;if(n in t)for(;t=e.protoOf(t);)if(i=le(t,n))return i;
}function E(t,n){this.baseType=n||null;var i=this.constructor;if(i.Ctor)throw e.error.operationInvalid("MetaType already has an associated type constructor.");
if(t&&t.Meta)throw e.error.argumentInvalid("TypeCtor","Specified type constructor already has an associated MetaType.");
this.external=!!t,this.rootType=n?n.rootType:this,this._init=n?n._init:null,this._post=n?n._post:null;
var r=n&&n._mixins;this._mixins=r?r.slice():null,this.steps=void 0,t=this._initConstructor(t||this._createConstructor()),
this.Ctor=i.Ctor=t}function B(t){return e.fun.is(t)&&t.meta instanceof E}function F(t,n){
e.methods(this,t,n);var i=this.Ctor;return i&&z.call(this,i,t),this}function z(t,n){
var i=this.prototype;e.array.each(n,function(n){e.each(ue(n),function(n,r){e.isPropPrivate(r)||(n=i[r],
e.fun.is(n)?V(t,r,n):t[r]=n)})})}function V(t,n,i){function r(){var e=this.meta,t=i.apply(e,arguments);
return t===e?this:t}t[n]=e.fun.wraps(r,i)}function q(t){var n=e.classOf(this);return n(t,this);
}function H(t,n){function i(n,i){if(void 0!==i){var a=n[t];if(null===i)n.___proto&&ie.call(n,t)&&(delete n[t],
i=n[t],l&&i!==a&&l(i,a,this,t));else if(i!==a){if(c&&(o=c(i)))throw new e.error.argumentInvalid(t,e.string.is(o)?o:"");
u&&(i=r.call(this,n,i,a)),null!=i&&(n[t]=i,l&&l(i,a,this,t))}}return this}function r(n,i,r){
var o=u(i);if(null==o){if(!s)return;if(ie.call(n,t))return void e.configure(r,i);if(!a)return;
o=a(i,r)}return o}e.fun.is(n)&&(n={factory:n});var o,a=e.get(n,"factory"),s=e.get(n,"configurable",!!a),l=e.get(n,"change"),u=e.get(n,"cast"),c=e.get(n,"fail");
return n=null,i}function W(t,n,i){e.MetaType.apply(this,arguments);var n=this.baseType;
n&&(this.fieldsPrivProp=n.constructor===W?e.get(i,"fieldsPrivProp")||Se:n.fieldsPrivProp);
}function U(t,n,i,r){var o,a=e.lazy(t,"__eventz"),s=a[n]||(a[n]={before:[],after:[],
count:0});if(e.fun.is(i))o={handler:i,_handler:null,_filter:null};else{if(!(i instanceof Object))throw e.error.argumentInvalid("handler","Invalid type.");
if(o=i,!o.handler)throw e.error.argumentRequired("handler.handler");o._filter=null;
}o._handler=o.handler,s[r?"before":"after"].push(o),s.count++,t._on&&t._on(n,o,!!r);
}function G(t,n,i){var r,o,a;if(null!=i)if(e.fun.is(i))a=i;else{if(!(i instanceof Object))throw e.error.argumentInvalid("handler","Invalid type.");
a=i.handler}if((r=t.__eventz)&&(o=r[n])&&o.count){var s,l,u,c;if(a){if(s=o.before,
u=Z(s,a),c=0>u,c&&(s=o.after,u=Z(s,a),0>u))return;l=s[u],0===--o.count?r[n]=null:(s=s.slice(),
s.splice(u,1),o[c?"after":"before"]=s),$(t,n,l,!c)}else{var h=o.before,d=o.after;for(r[n]=null,
u=h.length;u--;)$(t,n,h[u],!0);for(u=d.length;u--;)$(t,n,d[u],!1)}}}function $(e,t,n,i){
e._off&&e._off(t,n,i),n._filter=n._handler=null}function K(t,n,i){var r,o,a,s,l,u;
if((r=t.__eventz)&&(o=r[n])&&(l=(a=o.before).length,u=(s=o.after).length),!u&&!l&&!i)return null;
var c=!1,h=!1,d={type:n,phase:null,source:t,result:void 0,cancelable:!1,defaultPrevented:h,
preventDefault:function(){c&&(this.defaultPrevented=h=!0)},trigger:function(n,r){
if(this.phase)throw e.error.operationInvalid("Event can only be triggered once.");
n||(n=t),r||(r=[this]),c=!!this.cancelable;var o;return l&&X(n,this,r,a,l,!0),c&&this.defaultPrevented||(i&&(this.phase="default",
this.result=o=i.apply(n,r)),u&&X(n,this,r,s,u,!1)),this.phase="done",o}};return d;
}function X(e,t,n,i,r,o){var a,s=-1;for(t.phase=o?"before":"after";++s<r;)a=i[s],
(!a._filter||a._filter.apply(e,n))&&a._handler.apply(e,n)}function Y(t,n,i,r,o,a){
if(e.string.is(i))Q(t,n,i,r,o,a);else if(e.array.is(i))i.forEach(function(i){if(!e.string.is(i))throw e.error.argumentInvalid("type");
Q(t,n,i,r,o,a)});else{if(!e.object.is(i))throw e.error.argumentInvalid("type");e.eachOwn(i,function(e,i){
Q(t,n,i,e,o,a)})}}function Q(t,n,i,r,o,a){if(!a&&!r)throw e.error.argumentRequired("handler");
e.array.is(r)?r.forEach(function(e){t(n,i,e,o)}):t(n,i,r,o)}function Z(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n].handler===t)return n;
return-1}function J(){for(;this._source.next();){var t=this._selectMany?this._selectMany.call(this._ctx,this._source.item,this._source.index):this._source.item;
if(null!=t)return this._manySource=e.query(t),!0}}function ee(e,t){return t?(e=e.toString().split("e"),
+(e[0]+"e"+(e[1]?+e[1]+t:t))):e}var te=function(){for(var e in{toString:1})if("toString"===e)return!1;
return!0}(),ne=Object.prototype,ie=ne.hasOwnProperty,re=te?["toString","valueOf"]:null;
Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on non-object");
var t=[];for(var n in e)ie.call(e,n)&&t.push(n);return re&&re.forEach(function(n){
ie.call(e,n)&&t.push(n)}),t}),Array.prototype.some||(Array.prototype.some=function(e){
for(var t=Object(this),n=t.length>>>0,i=arguments.length>=2?arguments[1]:void 0,r=0;n>r;r++)if(r in t&&e.call(i,t[r],r,t))return!0;
return!1}),Array.prototype.map||(Array.prototype.map=function(e,t){for(var n=this.length,i=new Array(n),r=0;n>r;r++)r in this&&(i[r]=e.call(t,this[r],r,this));
return i}),Array.prototype.filter||(Array.prototype.filter=function(e,t){for(var n=this.length,i=new Array,r=0;n>r;r++)if(r in this){
var o=this[r];e.call(t,o,r,this)&&i.push(o)}return i}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){
for(var n=this.length>>>0,i=0;n>i;i++)i in this&&e.call(t,this[i],i,this)}),Object.create||(Object.create=function(){
function e(e){t.prototype=e||{};var i=new t;return t.prototype=n,i}var t=function(){},n=t.prototype;
return e}()),Function.prototype.bind||(Function.prototype.bind=function(e){return function(t){
var n=e.call(arguments,1),i=this;return function(){return i.apply(t,n.concat(e.call(arguments)));
}}}(Array.prototype.slice)),this.JSON||(this.JSON={}),this.JSON.stringify||(this.JSON.stringify=function(e){
return String(e)});var oe=Array.prototype.slice,ae=[],se=function(){var e=Object.defineProperty;
if(e)try{e({},"test",{})}catch(t){return null}return e}(),le=function(){var e=se&&Object.getOwnPropertyDescriptor;
return e&&null===e({value:null},"value").value?e:void 0}(),ue=function(e){return e.prototype||e;
};e.global=this,e.copyOwn=function(e,t){var n,i;arguments.length>=2?(n=e||{},i=t):(n={},
i=e);for(var r in i)ie.call(i,r)&&(n[r]=i[r]);return n},e.copyOwn(e,{get:function(e,t,n){
var i;return e&&null!=(i=e[t])?i:n},gets:function(e,t){return t.map(function(t){return e[t];
})},getPath:function(t,n,i,r){if(!t)return i;if(null!=n){var o=e.array.is(n)?n:n.split("."),a=o.length;
if(a)for(var s=0;a>s;){var l=o[s++],u=t[l];if(null==u){if(!r)return i;u=t[l]=null==i||isNaN(+i)?{}:[];
}t=u}}return t},setPath:function(t,n,i){if(t&&null!=n){var r=e.array.is(n)?n:n.split(".");
if(r.length){var o=r.pop();t=e.getPath(t,r,o,!0),null!=t&&(t[o]=i)}}return t},propGet:function(e,t){
return e=""+e,function(n){return n?n[e]:t}},getOwn:function(e,t,n){var i;return e&&ie.call(e,t)&&null!=(i=e[t])?i:n;
},hasOwn:function(e,t){return!!e&&ie.call(e,t)},protoOf:Object.getPrototypeOf||function(e){
return e.__proto__||e.constructor&&e.constructor.prototype},rootProtoOf:function(t){
for(var n=null,i=e.protoOf(t);i&&i!==ne&&i!==n;)i=e.protoOf(n=i);return n},hasOwnProp:ie,
set:function(e){for(var t=e||{},n=arguments,i=1,r=n.length-1;r>i;i+=2)t[n[i]]=n[i+1];
return t},setDefaults:function(t,n){var i,r=t||{},o=arguments,a=o.length;if(2===a&&e.object.is(n))e.each(n,function(e,t){
null==r[t]&&(r[t]=e)});else{a--;for(var s=1;a>s;s+=2)i=o[s],null==r[i]&&(r[i]=o[s+1]);
}return r},setUDefaults:function(t,n){var i,r=t||{},o=arguments,a=o.length;if(2===a&&e.object.is(n))e.each(n,function(e,t){
void 0===r[t]&&(r[t]=e)});else{a--;for(var s=1;a>s;s+=2)i=o[s],void 0===r[i]&&(r[i]=o[s+1]);
}return r},setNonEnum:function(){if(!se)return function(e,t,n){return e[t]=n,e};var e={
enumerable:!1,configurable:!0,writable:!0,value:void 0};return function(t,n,i){return e.value=i,
se(t,n,e),e.value=null,t}}(),setConst:function(){if(!se)return function(e,t,n){return e[t]=n,
e};var e={enumerable:!1,configurable:!1,writable:!1,value:void 0};return function(t,n,i){
return e.value=i,se(t,n,e),e.value=null,t}}(),eachOwn:function(e,t,n){for(var i in e)ie.call(e,i)&&t.call(n,e[i],i,e);
e&&re&&re.forEach(function(i){ie.call(e,i)&&t.call(n,e[i],i,e)})},each:function(e,t,n){
for(var i in e)t.call(n,e[i],i,e);e&&re&&re.forEach(function(i){ie.call(e,i)&&t.call(n,e[i],i,e);
})},copy:function(t,n){var i,r;return arguments.length>=2?(i=t||{},r=n):(i={},r=t),
e.each(r,function(e,t){i[t]=e}),i},copyx:function(t,n,i){var r=e.get(i,"where"),o=e.get(i,"set");
return e.each(n,function(e,i){(!r||r(n,i,t))&&(o?o(t,i,e):t[i]=e)}),t},copyProps:function(e,t,n){
var i,r;if(arguments.length>=3?(i=e||{},r=t):(i={},r=e,n=t),n){var o=-1,a=n.length;
if(r)for(;++o<a;)i[n[o]]=r[n[o]];else for(;++o<a;)i[n[o]]=void 0}return i},keys:function(e){
var t=[];for(var n in e)t.push(n);return e&&re&&re.forEach(function(e){t.push(e)}),
t},values:function(t){var n=[];return e.each(t,function(e){n.push(e)}),n},uniqueIndex:function(t,n,i){
var r={};return e.each(t,function(e,t){n&&(e=n.call(i,e)),null==e||ie.call(r,e)||(r[e]=t);
}),r},ownKeys:Object.keys,own:function(e,t,n){var i=Object.keys(e);return i.map(t?function(i){
return t.call(n,e[i],i)}:function(t){return e[t]})},make:function(e,t){var n=Object.create(e.prototype);
return e.apply(n,t||ae)||n},isPropPrivate:function(e){return!!e&&"_"===e.charAt(0);
},whiteList:function(e,t){var n=null;if(e)for(var i=t.length,r=-1;++r<i;){var o=t[r];
o in e&&(null==n&&(n={}),n[o]=e[o])}return n}}),e.object={is:function(e){return!!e&&"object"==typeof e;
},isNative:function(e){return!!e&&e.constructor===Object},as:function(e){return e&&"object"==typeof e?e:null;
},asNative:function(e){return e&&e.constructor===Object?e:null},lazy:function(e,t,n,i){
return e[t]||(e[t]=n?n.call(i,t):{})}},e.lazy=e.object.lazy,e.info=function(t,n){
var i;if(t&&n){if(i=t.__info__,arguments.length<2)return i;i||e.setNonEnum(t,"__info__",i={}),
e.copyOwn(i,n)}return t},e.info.get=function(t,n,i){return e.get(t&&t.__info__,n,i);
},e.copyOwn(e,{bit:{set:function(e,t,n){return n||null==n?e|t:e&~t}}}),e.copyOwn(e,{
compare:function(e,t){return e===t?0:e>t?1:-1},compareReverse:function(e,t){return e===t?0:e>t?-1:1;
},methodCaller:function(e,t){return t?function(){return t[e].apply(t,arguments)}:function(){
return this[e].apply(this,arguments)}},identity:function(e){return e},add:function(e,t){
return e+t},addPreservingNull:function(e,t){return null==e?t:null==t?e:e+t},negate:function(e){
return function(){return!e.apply(this,arguments)}},sqr:function(e){return e*e},noop:function(){},
retTrue:function(){return!0},retFalse:function(){return!1},fun:{is:function(e){return"function"==typeof e;
},as:function(e){return"function"==typeof e?e:null},to:function(t){return"function"==typeof t?t:e.fun.constant(t);
},constant:function(e){return function(){return e}},wraps:function(t,n){return t.valueOf=e.fun.constant(n),
t},typeFactory:function(t){function n(){return e.make(t,arguments)}return n.of=t,
n}}}),e.ascending=e.compare,e.descending=e.compareReverse,e.number={is:function(e){
return"number"==typeof e},as:function(e,t){return"number"==typeof e?e:t},to:function(e,t){
if(null==e)return t;var n=+e;return isNaN(n)?t:n},toPositive:function(t,n){return t=e.number.to(t),
null==t||t>0?t:n},toNonNegative:function(t,n){return t=e.number.to(t),null!=t&&0>t?n:t;
},toBetween:function(t,n,i,r){var o=e.number.to(t);return null==o?r:Math.max(n,Math.min(i,o));
}},e.array={empty:function(e){return!(e&&e.length)},is:function(e){return e instanceof Array;
},isLike:function(e){return e&&null!=e.length&&"string"!=typeof e},as:function(e){
return e instanceof Array?e:null!=e?[e]:null},to:function(e){return e instanceof Array?e:null!=e?[e]:null;
},lazy:function(e,t,n,i){return e[t]||(e[t]=n?n.call(i,t):[])},copy:function(e){return oe.apply(e,oe.call(arguments,1));
},each:function(t,n,i){null!=t&&(e.array.is(t)?t.forEach(n,i):n.call(i,t,0))},eachReverse:function(t,n,i){
if(null!=t)if(e.array.is(t)){for(var r=t.length;r--;)if(n.call(i,t[r],r)===!1)return!1;
}else if(n.call(i,t,0)===!1)return!1;return!0},like:e.copyOwn(function(e){return ce.is(e)?e:[e];
},{is:function(e){return!!e&&null!=e.length&&"string"!=typeof e},as:function(e){return ce.is(e)?e:null;
}}),create:function(e,t){var n=e>=0?new Array(e):[];if(void 0!==t)for(var i=0;e>i;i++)n[i]=t;
return n},append:function(e,t,n){null==n&&(n=0);for(var i=0,r=t.length,o=e.length;r>i;i++)e[o+i]=t[n+i];
return e},appendMany:function(t){var n,i=arguments,r=i.length;if(r>1)for(var o=1;r>o;o++)if(n=e.array.to(i[o]))for(var a=0,s=n.length;s>a;)t.push(n[a++]);
return t},prepend:function(e,t,n){null==n&&(n=0);for(var i=0,r=t.length;r>i;i++)e.unshift(t[n+i]);
return e},removeAt:function(e,t){return e.splice(t,1)[0]},insertAt:function(e,t,n){
return e.splice(t,0,n),e},removeIf:function(e,t,n){for(var i=0,r=e.length;r>i;)t.call(n,e[i],i)?(r--,
e.splice(i,1)):i++;return e},binarySearch:function(t,n,i,r){i||(i=e.compare);for(var o=0,a=t.length-1;a>=o;){
var s=o+a>>1,l=i(n,r?r(t[s]):t[s]);if(0>l)a=s-1;else{if(!(l>0))return s;o=s+1}}return~o;
},insert:function(t,n,i){var r=e.array.binarySearch(t,n,i);return 0>r?t.splice(~r,0,n):t[r]!==n&&t.splice(r+1,0,n),
r},remove:function(t,n,i){var r=e.array.binarySearch(t,n,i);return r>=0?t.splice(r,1)[0]:void 0;
}};var ce=e.array.like;ce.to=ce,e.string={is:function(e){return"string"==typeof e;
},to:function(e,t){return null!=e?String(e):t||""},join:function(e){var t,n,i=arguments,r=i.length;
switch(r){case 3:return t=i[1],n=i[2],null!=t&&""!==t?null!=n&&""!==n?""+t+e+(""+n):""+t:null!=n&&""!==n?""+n:"";
case 2:return t=i[1],null!=t?""+t:"";case 1:case 0:return""}for(var o=[],a=1;r>a;a++)t=i[a],
null!=t&&""!==t&&o.push(""+t);return o.join(e)},padRight:function(e,t,n){e||(e=""),
null==n&&(n=" ");var i=~~((t-e.length)/n.length);return i>0?e+new Array(i+1).join(n):e;
}},e.copyOwn(e,{firstUpperCase:function(e){if(e){var t=e.charAt(0),n=t.toUpperCase();
t!==n&&(e=n+e.substr(1))}return e},firstLowerCase:function(e){if(e){var t=e.charAt(0),n=t.toLowerCase();
t!==n&&(e=n+e.substr(1))}return e},titleFromName:function(t){return e.firstUpperCase(t).replace(/([a-z\d])([A-Z])/g,"$1 $2");
},format:function(t,n,i){if(null==t||""===t)return"";var r=n&&e.fun.is(n);return t.replace(/(^|[^{])\{([^{}]+)\}/g,function(e,t,o){
var a=n?r?n.call(i,o):n[o]:null;return t+(null==a?"":String(a))})}}),e.copyOwn(e,{
nullyTo:function(e,t){return null!=e?e:t}}),e.copyOwn(e,{between:function(e,t,n){
return Math.max(t,Math.min(e,n))},nully:function(e){return null==e},notNully:function(e){
return null!=e},notUndef:function(e){return void 0!==e},empty:function(e){return null==e||""===e;
},notEmpty:function(e){return null!=e&&""!==e},truthy:function(e){return!!e},falsy:function(e){
return!e}}),e.copyOwn(e,{error:function(e){return e instanceof Error?e:new Error(e);
},fail:function(t){throw e.error(t)},assert:function(t,n){throw e.error.assertionFailed(t,n);
}}),e.eachOwn({operationInvalid:function(t,n){return e.error(e.string.join(" ","Invalid operation.",e.format(t,n)));
},notImplemented:function(){return e.error("Not implemented.")},argumentRequired:function(t){
return e.error(e.format("Required argument '{0}'.",[t]))},argumentInvalid:function(t,n,i){
return e.error(e.string.join(" ",e.format("Invalid argument '{0}'.",[t]),e.format(n,i)));
},assertionFailed:function(t,n){return e.error(e.string.join(" ","Assertion failed.",e.format(t,n)));
}},function(t,n){e.error[n]=t,e.fail[n]=function(){throw t.apply(null,arguments)};
}),e.debug=0,!function(){if("undefined"!=typeof window&&window.location){var t=function(e){
return e&&/\bdebug=true\b/.test(e)?e:null},n=t(window.location.href);if(!n)try{n=t(window.top.location.href);
}catch(i){}if(n){var r=/\bdebugLevel=(\d+)/.exec(n);e.debug=r?+r[1]:3}}}(),e.logSeparator="------------------------------------------",
e.setDebug=function(t){return t=+t,t=isNaN(t)?0:t,t>1&&"undefined"==typeof console&&(t=1),
e.log&&e.debug==t||(e.debug=t,n(t)),e.debug};var he=null;e.addOnDebugChanged=function(e){
he||(he=[]).push(e)};var de,fe=["info","debug","error","warn","group","groupEnd"],pe={
group:"groupCollapsed"};e.logger=function(t,n,i){return e.debug>1?r(t,n):n?a(n,i,t):de||(de=s());
},e.setDebug(e.debug),e.priv={key:c};var me=function(t){return"_"+e.nullyTo(t,"safe")+(new Date).getTime()+Math.round(1e3*Math.random());
},ge=e.priv.key();e.copyOwn(e,{scope:function(e,t){return e.call(t)},firstDefined:function(e,t,n){
var i,r=0,o=e.length;for(t||(t=[]);o>r;)if(void 0!==(i=e[r++].apply(n,t)))return i;
},indexedId:function(e,t){return t>0?e+""+(t+1):e},splitIndexedId:function(e){var t=/^(.*?)(\d*)$/.exec(e),n=null;
return t[2]&&(n=Number(t[2]),1>=n?n=1:n--),[t[1],n]},parseDistinctIndexArray:function(t,n,i){
if(t=e.array.as(t),null==t)return null;null==n&&(n=0),null==i&&(i=1/0);var r=e.query(t).select(function(e){
return+e}).where(function(e){return!isNaN(e)&&e>=n&&i>=e}).distinct().array();return r.length?r:null;
},argumentsTypeBind:function(e,t){var n,i=e.length,r=new Array(i);if(i&&t&&(n=t.length)){
var o=0,a=0;do{var s=t[o];(null==s||typeof s===e[a])&&(r[a]=s,o++),a++}while(i>a&&n>o);
}return r},argumentsTypeBound:function(t,n){return function(){var i=e.argumentsTypeBind(t,arguments);
return n.apply(this,i)}}}),e.qualName=function(e){return e instanceof f?e:new f(e);
},e.QualifiedName=f,f.prototype.toString=function(){return e.string.join(".",this.namespace,this.name);
},e.qualNameOf=function(t,n){return arguments.length>1?(t.__qname__=e.qualName(n),
t):t.__qname__};var ve=e,ye={},be=[];e.globalSpace=function(e,t){return ye[e]=t},
e.space=function(t,n,i){e.fun.is(n)&&(i=n,n=null),e.string.is(n)&&(n=p(n));var r=p(t,n);
if(i){be.push(ve);try{i(r)}finally{ve=be.pop()}}return r},e.describe=function(t,n){
var i=e.get(n,"maxLevel")||5,r=[];return e.describeRecursive(r,t,i,n),r.join("")},
e.describeRecursive=function(t,n,i,r){if(i>0){switch(i--,typeof n){case"undefined":
return t.push("undefined");case"object":if(!n)return t.push("null"),!0;if(e.fun.is(n.describe))return n.describe(t,i,r);
if(n instanceof Array)t.push("["),n.forEach(function(n,o){o&&t.push(", "),e.describeRecursive(t,n,i,r)||t.pop();
}),t.push("]");else if(n instanceof Date)t.push(n.toISOString());else{var o=e.get(r,"ownOnly",!0);
if(n===e.global)return t.push("<window>"),!0;if(e.fun.is(n.cloneNode))return t.push("<dom #"+(n.id||n.name||"?")+">"),
!0;i>1&&n.constructor!==Object&&(i=1,o=!0),t.push("{");var a=!0;for(var s in n)(!o||e.hasOwnProp.call(n,s))&&(a||t.push(", "),
t.push(s+": "),e.describeRecursive(t,n[s],i,r)?a&&(a=!1):(t.pop(),a||t.pop()));if(a){
var l=""+n;"[object Object]"!==l&&t.push("{"+l+"}")}t.push("}")}return!0;case"number":
return t.push(""+Math.round(1e5*n)/1e5),!0;case"boolean":return t.push(""+n),!0;case"string":
return t.push(JSON.stringify(n)),!0;case"function":return e.get(r,"funs",!1)?(t.push(JSON.stringify(n.toString().substr(0,13)+"...")),
!0):!1}return t.push("'new ???'"),!0}},e.mixin=m(Object.create),e.copyOwn(e.mixin,{
custom:m,inherit:e.mixin,copy:m(e.copy),share:m(e.identity)}),e.create=function(){
var t=oe.call(arguments),n=!0,i=t.shift();"boolean"==typeof i&&(n=i,i=t.shift());var r;
return i?(r=Object.create(i),n&&b(r)):r={},t.length>0&&(t.unshift(r),e.mixin.apply(e,t)),
r},e.attached=function(t,n,i){var r=t.__attached__;return arguments.length>2?(void 0!==i&&(r||e.setNonEnum(t,"__attached__",r={}),
r[n]=i),t):r&&r[n]},e.attached.is=function(e){return!(!e||e.indexOf("$")<0)};var _e={
tryConfigure:1,configure:1,$type:1};e.configure=e.config=_,e.configurable=function(t,n){
return e.info(n,{configurable:!!t})},e.copyOwn(_,{generic:function(t,n){return n&&e.array.each(n,function(n){
var i;n.constructor===Object?_.setters(t,n):t!==n&&(i=t.tryConfigure)&&e.fun.is(i)&&i.call(t,n);
}),t},isPropConfigurable:function(e){return!!e&&"_"!==e.charAt(0)&&!ie.call(_e,e);
},setters:function(t,n){return n&&_.expand1(n).forEach(function(n){e.each(n,function(e,n){
_.setter(t,n,e)})}),t},setter:function(t,n,i){var r,o,a,s;return void 0!==i&&_.isPropConfigurable(n)&&e.fun.is(r=t[n])&&(o=r.valueOf())&&e.info.get(o,"configurable",(a=o.length)>=1)&&(e.attached.is(n)?e.attached(t,n,i):a?r.call(t,i):(s=r.call(t),
(e.object.is(s)||e.fun.is(s))&&_(s,i))),t},expand1:function(e){return x(e,!0)},expand:x
}),e.fun.inherit=S,e.overrides=k,e.fun.callsBase=D;var xe=/\.\s*base\b/;e.methods=A,
e.method=j,e.abstractMethod=e.fail.notImplemented,e("MetaType",E);var we={Ctor:1,
BaseType:1,prototype:1};e.copyOwn(E,{methods:F,add:e.configurable(!1,function(){return F.apply(this,arguments);
}),inst:e.configurable(!1,function(){return this.Ctor}),subType:e.configurable(!1,function(t,n,i){
var r=this,o=r.Ctor,a=o&&o.meta||e.fail.operationInvalid("MetaType is not yet instantiated.");
return e.fun.inherit(t,r),e.copyx(t,r,{where:function(e,t){return ie.call(e,t)&&"_"!==t.charAt(0)&&!ie.call(we,t);
}}),t.BaseType=r,new t(null,a,i),n&&e.configure(t,n),t}),extend:e.configurable(!1,function(t,n){
function i(){return r.apply(this,arguments)}var r=this;return e.fun.wraps(i,r),r.subType(i,t,n);
})}),E.add({closed:function(){return!!this.steps},close:function(){return this.steps||this._closeCore(this.steps=[]),
this},_assertOpened:function(){if(this.closed())throw e.error.operationInvalid("MetaType is closed.");
},_closeCore:function(e){this._addPostSteps(e),this._addInitSteps(e)},_createConstructor:function(){
function e(){for(var e=t;e--;)i[e].apply(this,arguments)===!0&&(e=t)}var t=1,n=this,i=[function(){
return i=n.close().steps,t=i.length,!0}];return e},_initConstructor:function(t){var n=this.constructor;
return z.call(n,t,n),t.meta=this,this.baseType&&e.fun.inherit(t,this.baseType.close().Ctor),
t.MetaType=n,t},_addPostSteps:function(t){e.array.eachReverse(this._mixins,function(e){
e._post&&t.push(e._post)}),this._post&&t.push(this._post)},_addInitSteps:function(t){
e.array.eachReverse(this._mixins,function(e){e._init&&t.push(e._init)}),this._init&&t.push(this._init);
},init:function(t){if(!t)throw e.error.argumentRequired("init");return this._assertOpened(),
this._init=e.overrides(t,this._init,this.rootType.Ctor.prototype),this},postInit:function(t){
if(!t)throw e.error.argumentRequired("postInit");return this._assertOpened(),this._post=e.overrides(t,this._post,this.rootType.Ctor.prototype),
this},type:e.configurable(!0,function(){return this.constructor}),add:e.configurable(!1,function(t,n){
return B(t)&&this._mixMetaType(t.meta),e.methods(this.Ctor,t,n),this}),_mixMetaType:function(t){
e.array.lazy(this,"_mixins").push(t)},methods:function(t){return e.array.each(t,this.add,this),
this},method:e.configurable(!1,function(t,n,i){return e.method(this.Ctor,t,n,i),this;
}),configure:function(t){return e.configure.generic(this,t),this},extend:e.configurable(!1,function(e,t){
var n=this.constructor.extend(null,t).Ctor;return n.configure(e)})});var Ce=(new E).close().Ctor.add({
override:function(t,n){return P(this,t,n,e.protoOf(this),Ce.prototype,!0),this},toString:function(){
return"[object "+String(e.qualNameOf(e.classOf(this)))+"]"}},{enumerable:!1});e("Object",Ce),
e.type=e.argumentsTypeBound(["string","function","object"],function(t,n,i){var r=n?n.MetaType:E,o=r.extend().Ctor;
return e(t,o,i)}),e.makeEnum=function(t,n){var i=1,r=0,o={},a=e.get(n,"all"),s=e.get(n,"zero");
return t.forEach(function(e){o[e]=i,a&&(r|=i),i<<=1}),s&&(o[s]=0),a&&(o[a]=r),o},
e.copyOwn(e,{classify:function(t,n){return e.setNonEnum(t,"_class",n),t},classOf:function(e){
return e&&(e._class||e.constructor)||void 0},is:function(e,t){return!!e&&(e._class&&e._class===t||e instanceof(t.of||t));
},as:function(t,n,i){return e.is(t,n)?t:i},createIs:function(t){function n(n){return e.is(n,t);
}return n},createAs:function(t){function n(n,i){return e.as(n,t,i)}return n},isSubClassOf:function(t,n){
return!(!t||!n||t!==n&&!e.is(ue(t),n))}});var Se=ge.property();e.copyOwn(e,{instance:function(t,n,i,r,o){
var a=e.fields(t,i,o);return r&&e.instanceAccessors(t,a,r),t.createChild=q,n&&e.configure(t,n),
a},fields:function(t,n,i){var r=e.classOf(t);n&&e.is(n,r)||(n=r.defaults),void 0===i&&(i=Se);
var o=n&&i&&i(n),a=o?Object.create(o):{};return a.___proto=n,i&&i.init(t,a),a},classAccessors:function(t,n,i){
var r=ue(t);for(var o in n)r[o]=e.classAccessor(o,n[o],i);return e},classAccessor:function(e,t,n){
function i(t){var i=n(this);return arguments.length?r.call(this,i,t):i[e]}var r=H(e,t);
return n||(n=Se),i},instanceAccessors:function(t,n,i){for(var r in i)t[r]=e.instanceAccessor(t,r,i[r],n);
return e},instanceAccessor:function(e,t,n,i){function r(n){return arguments.length?o.call(e,i,n):i[t];
}var o=H(t,n);return r}}),e.MetaType.subType(W,{methods:{fields:function(t){var n={};
for(var i in t)n[i]=e.classAccessor(i,t[i],this.fieldsPrivProp);return this.methods(n);
},_addInitSteps:function(t){function n(t){t&&e.configure(this,t)}function i(t,n){
e.fields(this,n,r.fieldsPrivProp)}t.push(n),this.base(t);var r=this;t.push(i)}}}),
e("FieldsBase",W.Ctor);var ke=1,De={},Me="__def_id__";return e.nextId=function(t){
if(t){var n=e.getOwn(De,t)||1;return De[t]=n+1,n}return ke++},e.id=function(t){var n=e.getOwn(t,Me);
return n||e.setConst(t,Me,n=e.nextId()),n},e.hashKey=function(t){var n=(typeof t).charAt(0);
switch(n){case"n":case"b":case"s":return n+":"+t}return n+":"+(t?t:e.id(t))},e("Set",e.Object.extend({
init:function(t,n){this.source=t||{},this.count=t?null!=n?n:e.ownKeys(t).length:0;
},methods:{has:function(e){return ie.call(this.source,e)},add:function(e){var t=this.source;
return ie.call(t,e)||(this.count++,t[e]=!0),this},rem:function(e){return ie.call(this.source,e)&&(delete this.source[e],
this.count--),this},clear:function(){return this.count&&(this.source={},this.count=0),
this},members:function(){return e.ownKeys(this.source)}}})),e("Map",e.Object.extend({
init:function(t,n){this.source=t||{},this.count=t?null!=n?n:e.ownKeys(t).length:0;
},methods:{has:function(e){return ie.call(this.source,e)},get:function(e){return ie.call(this.source,e)?this.source[e]:void 0;
},set:function(e,t){var n=this.source;return ie.call(n,e)||this.count++,n[e]=t,this;
},rem:function(e){return ie.call(this.source,e)&&(delete this.source[e],this.count--),
this},clear:function(){return this.count&&(this.source={},this.count=0),this},copy:function(t){
e.eachOwn(t.source,function(e,t){this.set(t,e)},this)},values:function(){return e.own(this.source);
},keys:function(){return e.ownKeys(this.source)},clone:function(){return new e.Map(e.copy(this.source),this.count);
},symmetricDifference:function(t){if(!this.count)return t.clone();if(!t.count)return this.clone();
var n={},i=0,r=this.source,o=t.source;return e.eachOwn(r,function(e,t){ie.call(o,t)||(n[t]=e,
i++)}),e.eachOwn(o,function(e,t){ie.call(r,t)||(n[t]=e,i++)}),new e.Map(n,i)},intersect:function(t,n){
return n||(n=new e.Map),e.eachOwn(this.source,function(e,i){t.has(i)&&n.set(i,e)}),
n}}})),e("OrderedMap",e.Object.extend({init:function(t){t instanceof e.OrderedMap?(this._list=t._list.slice(),
this._map=e.copy(t._map)):(this._list=[],this._map={})},methods:{has:function(e){
return ie.call(this._map,e)},count:function(){return this._list.length},get:function(e){
var t=this._map;return ie.call(t,e)?t[e].value:void 0},at:function(e){var t=this._list[e];
return t?t.value:void 0},add:function(t,n,i){var r=this._map,o=ie.call(r,t)&&r[t];
return o?o.value!==n&&(o.value=n):(o=r[t]={key:t,value:n},null==i?this._list.push(o):e.array.insertAt(this._list,i,o)),
this},rem:function(e){var t=this._map,n=ie.call(t,e)&&t[e];if(n){var i=this._list.indexOf(n);
this._list.splice(i,1),delete this._map[e]}return this},clear:function(){return this._list.length&&(this._map={},
this._list.length=0),this},keys:function(){return e.ownKeys(this._map)},forEach:function(e,t){
return this._list.forEach(function(n){e.call(t,n.value,n.key)})}}})),e("EventSource",e.Object.extend({
methods:{on:function(e,t){return Y(U,this,e,t,!0),this},before:function(e,t){return Y(U,this,e,t,!0),
this},after:function(e,t){return Y(U,this,e,t,!1),this},off:function(e,t){return Y(G,this,e,t,null,!0),
this},_acting:function(t,n){if(!t)throw e.error.argumentRequired("type");return K(this,t,n);
}}})),e.html={escape:function(t){return e.string.to(t).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");
},tag:function(t,n){n=n?e.ownKeys(n).map(function(t){var i=n[t];return e.empty(i)?"":" "+t+'="'+String(i)+'"';
}).join(""):"";var i=arguments.length>2?oe.call(arguments,2).map(function(t){return null!=t&&(e.fun.is(t)&&(t=t()),
t=e.array.is(t)?t.map(e.string.to).join(""):e.string.to(t)),t||""}).join(""):"";return"<"+t+n+">"+i+"</"+t+">";
},classes:function(t){t=t?t+"-":"";var n=[];return oe.call(arguments,1).forEach(function(i){
e.empty(i)||n.push(t+e.css.escapeClass(i))}),n.join(" ")}},e.css={escapeClass:function(e){
return(e||"").replace(/\s/g,"_")}},e.type("Query").add({index:-1,item:void 0,next:function(){
var e=this,t=e.index;return-2===t?!1:(t++,e._next(t)?(e.index=t,!0):(e._finish(),
!1))},_next:e.abstractMethod,_finish:function(){var t=this;t.index>-2&&(t.next=e.retFalse,
t.index=-2,delete t.item)},each:function(e,t){for(var n=this;n.next();)if(e.call(t,n.item,n.index)===!1)return!0;
return!1},array:function(e){for(var t=e||[],n=this;n.next();)t.push(n.item);return t;
},sort:function(t,n){if(t||(t=e.compare),n){var i=t;t=function(e,t){return i(n(e),n(t));
}}var r=this.array().sort(t);return new e.ArrayLikeQuery(r)},object:function(t){for(var n=e.get(t,"target")||{},i=e.get(t,"name"),r=e.get(t,"value"),o=e.get(t,"context");this.next();){
var a=""+(i?i.call(o,this.item,this.index):this.item);n[a]=r?r.call(o,this.item,this.index):this.item;
}return n},reduce:function(e){var t,n=0;if(arguments.length<2){if(!this.next())throw new TypeError("Length is 0 and no second argument");
t=this.item}else t=arguments[1];for(;this.next();)t=e(t,this.item,this.index),++n;
return t},count:function(){for(var e=0;this.next();)e++;return e},first:function(e,t,n){
for(;this.next();)if(!e||e.call(t,this.item,this.index)){var i=this.item;return this._finish(),
i}return n},last:function(e,t,n){for(var i=n;this.next();)(!e||e.call(t,this.item,this.index))&&(i=this.item);
return i},any:function(e,t){for(;this.next();)if(!e||e.call(t,this.item,this.index))return this._finish(),
!0;return!1},all:function(e,t){for(;this.next();)if(!e.call(t,this.item,this.index))return this._finish(),
!1;return!0},min:function(){for(var e=null;this.next();)(null===e||this.item<e)&&(e=this.item);
return e},max:function(){for(var e=null;this.next();)(null===e||this.item>e)&&(e=this.item);
return e},range:function(){for(var e=null,t=null;this.next();){var n=this.item;null===e?e=t=n:(e>n&&(e=n),
n>t&&(t=n))}return null!=e?{min:e,max:t}:null},multipleIndex:function(t,n){var i={};
return this.each(function(r){var o=t?t.call(n,r):r;if(null!=o){var a=e.getOwn(i,o)||(i[o]=[]);
a.push(r)}}),i},uniqueIndex:function(e,t){var n={};return this.each(function(i){var r=e?e.call(t,i):i;
null==r||ie.call(n,r)||(n[r]=i)}),n},select:function(t,n){return new e.SelectQuery(this,t,n);
},prop:function(t){return new e.SelectQuery(this,function(e){return e?e[t]:void 0;
})},selectMany:function(t,n){return new e.SelectManyQuery(this,t,n)},union:function(){
var t=e.array.append([this],arguments);return new e.SelectManyQuery(new e.ArrayLikeQuery(t));
},where:function(t,n){return t?new e.WhereQuery(this,t,n):this},distinct:function(t,n){
return t?new e.DistinctQuery(this,t,n):this},skip:function(t){return new e.SkipQuery(this,t);
},take:function(t){return 0>=t?new e.NullQuery:isFinite(t)?new e.TakeQuery(this,t):this;
},whayl:function(t,n){return new e.WhileQuery(this,t,n)},reverse:function(){return new e.ReverseQuery(this);
}}),e.type("NullQuery",e.Query).add({next:e.retFalse}),e.type("AdhocQuery",e.Query).init(function(e){
this._next=e}),e.type("ArrayLikeQuery",e.Query).init(function(t){function n(){for(;++r<o;)if(ie.call(t,r))return i.index=r,
i.item=t[r],!0;return i._finish(),!1}var i=this;e.array.isLike(t)||(t=[t]),i._list=t,
i._count=t.length;var r=-1,o=t.length;i.next=n}).add({count:function(){var e=this._count;
return this.index>=0&&(e-=this.index+1),this._finish(),e}}),e.type("RangeQuery",e.Query).init(function(e,t,n){
this._index=e,this._count=t,this._step=null==n?1:n}).add({_next:function(e){return e<this._count?(this.item=this._index,
this._index+=this._step,!0):void 0},count:function(){var e=this._count;return this.index>=0&&(e-=this.index+1),
this._finish(),e}}),e.type("WhereQuery",e.Query).init(function(e,t,n){function i(){
for(;e.next();){var i=e.item;if(t.call(n,i,e.index))return r.item=i,r.index=++o,!0;
}return r._finish(),!1}var r=this,o=-1;r.next=i}),e.type("WhileQuery",e.Query).init(function(e,t,n){
function i(){if(e.next()){var i=e.item;if(t.call(n,i,e.index))return r.item=i,r.index=++o,
!0}return r._finish(),!1}var r=this,o=-1;r.next=i}),e.type("SelectQuery",e.Query).init(function(e,t,n){
function i(){return e.next()?(r.item=t.call(n,e.item,e.index),r.index=++o,!0):(r._finish(),
!1)}var r=this,o=-1;r.next=i}),e.type("SelectManyQuery",e.Query).init(function(e,t,n){
this._selectMany=t,this._ctx=n,this._source=e,this._manySource=null}).add({_next:function(){
for(;;){if(this._manySource){if(this._manySource.next())return this.item=this._manySource.item,
!0;this._manySource=null}if(!J.call(this))break}}}),e.type("DistinctQuery",e.Query).init(function(e,t,n){
function i(){for(;e.next();){var i=e.item,s=t?t.call(n,i,e.index):i;if(null!=s&&!ie.call(a,s))return r.item=i,
r.index=++o,a[s]=!0}return r._finish(),!1}var r=this,o=-1,a={};r.next=i}),e.type("SkipQuery",e.Query).init(function(e,t){
this._source=e,this._skip=t}).add({_next:function(){for(;this._source.next();){if(!(this._skip>0))return this.item=this._source.item,
!0;this._skip--}}}),e.type("TakeQuery",e.Query).init(function(e,t){this._source=e,
this._take=t}).add({_next:function(){return this._take>0&&this._source.next()?(this._take--,
this.item=this._source.item,!0):void 0}}),e.type("ReverseQuery",e.Query).init(function(e){
this._source=e}).add({_next:function(t){t||(this._source instanceof e.Query&&(this._source=this._source instanceof e.ArrayLikeQuery?this._source._list:this._source.array()),
this._count=this._source.length);var n=this._count;if(n>t){for(var i=n-t-1,r=this._source;!ie.call(r,i);){
if(--i<0)return!1;this._count--}return this.item=r[i],!0}}}),e.query=function(t){
return void 0===t?new e.NullQuery:t instanceof e.Query?t:e.fun.is(t)?new e.AdhocQuery(t):new e.ArrayLikeQuery(t);
},e.range=function(t,n,i){return new e.RangeQuery(t,n,i)},e.textTable=function(t){
function n(){return o.map(function(e){switch(e){case l:return i(e,"","","","");
case u:return r||(r=i(e,"","","",""));case c:return i(e,"","","","")}return i(e,""," ","","");
}).join("\n")}function i(t,n,i,r,o){return r+t.map(function(t,n){return e.string.padRight(t||"",s[n],i);
}).join(n)+o}var r,o=[],a=" ",s=new Array(t),l=e.array.create(t,""),u=l.slice(),c=l.slice();
return n.row=function(){for(var e,i,r=arguments,l=-1,u=new Array(t);++l<t;)e=r[l],
i=u[l]=a+(void 0===e?"":String(e))+a,s[l]=Math.max(s[l]||0,i.length);return o.push(u),
n},n.rowSep=function(e){return o.push(o.length?e?c:u:l),n},n},e.round10=function(e,t){
return t?(e=+e,isNaN(e)||"number"!=typeof t||t%1!==0?NaN:(e=Math.round(ee(e,t)),ee(e,-t))):Math.round(e);
},e.mult10=function(e,t){return t?ee(+e,t):e},e.delta=function(e,t){if(e===t)return 0;
var n=e-t;return 0>n?-n:n},ve=e.global,e}),define("cdf/lib/CCC/protovis-compat",["require"],function(e){
var t="./protovis",n="./protovis-msie",i={load:function(i,r,o,a){if(a.isBuild)r([t],o);else{
var s=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),l=function(e,t,n){
return t=e.createElement("div"),t.innerHTML='<pvml:shape adj="1" />',n=t.firstChild,
n?(n.style.behavior="url(#default#VML)","object"==typeof n.adj):!1}(document);!s&&l?e([n],o):e([t],o);
}}};return i}),define("cdf/lib/CCC/protovis",[],function(){function e(e){return e/=255,
.03928>=e?e/12.92:Math.pow((e+.055)/1.055,2.4)}Array.prototype.map||(Array.prototype.map=function(e,t){
for(var n=this.length,i=new Array(n),r=0;n>r;r++)r in this&&(i[r]=e.call(t,this[r],r,this));
return i}),Array.prototype.filter||(Array.prototype.filter=function(e,t){for(var n=this.length,i=new Array,r=0;n>r;r++)if(r in this){
var o=this[r];e.call(t,o,r,this)&&i.push(o)}return i}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){
for(var n=this.length>>>0,i=0;n>i;i++)i in this&&e.call(t,this[i],i,this)}),Array.prototype.reduce||(Array.prototype.reduce=function(e,t){
var n=this.length;if(!n&&1==arguments.length)throw new Error("reduce: empty array, no initial value");
var i=0;if(arguments.length<2)for(;;){if(i in this){t=this[i++];break}if(++i>=n)throw new Error("reduce: no values, no initial value");
}for(;n>i;i++)i in this&&(t=e(t,this[i],i,this));return t}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){
for(var n=this.length>>>0,i=!isFinite(t)||0>t?0:t>this.length?this.length:t;n>i;i++)if(this[i]===e)return i;
return-1}),Date.now||(Date.now=function(){return+new Date}),Object.create||(Object.create=function(e){
function t(){}return t.prototype=e,new t});var t={};return t.version={major:3,minor:3
},t.identity=function(e){return e},t.index=function(){return this.index},t.child=function(){
return this.childIndex},t.parent=function(){return this.parent.index},!function(){
t.extend=function(e){return Object.create(e.prototype||e)},t.extendType=function(e,n){
var i=e.prototype=t.extend(n);return i.constructor=e,e},t.parse=function(e){for(var n,i,r=new RegExp("function\\s*(\\b\\w+)?\\s*\\([^)]*\\)\\s*","mg"),o=0,a="";n=r.exec(e);){
var s=n.index+n[0].length;if("{"!=e.charAt(s)){a+=e.substring(o,s)+"{return ",o=s;
for(var l=0;l>=0&&s<e.length;s++){var u=e.charAt(s);switch(u){case'"':case"'":for(;++s<e.length&&(i=e.charAt(s))!=u;)"\\"==i&&s++;
break;case"[":case"(":l++;break;case"]":case")":l--;break;case";":case",":0==l&&l--;
}}a+=t.parse(e.substring(o,--s))+";}",o=s}r.lastIndex=s}return a+=e.substring(o)},
t.error=function(e){"undefined"!=typeof console&&console.error?console.error(e):alert(e);
},t.listen=function(e,n,i){return i=t.listener(i),"load"===n||"onload"===n?t.listenForPageLoad(i):(e.addEventListener?e.addEventListener(n,i,!1):(e===window&&(e=document.documentElement),
e.attachEvent("on"+n,i)),i)},t.unlisten=function(e,t,n){n.$listener&&(n=n.$listener),
e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.listenForPageLoad=function(e){
"complete"!==document.readyState?document.addEventListener?window.addEventListener("load",e,!1):document.attachEvent&&window.attachEvent("onload",e):e(null);
},t.listener=function(e){return e.$listener||(e.$listener=function(n){try{return t.event=n=n&&t.fixEvent(n),
e.call(this,n)}catch(i){t.error(i)}finally{delete t.event}})},t.fixEvent=function(e){
if(null==e.pageX&&null!=e.clientX){var t=e.target&&e.target.ownerDocument||document,n=t.documentElement,i=t.body;
e.pageX=1*e.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),
e.pageY=1*e.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0);
}return e},t.ancestor=function(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1;
},t.removeChildren=function(e){for(;e.lastChild;)e.removeChild(e.lastChild)},t.getWindow=function(e){
return null!=e&&e==e.window?e:9===e.nodeType?e.defaultView||e.parentWindow:!1};var e=/\-([a-z])/g;
t.hiphen2camel=function(t){return e.test(t)?t.replace(e,function(e,t){return t.toUpperCase();
}):t};var n=window.getComputedStyle;t.css=function(e,i){return n?n.call(window,e,null).getPropertyValue(i):e.currentStyle["float"===i?"styleFloat":t.hiphen2camel(i)];
},t.cssStyle=function(e){var i;return n?(i=n.call(window,e,null),function(e){return i.getPropertyValue(e);
}):(i=e.currentStyle,function(e){return i["float"===e?"styleFloat":t.hiphen2camel(e)];
})},t._getElementsByClass=function(e,t){null==t&&(t=document);for(var n=[],i=t.getElementsByTagName("*"),r=i.length,o=new RegExp("(^|\\s)"+e+"(\\s|$)"),a=0,s=0;r>a;a++)o.test(i[a].className)&&(n[s]=i[a],
s++);return n},t.getElementsByClassName=function(e,n){return e.getElementsByClassName?e.getElementsByClassName(n):t._getElementsByClass(n,e);
},t.elementOffset=function(e){var n=e&&e.ownerDocument;if(n){var i=n.body;if(i!==e){
var r;r="undefined"!=typeof e.getBoundingClientRect?e.getBoundingClientRect():{top:0,
left:0};var o=t.getWindow(n),a=n.documentElement,s=a.clientTop||i.clientTop||0,l=a.clientLeft||i.clientLeft||0,u=o.pageYOffset||a.scrollTop,c=o.pageXOffset||a.scrollLeft;
return{top:r.top+u-s-(e.scrollTop||0),left:r.left+c-l-(e.scrollLeft||0)}}}},t.renderer=function(){
var e=document.svgImplementation||"nativesvg";return t.renderer=function(){return e;
},e};var i=1;t.id=function(){return i++},t.functor=function(e){return"function"==typeof e?e:function(){
return e}},t.stringLowerCase=function(e){return String(e).toLowerCase()},t.get=function(e,t,n){
var i;return e&&null!=(i=e[t])?i:n};var r=Object.prototype.hasOwnProperty;t.lazyArrayOwn=function(e,t){
var n;return e&&r.call(e,t)&&(n=e[t])?n:e[t]=[]},t.parseNumNonNeg=function(e,t){return null!=e&&("string"==typeof e?e=+e:"number"!=typeof e&&(e=null)),
null==e||isNaN(e)||0>e?null==t?0:t:e};var o=t.epsilon=1e-6;t.floatLess=function(e,n){
return!t.floatEqual(e,n)&&n>e},t.floatLessOrEqual=function(e,n){return n>e||t.floatEqual(e,n);
},t.floatGreater=function(e,n){return!t.floatEqual(e,n)&&e>n},t.floatEqual=function(e,t){
return Math.abs(t-e)<o},t.floatZero=function(e){return Math.abs(e)<o},t.floatBelongsOpen=function(e,n,i){
return t.floatLess(e,n)&&t.floatLess(n,i)},t.floatBelongsClosed=function(e,n,i){return t.floatLessOrEqual(e,n)&&t.floatLessOrEqual(n,i);
}}(),t.listen(window,"load",function(){for(t.$={i:0,x:document.getElementsByTagName("script")
},t.$.xlen=t.$.x.length;t.$.i<t.$.xlen;t.$.i++)if(t.$.s=t.$.x[t.$.i],"text/javascript+protovis"==t.$.s.type)try{
window.eval(t.parse(t.$.s.text))}catch(e){t.error(e)}delete t.$}),t.Format={},t.Format.re=function(e){
return e.replace(/[\\\^\$\*\+\?\[\]\(\)\.\{\}]/g,"\\$&")},t.Format.pad=function(e,t,n){
var i=t-String(n).length;return 1>i?n:new Array(i+1).join(e)+n},t.Format.date=function(e){
function n(t){return e.replace(/%[a-zA-Z0-9]/g,function(e){switch(e){case"%a":return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()];
case"%A":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()];
case"%h":case"%b":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];
case"%B":return["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()];
case"%c":return t.toLocaleString();case"%C":return i("0",2,Math.floor(t.getFullYear()/100)%100);
case"%d":return i("0",2,t.getDate());case"%x":case"%D":return i("0",2,t.getMonth()+1)+"/"+i("0",2,t.getDate())+"/"+i("0",2,t.getFullYear()%100);
case"%e":return i(" ",2,t.getDate());case"%H":return i("0",2,t.getHours());case"%I":
var n=t.getHours()%12;return n?i("0",2,n):12;case"%m":return i("0",2,t.getMonth()+1);
case"%M":return i("0",2,t.getMinutes());case"%n":return"\n";case"%p":return t.getHours()<12?"AM":"PM";
case"%T":case"%X":case"%r":var n=t.getHours()%12;return(n?i("0",2,n):12)+":"+i("0",2,t.getMinutes())+":"+i("0",2,t.getSeconds())+" "+(t.getHours()<12?"AM":"PM");
case"%R":return i("0",2,t.getHours())+":"+i("0",2,t.getMinutes());case"%S":return i("0",2,t.getSeconds());
case"%Q":return i("0",3,t.getMilliseconds());case"%t":return"	";case"%u":var r=t.getDay();
return r?r:1;case"%w":return t.getDay();case"%y":return i("0",2,t.getFullYear()%100);
case"%Y":return t.getFullYear();case"%%":return"%"}return e})}var i=t.Format.pad;return n.format=n,
n.parse=function(n){var i=1970,r=0,o=1,a=0,s=0,l=0,u=[function(){}],c=t.Format.re(e).replace(/%[a-zA-Z0-9]/g,function(e){
switch(e){case"%b":return u.push(function(e){r={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,
Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11}[e]}),"([A-Za-z]+)";case"%h":case"%B":return u.push(function(e){
r={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,
October:9,November:10,December:11}[e]}),"([A-Za-z]+)";case"%e":case"%d":return u.push(function(e){
o=e}),"([0-9]+)";case"%I":case"%H":return u.push(function(e){a=e}),"([0-9]+)";case"%m":
return u.push(function(e){r=e-1}),"([0-9]+)";case"%M":return u.push(function(e){s=e;
}),"([0-9]+)";case"%p":return u.push(function(e){12==a?"am"==e&&(a=0):"pm"==e&&(a=Number(a)+12);
}),"(am|pm)";case"%S":return u.push(function(e){l=e}),"([0-9]+)";case"%y":return u.push(function(e){
e=Number(e),i=e+(e>=0&&69>e?2e3:e>=69&&100>e?1900:0)}),"([0-9]+)";case"%Y":return u.push(function(e){
i=e}),"([0-9]+)";case"%%":return u.push(function(){}),"%"}return e}),h=n.match(c);
return h&&h.forEach(function(e,t){u[t](e)}),new Date(i,r,o,a,s,l)},n},t.Format.time=function(e){
function n(t){switch(t=Number(t),e){case"short":return t>=31536e6?(t/31536e6).toFixed(1)+" years":t>=6048e5?(t/6048e5).toFixed(1)+" weeks":t>=864e5?(t/864e5).toFixed(1)+" days":t>=36e5?(t/36e5).toFixed(1)+" hours":t>=6e4?(t/6e4).toFixed(1)+" minutes":(t/1e3).toFixed(1)+" seconds";
case"long":var n=[],r=t%6e4/1e3>>0,o=t%36e5/6e4>>0;if(n.push(i("0",2,r)),t>=36e5){
var a=t%864e5/36e5>>0;n.push(i("0",2,o)),t>=864e5?(n.push(i("0",2,a)),n.push(Math.floor(t/864e5).toFixed())):n.push(a.toFixed());
}else n.push(o.toFixed());return n.reverse().join(":")}}var i=t.Format.pad;return n.format=n,
n.parse=function(t){switch(e){case"short":for(var n,i=/([0-9,.]+)\s*([a-z]+)/g,r=0;n=i.exec(t);){
var o=parseFloat(n[0].replace(",","")),a=0;switch(n[2].toLowerCase()){case"year":
case"years":a=31536e6;break;case"week":case"weeks":a=6048e5;break;case"day":case"days":
a=864e5;break;case"hour":case"hours":a=36e5;break;case"minute":case"minutes":a=6e4;
break;case"second":case"seconds":a=1e3}r+=o*a}return r;case"long":var n=t.replace(",","").split(":").reverse(),r=0;
return n.length&&(r+=1e3*parseFloat(n[0])),n.length>1&&(r+=6e4*parseFloat(n[1])),
n.length>2&&(r+=36e5*parseFloat(n[2])),n.length>3&&(r+=864e5*parseFloat(n[3])),r}
},n},t.Format.number=function(){function e(e){1/0>a&&(e=Math.round(e*s)/s);var t=String(Math.abs(e)).split("."),m=t[0];
m.length>i&&(m=m.substring(m.length-i)),c&&m.length<n&&(m=new Array(n-m.length+1).join(l)+m),
m.length>3&&(m=m.replace(/\B(?=(?:\d{3})+(?!\d))/g,d)),!c&&m.length<r&&(m=new Array(r-m.length+1).join(l)+m),
t[0]=0>e?f+m+p:m;var g=t[1]||"";return g.length>a&&(g=t[1]=g.substr(0,a)),g.length<o&&(t[1]=g+new Array(o-g.length+1).join(u)),
t.join(h)}var n=0,i=1/0,r=0,o=0,a=0,s=1,l="0",u="0",c=!0,h=".",d=",",f="",p="";return e.format=e,
e.parse=function(e){var n=t.Format.re,r=String(e).split(h);1==r.length&&(r[1]=""),
r[0].replace(new RegExp("^("+n(l)+")*"),""),r[1].replace(new RegExp("("+n(u)+")*$"),"");
var o=r[0].replace(new RegExp(n(d),"g"),"");o.length>i&&(o=o.substring(o.length-i));
var c=r[1]?Number("0."+r[1]):0;return 1/0>a&&(c=Math.round(c*s)/s),Math.round(o)+c;
},e.integerDigits=function(e,t){return arguments.length?(n=Number(e),i=arguments.length>1?Number(t):n,
r=n+Math.floor(n/3)*d.length,this):[n,i]},e.fractionDigits=function(e,t){return arguments.length?(o=Number(e),
a=arguments.length>1?Number(t):o,s=Math.pow(10,a),this):[o,a]},e.integerPad=function(e){
return arguments.length?(l=String(e),c=/\d/.test(l),this):l},e.fractionPad=function(e){
return arguments.length?(u=String(e),this):u},e.decimal=function(e){return arguments.length?(h=String(e),
this):h},e.group=function(e){return arguments.length?(d=e?String(e):"",r=n+Math.floor(n/3)*d.length,
this):d},e.negativeAffix=function(e,t){return arguments.length?(f=String(e||""),p=String(t||""),
this):[f,p]},e},!function(){var e;t.Text={},t.Text.createCache=function(){return new n;
},t.Text.usingCache=function(t,i,r){if(!(t instanceof n))throw new Error("Not a valid cache.");
var o=e;e=t;try{return i.call(r)}finally{e=o}},t.Text.measure=function(t,n){t=null==t?"":String(t);
var i=e&&e.get(n,t);return i||(i=t?this.measureCore(t,n):{width:0,height:0},e&&e.put(n,t,i)),
i},t.Text.measureWidth=function(e,n){return t.Text.measure(e,n).width},t.Text.fontHeight=function(e){
return t.Text.measure("M",e).height},t.Text.measureCore=function(){function e(){return i||(i=n());
}function n(){var e=document.createElement("div");e.id="pvSVGText_"+(new Date).getTime();
var n=e.style;n.position="absolute",n.visibility="hidden",n.width=0,n.height=0,n.left=0,
n.top=0,n.lineHeight=1,n.textTransform="none",n.letterSpacing="normal",n.whiteSpace="nowrap";
var i=t.SvgScene.create("svg");i.setAttribute("font-size","10px"),i.setAttribute("font-family","sans-serif"),
e.appendChild(i);var r=t.SvgScene.create("text");return i.appendChild(r),r.appendChild(document.createTextNode("")),
document.body.appendChild(e),r}var i,r="10px sans-serif";return function(n,i){i||(i=null);
var o=e();r!==i&&(r=i,t.SvgScene.setStyle(o,{font:i})),o.firstChild.nodeValue=String(n);
var a;try{a=o.getBBox()}catch(s){throw"function"==typeof console.error&&console.error("GetBBox failed: ",s),
s}return{width:a.width,height:a.height}}}();var n=function(){this._fontsCache={}},i=Object.prototype.hasOwnProperty;
n.prototype._getFont=function(e){return e=e||"",i.call(this._fontsCache,e)?this._fontsCache[e]:this._fontsCache[e]={};
},n.prototype.get=function(e,t){t=t||"";var n=this._getFont(e);return i.call(n,t)?n[t]:null;
},n.prototype.put=function(e,t,n){return this._getFont(e)[t||""]=n}}(),t.map=function(e,t){
var n={};return t?e.map(function(e,i){return n.index=i,t.call(n,e)}):e.slice()},t.repeat=function(e,n){
return 1==arguments.length&&(n=2),t.blend(t.range(n).map(function(){return e}))},
t.array=function(e,t){var n=e>=0?new Array(e):[];if(void 0!==t)for(var i=0;e>i;i++)n[i]=t;
return n},t.cross=function(e,t){for(var n=[],i=0,r=e.length,o=t.length;r>i;i++)for(var a=0,s=e[i];o>a;a++)n.push([s,t[a]]);
return n},t.blend=function(e){return Array.prototype.concat.apply([],e)},t.transpose=function(e){
var n=e.length,i=t.max(e,function(e){return e.length});if(i>n){e.length=i;for(var r=n;i>r;r++)e[r]=new Array(n);
for(var r=0;n>r;r++)for(var o=r+1;i>o;o++){var a=e[r][o];e[r][o]=e[o][r],e[o][r]=a;
}}else{for(var r=0;i>r;r++)e[r].length=n;for(var r=0;n>r;r++)for(var o=0;r>o;o++){
var a=e[r][o];e[r][o]=e[o][r],e[o][r]=a}}e.length=i;for(var r=0;i>r;r++)e[r].length=n;
return e},t.normalize=function(e,n){for(var i=t.map(e,n),r=t.sum(i),o=0;o<i.length;o++)i[o]/=r;
return i},t.permute=function(e,n,i){i||(i=t.identity);var r=new Array(n.length),o={};
return n.forEach(function(t,n){o.index=t,r[n]=i.call(o,e[t])}),r},t.numerate=function(e,n){
n||(n=t.identity);var i={},r={};return e.forEach(function(e,t){r.index=t,i[n.call(r,e)]=t;
}),i},t.uniq=function(e,n){n||(n=t.identity);var i,r={},o=[],a={};return e.forEach(function(e,t){
a.index=t,i=n.call(a,e),i in r||(r[i]=o.push(i))}),o},t.naturalOrder=function(e,t){
return t>e?-1:e>t?1:0},t.reverseOrder=function(e,t){return e>t?-1:t>e?1:0},t.search=function(e,n,i){
i||(i=t.identity);for(var r=0,o=e.length-1;o>=r;){var a=r+o>>1,s=i(e[a]);if(n>s)r=a+1;else{
if(!(s>n))return a;o=a-1}}return-r-1},t.search.index=function(e,n,i){var r=t.search(e,n,i);
return 0>r?-r-1:r},t.range=function(e,t,n){if(1==arguments.length&&(t=e,e=0),void 0==n&&(n=1),
(t-e)/n==1/0)throw new Error("range must be finite");var i,r=[],o=0;if(t-=1e-10*(t-e),
0>n)for(;(i=e+n*o++)>t;)r.push(i);else for(;(i=e+n*o++)<t;)r.push(i);return r},t.random=function(e,t,n){
return 1==arguments.length&&(t=e,e=0),void 0==n&&(n=1),n?Math.floor(Math.random()*(t-e)/n)*n+e:Math.random()*(t-e)+e;
},t.sum=function(e,t){var n={};return e.reduce(t?function(e,i,r){return n.index=r,
e+t.call(n,i)}:function(e,t){return e+t},0)},t.max=function(e,n){return n==t.index?e.length-1:Math.max.apply(null,n?t.map(e,n):e);
},t.max.index=function(e,n){if(!e.length)return-1;if(n==t.index)return e.length-1;
n||(n=t.identity);for(var i=0,r=-1/0,o={},a=0;a<e.length;a++){o.index=a;var s=n.call(o,e[a]);
s>r&&(r=s,i=a)}return i},t.min=function(e,n){return n==t.index?0:Math.min.apply(null,n?t.map(e,n):e);
},t.min.index=function(e,n){if(!e.length)return-1;if(n==t.index)return 0;n||(n=t.identity);
for(var i=0,r=1/0,o={},a=0;a<e.length;a++){o.index=a;var s=n.call(o,e[a]);r>s&&(r=s,
i=a)}return i},t.mean=function(e,n){return t.sum(e,n)/e.length},t.median=function(e,n){
if(n==t.index)return(e.length-1)/2;if(e=t.map(e,n).sort(t.naturalOrder),e.length%2)return e[Math.floor(e.length/2)];
var i=e.length/2;return(e[i-1]+e[i])/2},t.variance=function(e,n){if(e.length<1)return NaN;
if(1==e.length)return 0;var i=t.mean(e,n),r=0,o={};n||(n=t.identity);for(var a=0;a<e.length;a++){
o.index=a;var s=n.call(o,e[a])-i;r+=s*s}return r},t.deviation=function(e,n){return Math.sqrt(t.variance(e,n)/(e.length-1));
},t.log=function(e,t){return Math.log(e)/Math.log(t)},t.logSymmetric=function(e,n){
return 0==e?0:0>e?-t.log(-e,n):t.log(e,n)},t.logAdjusted=function(e,n){if(!isFinite(e))return e;
var i=0>e;return n>e&&(e+=(n-e)/n),i?-t.log(e,n):t.log(e,n)},t.logFloor=function(e,n){
return e>0?Math.pow(n,Math.floor(t.log(e,n))):-Math.pow(n,-Math.floor(-t.log(-e,n)));
},t.logCeil=function(e,n){return e>0?Math.pow(n,Math.ceil(t.log(e,n))):-Math.pow(n,-Math.ceil(-t.log(-e,n)));
},!function(){var e=Math.PI/180,n=180/Math.PI;t.radians=function(t){return e*t},t.degrees=function(e){
return n*e}}(),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t},t.entries=function(e){
var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},t.values=function(e){
var t=[];for(var n in e)t.push(e[n]);return t},t.dict=function(e,t){for(var n={},i={},r=0;r<e.length;r++)if(r in e){
var o=e[r];i.index=r,n[o]=t.call(i,o)}return n},t.hasOwnProp=Object.prototype.hasOwnProperty,
t.copyOwn=function(e,n){if(n){var i=t.hasOwnProp;for(var r in n)i.call(n,r)&&(e[r]=n[r]);
}return e},t.dom=function(e){return new t.Dom(e)},t.Dom=function(e){this.$map=e},
t.Dom.prototype.$leaf=function(e){return"object"!=typeof e},t.Dom.prototype.leaf=function(e){
return arguments.length?(this.$leaf=e,this):this.$leaf},t.Dom.prototype.root=function(e){
function n(e){var r=new t.Dom.Node;for(var o in e){var a=e[o];r.appendChild(i(a)?new t.Dom.Node(a):n(a)).nodeName=o;
}return r}var i=this.$leaf,r=n(this.$map);return r.nodeName=e,r},t.Dom.prototype.nodes=function(){
return this.root().nodes()},t.Dom.Node=function(e){void 0!==e&&(this.nodeValue=e);
},t.Dom.Node.prototype.nodeValue=void 0,t.Dom.Node.prototype.childNodes=[],t.Dom.Node.prototype.parentNode=null,
t.Dom.Node.prototype.firstChild=null,t.Dom.Node.prototype.lastChild=null,t.Dom.Node.prototype.previousSibling=null,
t.Dom.Node.prototype.nextSibling=null,t.Dom.Node.prototype._firstDirtyChildIndex=1/0,
t.Dom.Node.prototype._childIndex=-1,t.Dom.Node.prototype.findChildIndex=function(e){
if(!e)throw new Error("Argument 'n' required");if(e.parentNode===this){var t=e.childIndex(!0);
if(t>-1)return t}throw new Error("child not found")},t.Dom.Node.prototype._childRemoved=function(){},
t.Dom.Node.prototype._childAdded=function(){},t.Dom.Node.prototype.removeChild=function(e){
var t=this.findChildIndex(e);return this.removeAt(t)},t.Dom.Node.prototype.appendChild=function(e){
var n=e.parentNode;n&&n.removeChild(e);var i=this.lastChild;e.parentNode=this,e.previousSibling=i,
i?(i.nextSibling=e,e._childIndex=i._childIndex+1):(this.firstChild=e,e._childIndex=0),
this.lastChild=e;var r=t.lazyArrayOwn(this,"childNodes").push(e);return this._childAdded(e,r-1),
e},t.Dom.Node.prototype.insertBefore=function(e,t){if(!t)return this.appendChild(e);
var n=this.findChildIndex(t);return this.insertAt(e,n)},t.Dom.Node.prototype.insertAt=function(e,t){
if(null==t)return this.appendChild(e);var n=this.childNodes,i=n.length;if(t===i)return this.appendChild(e);
if(0>t||t>i)throw new Error("Index out of range.");var r=e.parentNode;r&&r.removeChild(e);
var o=t+1;o<this._firstDirtyChildIndex&&(this._firstDirtyChildIndex=o);var a=n[t];
e.parentNode=this,e.nextSibling=a,e._childIndex=t;var s=e.previousSibling=a.previousSibling;
return a.previousSibling=e,s?s.nextSibling=e:(a===this.lastChild&&(this.lastChild=e),
this.firstChild=e),n.splice(t,0,e),this._childAdded(e,t),e},t.Dom.Node.prototype.removeAt=function(e){
var t=this.childNodes,n=t.length;if(!(0>e||e>=n)){var i=t[e];t.splice(e,1),n-1>e&&e<this._firstDirtyChildIndex&&(this._firstDirtyChildIndex=e);
var r=i.previousSibling,o=i.nextSibling;return r?r.nextSibling=o:this.firstChild=o,
o?o.previousSibling=r:this.lastChild=r,i.nextSibling=i.previousSibling=i.parentNode=null,
this._childRemoved(i,e),i}},t.Dom.Node.prototype.replaceChild=function(e,t){var n=this.findChildIndex(t),i=e.parentNode;
i&&i.removeChild(e),e.parentNode=this,e.nextSibling=t.nextSibling,e._childIndex=t._childIndex;
var r=e.previousSibling=t.previousSibling;r?r.nextSibling=e:this.firstChild=e;var o=t.nextSibling;
return o?o.previousSibling=e:this.lastChild=e,this.childNodes[n]=e,this._childRemoved(t,n),
this._childAdded(e,n),t},t.Dom.Node.prototype.childIndex=function(e){var t=this.parentNode;
if(t){var n=t._firstDirtyChildIndex;if(1/0>n){var i=t.childNodes;if(!e)return i.indexOf(this);
for(var r=i.length;r>n;)i[n]._childIndex=n,n++;t._firstDirtyChildIndex=1/0}return this._childIndex;
}return-1},t.Dom.Node.prototype.visitBefore=function(e){function t(n,i){e(n,i);for(var r=n.firstChild;r;r=r.nextSibling)t(r,i+1);
}t(this,0)},t.Dom.Node.prototype.visitAfter=function(e){function t(n,i){for(var r=n.firstChild;r;r=r.nextSibling)t(r,i+1);
e(n,i)}t(this,0)},t.Dom.Node.prototype.sort=function(e){if(this.firstChild){this._firstDirtyChildIndex=1/0;
var t=this.childNodes;t.sort(e);var n,i=this.firstChild=t[0];delete i.previousSibling,
i._childIndex=0;for(var r=1,o=t.length;o>r;r++)i.sort(e),n=t[r],n._childIndex=r,n.previousSibling=i,
i=i.nextSibling=n;this.lastChild=i,delete i.nextSibling,i.sort(e)}return this},t.Dom.Node.prototype.reverse=function(){
var e=[];return this.visitAfter(function(t){this._firstDirtyChildIndex=1/0;for(var n;n=t.lastChild;)e.push(t.removeChild(n));
if(e.length)for(;n=e.pop();)t.insertBefore(n,t.firstChild)}),this},t.Dom.Node.prototype.nodes=function(){
var e=[];return this.visitBefore(function(t){e.push(t)}),e},t.Dom.Node.prototype.toggle=function(e){
if(e)return this.toggled?this.visitBefore(function(e){e.toggled&&e.toggle()}):this.visitAfter(function(e){
e.toggled||e.toggle()});var t,n=this;if(n.toggled){for(;t=n.toggled.pop();)n.appendChild(t);
delete n.toggled}else if(t=n.lastChild){n.toggled=[];do n.toggled.push(n.removeChild(t));while(t=n.lastChild);
}},t.nodes=function(e){for(var n=new t.Dom.Node,i=0,r=e.length;r>i;i++)n.appendChild(new t.Dom.Node(e[i]));
return n.nodes()},t.tree=function(e){return new t.Tree(e)},t.Tree=function(e){this.array=e;
},t.Tree.prototype.keys=function(e){return this.k=e,this},t.Tree.prototype.value=function(e){
return this.v=e,this},t.Tree.prototype.map=function(){for(var e={},t={},n=0;n<this.array.length;n++){
t.index=n;for(var i=this.array[n],r=this.k.call(t,i),o=e,a=0;a<r.length-1;a++)o=o[r[a]]||(o[r[a]]={});
o[r[a]]=this.v?this.v.call(t,i):i}return e},t.nest=function(e){return new t.Nest(e);
},t.Nest=function(e){this.array=e,this.keys=[]},t.Nest.prototype.key=function(e){
return this.keys.push(e),this},t.Nest.prototype.sortKeys=function(e){return this.keys[this.keys.length-1].order=e||t.naturalOrder,
this},t.Nest.prototype.sortValues=function(e){return this.order=e||t.naturalOrder,
this},t.Nest.prototype.map=function(){for(var e,t={},n=[],i=0;i<this.array.length;i++){
var r=this.array[i],o=t;for(e=0;e<this.keys.length-1;e++){var a=this.keys[e](r);o[a]||(o[a]={}),
o=o[a]}if(a=this.keys[e](r),!o[a]){var s=[];n.push(s),o[a]=s}o[a].push(r)}if(this.order)for(var e=0;e<n.length;e++)n[e].sort(this.order);
return t},t.Nest.prototype.entries=function(){function e(t){var n=[];for(var i in t){
var r=t[i];n.push({key:i,values:r instanceof Array?r:e(r)})}return n}function t(e,n){
var i=this.keys[n].order;if(i&&e.sort(function(e,t){return i(e.key,t.key)}),++n<this.keys.length)for(var r=0;r<e.length;r++)t.call(this,e[r].values,n);
return e}return t.call(this,e(this.map()),0)},t.Nest.prototype.rollup=function(e){
function t(n){for(var i in n){var r=n[i];r instanceof Array?n[i]=e(r):t(r)}return n;
}return t(this.map())},t.flatten=function(e){return new t.Flatten(e)},t.Flatten=function(e){
this.map=e,this.keys=[]},t.Flatten.prototype.key=function(e,t){return this.keys.push({
name:e,value:t}),delete this.$leaf,this},t.Flatten.prototype.leaf=function(e){return this.keys.length=0,
this.$leaf=e,this},t.Flatten.prototype.array=function(){function e(t,r){if(o(t))n.push({
keys:i.slice(),value:t});else for(var a in t)i.push(a),e(t[a],r+1),i.pop()}function t(e,o){
if(o<r.length-1)for(var a in e)i.push(a),t(e[a],o+1),i.pop();else n.push(i.concat(e));
}var n=[],i=[],r=this.keys,o=this.$leaf;return o?(e(this.map,0),n):(t(this.map,0),
n.map(function(e){for(var t={},n=0;n<r.length;n++){var i=r[n],o=e[n];t[i.name]=i.value?i.value.call(null,o):o;
}return t}))},t.Transform=function(){},t.Transform.prototype={k:1,x:0,y:0},t.Transform.identity=new t.Transform,
t.Transform.prototype.translate=function(e,n){var i=new t.Transform;return i.k=this.k,
i.x=this.k*e+this.x,i.y=this.k*n+this.y,i},t.Transform.prototype.scale=function(e){
var n=new t.Transform;return n.k=this.k*e,n.x=this.x,n.y=this.y,n},t.Transform.prototype.invert=function(){
var e=new t.Transform,n=1/this.k;return e.k=n,e.x=-this.x*n,e.y=-this.y*n,e},t.Transform.prototype.times=function(e){
var n=new t.Transform;return n.k=this.k*e.k,n.x=this.k*e.x+this.x,n.y=this.k*e.y+this.y,
n},t.Scale=function(){},t.Scale.interpolator=function(e,n){if("number"==typeof e)return function(t){
return t*(n-e)+e};var i=e.type&&"solid"!==e.type,r=n.type&&"solid"!==n.type;return i||r?(e=i?e:t.color(e).rgb(),
n=r?n:t.color(n).rgb(),function(t){return.5>t?e:n}):(e=t.color(e).rgb(),n=t.color(n).rgb(),
function(i){var r=e.a*(1-i)+n.a*i;return 1e-5>r&&(r=0),0==e.a?t.rgb(n.r,n.g,n.b,r):0==n.a?t.rgb(e.r,e.g,e.b,r):t.rgb(Math.round(e.r*(1-i)+n.r*i),Math.round(e.g*(1-i)+n.g*i),Math.round(e.b*(1-i)+n.b*i),r);
})},t.Scale.common={by:function(e){function t(){return n(e.apply(this,arguments));
}var n=this;for(var i in n)t[i]=n[i];return t},by1:function(e){function t(t){return n(e.call(this,t));
}var n=this;for(var i in n)t[i]=n[i];return t},transform:function(e){function t(){
return e.call(this,n.apply(n,arguments))}var n=this;for(var i in n)t[i]=n[i];return t;
}},!function(){function e(e,o,a,s){var l,u=a-o;if(u&&isFinite(u)){var c=t.parseNumNonNeg(t.get(s,"precision",0)),h=t.parseNumNonNeg(t.get(s,"precisionMin",0)),d=t.parseNumNonNeg(t.get(s,"precisionMax",1/0)),f=t.get(s,"roundInside",!0);
isFinite(c)||(c=0),isFinite(h)||(h=0),d||(d=1/0);var p=t.get(s,"numberExponentMin"),m=t.get(s,"numberExponentMax");
null!=p&&isFinite(p)&&(h=Math.max(h,Math.pow(10,Math.floor(p)))),null!=m&&isFinite(m)&&(d=Math.min(d,5*Math.pow(10,Math.floor(m)))),
f&&(h>u&&(h=u),d>u&&(d=u)),h>d&&(d=h),c?c=Math.max(Math.min(c,d),h):h===d&&(c=h);var g,v,y,b,_=0,x=!!c;
if(x)g={base:Math.abs(c),mult:1,value:1},g.value=g.base;else{var w=t.parseNumNonNeg(t.get(s,"tickCountMax",1/0));
if(1>w&&(w=1),null==e?e=Math.min(10,w):isFinite(e)?e>w&&(e=w):e=isFinite(w)?w:10,
g={base:isFinite(e)?t.logFloor(u/e,10):0,mult:1,value:1},g.value=g.base,h>0&&(v=r(h,!0),
g.value<v.value&&(n(g,v),_=-1)),isFinite(d)&&(y=r(d,!1),v&&y.value<=v.value?y=null:y.value<g.value&&(n(g,y),
_=1)),1!==_&&isFinite(e)&&g.mult<10&&(b=u/g.base,b>e)){var C=e/b;.15>=C?g.mult=10:g.mult<5&&(.35>=C?g.mult=5:g.mult<2&&.75>=C&&(g.mult=2)),
g.mult>1&&(g.value=g.base*g.mult,v&&g.value<v.value?(n(g,v),_=-1):y&&y.value<g.value?(n(g,y),
_=1):10===g.mult&&(g.base*=10,g.mult=1))}}for(var S;;){var k=g.value,D=k*Math[f?"ceil":"floor"](o/k),M=k*Math[f?"floor":"ceil"](a/k);
if(S&&(D>M||y&&M-D>y.value)){g=S;break}var N=Math.floor(t.log(k,10)+1e-10);if(g.decPlaces=Math.max(0,-N),
g.ticks=t.range(D,M+k,k),x||_>0||g.ticks.length<=w)break;if(S&&S.ticks.length<=g.ticks.length){
g=S;break}g=i(S=g)}l=g.ticks,l.step=g.value,l.base=g.base,l.mult=g.mult,l.decPlaces=g.decPlaces,
l.format=t.Format.number().fractionDigits(g.decPlaces)}else l=[+o],l.step=l.base=l.mult=1,
l.decPlaces=0,l.format=t.Format.number().fractionDigits(0);return l}function n(e,t){
return e.base=t.base,e.mult=t.mult,e.value=t.value,e}function i(e){var t=n({},e);switch(t.mult){
case 5:t.mult=1,t.base*=10;break;case 2:t.mult=5;break;case 1:t.mult=2}return t.value=t.base*t.mult,
t}function r(e,n){0>e&&(e=-e);var i=t.logFloor(e,10),r=e/i;return n?r>5?(r=1,i*=10):r=r>2?5:r>1?2:1:r=r>=5?5:r>=2?2:1,
{base:i,mult:r,value:i*r,source:e}}function o(e){return new Date(e)}function a(e,n,i,r,a,l,u){
var h,f=i-n;if(f&&isFinite(f)){r=d(t.get(u,"precision"),r);var p=d(t.get(u,"precisionMin"),0),m=d(t.get(u,"precisionMax"),1/0);
p>m&&(m=p),r?r=Math.max(Math.min(r,m),p):p===m&&(r=p);var g=t.parseNumNonNeg(t.get(u,"tickCountMax",1/0));
2>g&&(g=2),e=Math.min(null==e?5:e,g);for(var v,y={weekStart:l,roundInside:t.get(u,"roundInside",1),
alignmentValue:t.get(u,"alignmentValue")},b=s(e,f,r,p,m,y),_=b.fixed,x=b.overflow;;){
if(b.ticks=h=b.comp.ticks(n,i,b.mult,y),v&&b.precMax&&h[h.length-1]-h[0]>b.precMax.value){
b=v;break}if(_||x>0||b.ticks.length<=g)break;if(v&&v.ticks.length<=b.ticks.length){
b=v;break}v=b,b=b.comp.resultAbove(b.mult)}h=b.ticks,h.step=b.value,h.base=b.comp.value,
h.mult=b.mult,h.format=c(a)||b.comp.format}else h=[o(n)],h.step=h.base=h.mult=1,h.format=t.Format.date("%x");
return h}function s(e,t,n,i,r,o){var a,s,u,c,h=0,d=1,f=!!n;return n?(s=l(n,!1),s.value!==n?a=s.comp.withPrecision(n):(a=s.comp,
d=s.mult)):(isFinite(e)?(a=v(t,e),d=a.multiple(t/a.value,o)):(a=m(),d=1),n=a.value*d,
i>n&&(u=l(i,!0)),n>r&&(c=l(r,!1)),u&&n<u.value?(a=u.comp,d=u.mult,h=-1):c&&i<c.value&&c.value<n&&(a=c.comp,
d=c.mult,h=1)),{comp:a,mult:d,value:a.value*d,source:n,overflow:h,fixed:f,precMin:u,
precMax:c}}function l(e,t){return null==e||0>=e||!isFinite(e)?null:(t?m:g)().castValue(e,t);
}function u(e,n,i){this.value=e,this.mult=i.mult||1,this.base=1===this.mult?this.value:Math.floor(this.value/this.mult),
y.forEach(function(e){null!=i[e]&&(this[e]=i[e])},this),i.floor&&(this.floorLocal=i.floor),
this.format=c(i.format),this.first=t.functor(i.first||0),this.prev=n,this.next=null,
n&&(n.next=this)}function c(e){return null==e?null:"function"==typeof e?e:t.Format.date(e);
}function h(e,t){var n=new Date(e.getFullYear(),e.getMonth(),1),i=t-n.getDay();return i&&(0>i&&(i+=7),
n.setDate(n.getDate()+i)),n}function d(e,t){if("string"==typeof e){var n=+e;if(isNaN(n)){
if(e){var i=/^(\d*)([a-zA-Z]+)$/.exec(e);i&&(e=f(i[2]),e&&(e*=+i[1]||1))}}else e=n;
}return("number"!=typeof e||0>e)&&(e=null!=t?t:0),e}function f(e){switch(e){case"year":
case"y":return 31536e6;case"month":case"m":return 2592e6;case"week":case"w":return 6048e5;
case"day":case"d":return 864e5;case"hour":case"h":return 36e5;case"minute":case"M":
return 6e4;case"second":case"s":return 1e3;case"millisecond":case"ms":return 1}}function p(e,t){
var n=g();b.push(new u(e,n,t))}function m(){return b[0]}function g(){return b.length?b[b.length-1]:null;
}function v(e,t){null==t&&(t=1);var n,i=g();do n=i;while(e<t*n.value&&(i=n.prev));
return n}t.Scale.quantitative=function(){function n(e){var n=t.search(l,e);return 0>n&&(n=-n-2),
n=Math.max(0,Math.min(h.length-1,n)),h[n]((m(e)-u[n])/(u[n+1]-u[n]))}var i,r,s,l=[0,1],u=[0,1],c=[0,1],h=[t.identity],f=Number,p=!1,m=t.identity,g=t.identity,v=null,y=0;
return n.transform=function(e,t){return m=function(t){return p?-e(-t):e(t)},g=function(e){
return p?-t(-e):t(e)},u=l.map(m),this},n.domain=function(e,n,i){if(arguments.length){
var r;return e instanceof Array?(arguments.length<2&&(n=t.identity),arguments.length<3&&(i=n),
r=e.length&&n(e[0]),l=e.length?[t.min(e,n),t.max(e,i)]:[]):(r=e,l=Array.prototype.slice.call(arguments).map(Number)),
l.length?1==l.length&&(l=[l[0],l[0]]):l=[-1/0,1/0],p=(l[0]||l[l.length-1])<0,u=l.map(m),
f=r instanceof Date?o:Number,this}return l.map(f)},n.range=function(){if(arguments.length){
c=Array.prototype.slice.call(arguments),c.length?1==c.length&&(c=[c[0],c[0]]):c=[-1/0,1/0],
h=[];for(var e=0;e<c.length-1;e++)h.push(t.Scale.interpolator(c[e],c[e+1]));return this;
}return c},n.invert=function(e){var n=t.search(c,e);return 0>n&&(n=-n-2),n=Math.max(0,Math.min(h.length-1,n)),
f(g(u[n]+(e-c[n])/(c[n+1]-c[n])*(u[n+1]-u[n])))},n.ticks=function(t,n){var u=l[0],c=l[l.length-1],h=u>c,d=h?c:u,p=h?u:c;
return s=f===o?a(t,d,p,r,i,y,n):e(t,d,p,n),h?s.reverse():s},n.dateTickFormat=function(){
return arguments.length?(i=arguments[0],this):i},n.dateTickPrecision=function(){return arguments.length?(r=d(arguments[0],0),
this):r},n.dateTickWeekStart=function(e){if(arguments.length){switch((""+e).toLowerCase()){
case"0":case"sunday":y=0;break;case"1":case"monday":y=1;break;case"2":case"tuesday":
y=2;break;case"3":case"wednesday":y=3;break;case"4":case"thursday":y=4;break;case"5":
case"friday":y=5;break;case"6":case"saturday":y=6;break;default:y=0}return this}return y;
},n.tickFormatter=function(e){return arguments.length?(v=e,this):v},n.tickFormat=function(e,t){
var n;if(v){s||(s=[],s.step=s.base=s.mult=1,s.decPlaces=0,s.format=String);var i=f!==Number?s.step:s.decPlaces;
n=v.call(s,e,i,null!=t?t:-1)}else n=s?s.format(e):String(e);return n},n.nice=function(){
if(2!=l.length)return this;var e=l[0],t=l[l.length-1],n=e>t,i=n?t:e,r=n?e:t,o=r-i;
if(!o||!isFinite(o))return this;var a=Math.pow(10,Math.round(Math.log(o)/Math.log(10))-1);
return l=[Math.floor(i/a)*a,Math.ceil(r/a)*a],n&&l.reverse(),u=l.map(m),this},t.copyOwn(n,t.Scale.common),
n.domain.apply(n,arguments),n};var y=["get","set","multiple","multiples","thresholds","closeds","castValue"];
u.prototype.increment=function(e,t){null==t&&(t=1),1!==this.mult&&(t*=this.mult),
this.set(e,this.get(e)+t)},u.prototype.get=function(e){return e.getMilliseconds();
},u.prototype.set=function(e,t){e.setMilliseconds(t)},u.prototype.floorLocal=function(){},
u.prototype.floor=function(e,t){var n=0;1!==this.mult&&(this.floorLocal(e,t),n=this.base);
for(var i=this.prev;i;)1===i.mult&&i.value!==n&&i.clear(e,t),i=i.prev},u.prototype.floorMultiple=function(e,n,i){
var r=t.get(i,"alignmentValue"),o=null!=r?this.get(r):this.first(e,i),a=this.get(e)-o,s=null;
if(a){var l=n*this.mult;if(r){for(s=new Date(r);e>s;)this.set(s,this.get(s)+l);for(;s>e;)this.set(s,this.get(s)-l);
o=this.get(s)}else{var u=Math.floor(a/l)*l;o+=u}}this.set(e,o,s)},u.prototype.clear=function(e,t){
this.set(e,this.first(e,t))},u.prototype.multiple=function(e){for(var t=this.multiples,n=this.thresholds,i=this.closeds,r=t.length,o=-1;++o<r;)if(i[o]?e<=n[o]:e<n[o])return t[o];
throw new Error("Invalid configuration.")},u.prototype.resultAbove=function(e){return this.castValue(this.value*e+.1,!0);
},u.prototype.castValue=function(e,t){var n=this.multiples;if(!n)return this._castValueResult(1,e,1);
var i,r=e/this.value,o=n.length;if(t){for(i=-1;++i<o;)if(r<=n[i])return this._castValueResult(n[i],e,0);
return this.next?this.next.castValue(e,t):this._castValueResult(n[o-1],e,1)}for(i=o;i--;)if(n[i]<=r)return this._castValueResult(n[i],e,0);
return this.prev?this.prev.castValue(e,t):this._castValueResult(n[0],e,-1)},u.prototype._castValueResult=function(e,t,n){
return{comp:this,mult:e,value:this.value*e,source:t,overflow:n}},u.prototype.withPrecision=function(e){
var t=this;return this.value!==e&&(t=new u(e,null,{mult:e,format:this.format})),t;
},u.prototype.ticks=function(e,n,i,r){var o=[],a=new Date(e);if(this.floor(a,r),i>1&&this.floorMultiple(a,i,r),
t.get(r,"roundInside",1)){e!==+a&&this.increment(a,i);do o.push(new Date(a)),this.increment(a,i);while(n>=a);
}else{o.push(new Date(a));do this.increment(a,i),o.push(new Date(a));while(n>a)}return o;
},t.parseDatePrecision=d;var b=[];p(1,{format:"%S.%Qs",multiples:[1,5,25,50,100,250],
thresholds:[10,50,100,200,1e3,1/0],closeds:[1,1,1,1,1,1]}),p(1e3,{get:function(e){
return e.getSeconds()},set:function(e,t){e.setSeconds(t)},format:"%I:%M:%S",multiples:[1,5,10,15],
thresholds:[10,60,90,1/0],closeds:[1,1,1,1]}),p(6e4,{get:function(e){return e.getMinutes();
},set:function(e,t){e.setMinutes(t)},format:"%I:%M %p",multiples:[1,5,10,15],thresholds:[10,15,30,1/0],
closeds:[1,1,1,1]}),p(36e5,{get:function(e){return e.getHours()},set:function(e,t){
e.setHours(t)},format:"%I:%M %p",multiples:[1,3,6],thresholds:[10,20,1/0],closeds:[1,1,1]
}),p(864e5,{get:function(e){return e.getDate()},set:function(e,t,n){var i=n?n.getMonth():e.getMonth(),r=n?n.getFullYear():e.getFullYear();
e.setFullYear(r,i,t)},format:"%m/%d",first:1,multiples:[1,2,3,5],thresholds:[10,15,30,1/0],
closeds:[1,0,0,1]}),p(6048e5,{get:function(e){return e.getDate()},set:function(e,t,n){
var i=n?n.getMonth():e.getMonth(),r=n?n.getFullYear():e.getFullYear();e.setFullYear(r,i,t);
},mult:7,floor:function(e,n){var i=e.getDay()-t.get(n,"weekStart",0);0!==i&&(0>i&&(i+=7),
this.set(e,this.get(e)-i))},first:function(e,n){return this.get(h(e,t.get(n,"weekStart",0)));
},format:"%m/%d",multiples:[1,2,3],thresholds:[10,15,1/0],closeds:[1,1,1]}),p(2592e6,{
get:function(e){return e.getMonth()},set:function(e,t){e.setMonth(t)},format:"%m/%Y",
multiples:[1,2,3],thresholds:[12,24,1/0],closeds:[1,1,1]}),p(31536e6,{get:function(e){
return e.getFullYear()},set:function(e,t){e.setFullYear(t)},format:"%Y",multiple:function(e){
if(10>=e)return 1;var n=t.logCeil(e/15,10);return 2>e/n?n/=5:5>e/n&&(n/=2),n},castValue:function(e,n){
var i,r,o=e/this.value;if(1>o){if(!n)return this.prev?this.prev.castValue(e,n):this._castValueResult(1,e,-1);
i=1}else i=t.logFloor(o,10);if(r=o/i,n)r>5?(i*=10,r=1):r=r>2?5:r>1?2:1;else if(r>5)r=5;else if(r>2)r=2;else if(r>1)r=1;else if(1>r)return this.prev?this.prev.castValue(e,n):this._castValueResult(i,e,-1);
return this._castValueResult(i*r,e,0)}})}(),t.Scale.linear=function(){var e=t.Scale.quantitative();
return e.domain.apply(e,arguments),e},t.Scale.log=function(){var e,n,i=t.Scale.quantitative(1,10),r=function(e){
return Math.log(e)/n},o=function(t){return Math.pow(e,t)};return i.ticks=function(){
var t=i.domain(),n=t[0]<0,a=Math.floor(n?-r(-t[0]):r(t[0])),s=Math.ceil(n?-r(-t[1]):r(t[1])),l=[];
if(n)for(l.push(-o(-a));a++<s;)for(var u=e-1;u>0;u--)l.push(-o(-a)*u);else{for(;s>a;a++)for(var u=1;e>u;u++)l.push(o(a)*u);
l.push(o(a))}for(a=0;l[a]<t[0];a++);for(s=l.length;l[s-1]>t[1];s--);return l.slice(a,s);
},i.tickFormat=function(e){return e.toPrecision(1)},i.nice=function(){var n=i.domain();
return i.domain(t.logFloor(n[0],e),t.logCeil(n[1],e))},i.base=function(t){return arguments.length?(e=Number(t),
n=Math.log(e),i.transform(r,o),this):e},i.domain.apply(i,arguments),i.base(10)},t.Scale.root=function(){
var e=t.Scale.quantitative();return e.power=function(t){if(arguments.length){var n=Number(t),i=1/n;
return e.transform(function(e){return Math.pow(e,i)},function(e){return Math.pow(e,n);
}),this}return n},e.domain.apply(e,arguments),e.power(2)},t.Scale.ordinal=function(){
function e(e){return e in i||(i[e]=n.push(e)-1),r[i[e]%r.length]}var n=[],i={},r=[];
return e.domain=function(e,r){if(arguments.length){e=e instanceof Array?arguments.length>1?t.map(e,r):e:Array.prototype.slice.call(arguments),
n=[];for(var o={},a=0;a<e.length;a++){var s=e[a];s in o||(o[s]=!0,n.push(s))}return i=t.numerate(n),
this}return n},e.range=function(e,n){return arguments.length?(r=e instanceof Array?arguments.length>1?t.map(e,n):e:Array.prototype.slice.call(arguments),
"string"==typeof r[0]&&(r=r.map(t.fillStyle)),r.min=r[0],r.max=r[r.length-1],this):r;
},e.split=function(e,n){var i=n-e,o=this.domain().length,a=0;return 0===i?r=t.array(o,e):o&&(a=(n-e)/o,
r=t.range(e+a/2,n,a)),r.min=e,r.max=n,r.step=a,this},e.splitBandedCenter=function(e,t,n){
return null==n&&(n=1),this._splitBandedCore(e,t,function(e){var t=e.range/e.count;
e.step=t,e.band=t*n,e.offset=t/2})},e.splitBandedCenterAbs=function(e,t,n,i){return this._splitBandedCore(e,t,function(e){
var t;null==n||null==i?(t=e.range/e.count,null==n?null==i?(n=t,i=0):(i=Math.min(i,t),
n=t-i):(n=Math.min(n,t),i=t-n)):t=n+i,e.step=t,e.band=n,e.offset=t/2})},e._splitBandedCore=function(e,n,i){
var o,a={min:e,max:n,range:n-e,count:this.domain().length,offset:0,step:0,band:0};
return 0===a.range?(r=t.array(a.count,e),o=0):a.count&&(i(a),o=a.step-a.band,r=t.range(e+a.offset,n,a.step)),
r.offset=a.offset,r.step=a.step,r.band=a.band,r.margin=o,r.min=e,r.max=n,this},e.splitBandedFlushCenter=function(e,t,n){
return null==n&&(n=1),this._splitBandedCore(e,t,function(e){var t=e.range,i=e.count,r=t*n/i,o=i>1?(t-i*r)/(i-1):0;
e.band=r,e.step=o+r,e.offset=r/2})},e.splitFlush=function(e,n){var i=this.domain().length,o=(n-e)/(i-1);
return r=1==i?[(e+n)/2]:t.range(e,n+o/2,o),r.min=e,r.max=n,this},e.splitBanded=function(e,n,i){
if(arguments.length<3&&(i=1),0>i){var o=this.domain().length,a=-i*o,s=n-e-a,l=s/(o+1);
r=t.range(e+l,n,l-i),r.band=-i}else{var u=(n-e)/(this.domain().length+(1-i));r=t.range(e+u*(1-i),n,u),
r.band=u*i,r.step=u,r.margin=u-r.band}return r.min=e,r.max=n,this},e.invertIndex=function(e,t){
var n=this.domain().length;if(0===n)return-1;var i=this.range(),r=i.max-i.min;if(0===r)return 0;
var o=r/n;if(e>=i.max)return n;if(e<i.min)return 0;var a=(e-i.min)/o;return t?a:Math.round(a);
},t.copyOwn(e,t.Scale.common),e.domain.apply(e,arguments),e},t.Scale.quantile=function(){
function e(e){return a(Math.max(0,Math.min(i,t.search.index(r,e)-1))/i)}var n=-1,i=-1,r=[],o=[],a=t.Scale.linear();
return e.quantiles=function(e){if(arguments.length){if(n=Number(e),0>n)r=[o[0]].concat(o),
i=o.length-1;else{r=[],r[0]=o[0];for(var t=1;n>=t;t++)r[t]=o[~~(t*(o.length-1)/n)];
i=n-1}return this}return r},e.domain=function(i,r){return arguments.length?(o=i instanceof Array?t.map(i,r):Array.prototype.slice.call(arguments),
o.sort(t.naturalOrder),e.quantiles(n),this):o},e.range=function(){return arguments.length?(a.range.apply(a,arguments),
this):a.range()},t.copyOwn(e,t.Scale.common),e.domain.apply(e,arguments),e},t.histogram=function(e,n){
var i=!0;return{bins:function(r){var o=t.map(e,n),a=[];arguments.length||(r=t.Scale.linear(o).ticks());
for(var s=0;s<r.length-1;s++){var l=a[s]=[];l.x=r[s],l.dx=r[s+1]-r[s],l.y=0}for(var s=0;s<o.length;s++){
var u=t.search.index(r,o[s])-1,l=a[Math.max(0,Math.min(a.length-1,u))];l.y++,l.push(e[s]);
}if(!i)for(var s=0;s<a.length;s++)a[s].y/=o.length;return a},frequency:function(e){
return arguments.length?(i=Boolean(e),this):i}}},!function(){t.Shape=function(){};
var e={x:1,y:1};t.Shape.dist2=function(t,n,i){i=i||e;var r=t.x-n.x,o=t.y-n.y,a=r*r,s=o*o;
return{cost:a+s,dist2:i.x*a+i.y*s}};var n=Math.PI,i=2*n,r=Math.atan2;t.Shape.normalizeAngle=function(e){
return e%=i,t.floatLess(e,0)&&(e+=i),e},t.Shape.atan2Norm=function(e,n){var o=r(e,n);
return t.floatLess(o,0)&&(o+=i),o},t.Shape.prototype.hasArea=function(){return!0},
t.Shape.prototype.bbox=function(){return this._bbox||(this._bbox=this._calcBBox());
},t.Shape.prototype._calcBBox=function(){var e,n,i,r;return this.points().forEach(function(t){
var o=t.x,a=t.y;null==e?(e=i=o,n=r=a):(e>o?e=o:o>i&&(i=o),n>a?n=a:a>r&&(r=a))}),null!=e?new t.Shape.Rect(e,n,i-e,r-n):void 0;
},t.Shape.prototype.containsPoint=function(e,n){if(n){var i;if(!n.y)return i=this.bbox(),
t.floatBelongsClosed(i.x,e.x,i.x2);if(!n.x)return i=this.bbox(),t.floatBelongsClosed(i.y,e.y,i.y2);
}return this._containsPointCore(e)},t.Shape.prototype._containsPointCore=function(){
return!1}}(),!function(){var e=t.Shape.dist2,n=Math.cos,i=Math.sin,r=Math.sqrt;t.vector=function(e,t){
return new o(e,t)},t.Vector=function(e,t){this.x=e,this.y=t};var o=t.Shape.Point=t.Vector;
t.Vector.prototype=t.extend(t.Shape),t.Vector.prototype.perp=function(){return new o(-this.y,this.x);
},t.Vector.prototype.rotate=function(e){var t=n(e),r=i(e);return new o(t*this.x-r*this.y,r*this.x+t*this.y);
},t.Vector.prototype.norm=function(){var e=this.length();return this.times(e?1/e:1);
},t.Vector.prototype.length=function(){return r(this.x*this.x+this.y*this.y)},t.Vector.prototype.times=function(e){
return new o(this.x*e,this.y*e)},t.Vector.prototype.plus=function(e,t){return 1===arguments.length?new o(this.x+e.x,this.y+e.y):new o(this.x+e,this.y+t);
},t.Vector.prototype.minus=function(e,t){return 1===arguments.length?new o(this.x-e.x,this.y-e.y):new o(this.x-e,this.y-t);
},t.Vector.prototype.dot=function(e,t){return 1==arguments.length?this.x*e.x+this.y*e.y:this.x*e+this.y*t;
},t.Vector.prototype.hasArea=function(){return!1},t.Vector.prototype.clone=function(){
return new o(this.x,this.y)},t.Vector.prototype.apply=function(e){return new o(e.x+e.k*this.x,e.y+e.k*this.y);
},t.Vector.prototype.intersectsRect=function(e){return t.floatBelongsClosed(e.x,this.x,e.x2)&&t.floatBelongsClosed(e.y,this.y,e.y2);
},t.Vector.prototype._containsPointCore=function(e){return this.x===e.x&&this.y===e.y;
},t.Vector.prototype.points=function(){return[this]},t.Vector.prototype.edges=function(){
return[]},t.Vector.prototype.center=function(){return this},t.Vector.prototype.distance2=function(t,n){
return e(this,t,n)}}(),!function(){var e=t.Shape.Point,n=t.Shape.dist2;t.Shape.Line=function(e,t,n,i){
this.x=e||0,this.y=t||0,this.x2=n||0,this.y2=i||0};var i=t.Shape.Line;i.prototype=t.extend(t.Shape),
i.prototype.hasArea=function(){return!1},i.prototype.clone=function(){return new i(this.x,this.y,this.x2,this.x2);
},i.prototype.apply=function(e){var t=e.x+e.k*this.x,n=e.y+e.k*this.y,r=e.x+e.k*this.x2,o=e.y+e.k*this.y2;
return new i(t,n,r,o)},i.prototype.points=function(){return[new e(this.x,this.y),new e(this.x2,this.y2)];
},i.prototype.edges=function(){return[this]},i.prototype.center=function(){return new e((this.x+this.x2)/2,(this.y+this.y2)/2);
},i.prototype.normal=function(e,t){var n=this.points(),i=n[1].minus(n[0]).perp().norm();
if(t){var r=n[0].minus(t);r.dot(i)<0&&(i=i.times(-1))}return i},i.prototype.intersectsRect=function(e){
var t,n,i=this.points();for(n=i.length,t=0;n>t;t++)if(i[t].intersectsRect(e))return!0;
var r=e.edges();for(n=r.length,t=0;n>t;t++)if(this.intersectsLine(r[t]))return!0;return!1;
},i.prototype._containsPointCore=function(e){var n=this.x,i=this.x2,r=this.y,o=this.y2;
return t.floatBelongsClosed(n,e.x,i)&&(t.floatEqual(n,i)?t.floatBelongsClosed(Math.min(r,o),e.y,Math.max(r,o)):t.floatZero((o-r)/(i-n)*(e.x-n)+r-e.y));
},i.prototype.intersectsLine=function(e){var n=this,i=n.x2-n.x,r=n.y2-n.y,o=e.x2-e.x,a=e.y2-e.y,s=a*i-o*r;
if(t.floatZero(s))return!1;var l=n.y-e.y,u=n.x-e.x,c=o*l-a*u,h=i*l-r*u;if(t.floatZero(s))return t.floatZero(c)&&t.floatZero(h);
var d=c/s;if(!t.floatBelongsClosed(0,d,1))return!1;var f=h/s;return t.floatBelongsClosed(0,f,1)?!0:!1;
},i.prototype.distance2=function(e,i){var r=this,o={x:this.x2,y:this.y2},a=n(r,o).cost;
if(t.floatZero(a))return n(e,r,i);var s=o.x-r.x,l=o.y-r.y,u=((e.x-r.x)*s+(e.y-r.y)*l)/a;
if(t.floatLess(u,0))return n(e,r,i);if(t.floatGreater(u,1))return n(e,o,i);var c={
x:r.x+u*s,y:r.y+u*l};return n(e,c,i)}}(),!function(){var e=t.Shape.Point,n=t.Shape.Line;
t.Shape.Polygon=function(e){this._points=e||[]};var i=t.Shape.Polygon;i.prototype=t.extend(t.Shape),
i.prototype.points=function(){return this._points},i.prototype.clone=function(){return new i(this.points().slice());
},i.prototype.apply=function(e){for(var t=this.points(),n=t.length,r=new Array(n),o=0;n>o;o++)r[o]=t[o].apply(e);
return new i(r)},i.prototype.intersectsRect=function(e){var t,n,i=this.points();for(n=i.length,
t=0;n>t;t++)if(i[t].intersectsRect(e))return!0;var r=this.edges();for(n=r.length,
t=0;n>t;t++)if(r[t].intersectsRect(e))return!0;return!1},i.prototype.edges=function(){
var e=this._edges;if(!e){e=this._edges=[];var t=this.points(),i=t.length;if(i){for(var r,o=t[0],a=o,s=1;i>s;s++)r=t[s],
e.push(new n(o.x,o.y,r.x,r.y)),o=r;i>2&&e.push(new n(r.x,r.y,a.x,a.y))}}return e},
i.prototype.distance2=function(e,n){var i={cost:1/0,dist2:1/0};return this.edges().forEach(function(r){
var o=r.distance2(e,n);t.floatLess(o.cost,i.cost)&&(i=o)},this),i},i.prototype.center=function(){
for(var t=this.points(),n=0,i=0,r=0,o=t.length;o>r;r++){var a=t[r];n+=a.x,i+=a.y}
return new e(n/o,i/o)},i.prototype._containsPointCore=function(e){var t=this.bbox();
if(!t._containsPointCore(e))return!1;var i=.01*t.dx,r=new n(t.x-i,e.y,e.x,e.y),o=0,a=this.edges();
return a.forEach(function(e){e.intersectsLine(r)&&o++}),1===(1&o)}}(),!function(){
var e=t.Shape.Point,n=t.Shape.Line;t.Shape.Rect=function(e,t,n,i){this.x=e||0,this.y=t||0,
this.dx=n||0,this.dy=i||0,this.dx<0&&(this.dx=Math.max(0,-this.dx),this.x=this.x-this.dx),
this.dy<0&&(this.dy=Math.max(0,-this.dy),this.y=this.y-this.dy),this.x2=this.x+this.dx,
this.y2=this.y+this.dy};var i=t.Shape.Rect;i.prototype=t.extend(t.Shape.Polygon),
i.prototype.clone=function(){var e=Object.create(i.prototype);return e.x=this.x,e.y=this.y,
e.dx=this.dx,e.dy=this.dy,e.x2=this.x2,e.y2=this.y2,e},i.prototype.apply=function(e){
var t=e.x+e.k*this.x,n=e.y+e.k*this.y,r=e.k*this.dx,o=e.k*this.dy;return new i(t,n,r,o);
},i.prototype._containsPointCore=function(e){return t.floatBelongsClosed(this.x,e.x,this.x2)&&t.floatBelongsClosed(this.y,e.y,this.y2);
},i.prototype.intersectsRect=function(e){return t.floatGreater(this.x2,e.x)&&t.floatLess(this.x,e.x2)&&t.floatGreater(this.y2,e.y)&&t.floatLess(this.y,e.y2);
},i.prototype.edges=function(){if(!this._edges){var e=this.x,t=this.y,i=this.x2,r=this.y2;
this._edges=[new n(e,t,i,t),new n(i,t,i,r),new n(i,r,e,r),new n(e,r,e,t)]}return this._edges;
},i.prototype.center=function(){return new e(this.x+this.dx/2,this.y+this.dy/2)},
i.prototype.points=function(){var t=this._points;if(!t){var n=this.x,i=this.y,r=this.x2,o=this.y2;
t=this._points=[new e(n,i),new e(r,i),new e(r,o),new e(n,o)]}return t},i.prototype._calcBBox=function(){
return this}}(),!function(){var e=t.Shape.Point,n=t.Shape.dist2,i=Math.sqrt,r=Math.abs,o=Math.pow;
t.Shape.Circle=function(e,t,n){this.x=e||0,this.y=t||0,this.radius=n||0};var a=t.Shape.Circle;
a.prototype=t.extend(t.Shape),a.prototype.clone=function(){return new a(this.x,this.y,this.radius);
},a.prototype.apply=function(e){var t=e.x+e.k*this.x,n=e.y+e.k*this.y,i=e.k*this.radius;
return new a(t,n,i)},a.prototype.intersectsRect=function(e){var t=e.dx/2,n=e.dy/2,i=this.radius,a=r(this.x-e.x-t),s=r(this.y-e.y-n);
if(a>t+i||s>n+i)return!1;if(t>=a||n>=s)return!0;var l=o(a-t,2)+o(s-n,2);return i*i>=l;
},a.prototype.intersectLine=function(t,n){var r=t.x2-t.x,o=t.y2-t.y,a=this.x-t.x,s=this.y-t.y,l=r*r+o*o,u=r*a+o*s,c=this.radius,h=a*a+s*s-c*c,d=u/l,f=d*d-h/l;
if(!(0>f)){var p=i(f),m=d-p,g=d+p,v=[];return(n||m>=0&&1>=m)&&v.push(new e(t.x+r*m,t.y+o*m)),
0!==f&&(n||g>=0&&1>=g)&&v.push(new e(t.x+r*g,t.y+o*g)),v}},a.prototype.points=function(){
return[this.center()]},a.prototype.center=function(){return new e(this.x,this.y)},
a.prototype.normal=function(e){return e.minus(this.x,this.y).norm()},a.prototype._containsPointCore=function(e){
var t=e.x-this.x,n=e.y-this.y,i=this.radius;return i*i>=t*t+n*n},a.prototype.distance2=function(e,t){
var i=this.radius,r=e.minus(this).norm().times(i).plus(this),o=n(e,r,t);return o},
a.prototype._calcBBox=function(){var e=this.radius,n=2*e;return new t.Shape.Rect(this.x-e,this.y-e,n,n);
}}(),!function(){var e=t.Shape.Point,n=t.Shape.dist2,i=t.Shape.normalizeAngle,r=t.Shape.atan2Norm,o=Math.cos,a=Math.sin,s=Math.sqrt,l=Math.PI,u=2*l,c=l/2,h=3*l/2;
t.Shape.Arc=function(e,n,r,o,a){this.x=e,this.y=n,this.radius=r,t.floatBelongsClosed(0,a,u)||(a=i(a)),
this.startAngle=i(o),this.angleSpan=a,this.endAngle=this.startAngle+this.angleSpan;
};var d=t.Shape.Arc;d.prototype=t.extend(t.Shape),d.prototype.hasArea=function(){
return!1},d.prototype.clone=function(){var e=Object.create(d.prototype),t=this;return e.x=t.x,
e.y=t.y,e.radius=t.radius,e.startAngle=t.startAngle,e.angleSpan=t.angleSpan,e.endAngle=t.endAngle,
e},d.prototype.apply=function(e){var t=e.x+e.k*this.x,n=e.y+e.k*this.y,i=e.k*this.radius;
return new d(t,n,i,this.startAngle,this.angleSpan)},d.prototype.containsAngle=function(e,n){
t.floatBelongsClosed(0,e,u)||(e=i(e));var r=this.startAngle,o=this.endAngle;return(n?t.floatBelongsOpen(r,e,o):t.floatBelongsClosed(r,e,o))?!0:t.floatLessOrEqual(o,u)?!1:(e+=u,
n?t.floatBelongsOpen(r,e,o):t.floatBelongsClosed(r,e,o))},d.prototype._containsPointCore=function(e){
var n=e.x-this.x,i=e.y-this.y,o=s(n*n+i*i);return t.floatEqual(o,this.radius)&&this.containsAngle(r(i,n));
},d.prototype.intersectsRect=function(e){var t,n=this.points(),i=n.length;for(t=0;i>t;t++)if(n[t].intersectsRect(e))return!0;
var r=e.edges();for(i=r.length,t=0;i>t;t++)if(this.intersectLine(r[t]))return!0;return!1;
};var f=t.Shape.Circle.prototype.intersectLine;d.prototype.intersectLine=function(e,t){
var n=f.call(this,e,t);return n&&(n=n.filter(function(e){return this._containsPointCore(e);
},this),n.length)?n:void 0},d.prototype.points=function(){function t(t){n.containsAngle(t,!0)&&f.push(new e(i+s*o(t),r+s*a(t)));
}var n=this,i=n.x,r=n.y,s=n.radius,u=n.startAngle,d=n.endAngle,f=[new e(i+s*o(u),r+s*a(u)),new e(i+s*o(d),r+s*a(d))];
return t(0),t(c),t(l),t(h),f},d.prototype.center=function(){var t=this.x,n=this.y,i=this.radius,r=(this.startAngle+this.endAngle)/2;
return new e(t+i*o(r),n+i*a(r))},d.prototype.normal=function(e,t){var n=e.minus(this.x,this.y).norm();
if(t){var i=this.center().minus(t);i.dot(n)<0&&(n=n.times(-1))}return n},d.prototype.distance2=function(i,s){
var l=i.x-this.x,u=i.y-this.y,c=r(u,l);if(this.containsAngle(c)){var h=new e(this.x+this.radius*o(c),this.y+this.radius*a(c));
return n(i,h,s)}var d=this.points(),f=n(i,d[0],s),p=n(i,d[1],s);return t.floatLess(f.cost,p.cost)?f:p;
}}(),!function(){var e=t.Shape.Arc,n=t.Shape.Line,i=t.Shape.Point,r=Math.cos,o=Math.sin,a=Math.sqrt,s=Math.PI,l=2*s,u=s/2,c=3*s/2,h=t.Shape.atan2Norm,d=t.Shape.normalizeAngle;
t.Shape.Wedge=function(e,n,i,r,o,a){this.x=e,this.y=n,this.innerRadius=i,this.outerRadius=r,
t.floatBelongsClosed(0,a,l)||(a=d(a)),this.startAngle=d(o),this.angleSpan=a,this.endAngle=this.startAngle+a;
};var f=t.Shape.Wedge;f.prototype=t.extend(t.Shape),f.prototype.clone=function(){
return new f(this.x,this.y,this.innerRadius,this.outerRadius,this.startAngle,this.angleSpan);
},f.prototype.apply=function(e){var t=e.x+e.k*this.x,n=e.y+e.k*this.y,i=e.k*this.innerRadius,r=e.k*this.outerRadius;
return new f(t,n,i,r,this.startAngle,this.angleSpan)},f.prototype.containsAngle=e.prototype.containsAngle,
f.prototype._containsPointCore=function(e){var n=e.x-this.x,i=e.y-this.y,r=a(n*n+i*i);
return t.floatBelongsClosed(this.innerRadius,r,this.outerRadius)&&this.containsAngle(h(i,n));
},f.prototype.intersectsRect=function(e){var t,n,i,r;for(i=this.points(),n=i.length,
t=0;n>t;t++)if(i[t].intersectsRect(e))return!0;for(i=e.points(),n=i.length,t=0;n>t;t++)if(this._containsPointCore(i[t]))return!0;
for(r=this.edges(),n=r.length,t=0;n>t;t++)if(r[t].intersectsRect(e))return!0;return!1;
},f.prototype.points=function(){return this._points||this.edges(),this._points},f.prototype.edges=function(){
function a(e){l.containsAngle(e,!0)&&N.push(new i(p+y*r(e),m+y*o(e)))}var l=this,h=l._edges;
if(!h){var d,f,p=l.x,m=l.y,g=l.innerRadius,v=t.floatGreater(g,0),y=l.outerRadius,b=l.startAngle,_=l.endAngle,x=l.angleSpan,w=r(b),C=o(b),S=r(_),k=o(_);
v?(d=new i(p+g*w,m+g*C),f=new i(p+g*S,m+g*k)):d=f=new i(p,m);var D=new i(p+y*w,m+y*C),M=new i(p+y*S,m+y*k);
h=l._edges=[],v&&h.push(new e(p,m,g,b,x)),h.push(new n(d.x,d.y,D.x,D.y),new e(p,m,y,b,x),new n(f.x,f.y,M.x,M.y));
var N=l._points=[d,D,M];v&&N.push(f),a(0),a(u),a(s),a(c)}return h},f.prototype.distance2=function(e,n){
var i={cost:1/0,dist2:1/0};return this.edges().forEach(function(r){var o=r.distance2(e,n);
t.floatLess(o.cost,i.cost)&&(i=o)}),i},f.prototype.center=function(){var e=(this.startAngle+this.endAngle)/2,t=(this.innerRadius+this.outerRadius)/2;
return new i(this.x+t*r(e),this.y+t*o(e))}}(),!function(){var e=Math.round,n=function(t){
var n=parseFloat(t);return"%"==t[t.length-1]?e(2.55*n):n},i=/([a-z]+)\((.*)\)/i,r=function(e){
if("#"===e.charAt(0)){var r,o,a;return 4===e.length?(r=e.charAt(1),r+=r,o=e.charAt(2),
o+=o,a=e.charAt(3),a+=a):7===e.length&&(r=e.substring(1,3),o=e.substring(3,5),a=e.substring(5,7)),
t.rgb(parseInt(r,16),parseInt(o,16),parseInt(a,16),1)}var s=i.exec(e);if(s){var l=s[2].split(","),u=1;
switch(s[1]){case"hsla":case"rgba":if(u=parseFloat(l[3]),!u)return t.Color.transparent;
}switch(s[1]){case"hsla":case"hsl":var c=parseFloat(l[0]),h=parseFloat(l[1])/100,d=parseFloat(l[2])/100;
return new t.Color.Hsl(c,h,d,u).rgb();case"rgba":case"rgb":var r=n(l[0]),o=n(l[1]),a=n(l[2]);
return t.rgb(r,o,a,u)}}return new t.Color(e,1)},o={};t.color=function(e){if(e.rgb)return e.rgb();
var n=t.Color.names[e];return n||(n=o[e]||(o[e]=r(e))),n}}(),t.Color=function(e,t){
this.color=e,this.opacity=t,this.key="solid "+e+" alpha("+t+")"},t.Color.prototype.hsl=function(){
return this.rgb().hsl()},t.Color.prototype.brighter=function(e){return this.rgb().brighter(e);
},t.Color.prototype.darker=function(e){return this.rgb().darker(e)},t.Color.prototype.relativeLuminance=function(t){
var n=this.alphaBlend(t);return.2126*e(n.r)+.7152*e(n.g)+.0722*e(n.b)},t.Color.prototype.alphaBlend=function(e){
var n=this.rgb(),i=n.a;if(1===i)return this;e=e?t.color(e).alphaBlend():t.Color.names.white,
e=e.rgb();var r=1-i;return t.rgb(i*n.r+r*e.r,i*n.g+r*e.g,i*n.b+r*e.b,1)},t.Color.prototype.rgbDecimal=function(e){
var t=this.alphaBlend(e);return t.r<<16|t.g<<8|t.b},t.Color.prototype.isDark=function(){
return this.rgbDecimal()<8388607.5},t.Color.prototype.contrastRatioTo=function(e){
var t=e.alphaBlend(),n=this.alphaBlend(t),i=t.relativeLuminance(),r=n.relativeLuminance();
return(Math.max(i,r)+.05)/(Math.min(i,r)+.05)},t.rgb=function(e,n,i,r){return new t.Color.Rgb(e,n,i,4==arguments.length?r:1);
},t.Color.Rgb=function(e,n,i,r){t.Color.call(this,r?"rgb("+e+","+n+","+i+")":"none",r),
this.r=e,this.g=n,this.b=i,this.a=r},t.Color.Rgb.prototype=t.extend(t.Color),t.Color.Rgb.prototype.red=function(e){
return t.rgb(e,this.g,this.b,this.a)},t.Color.Rgb.prototype.green=function(e){return t.rgb(this.r,e,this.b,this.a);
},t.Color.Rgb.prototype.blue=function(e){return t.rgb(this.r,this.g,e,this.a)},t.Color.Rgb.prototype.alpha=function(e){
return t.rgb(this.r,this.g,this.b,e)},t.Color.Rgb.prototype.rgb=function(){return this;
},t.Color.Rgb.prototype.brighter=function(e){e=Math.pow(.7,null!=e?e:1);var n=this.r,i=this.g,r=this.b,o=30;
return n||i||r?(n&&o>n&&(n=o),i&&o>i&&(i=o),r&&o>r&&(r=o),t.rgb(Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(i/e)),Math.min(255,Math.floor(r/e)),this.a)):t.rgb(o,o,o,this.a);
},t.Color.Rgb.prototype.darker=function(e){return e=Math.pow(.7,null!=e?e:1),t.rgb(Math.max(0,Math.floor(e*this.r)),Math.max(0,Math.floor(e*this.g)),Math.max(0,Math.floor(e*this.b)),this.a);
},t.Color.Rgb.prototype.hsl=function(){var e,n,i=this.r/255,r=this.g/255,o=this.b/255,a=Math.max(i,r,o),s=Math.min(i,r,o),l=(a+s)/2;
if(a===s)e=n=0;else{var u=a-s;switch(n=l>.5?u/(2-a-s):u/(a+s),a){case i:e=(r-o)/u+(o>r?6:0);
break;case r:e=(o-i)/u+2;break;case o:e=(i-r)/u+4}e/=6}return t.hsl(360*e,n,l,this.a);
},t.Color.Rgb.prototype.complementary=function(){return this.hsl().complementary().rgb();
},t.hsl=function(e,n,i,r){return new t.Color.Hsl(e,n,i,4==arguments.length?r:1)},
t.Color.Hsl=function(e,n,i,r){t.Color.call(this,"hsl("+e+","+100*n+"%,"+100*i+"%)",r),
this.h=e,this.s=n,this.l=i,this.a=r},t.Color.Hsl.prototype=t.extend(t.Color),t.Color.Hsl.prototype.hsl=function(){
return this},t.Color.Hsl.prototype.hue=function(e){return t.hsl(e,this.s,this.l,this.a);
},t.Color.Hsl.prototype.saturation=function(e){return t.hsl(this.h,e,this.l,this.a);
},t.Color.Hsl.prototype.lightness=function(e){return t.hsl(this.h,this.s,e,this.a);
},t.Color.Hsl.prototype.alpha=function(e){return t.hsl(this.h,this.s,this.l,e)},t.Color.Hsl.prototype.complementary=function(){
return t.hsl((this.h+180)%360,1-this.s,1-this.l,this.a)},t.Color.Hsl.prototype.rgb=function(){
function e(e){return e>360?e-=360:0>e&&(e+=360),60>e?s+(a-s)*e/60:180>e?a:240>e?s+(a-s)*(240-e)/60:s;
}function n(t){return Math.round(255*e(t))}var i=this.h,r=this.s,o=this.l;i%=360,
0>i&&(i+=360),r=Math.max(0,Math.min(r,1)),o=Math.max(0,Math.min(o,1));var a=.5>=o?o*(1+r):o+r-o*r,s=2*o-a;
return t.rgb(n(i+120),n(i),n(i-120),this.a)},t.Color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",
aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",
black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",
burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",
coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",
darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",
darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",
darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",
darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",
darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",
deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",
floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",
greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",
indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",
lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",
lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",
lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",
lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",
lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",
maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",
mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",
mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",
mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",
olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",
palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",
papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",
powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",
saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",
sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",
slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",
teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",
wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",
transparent:t.Color.transparent=t.rgb(0,0,0,0)},!function(){var e=t.Color.names;e.none=e.transparent;
for(var n in e)e[n]=t.color(e[n])}(),t.colors=function(){var e=t.Scale.ordinal();return e.range.apply(e,arguments),
e},t.Colors={},t.Colors.category10=function(){var e=t.colors("#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf");
return e.domain.apply(e,arguments),e},t.Colors.category20=function(){var e=t.colors("#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5");
return e.domain.apply(e,arguments),e},t.Colors.category19=function(){var e=t.colors("#9c9ede","#7375b5","#4a5584","#cedb9c","#b5cf6b","#8ca252","#637939","#e7cb94","#e7ba52","#bd9e39","#8c6d31","#e7969c","#d6616b","#ad494a","#843c39","#de9ed6","#ce6dbd","#a55194","#7b4173");
return e.domain.apply(e,arguments),e},!function(){function e(e){var n=i(e);if(!n.length)return null;
var o,a,l,u=Math.PI,c=n[0];0===c.indexOf("to ")?(a=/^to\s+(?:((top|bottom)(?:\s+(left|right))?)|((left|right)(?:\\s+(top|bottom))?))$/.exec(c),
a&&(a[1]?(o=a[2],a[3]&&(o+=" "+a[3])):(o=a[5],a[6]&&(o=a[6]+" "+o)),u=t.radians(s[o]),
n.shift())):(l=parseFloat(c),isNaN(l)||(u=l,/^.*?deg$/.test(c)&&(u=t.radians(u)),
n.shift()));var h=r(n);switch(h.length){case 0:return null;case 1:return new t.FillStyle.Solid(h[0].color,1);
}return new t.FillStyle.LinearGradient(u,h,e)}function n(e){var n=i(e);if(!n.length)return null;
var o=r(n);switch(o.length){case 0:return null;case 1:return new t.FillStyle.Solid(o[0].color,1);
}return new t.FillStyle.RadialGradient(50,50,o,e)}function i(e){var t={},n=0;e=e.replace(/\b\w+?\(.*?\)/g,function(e){
var i="__color"+n++;return t[i]=e,i});var i=e.split(/\s*,\s*/);return i.length?(n&&i.forEach(function(e,n){
t.hasOwnProperty(e)&&(i[n]=t[e])}),i):null}function r(e){function n(e){var t=a.length;
if(t){for(var n=o,i=(e-n)/(t+1),r=0;t>r;r++)n+=i,a[r].offset=n;a.length=0}}for(var i=[],r=1/0,o=-1/0,a=[],s=0,l=e.length;l>s;){
var u=e[s++],c=/^(.+?)\s*([+\-]?[e\.\d]+%)?$/i.exec(u);if(c){var h={color:t.color(c[1])
},d=parseFloat(c[2]);isNaN(d)&&(i.length?s===l&&(d=Math.max(o,100)):d=0),i.push(h),
isNaN(d)?a.push(h):(h.offset=d,n(d),d>o?o=d:o>d&&(d=o),r>d&&(r=d))}}if(i.length>=2&&(0>r||o>100)){
var f=[],p=[];i.forEach(function(e){f.push(e.offset),p.push(e.color)});var m=t.scale.linear().domain(f).range(p);
if(0>r){for(;i.length&&i[0].offset<=0;)i.shift();i.unshift({offset:0,color:m(0)});
}if(o>100){for(;i.length&&i[i.length-1].offset>=100;)i.pop();i.push({offset:100,color:m(100)
})}}return i}t.fillStyle=function(e){if(e.type)return e;var t=e.key||e,n=o[t];return n=n?n.clone():o[t]=a(e);
};var o={},a=function(i){if(i.rgb)return new t.FillStyle.Solid(i.color,i.opacity);
var r=/^\s*([a-z\-]+)\(\s*(.*?)\s*\)\s*$/.exec(i);if(r)switch(r[1]){case"linear-gradient":
return e(r[2]);case"radial-gradient":return n(r[2])}return new t.FillStyle.Solid(t.color(i));
},s={top:0,"top right":45,right:90,"bottom right":135,bottom:180,"bottom left":225,
left:270,"top left":315},l=t.FillStyle=function(e){this.type=e,this.key=e};t.extendType(l,new t.Color("none",1)),
l.prototype.rgb=function(){var e=t.color(this.color);return this.opacity!==e.opacity&&(e=e.alpha(this.opacity)),
e},l.prototype.alphaBlend=function(e){return this.rgb().alphaBlend(e)},l.prototype.rgbDecimal=function(e){
return this.rgb().rgbDecimal(e)},l.prototype.isDark=function(){return this.rgb().isDark();
};var u=t.FillStyle.Solid=function(e,t){l.call(this,"solid"),e.rgb?(this.color=e.color,
this.opacity=e.opacity):(this.color=e,this.opacity=t),this.key+=" "+this.color+" alpha("+this.opacity+")";
};t.extendType(u,l),u.prototype.alpha=function(e){return new u(this.color,e)},u.prototype.brighter=function(e){
return new u(this.rgb().brighter(e))},u.prototype.darker=function(e){return new u(this.rgb().darker(e));
},u.prototype.complementary=function(){return new u(this.rgb().complementary())},
u.prototype.clone=function(){var e=t.extend(u);return e.type=this.type,e.key=this.key,
e.color=this.color,e.opacity=this.opacity,e},t.FillStyle.transparent=new u(t.Color.transparent);
var c=0,h=t.FillStyle.Gradient=function(e,t){l.call(this,e),this.id=++c,this.stops=t,
t.length&&(this.color=t[0].color.color),this.key+=" stops("+t.map(function(e){var t=e.color;
return t.color+" alpha("+t.opacity+") at("+e.offset+")"}).join(", ")+")"};t.extendType(h,l),
h.prototype.rgb=function(){return this.stops.length?this.stops[0].color:void 0},h.prototype.alpha=function(e){
return this._cloneWithStops(this.stops.map(function(t){return{offset:t.offset,color:t.color.alpha(e)
}}))},h.prototype.darker=function(e){return this._cloneWithStops(this.stops.map(function(t){
return{offset:t.offset,color:t.color.darker(e)}}))},h.prototype.brighter=function(e){
return this._cloneWithStops(this.stops.map(function(t){return{offset:t.offset,color:t.color.brighter(e)
}}))},h.prototype.complementary=function(){return this._cloneWithStops(this.stops.map(function(e){
return{offset:e.offset,color:e.color.complementary()}}))},h.prototype.alphaBlend=function(e){
return this._cloneWithStops(this.stops.map(function(t){return{offset:t.offset,color:t.color.alphaBlend(e)
}}))},h.prototype.clone=function(){var e=this.constructor,n=t.extend(e);n.constructor=e,
n.id=++c,n.type=this.type,n.key=this.key;var i=this.stops;return n.stops=i,i.length&&(n.color=i[0].color.color),
this._initClone(n),n};var d=t.FillStyle.LinearGradient=function(e,t){h.call(this,"lineargradient",t),
this.angle=e,this.key+=" angle("+e+")"};t.extendType(d,h),d.prototype._cloneWithStops=function(e){
return new d(this.angle,e)},d.prototype._initClone=function(e){e.angle=this.angle;
};var f=t.FillStyle.RadialGradient=function(e,t,n){h.call(this,"radialgradient",n),
this.cx=e,this.cy=t,this.key+=" center("+e+","+t+")"};t.extendType(f,h),f.prototype._cloneWithStops=function(e){
return new f(this.cx,this.cy,e)},f.prototype._initClone=function(e){e.cx=this.cx,
e.cy=this.cy}}(),t.ramp=function(){var e=t.Scale.linear();return e.range.apply(e,arguments),
e},t.Scene=t.SvgScene={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns",
xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml",scale:1,
events:["DOMMouseScroll","mousewheel","mousedown","mouseup","mouseover","mouseout","mousemove","click","dblclick","contextmenu"],
mousePositionEventSet:{mousedown:1,mouseup:1,mouseover:1,mouseout:1,mousemove:1,click:1,
dblclick:1,contextmenu:1},implicit:{svg:{"shape-rendering":"auto","pointer-events":"painted",
x:0,y:0,dy:0,"text-anchor":"start",transform:"translate(0,0)",fill:"none","fill-opacity":1,
stroke:"none","stroke-opacity":1,"stroke-width":1.5,"stroke-linejoin":"miter","stroke-linecap":"butt",
"stroke-miterlimit":8,"stroke-dasharray":"none"},css:{font:"10px sans-serif"}}},t.SvgScene.updateAll=function(e){
if(e.length&&e[0].reverse&&"line"!==e.type&&"area"!==e.type){for(var t=Object.create(e),n=0,i=e.length-1;i>=0;n++,
i--)t[n]=e[i];e=t}this.removeSiblings(this[e.type](e))},t.SvgScene.create=function(e){
return document.createElementNS(this.svg,e)},t.SvgScene.expect=function(e,t,n,i,r,o){
var a;if(e&&(a=e.tagName,"defs"===a?(e=e.nextSibling,e&&(a=e.tagName)):"a"===a&&(e=e.firstChild)),
e){if(a!==t){var s=this.create(t);e.parentNode.replaceChild(s,e),e=s}}else e=this.create(t);
return r&&this.setAttributes(e,r),o&&this.setStyle(e,o),e},t.SvgScene.setAttributes=function(e,t){
var n=this.implicit.svg,i=e.__attributes__;i===t&&(i=null);for(var r in t){var o=t[r];
i&&o===i[r]||(null==o||o==n[r]?e.removeAttribute(r):e.setAttribute(r,o))}e.__attributes__=t;
},t.SvgScene.setStyle=function(e,t){var n=this.implicit.css,i=e.__style__;i===t&&(i=null);
for(var r in t){var o=t[r];i&&o===i[r]||(null==o||o==n[r]?e.style.removeProperty(r):e.style[r]=o);
}e.__style__=t},t.SvgScene.append=function(e,t,n){return e.$scene={scenes:t,index:n
},e=this.title(e,t[n]),e.parentNode||t.$g.appendChild(e),e.nextSibling},t.SvgScene.title=function(e,t){
var n=e.parentNode;if(n&&"a"!=n.tagName&&(n=null),t.title){n||(n=this.create("a"),
n.setAttributeNS(this.xlink,"xlink:href",""),e.parentNode&&e.parentNode.replaceChild(n,e),
n.appendChild(e)),n.setAttributeNS(this.xlink,"xlink:title",t.title);for(var i=null,r=e.firstChild;null!=r;r=r.nextSibling)if("title"==r.nodeName){
i=r;break}return i?i.removeChild(i.firstChild):(i=this.create("title"),e.appendChild(i)),
i.appendChild(document.createTextNode(t.title)),n}return n&&n.parentNode.replaceChild(e,n),
e},t.SvgScene.dispatch=t.listener(function(e){var n=e.target.$scene;if(n){var i=e.type;
switch(i){case"DOMMouseScroll":i="mousewheel",e.wheel=-480*e.detail;break;case"mousewheel":
e.wheel=(window.opera?12:1)*e.wheelDelta}t.Mark.dispatch(i,n.scenes,n.index,e)&&(e.preventDefault(),
e.stopPropagation())}}),t.SvgScene.removeSiblings=function(e){for(;e;){var t=e.nextSibling;
"defs"!==e.nodeName&&e.parentNode.removeChild(e),e=t}},t.SvgScene.undefined=function(){},
!function(){var e={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",
". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"
},n={shortdash:[3,1],shortdot:[1,1],shortdashdot:[3,1,1,1],shortdashdotdot:[3,1,1,1,1,1],
dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]
};t.SvgScene.isStandardDashStyle=function(e){return n.hasOwnProperty(e)},t.SvgScene.translateDashStyleAlias=function(t){
return e.hasOwnProperty(t)?e[t]:t},t.SvgScene.parseDasharray=function(e){var t=e.strokeDasharray;
if(t&&"none"!==t){t=this.translateDashStyleAlias(t);var i=n[t];t=i?i:t.split(/[\s,]+/);
var r=e.lineWidth,o=e.lineCap||"butt",a="butt"===o;t=t.map(function(e,t){return e=+e,
a||(t%2?e++:e-=1),0>=e&&(e=.001),e*r/this.scale},this).join(" ")}else t=null;return t;
}}(),!function(){var e=/^url\(#/,n=1,i=Math.PI/2,r=i/2,o=Math.SQRT2/2,a=Math.abs,s=Math.sin,l=Math.cos,u=function(e){
return a(e)<=1e-12?0:e};t.SvgScene.addFillStyleDefinition=function(t,i){if(i.type&&"solid"!==i.type&&!e.test(i.color)){
var r=t.mark.root,o=r.__fillStyleMap__||(r.__fillStyleMap__={}),a=i.key,s=o[a];if(!s){
s=o[a]="__pvGradient"+n++;var l=c.call(this,t,i,s);r.scene.$defs.appendChild(l)}i.color="url(#"+s+")";
}};var c=function(e,t,n){var c="lineargradient"===t.type,h=this.create(c?"linearGradient":"radialGradient");
if(h.setAttribute("id",n),c){var d=t.angle-i,f=a(d%i)-r,p=a(o*l(f)),m=p*l(d),g=p*s(d);
h.setAttribute("x1",u(.5-m)),h.setAttribute("y1",u(.5-g)),h.setAttribute("x2",u(.5+m)),
h.setAttribute("y2",u(.5+g))}for(var v=t.stops,y=v.length,b=0;y>b;b++){var _=v[b],x=h.appendChild(this.create("stop")),w=_.color;
x.setAttribute("offset",_.offset+"%"),x.setAttribute("stop-color",w.color),x.setAttribute("stop-opacity",w.opacity+"");
}return h}}(),t.SvgScene.pathBasis=function(){function e(e,t,n,i,r){return{x:e[0]*t.left+e[1]*n.left+e[2]*i.left+e[3]*r.left,
y:e[0]*t.top+e[1]*n.top+e[2]*i.top+e[3]*r.top}}var t=[[1/6,2/3,1/6,0],[0,2/3,1/3,0],[0,1/3,2/3,0],[0,1/6,2/3,1/6]],n=function(n,i,r,o){
var a=e(t[1],n,i,r,o),s=e(t[2],n,i,r,o),l=e(t[3],n,i,r,o);return"C"+a.x+","+a.y+","+s.x+","+s.y+","+l.x+","+l.y;
};return n.segment=function(n,i,r,o){var a=e(t[0],n,i,r,o),s=e(t[1],n,i,r,o),l=e(t[2],n,i,r,o),u=e(t[3],n,i,r,o);
return["M"+a.x+","+a.y,"C"+s.x+","+s.y+","+l.x+","+l.y+","+u.x+","+u.y]},n}(),t.SvgScene.curveBasis=function(e,t,n){
var i;if(null==t?(i=e.length,t=0,n=i-1):i=n-t+1,2>=i)return"";var r="",o=e[t],a=o,s=o,l=e[t+1];
r+=this.pathBasis(o,a,s,l);for(var u=t+2;n>=u;u++)o=a,a=s,s=l,l=e[u],r+=this.pathBasis(o,a,s,l);
return r+=this.pathBasis(a,s,l,l),r+=this.pathBasis(s,l,l,l)},t.SvgScene.curveBasisSegments=function(e,t,n){
var i;if(null==t?(i=e.length,t=0,n=i-1):i=n-t+1,2>=i)return"";var r=[],o=e[t],a=o,s=o,l=e[t+1],u=this.pathBasis.segment(o,a,s,l);
o=a,a=s,s=l,l=e[t+2],u[1]+=this.pathBasis(o,a,s,l),r.push(u);for(var c=t+3;n>=c;c++)o=a,
a=s,s=l,l=e[c],r.push(this.pathBasis.segment(o,a,s,l));var h=this.pathBasis.segment(a,s,l,l);
return h[1]+=this.pathBasis(s,l,l,l),r.push(h),r},t.SvgScene.curveHermite=function(e,t,n,i){
var r;null==n?(r=e.length,n=0,i=r-1):r=i-n+1;var o=t.length;if(1>o||r!==o&&r!==o+2)return"";
var a=r!==o,s="",l=e[n],u=e[n+1],c=t[0],h=c,d=n+1;if(a&&(s+="Q"+(u.left-2*c.x/3)+","+(u.top-2*c.y/3)+","+u.left+","+u.top,
l=e[n+1],d=n+2),o>1){h=t[1],u=e[d],d++,s+="C"+(l.left+c.x)+","+(l.top+c.y)+","+(u.left-h.x)+","+(u.top-h.y)+","+u.left+","+u.top;
for(var f=2;o>f;f++,d++)u=e[d],h=t[f],s+="S"+(u.left-h.x)+","+(u.top-h.y)+","+u.left+","+u.top;
}if(a){var p=e[d];s+="Q"+(u.left+2*h.x/3)+","+(u.top+2*h.y/3)+","+p.left+","+p.top;
}return s},t.SvgScene.curveHermiteSegments=function(e,t,n,i){var r;null==n?(r=e.length,
n=0,i=r-1):r=i-n+1;var o=t.length;if(1>o||r!==o&&r!==o+2)return[];var a=r!==o,s=[],l=e[n],u=l,c=t[0],h=c,d=n+1;
a&&(u=e[n+1],s.push(["M"+l.left+","+l.top,"Q"+(u.left-2*h.x/3)+","+(u.top-2*h.y/3)+","+u.left+","+u.top]),
d=n+2);for(var f=1;o>f;f++,d++)l=u,c=h,u=e[d],h=t[f],s.push(["M"+l.left+","+l.top,"C"+(l.left+c.x)+","+(l.top+c.y)+","+(u.left-h.x)+","+(u.top-h.y)+","+u.left+","+u.top]);
if(a){var p=e[d];s.push(["M"+u.left+","+u.top,"Q"+(u.left+2*h.x/3)+","+(u.top+2*h.y/3)+","+p.left+","+p.top]);
}return s},t.SvgScene.cardinalTangents=function(e,t,n,i){var r;null==n?(r=e.length,
n=0,i=r-1):r=i-n+1;for(var o=[],a=(1-t)/2,s=e[n],l=e[n+1],u=e[n+2],c=n+3;i>=c;c++)o.push({
x:a*(u.left-s.left),y:a*(u.top-s.top)}),s=l,l=u,u=e[c];return o.push({x:a*(u.left-s.left),
y:a*(u.top-s.top)}),o},t.SvgScene.curveCardinal=function(e,t,n,i){var r;return null==n?(r=e.length,
n=0,i=r-1):r=i-n+1,2>=r?"":this.curveHermite(e,this.cardinalTangents(e,t,n,i),n,i);
},t.SvgScene.curveCardinalSegments=function(e,t,n,i){var r;return null==n?(r=e.length,
n=0,i=r-1):r=i-n+1,2>=r?"":this.curveHermiteSegments(e,this.cardinalTangents(e,t,n,i),n,i);
},t.SvgScene.monotoneTangents=function(e,t,n){var i;null==t?(i=e.length,t=0,n=i-1):i=n-t+1;
var r,o=[],a=[],s=[],l=[],u=0;for(u=0;i-1>u;u++){r=t+u;var c=e[r+1].left-e[r].left;
a[u]=Math.abs(c)<=1e-12?0:(e[r+1].top-e[r].top)/c}for(s[0]=a[0],l[0]=e[t+1].left-e[t].left,
u=1,r=t+u;i-1>u;u++,r++)s[u]=(a[u-1]+a[u])/2,l[u]=(e[r+1].left-e[r-1].left)/2;for(s[u]=a[u-1],
l[u]=e[r].left-e[r-1].left,u=0;i-1>u;u++)0==a[u]&&(s[u]=0,s[u+1]=0);for(u=0;i-1>u;u++)if(!(Math.abs(s[u])<1e-5||Math.abs(s[u+1])<1e-5)){
var h=s[u]/a[u],d=s[u+1]/a[u],f=h*h+d*d;if(f>9){var p=3/Math.sqrt(f);s[u]=p*h*a[u],
s[u+1]=p*d*a[u]}}for(var m,g=0;i>g;g++)m=1+s[g]*s[g],o.push({x:l[g]/3/m,y:s[g]*l[g]/3/m
});return o},t.SvgScene.curveMonotone=function(e,t,n){var i;return null==t?(i=e.length,
t=0,n=i-1):i=n-t+1,2>=i?"":this.curveHermite(e,this.monotoneTangents(e,t,n),t,n)},
t.SvgScene.curveMonotoneSegments=function(e,t,n){var i;return null==t?(i=e.length,
t=0,n=i-1):i=n-t+1,2>=i?"":this.curveHermiteSegments(e,this.monotoneTangents(e,t,n),t,n);
},t.SvgScene.area=function(e){var t=e.$g.firstChild,n=e.length;if(!n)return t;var i=e[0];
return"smart"===i.segmented?this.areaSegmentedSmart(t,e):i.segmented?this.areaSegmentedFull(t,e):this.areaFixed(t,e,0,n-1,!0);
},t.SvgScene.areaFixed=function(e,t,n,i,r){var o=i-n+1;if(1===o)return this.lineAreaDotAlone(e,t,n);
var a=t[n];if(!a.visible)return e;var s=a.fillStyle,l=a.strokeStyle;if(!s.opacity&&!l.opacity)return e;
this.addFillStyleDefinition(t,s),this.addFillStyleDefinition(t,l);var u=!1,c=!1,h=!1,d=!1,f=!1;
switch(a.interpolate){case"basis":u=!0;break;case"cardinal":c=!0;break;case"monotone":
h=!0;break;case"step-after":d=!0;break;case"step-before":f=!0}for(var p,m,g=u||c||h,v=[],y=n;i>=y;y++)if(p=t[y],
p.width||p.height){for(var b=y+1;i>=b&&(m=t[b],m.width||m.height);b++);y>n&&!d&&y--,
i>=b&&!f&&b++;var _=g&&b-y>2?this.areaPathCurve:this.areaPathStraight;v.push(_.call(this,t,y,b-1,a)),
y=b-1}if(!v.length)return e;var x=l.opacity;return e=this.expect(e,"path",t,n,{"shape-rendering":a.antialias?null:"crispEdges",
"pointer-events":r?a.events:"none",cursor:a.cursor,d:"M"+v.join("ZM")+"Z",fill:s.color,
"fill-opacity":s.opacity||null,stroke:l.color,"stroke-opacity":x||null,"stroke-width":x?a.lineWidth/this.scale:null,
"stroke-linecap":a.lineCap,"stroke-linejoin":a.lineJoin,"stroke-miterlimit":a.strokeMiterLimit,
"stroke-dasharray":x?this.parseDasharray(a):null}),a.svg&&this.setAttributes(e,a.svg),
a.css&&this.setStyle(e,a.css),this.append(e,t,n)},t.SvgScene.areaSegmentedSmart=function(e,t){
return this.eachLineAreaSegment(e,t,function(e,t,n,i){var r=this.areaSegmentPaths(t,n,i),o=r.top,a=r.bottom,s=n,l={
breakOnKeyChange:!0,from:n,to:i};return this.eachLineAreaSegment(e,t,l,function(e,t,n,i,r,l){
var u=t[n],c=u.fillStyle,h=u.strokeStyle;if(this.addFillStyleDefinition(t,c),this.addFillStyleDefinition(t,h),
n===i)return this.lineAreaDotAlone(e,t,n);var d=this.areaJoinPaths(o,a,n-s,i-s-1),f=h.opacity,p={
"shape-rendering":u.antialias?null:"crispEdges","pointer-events":l,cursor:u.cursor,
d:d,fill:c.color,"fill-opacity":c.opacity||null,stroke:h.color,"stroke-opacity":f||null,
"stroke-width":f?u.lineWidth/this.scale:null,"stroke-linecap":u.lineCap,"stroke-linejoin":u.lineJoin,
"stroke-miterlimit":u.strokeMiterLimit,"stroke-dasharray":f?this.parseDasharray(u):null
};return e=this.expect(e,"path",t,n,p,u.css),this.append(e,t,n)})})},t.SvgScene.areaSegmentPaths=function(e,t,n){
return this.areaSegmentCurvePaths(e,t,n)||this.areaSegmentStraightPaths(e,t,n)},t.SvgScene.areaSegmentCurvePaths=function(e,t,n){
var i=n-t+1,r=e[t],o="basis"===r.interpolate,a=!o&&"cardinal"===r.interpolate;if(o||a||"monotone"==r.interpolate){
for(var s=[],l=[],u=0;i>u;u++){var c=e[t+u],h=e[n-u];s.push(c),l.push({left:h.left+h.width,
top:h.top+h.height})}var d,f;if(o?(d=this.curveBasisSegments(s),f=this.curveBasisSegments(l)):a?(d=this.curveCardinalSegments(s,r.tension),
f=this.curveCardinalSegments(l,r.tension)):(d=this.curveMonotoneSegments(s),f=this.curveMonotoneSegments(l)),
d||d.length)return{from:t,top:d,bottom:f}}},t.SvgScene.areaSegmentStraightPaths=function(e,t,n){
for(var i=[],r=[],o=n,a=t;o>t;t++,n--){var s=e[t],l=e[n],u=["M"+s.left+","+s.top],c=["M"+(l.left+l.width)+","+(l.top+l.height)],h=e[t+1],d=e[n-1];
switch(s.interpolate){case"step-before":u.push("V"+h.top+"H"+h.left);break;case"step-after":
u.push("H"+h.left+"V"+h.top);break;default:u.push("L"+h.left+","+h.top)}c.push("L"+(d.left+d.width)+","+(d.top+d.height)),
i.push(u),r.push(c)}return{from:a,top:i,bottom:r}},t.SvgScene.areaJoinPaths=function(e,t,n,i){
for(var r="",o="",a=e.length,s=n,l=a-1-i;i>=s;s++,l++){var u,c,h=e[s],d=t[l];s===n?(u=h.join(""),
c="L"+d[0].substr(1)+d[1]):(u=h[1],c=d[1]),r+=u,o+=c}return r+o+"Z"},t.SvgScene.areaSegmentedFull=function(e,t){
var n,i,r=t.length,o=this.areaSegmentCurvePaths(t,0,r-1);o&&(n=o.top,i=o.bottom);for(var a=(t[0],
0);r-1>a;a++){var s=t[a],l=t[a+1];if(s.visible&&l.visible){var u=s.fillStyle,c=s.strokeStyle;
if(u.opacity||c.opacity){var h;if(n){var d=n[a].join(""),f="L"+i[r-a-2].join("").substr(1);
h=d+f+"Z"}else{var p=s,m=l;switch(s.interpolate){case"step-before":p=l;break;case"step-after":
m=s}h="M"+s.left+","+p.top+"L"+l.left+","+m.top+"L"+(l.left+l.width)+","+(m.top+m.height)+"L"+(s.left+s.width)+","+(p.top+p.height)+"Z";
}var g={"shape-rendering":s.antialias?null:"crispEdges","pointer-events":s.events,
cursor:s.cursor,d:h,fill:u.color,"fill-opacity":u.opacity||null,stroke:c.color,"stroke-opacity":c.opacity||null,
"stroke-width":c.opacity?s.lineWidth/this.scale:null};e=this.expect(e,"path",t,a,g),
s.svg&&this.setAttributes(e,s.svg),s.css&&this.setStyle(e,s.css),e=this.append(e,t,a);
}}}return e},t.SvgScene.areaPathStraight=function(e,t,n,i){for(var r=[],o=[],a=n;a>=t;t++,
n--){var s=e[t],l=e[n],u=s.left+","+s.top,c=l.left+l.width+","+(l.top+l.height);if(a>t){
var h=e[t+1],d=e[n-1];switch(i.interpolate){case"step-before":u+="V"+h.top,c+="H"+(d.left+d.width);
break;case"step-after":u+="H"+h.left,c+="V"+(d.top+d.height)}}r.push(u),o.push(c);
}return r.concat(o).join("L")},t.SvgScene.areaPathCurve=function(e,t,n,i){for(var r,o,a=[],s=[],l=n;l>=t;t++,
n--){var u=e[n];a.push(e[t]),s.push({left:u.left+u.width,top:u.top+u.height})}switch(i.interpolate){
case"basis":r=this.curveBasis(a),o=this.curveBasis(s);break;case"cardinal":r=this.curveCardinal(a,i.tension),
o=this.curveCardinal(s,i.tension);break;default:r=this.curveMonotone(a),o=this.curveMonotone(s);
}return a[0].left+","+a[0].top+r+"L"+s[0].left+","+s[0].top+o},t.SvgScene.minBarWidth=1,
t.SvgScene.minBarHeight=1,t.SvgScene.minBarLineWidth=.2,t.SvgScene.bar=function(e){
for(var t=e.$g.firstChild,n=0;n<e.length;n++){var i=e[n];if(!(!i.visible||Math.abs(i.width)<=1e-10||Math.abs(i.height)<=1e-10)){
i.width<this.minBarWidth&&(i.width=this.minBarWidth),i.height<this.minBarHeight&&(i.height=this.minBarHeight);
var r=i.fillStyle,o=i.strokeStyle;if(r.opacity||o.opacity){this.addFillStyleDefinition(e,r),
this.addFillStyleDefinition(e,o);var a;o.opacity?(a=i.lineWidth,a=1e-10>a?0:Math.max(this.minBarLineWidth,a/this.scale)):a=null,
t=this.expect(t,"rect",e,n,{"shape-rendering":i.antialias?null:"crispEdges","pointer-events":i.events,
cursor:i.cursor,x:i.left,y:i.top,width:Math.max(1e-10,i.width),height:Math.max(1e-10,i.height),
fill:r.color,"fill-opacity":r.opacity||null,stroke:o.color,"stroke-opacity":o.opacity||null,
"stroke-width":a,"stroke-linecap":i.lineCap,"stroke-dasharray":o.opacity?this.parseDasharray(i):null
}),i.svg&&this.setAttributes(t,i.svg),i.css&&this.setStyle(t,i.css),t=this.append(t,e,n);
}}}return t},t.SvgScene.dot=function(e){for(var n=e.$g.firstChild,i=0,r=e.length;r>i;i++){
var o=e[i];if(o.visible){var a=o.fillStyle,s=a.opacity,l=o.strokeStyle,u=l.opacity;
if(s||u){this.addFillStyleDefinition(e,a),this.addFillStyleDefinition(e,l);var c={
"shape-rendering":o.antialias?null:"crispEdges","pointer-events":o.events,cursor:o.cursor,
fill:a.color,"fill-opacity":s||null,stroke:l.color,"stroke-opacity":u||null,"stroke-width":u?o.lineWidth/this.scale:null,
"stroke-linecap":o.lineCap,"stroke-dasharray":u?this.parseDasharray(o):null},h=o.shape||"circle",d=o.aspectRatio,f=o.shapeAngle,p=null;
if("circle"!==h&&this.hasSymbol(h)){var m=o.shapeRadius,g=m,v=m;if(d>0&&1!==d){var y=1/Math.sqrt(d),b=d*y;
g*=b,v*=y}c.d=this.renderSymbol(h,o,g,v),h="path",p="translate("+o.left+","+o.top+") ",
f&&(p+="rotate("+t.degrees(f)+") ")}else 1===d?(h="circle",c.cx=o.left,c.cy=o.top,
c.r=o.shapeRadius):(h="ellipse",c.cx=c.cy=0,p="translate("+o.left+","+o.top+") ",
f&&(p+="rotate("+t.degrees(f)+") "),c.rx=o._width/2,c.ry=o._height/2);p&&(c.transform=p),
n=this.expect(n,h,e,i,c),o.svg&&this.setAttributes(n,o.svg),o.css&&this.setStyle(n,o.css),
n=this.append(n,e,i)}}}return n},!function(e){var n={};e.registerSymbol=function(t,i){
return n[t.toLowerCase()]=i,e},e.renderSymbol=function(t,i,r,o){return n[t].call(e,i,t,r,o);
},e.hasSymbol=function(e){return n.hasOwnProperty(e)},e.symbols=function(){return t.keys(n);
};var i=2/Math.sqrt(3);e.registerSymbol("circle",function(){throw new Error("Not implemented as a symbol");
}).registerSymbol("cross",function(e,t,n,i){var r=(e.shapeRadius,-n),o=-i;return"M"+r+","+o+"L"+n+","+i+"M"+n+","+o+"L"+r+","+i;
}).registerSymbol("triangle",function(e,t,n,r){var o=r,a=n*i,s=-r,l=-a;return"M0,"+o+"L"+a+","+s+" "+l+","+s+"Z";
}).registerSymbol("diamond",function(e,t,n,i){var r=n*Math.SQRT2,o=i*Math.SQRT2,a=-r,s=-o;
return"M0,"+s+"L"+r+",0 0,"+o+" "+a+",0Z"}).registerSymbol("square",function(e,t,n,i){
var r=-n,o=-i;return"M"+r+","+o+"L"+n+","+o+" "+n+","+i+" "+r+","+i+"Z"}).registerSymbol("tick",function(e,t,n,i){
var r=-i*i;return"M0,0L0,"+r}).registerSymbol("bar",function(e,t,n,i){var r=i*i/2;
return"M0,"+r+"L0,"+-r})}(t.SvgScene),t.SvgScene.image=function(e){for(var t=e.$g.firstChild,n=0;n<e.length;n++){
var i=e[n];if(i.visible){if(t=this.fill(t,e,n),i.image){t=this.expect(t,"foreignObject",e,n,{
cursor:i.cursor,x:i.left,y:i.top,width:i.width,height:i.height}),i.svg&&this.setAttributes(t,i.svg),
i.css&&this.setStyle(t,i.css);var r=t.firstChild||t.appendChild(document.createElementNS(this.xhtml,"canvas"));
r.$scene={scenes:e,index:n},r.style.width=i.width,r.style.height=i.height,r.width=i.imageWidth,
r.height=i.imageHeight,r.getContext("2d").putImageData(i.image,0,0)}else t=this.expect(t,"image",e,n,{
preserveAspectRatio:"none",cursor:i.cursor,x:i.left,y:i.top,width:i.width,height:i.height
}),i.svg&&this.setAttributes(t,i.svg),i.css&&this.setStyle(t,i.css),t.setAttributeNS(this.xlink,"xlink:href",i.url);
t=this.append(t,e,n),t=this.stroke(t,e,n)}}return t},t.SvgScene.label=function(e){
for(var t=e.$g.firstChild,n=0;n<e.length;n++){var i=e[n];if(i.visible){var r=i.textStyle;
if(r.opacity&&i.text){var o=0,a=0,s=0,l="start";switch(i.textBaseline){case"middle":
s=".35em";break;case"top":s=".71em",a=i.textMargin;break;case"bottom":a="-"+i.textMargin;
}switch(i.textAlign){case"right":l="end",o="-"+i.textMargin;break;case"center":l="middle";
break;case"left":o=i.textMargin}t=this.expect(t,"text",e,n,{"pointer-events":i.events,
cursor:i.cursor,x:o,y:a,dy:s,transform:"translate("+i.left+","+i.top+")"+(i.textAngle?" rotate("+180*i.textAngle/Math.PI+")":"")+(1!=this.scale?" scale("+1/this.scale+")":""),
fill:r.color,"fill-opacity":r.opacity||null,"text-anchor":l},{font:i.font,"text-shadow":i.textShadow,
"text-decoration":i.textDecoration}),i.svg&&this.setAttributes(t,i.svg),i.css&&this.setStyle(t,i.css),
t.firstChild?t.firstChild.nodeValue=i.text:t.appendChild(document.createTextNode(i.text)),
t=this.append(t,e,n)}}}return t},t.SvgScene.line=function(e){var t=e.$g.firstChild,n=e.length;
if(!n)return t;var i=e[0];return"smart"===i.segmented?this.lineSegmentedSmart(t,e):2>n?t:i.segmented?this.lineSegmentedFull(t,e):this.lineFixed(t,e);
},t.SvgScene.lineFixed=function(e,t){var n=t.length;if(1===n)return this.lineAreaDotAlone(e,t,0);
var i=t[0];if(!i.visible)return e;var r=i.fillStyle,o=i.strokeStyle;if(!r.opacity&&!o.opacity)return e;
this.addFillStyleDefinition(t,r),this.addFillStyleDefinition(t,o);var a="M"+i.left+","+i.top,s=n>2;
if(s)switch(i.interpolate){case"basis":a+=this.curveBasis(t);break;case"cardinal":
a+=this.curveCardinal(t,i.tension);break;case"monotone":a+=this.curveMonotone(t);break;
default:s=!1}if(!s)for(var l=1;n>l;l++)a+=this.lineSegmentPath(t[l-1],t[l]);var u=o.opacity,c={
"shape-rendering":i.antialias?null:"crispEdges","pointer-events":i.events,cursor:i.cursor,
d:a,fill:r.color,"fill-opacity":r.opacity||null,stroke:o.color,"stroke-opacity":u||null,
"stroke-width":u?i.lineWidth/this.scale:null,"stroke-linecap":i.lineCap,"stroke-linejoin":i.lineJoin,
"stroke-miterlimit":i.strokeMiterLimit,"stroke-dasharray":u?this.parseDasharray(i):null
};return e=this.expect(e,"path",t,0,c,i.css),i.svg&&this.setAttributes(e,i.svg),this.append(e,t,0);
},t.SvgScene.lineSegmentedSmart=function(e,t){return this.eachLineAreaSegment(e,t,function(e,t,n,i){
var r=this.lineSegmentPaths(t,n,i),o=n,a={breakOnKeyChange:!0,from:n,to:i};return this.eachLineAreaSegment(e,t,a,function(e,t,n,i,a,s){
var l=t[n],u=l.fillStyle;this.addFillStyleDefinition(t,u);var c=l.strokeStyle;if(this.addFillStyleDefinition(t,c),
n===i)return this.lineAreaDotAlone(e,t,n);var h=this.lineJoinPaths(r,n-o,i-o-1),d=c.opacity,f={
"shape-rendering":l.antialias?null:"crispEdges","pointer-events":s,cursor:l.cursor,
d:h,fill:u.color,"fill-opacity":u.opacity||null,stroke:c.color,"stroke-opacity":d||null,
"stroke-width":d?l.lineWidth/this.scale:null,"stroke-linecap":l.lineCap,"stroke-linejoin":l.lineJoin,
"stroke-miterlimit":l.strokeMiterLimit,"stroke-dasharray":d?this.parseDasharray(l):null
};return e=this.expect(e,"path",t,n,f,l.css),this.append(e,t,n)})})},t.SvgScene.lineSegmentedFull=function(e,n){
var i,r=n[0];switch(r.interpolate){case"basis":i=this.curveBasisSegments(n);break;
case"cardinal":i=this.curveCardinalSegments(n,r.tension);break;case"monotone":i=this.curveMonotoneSegments(n);
}for(var o=0,a=n.length-1;a>o;o++){var s=n[o],l=n[o+1];if(s.visible&&l.visible){var u=s.strokeStyle,c=t.FillStyle.transparent;
if(u.opacity){var h;"linear"==s.interpolate&&"miter"==s.lineJoin?(c=u,u=t.FillStyle.transparent,
h=this.pathJoin(n[o-1],s,l,n[o+2])):h=i?i[o].join(""):"M"+s.left+","+s.top+this.lineSegmentPath(s,l),
e=this.expect(e,"path",n,o,{"shape-rendering":s.antialias?null:"crispEdges","pointer-events":s.events,
cursor:s.cursor,d:h,fill:c.color,"fill-opacity":c.opacity||null,stroke:u.color,"stroke-opacity":u.opacity||null,
"stroke-width":u.opacity?s.lineWidth/this.scale:null,"stroke-linejoin":s.lineJoin
}),s.svg&&this.setAttributes(e,s.svg),s.css&&this.setStyle(e,s.css),e=this.append(e,n,o);
}}}return e},t.SvgScene.lineSegmentPath=function(e,t){var n=1;switch(e.interpolate){
case"polar-reverse":n=0;case"polar":var i=t.left-e.left,r=t.top-e.top,o=1-e.eccentricity,a=Math.sqrt(i*i+r*r)/(2*o);
if(0>=o||o>1)break;return"A"+a+","+a+" 0 0,"+n+" "+t.left+","+t.top;case"step-before":
return"V"+t.top+"H"+t.left;case"step-after":return"H"+t.left+"V"+t.top}return"L"+t.left+","+t.top;
},t.SvgScene.lineSegmentPaths=function(e,t,n){var i,r=e[t];switch(r.interpolate){
case"basis":i=this.curveBasisSegments(e,t,n);break;case"cardinal":i=this.curveCardinalSegments(e,r.tension,t,n);
break;case"monotone":i=this.curveMonotoneSegments(e,t,n)}if(!i||!i.length){i=[];for(var o=t+1;n>=o;o++){
var a=e[o-1],s=e[o];i.push(["M"+a.left+","+a.top,this.lineSegmentPath(a,s)])}}return i;
},t.strokeMiterLimit=4,t.SvgScene.pathJoin=function(e,n,i,r){var o,a,s,l=[],u=n.lineWidth/this.scale,c=t.vector(n.left,n.top),h=t.vector(i.left,i.top),d=h.minus(c),f=d.perp().norm(),p=f.times(u/2),m=c.plus(p),g=c.minus(p),v=h.plus(p),y=h.minus(p);
if(e&&e.visible){var b=t.vector(e.left,e.top),_=c.minus(b),x=_.perp().norm(),w=x.plus(f).norm(),C=this.lineIntersect(c,w,m,d),S=this.lineIntersect(c,w,g,d);
s=C.minus(S).length();var k=e.lineWidth/this.scale,D=(u+k)/2;if(a=s/D,o=n.strokeMiterLimit||t.strokeMiterLimit,
o>=a)l.push(S,C);else{var M=d.times(-1),N=_.norm().plus(M.norm()).norm(),T=c.plus(N.times(D/2));
N.dot(f)>=0?l.push(S,T,m):l.push(g,T,C)}}else l.push(g,m);if(r&&r.visible){var A=t.vector(r.left,r.top),j=A.minus(h),I=j.perp().norm(),P=I.plus(f).norm(),L=this.lineIntersect(h,P,v,d),R=this.lineIntersect(h,P,y,d);
s=L.minus(R).length();var O=r.lineWidth/this.scale,E=(O+u)/2;if(a=s/E,o=i.strokeMiterLimit||t.strokeMiterLimit,
o>=a)l.push(L,R);else{var B=j.times(-1),F=d.norm().plus(B.norm()).norm(),z=h.plus(F.times(E/2));
F.dot(f)>=0?l.push(v,z,R):l.push(L,z,y)}}else l.push(v,y);var V=l.shift();return"M"+V.x+","+V.y+"L"+l.map(function(e){
return e.x+","+e.y}).join(" ")},t.SvgScene.lineIntersect=function(e,t,n,i){return e.plus(t.times(n.minus(e).dot(i.perp())/t.dot(i.perp())));
},t.SvgScene.lineJoinPaths=function(e,t,n){for(var i=e[t].join(""),r=t+1;n>=r;r++)i+=e[r][1];
return i},t.SvgScene.lineAreaDotAlone=function(e){return e},t.Scene.eventsToNumber={
"":0,none:0,painted:1,all:2},t.Scene.numberToEvents=["none","painted","all"],t.SvgScene.eachLineAreaSegment=function(e,n,i,r){
"function"==typeof i&&(r=i,i=null);var o,a,s,l=t.get(i,"breakOnKeyChange",!1),u=t.get(i,"from")||0,c=t.get(i,"to",n.length-1);
l&&(a=[],s=[]);for(var h=u;c>=h;){var d=n[h];if(this.isSceneVisible(d)){o=this.eventsToNumber[d.events]||0,
l&&this.lineAreaSceneKey(d,a);for(var f,p=h;;){var m=p+1;if(m>c){f=m;break}var g=n[m];
if(!this.isSceneVisible(g)){f=m+1;break}if(o=Math.max(o,this.eventsToNumber[g.events]||0),
p=m,l&&(this.lineAreaSceneKey(g,s),!this.equalSceneKeys(a,s))){f=p;break}}e=r.call(this,e,n,h,p,i,this.numberToEvents[o]),
h=f}else h++}return e},t.SvgScene.lineAreaSceneKey=function(e,t){return t[0]=e.fillStyle.key,
t[1]=e.strokeStyle.key,t[2]=e.lineWidth,t[3]=e.strokeDasharray||"none",t[4]=e.interpolate,
t},t.SvgScene.isSceneVisible=function(e){return e.visible&&(e.fillStyle.opacity>0||e.strokeStyle.opacity>0);
},t.SvgScene.equalSceneKeys=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]!==t[n])return!1;
return!0},t.SvgScene.panel=function(e){for(var t=e.$g,n=t&&t.firstChild,i=0,r=e.length;r>i;i++){
var o=e[i];if(o.visible){if(!e.parent){var a=o.canvas;this.applyCanvasStyle(a),t&&t.parentNode!==a&&(t=a.firstChild,
n=t&&t.firstChild),t?n&&"defs"===n.tagName&&(n=n.nextSibling):(t=this.createRootPanelElement(),
n=null,this.initRootPanelElement(t,e.mark),a.appendChild(t),e.$defs=t.appendChild(this.create("defs")),
e.$g=t),t.setAttribute("width",o.width+o.left+o.right),t.setAttribute("height",o.height+o.top+o.bottom);
}var s=null;if("hidden"===o.overflow){var l=this.addPanelClipPath(t,n,e,i,o);s=l.g,
e.$g=t=s,n=l.next}n=this.fill(n,e,i);var u=this.scale,c=o.transform,h=o.left+c.x,d=o.top+c.y;
if(this.scale*=c.k,o.children.length)for(var f={transform:"translate("+h+","+d+")"+(1!=c.k?" scale("+c.k+")":"")
},p=this.getSortedChildScenes(e,i),m=0,g=p.length;g>m;m++){var v=p[m];v.$g=n=this.expect(n,"g",e,i,f),
this.updateAll(v),n.parentNode||t.appendChild(n),n=n.nextSibling}this.scale=u,n=this.stroke(n,e,i),
s&&(e.$g=t=s.parentNode,n=s.nextSibling)}}return n},t.SvgScene.applyCanvasStyle=function(e){
e.style.display="inline-block"},t.SvgScene.createRootPanelElement=function(){return this.create("svg");
},t.SvgScene.initRootPanelElement=function(e,t){e.setAttribute("font-size","10px"),
e.setAttribute("font-family","sans-serif"),e.setAttribute("fill","none"),e.setAttribute("stroke","none"),
e.setAttribute("stroke-width",1.5),this.disableElementSelection(e),this.listenRootPanelElement(e,t);
},t.SvgScene.listenRootPanelElement=function(e,t){for(var n=0,i=this.events,r=i.length;r>n;n++)e.addEventListener(i[n],this.dispatch,!1),
t._registerBoundEvent(e,i[n],this.dispatch,!1)},t.SvgScene.disableElementSelection=function(e){
e.setAttribute("style","-webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;"),
"undefined"!=typeof e.onselectstart&&(e.setAttribute("unselectable","on"),e.onselectstart=function(){
return!1})},t.SvgScene.addPanelClipPath=function(e,n,i,r,o){var a=t.id().toString(36),s=this.expect(n,"g",i,r,{
"clip-path":"url(#"+a+")"}),l=this.expect(s.firstChild,"clipPath",i,r,{id:a}),u=l.firstChild||l.appendChild(this.create("rect"));
return u.setAttribute("x",o.left),u.setAttribute("y",o.top),u.setAttribute("width",o.width),
u.setAttribute("height",o.height),l.parentNode||s.appendChild(l),s.parentNode||e.appendChild(s),
{g:s,next:l.nextSibling}},t.SvgScene.getSortedChildScenes=function(e,t){var n=e[t].children;
return e.mark._zOrderChildCount&&(n=n.slice(0),n.sort(function(e,t){var n=e.mark._zOrder-t.mark._zOrder;
return 0===n&&(n=e.childIndex-t.childIndex),n})),n},t.SvgScene.fill=function(e,t,n){
var i=t[n],r=i.fillStyle;return(r.opacity||"all"==i.events)&&(this.addFillStyleDefinition(t,r),
e=this.expect(e,"rect",t,n,{"shape-rendering":i.antialias?null:"crispEdges","pointer-events":i.events,
cursor:i.cursor,x:i.left,y:i.top,width:i.width,height:i.height,fill:r.color,"fill-opacity":r.opacity,
stroke:null}),e=this.append(e,t,n)),e},t.SvgScene.stroke=function(e,t,n){var i=t[n],r=i.strokeStyle;
return(r.opacity||"all"==i.events)&&(e=this.expect(e,"rect",t,n,{"shape-rendering":i.antialias?null:"crispEdges",
"pointer-events":"all"==i.events?"stroke":i.events,cursor:i.cursor,x:i.left,y:i.top,
width:Math.max(1e-10,i.width),height:Math.max(1e-10,i.height),fill:null,stroke:r.color,
"stroke-opacity":r.opacity,"stroke-width":i.lineWidth/this.scale,"stroke-linecap":i.lineCap,
"stroke-dasharray":r.opacity?this.parseDasharray(i):null}),e=this.append(e,t,n)),
e},t.SvgScene.minRuleLineWidth=1,t.SvgScene.rule=function(e){for(var t=e.$g.firstChild,n=0;n<e.length;n++){
var i=e[n];if(i.visible){var r=i.strokeStyle;if(r.opacity){var o=i.lineWidth;o=1e-10>o?0:Math.max(this.minRuleLineWidth,o/this.scale),
t=this.expect(t,"line",e,n,{"shape-rendering":i.antialias?null:"crispEdges","pointer-events":i.events,
cursor:i.cursor,x1:i.left,y1:i.top,x2:i.left+i.width,y2:i.top+i.height,stroke:r.color,
"stroke-opacity":r.opacity,"stroke-width":o,"stroke-linecap":i.lineCap,"stroke-dasharray":r.opacity?this.parseDasharray(i):null
}),i.svg&&this.setAttributes(t,i.svg),i.css&&this.setStyle(t,i.css),t=this.append(t,e,n);
}}}return t},t.SvgScene.wedge=function(e){for(var t=e.$g.firstChild,n=0;n<e.length;n++){
var i=e[n];if(i.visible){var r=i.fillStyle,o=i.strokeStyle;if(r.opacity||o.opacity){
var a,s=i.innerRadius,l=i.outerRadius,u=Math.abs(i.angle);if(u>=2*Math.PI)a=s?"M0,"+l+"A"+l+","+l+" 0 1,1 0,"+-l+"A"+l+","+l+" 0 1,1 0,"+l+"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":"M0,"+l+"A"+l+","+l+" 0 1,1 0,"+-l+"A"+l+","+l+" 0 1,1 0,"+l+"Z";else{
var c=Math.min(i.startAngle,i.endAngle),h=Math.max(i.startAngle,i.endAngle),d=Math.cos(c),f=Math.cos(h),p=Math.sin(c),m=Math.sin(h);
a=s?"M"+l*d+","+l*p+"A"+l+","+l+" 0 "+(u<Math.PI?"0":"1")+",1 "+l*f+","+l*m+"L"+s*f+","+s*m+"A"+s+","+s+" 0 "+(u<Math.PI?"0":"1")+",0 "+s*d+","+s*p+"Z":"M"+l*d+","+l*p+"A"+l+","+l+" 0 "+(u<Math.PI?"0":"1")+",1 "+l*f+","+l*m+"L0,0Z";
}this.addFillStyleDefinition(e,r),this.addFillStyleDefinition(e,o),t=this.expect(t,"path",e,n,{
"shape-rendering":i.antialias?null:"crispEdges","pointer-events":i.events,cursor:i.cursor,
transform:"translate("+i.left+","+i.top+")",d:a,fill:r.color,"fill-rule":"evenodd",
"fill-opacity":r.opacity||null,stroke:o.color,"stroke-opacity":o.opacity||null,"stroke-width":o.opacity?i.lineWidth/this.scale:null,
"stroke-linejoin":i.lineJoin,"stroke-miterlimit":i.strokeMiterLimit,"stroke-linecap":i.lineCap,
"stroke-dasharray":o.opacity?this.parseDasharray(i):null}),i.svg&&this.setAttributes(t,i.svg),
i.css&&this.setStyle(t,i.css),t=this.append(t,e,n)}}}return t},t.Mark=function(){
this.$properties=[],this.$propertiesMap={},this.$handlers={}},t.Mark.prototype.properties={},
t.Mark.cast={},t.Mark.prototype.property=function(e,n){return this.hasOwnProperty("properties")||(this.properties=t.extend(this.properties)),
this.properties[e]=!0,t.Mark.prototype.propertyMethod(e,!1,t.Mark.cast[e]=n),this;
},t.Mark.prototype.localProperty=function(e,n){this.hasOwnProperty("properties")||(this.properties=t.extend(this.properties)),
this.properties[e]=!0;var i=t.Mark.cast[e];return n&&(t.Mark.cast[e]=i=n),this.propertyMethod(e,!1,i),
this},t.Mark.prototype.def=function(e,t){return this.propertyMethod(e,!0),this[e](arguments.length>1?t:null);
},t.Mark.prototype.propertyMethod=function(e,n,i){i||(i=t.Mark.cast[e]),this[e]=function(r,o){
if(n&&this.scene){var a=this.scene.defs;if(arguments.length)return a[e]={id:null==r?0:t.id(),
value:null!=r&&i?i(r):r},this;var s=a[e];return s?s.value:null}if(arguments.length)return this.setPropertyValue(e,r,n,i,!1,o),
this;var l=this.instance();return t.propBuildMark===this&&1!==t.propBuilt[e]?(t.propBuilt[e]=1,
l[e]=this.evalProperty(this.binds.properties[e])):l[e]}},t.Mark.funPropertyCaller=function(e,n){
function i(){var t=e.apply(this,r);return null!=t?n(t):t}var r=t.Mark.stack;return i;
},t.Mark.prototype.setPropertyValue=function(e,n,i,r,o,a){var s=!i<<1|"function"==typeof n;
1&s&&r?n=t.Mark.funPropertyCaller(n,r):null!=n&&r&&(n=r(n));var l=this.$propertiesMap,u=this.$properties,c={
name:e,id:t.id(),value:n,type:s,tag:a,proto:null,root:null,_proto:null};c.root=c;var h=l[e];
if(l[e]=c,h)for(var d=0,f=u.length;f>d;d++)if(u[d]===h){u.splice(d,1);break}return u.push(c),
o&&h&&3===s&&(c.proto=h,c.root=h.root),c},t.Mark.prototype.intercept=function(e,n,i){
return this.setPropertyValue(e,n,!1,t.get(i,"noCast")?null:t.Mark.cast[e],!0,t.get(i,"tag")),
this},t.Mark.prototype.propertyValue=function(e,t){var n=this.$propertiesMap[e];if(n)return n.value;
if(t){if(this.proto){var i=this.proto._propertyValueRecursive(e);if(void 0!==i)return i;
}return this.defaults._propertyValueRecursive(e)}},t.Mark.prototype._propertyValueRecursive=function(e){
var t=this.$propertiesMap[e];return t?t.value:this.proto?this.proto._propertyValueRecursive(e):void 0;
},t.Mark.stack=[],t.Mark.prototype.property("data").property("visible",Boolean).property("css",Object).property("svg",Object).property("left",Number).property("right",Number).property("top",Number).property("bottom",Number).property("cursor",String).property("title",String).property("reverse",Boolean).property("antialias",Boolean).property("events",t.stringLowerCase).property("id",String),
t.Mark.prototype.childIndex=-1,t.Mark.prototype.index=-1,t.Mark.prototype.scale=1,
t.Mark.prototype._zOrder=0,t.Mark.prototype.defaults=(new t.Mark).data(function(e){
return[e]}).visible(!0).antialias(!0).events("painted"),t.Mark.prototype.extend=function(e){
return this.proto=e,this.target=e.target,this},t.Mark.prototype.add=function(e){return this.parent.add(e).extend(this);
},t.Mark.prototype.zOrder=function(e){if(!arguments.length)return this._zOrder;if(e=+e||0,
this._zOrder!==e){var t=this.parent;t&&0!==this._zOrder&&t._zOrderChildCount--,this._zOrder=e,
t&&0!==this._zOrder&&t._zOrderChildCount++}return this},t.Mark.prototype.anchor=function(e){
return new t.Anchor(this).name(e||"center").data(function(){return this.scene.target.map(function(e){
return e.data})}).visible(function(){return this.scene.target[this.index].visible;
}).id(function(){return this.scene.target[this.index].id}).left(function(){var e=this.scene.target[this.index],t=e.width||0;
switch(this.name()){case"bottom":case"top":case"center":return e.left+t/2;case"left":
return null}return e.left+t}).top(function(){var e=this.scene.target[this.index],t=e.height||0;
switch(this.name()){case"left":case"right":case"center":return e.top+t/2;case"top":
return null}return e.top+t}).right(function(){var e=this.scene.target[this.index];
return"left"==this.name()?e.right+(e.width||0):null}).bottom(function(){var e=this.scene.target[this.index];
return"top"==this.name()?e.bottom+(e.height||0):null}).textAlign(function(){switch(this.name()){
case"bottom":case"top":case"center":return"center";case"right":return"right"}return"left";
}).textBaseline(function(){switch(this.name()){case"right":case"left":case"center":
return"middle";case"top":return"top"}return"bottom"})},t.Mark.prototype.anchorTarget=function(){
return this.target},t.Mark.prototype.margin=function(e){return this.left(e).right(e).top(e).bottom(e);
},t.Mark.prototype.instance=function(e){var t=this.scene||this.parent.instance(-1).children[this.childIndex],n=null==e||this.hasOwnProperty("index")?this.index:e;
return t[0>n?t.length-1:n]},t.Mark.prototype.instances=function(e){for(var n,i=this,r=[];!(n=i.scene);)r.push({
index:e.parentIndex,childIndex:i.childIndex}),e=e.parent,i=i.parent;for(var o=r.length;o--;){
var a=r[o];n=n[a.index].children[a.childIndex]}if(this.hasOwnProperty("index")){var s=t.extend(n[this.index]);
return s.right=s.top=s.left=s.bottom=0,[s]}return n},t.Mark.prototype.first=function(){
return this.scene[0]},t.Mark.prototype.last=function(){return this.scene[this.scene.length-1];
},t.Mark.prototype.sibling=function(){return 0==this.index?null:this.scene[this.index-1];
},t.Mark.prototype.cousin=function(){var e=this.parent,t=e&&e.sibling();return t&&t.children?t.children[this.childIndex][this.index]:null;
},t.Mark.prototype._renderId=0,t.Mark.prototype.renderId=function(){return this.root._renderId;
},t.Mark.prototype.render=function(){var e=this.root;!this.parent||e.scene?(e._renderId++,
this.renderCore()):e.render()},t.Mark.prototype.renderCore=function(){function e(e,i,o){
if(e.scale=o,l>i){var a=i>=r.length;if(a&&r.unshift(null),e.hasOwnProperty("index"))n(e,i,o,a);else{
for(var s=0,u=e.scene.length;u>s;s++)e.index=s,n(e,i,o,a);delete e.index}a&&r.shift();
}else e.build(),t.Scene.scale=o,t.Scene.updateAll(e.scene);delete e.scale}function n(t,n,i,o){
var s,l=t.scene[t.index];if(l.visible){var u=t.children,c=l.children,h=a[n],d=u[h];
for(d.scene||h++,s=0;h>s;s++)u[s].scene=c[s];for(o&&(r[0]=l.data),e(d,n+1,i*l.transform.k),
s=0;h>s;s++)u[s].scene=void 0}}for(var i=this.parent,r=t.Mark.stack,o=r.length,a=[],s=this;s.parent;s=s.parent)a.unshift(s.childIndex);
var l=a.length;for(this.bind();i&&!i.hasOwnProperty("index");)i=i.parent;try{this.context(i?i.scene:void 0,i?i.index:-1,function(){
e(this.root,0,1)})}catch(u){throw r.length>o&&(r.length=o),u}},t.Mark.prototype.bind=function(){
function e(e){do for(var t=e.$properties,s=t.length;s--;){var l=t[s],u=l.name,c=i[u];
if(c){var h=r[u];3===h.type&&(h._proto=l,h=r[u]=l.root,h._proto=null)}else switch(i[u]=l,
r[u]=l.root,l.root._proto=null,u){case"data":n=l;break;case"visible":case"id":o.push(l);
break;default:a[l.type].push(l)}}while(e=e.proto)}var n,i={},r={},o=[],a=[[],[],[],[]];
e(this),e(this.defaults);var s=a[0],l=a[1].reverse(),u=a[2];a[3].reverse();var c=this;
do for(var h in c.properties)h in i||u.push(i[h]={name:h,type:2,value:null});while(c=c.proto);
var d;if(s.length||l.length){d=s.concat(l);for(var f=0,p=d.length;p>f;f++)this.propertyMethod(d[f].name,!0);
}else d=[];this.binds={properties:i,data:n,defs:d,required:o,optional:t.blend(a)};
},t.Mark.prototype.build=function(){var e=t.Mark.stack,n=this.scene;if(!n){n=this.scene=[],
n.mark=this,n.type=this.type,n.childIndex=this.childIndex;var i=this.parent;i&&(n.parent=i.scene,
n.parentIndex=i.index)}this.target&&(n.target=this.target.instances(n));var r=this.binds.defs;
if(r.length)for(var o=n.defs||(n.defs={}),a=0,s=r.length;s>a;a++){var l=r[a],u=o[l.name];
(!u||l.id>u.id)&&(o[l.name]={id:0,value:1&l.type?l.value.apply(this,e):l.value})}
var c=this.evalProperty(this.binds.data),h=c.length;if(n.length=h,h){var d=t.Mark.prototype;
e.unshift(null);var f=t.propBuildMark,p=t.propBuilt;t.propBuildMark=this;try{for(var a=0;h>a;a++){
d.index=this.index=a,t.propBuilt={};var m=n[a];m?m._state&&delete m._state:m=n[a]={},
m.data=e[0]=c[a],this.preBuildInstance(m),this.buildInstance(m)}}finally{d.index=-1,
delete this.index,e.shift(),t.propBuildMark=f,t.propBuilt=p}}return this},t.Mark.prototype.instanceState=function(e){
return e||(e=this.instance()),e?e._state||(e._state={}):null},t.Mark.prototype.preBuildInstance=function(){},
t.Mark.prototype.buildInstance=function(e){this.buildProperties(e,this.binds.required),
e.visible&&(this.buildProperties(e,this.binds.optional),this.buildImplied(e))},!function(){
var e,n=t.Mark.stack,i=[function(e){return this.scene.defs[e.name].value},null,function(e){
return e.value},function(t){return e=t.proto||t._proto,t.value.apply(this,n)}];i[1]=i[0],
t.Mark.prototype.buildProperties=function(n,r){var o=t.propBuilt,a=!o;a&&(t.propBuildMark=this,
t.propBuilt=o={});for(var s=e,l=0,u=r.length;u>l;l++){var c=r[l],h=c.name;h in o||(o[h]=1,
n[h]=i[c.type].call(this,c))}e=s,a&&(t.propBuildMark=t.propBuilt=null)},t.Mark.prototype.evalProperty=function(t){
var n=e,r=i[t.type].call(this,t);return e=n,r},t.Mark.prototype.evalInPropertyContext=function(t,i){
var r=e;e=i;var o=t.apply(this,n);return e=r,o},t.Mark.prototype.delegate=function(t,n){
if(e&&(!n||e.tag===n)){var i=this.evalProperty(e);if(void 0!==i)return i}return t;
},t.Mark.prototype.delegateExcept=function(t,n){if(e&&(!n||e.tag!==n)){var i=this.evalProperty(e);
if(void 0!==i)return i}return t},t.Mark.prototype.hasDelegate=function(t){return!(!e||t&&e.tag!==t);
}}(),t.Mark.prototype.buildImplied=function(e){var n,i,r=e.left,o=e.right,a=e.top,s=e.bottom,l=this.properties,u=l.width?e.width:0,c=l.height?e.height:0;
if(null==u||null==o||null==r){n=this.parent&&this.parent.instance(),i=!0;var h=n?n.width:u+r+o;
null==u?u=h-(o=o||0)-(r=r||0):null==o?null==r?r=o=(h-u)/2:o=h-u-r:r=h-u-o}if(null==c||null==s||null==a){
i||(n=this.parent&&this.parent.instance());var d=n?n.height:c+a+s;null==c?c=d-(a=a||0)-(s=s||0):null==s?s=null==a?a=(d-c)/2:d-c-a:a=d-c-s;
}e.left=r,e.right=o,e.top=a,e.bottom=s,l.width&&(e.width=u),l.height&&(e.height=c),
l.textStyle&&!e.textStyle&&(e.textStyle=t.FillStyle.transparent),l.fillStyle&&!e.fillStyle&&(e.fillStyle=t.FillStyle.transparent),
l.strokeStyle&&!e.strokeStyle&&(e.strokeStyle=t.FillStyle.transparent)},t.Mark.prototype.mouse=function(){
var e=this.root.canvas(),n=t.event,i=n&&n.pageX||0,r=n&&n.pageY||0,o=t.elementOffset(e);
if(o){var a=t.cssStyle(e);i-=o.left+parseFloat(a("padding-left")||0),r-=o.top+parseFloat(a("padding-top")||0);
}var s=t.Transform.identity,l=this.properties.transform?this:this.parent,u=[];do u.push(l);while(l=l.parent);
for(;l=u.pop();){var c=l.instance();s=s.translate(c.left,c.top).times(c.transform);
}return s=s.invert(),t.vector(i*s.k+s.x,r*s.k+s.y)},t.Mark.prototype.event=function(e,n){
n=t.functor(n);var i=this.$handlers[e];return i?i instanceof Array?i.push(n):i=[i,n]:i=n,
this.$hasHandlers=!0,this.$handlers[e]=i,this},t.Mark.prototype.context=function(e,n,i){
function r(e,n){if(t.Mark.scene=e,a.index=n,e){var i,r=e.mark,o=r,l=[];do l.push(o),
s.push(e[n].data),o.index=n,o.scene=e,(o=o.parent)&&(n=e.parentIndex,e=e.parent);while(o);
var u=1;if(i=l.length-1,i>0)do o=l[i--],o.scale=u,u*=o.scene[o.index].transform.k;while(i);
r.scale=u;var c,h=r.children;if(h&&(c=h.length)>0){var d=r.scene[r.index];u*=d.transform.k;
var f=d.children;for(i=c;i--;)o=h[i],o.scene=f[i],o.scale=u}}}function o(e){if(e){
var t,n=e.mark,i=n.children;if(i)for(var r=i.length;r--;)t=i[r],t.scene=void 0,t.scale=1;
t=n;var o,a=0;do a++,delete t.index,(o=t.parent)&&(t.scene=void 0,t.scale=1);while(t=o);
a&&(s.length-=a)}}var a=t.Mark.prototype,s=t.Mark.stack,l=t.Mark.scene,u=a.index;if(e&&e===l&&n===u)try{
i.apply(this,s)}catch(c){throw t.error(c),c}finally{t.Mark.scene=l,a.index=u}else{
o(l,u),r(e,n);try{i.apply(this,s)}catch(c){throw t.error(c),c}finally{o(e,n),r(l,u);
}}},t.Mark.prototype.getEventHandler=function(e,t,n,i){var r=this.$handlers[e];return r?[r,t,n,i]:this.getParentEventHandler(e,t,n,i);
},t.Mark.prototype.getParentEventHandler=function(e,t,n,i){var r=t.parent;return r?r.mark.getEventHandler(e,r,t.parentIndex,i):void 0;
},t.Mark.dispatch=function(e,t,n,i){var r=t.mark.root;if(r.$transition)return!0;var o,a=r.$interceptors&&r.$interceptors[e];
if(a)for(var s=0,l=a.length;l>s&&!(o=a[s](e,i));s++)if(o===!1)return!0;return o||(o=t.mark.getEventHandler(e,t,n,i))?this.handle.apply(this,o):!1;
},t.Mark.handle=function(e,n,i,r){var o=n.mark;return o.context(n,i,function(){var n,i,a,s=t.Mark.stack.concat(r);
if(e instanceof Array){var l;for(n=0,i=e.length;i>n;n++)a=e[n].apply(o,s),a&&a.render&&(l||(l=[])).push(a);
if(l)for(n=0,i=l.length;i>n;n++)l[n].render()}else a=e.apply(o,s),a&&a.render&&a.render();
}),!0},t.Mark.prototype.addEventInterceptor=function(e,t,n){var i=this.root;if(i){
var r=i.$interceptors||(i.$interceptors={}),o=r[e]||(r[e]=[]);n?o.unshift(t):o.push(t);
}},t.Mark.prototype.eachInstance=function(e,n){function i(t,r,a){var l=t.length;if(l>0){
var u,c=r===s;c||(u=o[r]);for(var h=0;l>h;h++){var d=t[h];if(d.visible)if(r===s)e.call(n,t,h,a);else{
var f=d.children[u];if(f){var p=a.times(d.transform).translate(d.left,d.top);i(f,r+1,p);
}}}}}for(var r=this,o=[];r.parent;)o.unshift(r.childIndex),r=r.parent;var a=r.scene;
if(a){var s=o.length;i(a,0,t.Transform.identity)}},t.Mark.prototype.toScreenTransform=function(){
var e=t.Transform.identity;this instanceof t.Panel&&(e=e.translate(this.left(),this.top()).times(this.transform()));
var n=this.parent;if(n)do e=e.translate(n.left(),n.top()).times(n.transform());while(n=n.parent);
return e},t.Mark.prototype.transition=function(){return new t.Transition(this)},t.Mark.prototype.on=function(e){
return this["$"+e]=new t.Transient(this)},t.Mark.prototype.getShape=function(e,t,n){
var i=e[t];if(!i.visible)return null;null==n&&(n=0);var r="_shape_inset_"+n;return i[r]||(i[r]=this.getShapeCore(e,t,n));
},t.Mark.prototype.getShapeCore=function(e,n,i){var r=e[n],o=r.left,a=r.top,s=r.width,l=r.height;
if(i>0&&1>=i){var u=i*s,c=i*l;o+=u,a+=c,s-=2*u,l-=2*c}return new t.Shape.Rect(o,a,s,l);
},t.Mark.prototype.pointingRadiusMax=function(e){return arguments.length?(e=+e,this._pointingRadiusMax=isNaN(e)||0>e?0:e,
this):this._pointingRadiusMax},t.Mark.prototype._pointingRadiusMax=1/0,t.Anchor=function(e){
t.Mark.call(this),this.target=e,this.parent=e.parent},t.Anchor.prototype=t.extend(t.Mark).property("name",String),
t.Anchor.prototype.extend=function(e){return this.proto=e,this},t.Area=function(){
t.Mark.call(this)},t.Area.castSegmented=function(e){if(!e)return"";switch(e=String(e).toLowerCase()){
case"smart":case"full":break;default:e="full"}return e},t.Area.prototype=t.extend(t.Mark).property("width",Number).property("height",Number).property("lineWidth",Number).property("lineJoin",t.stringLowerCase).property("strokeMiterLimit",Number).property("lineCap",t.stringLowerCase).property("strokeDasharray",t.stringLowerCase).property("strokeStyle",t.fillStyle).property("fillStyle",t.fillStyle).property("segmented",t.Area.castSegmented).property("interpolate",t.stringLowerCase).property("tension",Number),
t.Area.prototype.type="area",t.Area.prototype.defaults=(new t.Area).extend(t.Mark.prototype.defaults).lineWidth(1.5).fillStyle(t.Colors.category20().by(t.parent)).interpolate("linear").tension(.7).lineJoin("miter").strokeMiterLimit(8).lineCap("butt").strokeDasharray("none"),
t.Area.prototype.buildImplied=function(e){null==e.height&&(e.height=0),null==e.width&&(e.width=0),
t.Mark.prototype.buildImplied.call(this,e)},t.Area.fixed={lineWidth:1,lineJoin:1,
strokeMiterLimit:1,lineCap:1,strokeStyle:1,strokeDasharray:1,fillStyle:1,segmented:1,
interpolate:1,tension:1},t.Area.prototype.bind=function(){t.Mark.prototype.bind.call(this);
for(var e=this.binds,n=e.required,i=e.optional,r=0,o=i.length;o>r;r++){var a=i[r];
a.fixed=a.name in t.Area.fixed,"segmented"==a.name&&(n.push(a),i.splice(r,1),r--,
o--)}this.binds.$required=n,this.binds.$optional=i},t.Area.prototype.buildInstance=function(e){
function n(e){return!e.fixed||(r.push(e),!1)}var i=this.binds;if(this.index){var r=i.fixed;
r||(r=i.fixed=[],i.required=i.required.filter(n),this.scene[0].segmented||(i.optional=i.optional.filter(n)));
var o=r.length;if(o)for(var a=this.scene[0],s=0;o>s;s++){var l=r[s].name;e[l]=a[l];
}}else i.required=i.$required,i.optional=i.$optional,i.fixed=null;t.Mark.prototype.buildInstance.call(this,e);
},t.Area.prototype.anchor=function(e){return t.Mark.prototype.anchor.call(this,e).interpolate(function(){
return this.scene.target[this.index].interpolate}).eccentricity(function(){return this.scene.target[this.index].eccentricity;
}).tension(function(){return this.scene.target[this.index].tension})},t.Area.prototype.getEventHandler=function(e,n,i,r){
var o=n[i],a=1===t.Scene.mousePositionEventSet[e]&&(!o.segmented||"smart"===o.segmented);
if(!a)return t.Mark.prototype.getEventHandler.call(this,e,n,i,r);var s,l="mousemove"===e?this.$handlers.mouseover:null,u=this.$handlers[e],c=u||l;
return c&&(s=this.getNearestInstanceToMouse(n,i),l&&!this.filterMouseMove(n,s)&&(l=null,
c=u)),c?(u&&l&&(c=[].concat(u,l)),[c,n,s,r]):this.getParentEventHandler(e,n,i,r)},
t.Area.prototype.filterMouseMove=function(e,t){var n=this._mouseOverScene;return n&&n===e&&this._mouseOverIndex===t?void 0:(this._mouseOverScene=e,
this._mouseOverIndex=t,!0)},t.Area.prototype.getNearestInstanceToMouse=function(e,t){
for(var n=this.mouse(),i=1/0,r=null,o=t,a=e.length;a>o;o++){var s=this.getShape(e,o);
if(s){if(s.containsPoint(n))return o;var l=s.distance2(n).dist2;i>l&&(i=l,r=o)}}return null!=r?r:t;
},t.Area.prototype.getShapeCore=function(e,n){var i=e[n],r=i.width||0,o=i.height||0,a=i.left,s=i.top,l=n+1<e.length?e[n+1]:null;
if(!l||!l.visible)return new t.Shape.Line(a,s,a+r,s+o);var u=l.left,c=l.top,h=l.height||0,d=l.width||0;
return new t.Shape.Polygon([new t.Vector(a,s),new t.Vector(u,c),new t.Vector(u+d,c+h),new t.Vector(a+r,s+o)]);
},t.Bar=function(){t.Mark.call(this)},t.Bar.prototype=t.extend(t.Mark).property("width",Number).property("height",Number).property("lineWidth",Number).property("strokeStyle",t.fillStyle).property("fillStyle",t.fillStyle).property("lineCap",t.stringLowerCase).property("strokeDasharray",t.stringLowerCase),
t.Bar.prototype.type="bar",t.Bar.prototype.defaults=(new t.Bar).extend(t.Mark.prototype.defaults).lineWidth(1.5).fillStyle(t.Colors.category20().by(t.parent)).lineCap("butt").strokeDasharray("none"),
t.Dot=function(){t.Mark.call(this)},t.Dot.prototype=t.extend(t.Mark).property("shape",t.stringLowerCase).property("shapeAngle",Number).property("shapeRadius",Number).property("shapeSize",Number).property("aspectRatio",Number).property("lineWidth",Number).property("strokeStyle",t.fillStyle).property("lineCap",t.stringLowerCase).property("strokeDasharray",t.stringLowerCase).property("fillStyle",t.fillStyle),
t.Dot.prototype.type="dot",t.Dot.prototype.defaults=(new t.Dot).extend(t.Mark.prototype.defaults).shape("circle").aspectRatio(1).lineWidth(1.5).strokeStyle(t.Colors.category10().by(t.parent)).lineCap("butt").strokeDasharray("none"),
t.Dot.prototype.anchor=function(e){return t.Mark.prototype.anchor.call(this,e).left(function(){
var e=this.scene.target[this.index];switch(this.name()){case"bottom":case"top":case"center":
return e.left;case"left":return null}return e.left+e._width/2}).right(function(){
var e=this.scene.target[this.index];return"left"==this.name()?e.right+e._width/2:null;
}).top(function(){var e=this.scene.target[this.index];switch(this.name()){case"left":
case"right":case"center":return e.top;case"top":return null}return e.top+e._height/2;
}).bottom(function(){var e=this.scene.target[this.index];return"top"==this.name()?e.bottom+e._height/2:null;
}).textAlign(function(){switch(this.name()){case"left":return"right";case"bottom":
case"top":case"center":return"center"}return"left"}).textBaseline(function(){switch(this.name()){
case"right":case"left":case"center":return"middle";case"bottom":return"top"}return"bottom";
})},t.Dot.prototype.buildImplied=function(e){var n=e.shapeRadius,i=e.shapeSize,r=e.aspectRatio||1;
null==n?null==i?(i=e.shapeSize=20.25,n=e.shapeRadius=4.5):n=e.shapeRadius=Math.sqrt(i):null==i&&(i=e.shapeSize=n*n);
var o,a;1===r||0>r?o=a=2*n:(o=2*n/Math.sqrt(r),a=r*o),e._height=o,e._width=a,t.Mark.prototype.buildImplied.call(this,e);
},t.Dot.prototype.width=function(){return this.instance()._width},t.Dot.prototype.height=function(){
return this.instance()._height},t.Dot.prototype.getShapeCore=function(e,n){var i=e[n],r=i._width,o=i._height,a=i.left,s=i.top;
switch(i.shape){case"diamond":r*=Math.SQRT2,o*=Math.SQRT2;case"square":case"cross":
return new t.Shape.Rect(a-o/2,s-r/2,o,r)}return new t.Shape.Circle(a,s,i.shapeRadius);
},t.Label=function(){t.Mark.call(this)},t.Label.prototype=t.extend(t.Mark).property("text",String).property("font",String).property("textAngle",Number).property("textStyle",t.color).property("textAlign",t.stringLowerCase).property("textBaseline",t.stringLowerCase).property("textMargin",Number).property("textDecoration",String).property("textShadow",String),
t.Label.prototype.type="label",t.Label.prototype.defaults=(new t.Label).extend(t.Mark.prototype.defaults).events("none").text(t.identity).font("10px sans-serif").textAngle(0).textStyle("black").textAlign("left").textBaseline("bottom").textMargin(3),
t.Label.prototype.getShapeCore=function(e,n,i){var r=e[n],o=t.Text.measure(r.text,r.font),a=r.left,s=r.top,l=o.width,u=o.height;
if(i>0&&1>=i){var c=i*l,h=i*u;a+=c,s+=h,l-=2*c,u-=2*h}return t.Label.getPolygon(l,u,r.textAlign,r.textBaseline,r.textAngle,r.textMargin).apply(t.Transform.identity.translate(a,s));
},t.Label.getPolygon=function(e,n,i,r,o,a){var s,l;switch(r){case"middle":l=n/2;break;
case"top":l=a+n;break;case"bottom":l=-a}switch(i){case"right":s=-a-e;break;case"center":
s=-e/2;break;case"left":s=a}var u=new t.Vector(s,l),c=u.plus(e,0),h=c.plus(0,-n),d=u.plus(0,-n);
return 0!==o&&(u=u.rotate(o),c=c.rotate(o),d=d.rotate(o),h=h.rotate(o)),new t.Shape.Polygon([u,c,h,d]);
},t.Line=function(){t.Mark.call(this)},t.Line.prototype=t.extend(t.Mark).property("lineWidth",Number).property("lineJoin",t.stringLowerCase).property("strokeMiterLimit",Number).property("lineCap",t.stringLowerCase).property("strokeStyle",t.fillStyle).property("strokeDasharray",t.stringLowerCase).property("fillStyle",t.fillStyle).property("segmented",t.Area.castSegmented).property("interpolate",t.stringLowerCase).property("eccentricity",Number).property("tension",Number),
t.Line.prototype.type="line",t.Line.prototype.defaults=(new t.Line).extend(t.Mark.prototype.defaults).lineWidth(1.5).strokeStyle(t.Colors.category10().by(t.parent)).interpolate("linear").eccentricity(0).tension(.7).lineJoin("miter").strokeMiterLimit(8).lineCap("butt").strokeDasharray("none"),
t.Line.prototype.bind=t.Area.prototype.bind,t.Line.prototype.buildInstance=t.Area.prototype.buildInstance,
t.Line.prototype.getEventHandler=t.Area.prototype.getEventHandler,t.Line.prototype.getNearestInstanceToMouse=t.Area.prototype.getNearestInstanceToMouse,
t.Line.prototype.filterMouseMove=t.Area.prototype.filterMouseMove,t.Line.prototype.anchor=function(e){
return t.Area.prototype.anchor.call(this,e).textAlign(function(){switch(this.name()){
case"left":return"right";case"bottom":case"top":case"center":return"center";case"right":
return"left"}}).textBaseline(function(){switch(this.name()){case"right":case"left":
case"center":return"middle";case"top":return"bottom";case"bottom":return"top"}})},
t.Line.prototype.getShapeCore=function(e,n){var i=e[n],r=n+1<e.length?e[n+1]:null;
return null!=r&&r.visible?new t.Shape.Line(i.left,i.top,r.left,r.top):new t.Shape.Point(i.left,i.top);
},t.Rule=function(){t.Mark.call(this)},t.Rule.prototype=t.extend(t.Mark).property("width",Number).property("height",Number).property("lineWidth",Number).property("strokeStyle",t.fillStyle).property("lineCap",t.stringLowerCase).property("strokeDasharray",t.stringLowerCase),
t.Rule.prototype.type="rule",t.Rule.prototype.defaults=(new t.Rule).extend(t.Mark.prototype.defaults).lineWidth(1).strokeStyle("black").antialias(!1).lineCap("butt").strokeDasharray("none"),
t.Rule.prototype.anchor=t.Line.prototype.anchor,t.Rule.prototype.buildImplied=function(e){
var n=e.left,i=e.right;e.top,e.bottom,null!=e.width||null==n&&null==i||null!=i&&null!=n?e.height=0:e.width=0,
t.Mark.prototype.buildImplied.call(this,e)},t.Rule.prototype.getShapeCore=function(e,n){
var i=e[n];return new t.Shape.Line(i.left,i.top,i.left+i.width,i.top+i.height)},t.Panel=function(){
t.Bar.call(this),this.children=[],this.root=this,this.$dom=t.$&&t.$.s},t.Panel.prototype=t.extend(t.Bar).property("transform").property("overflow",t.stringLowerCase).property("canvas",function(e){
return"string"==typeof e?document.getElementById(e):e}),t.Panel.prototype.type="panel",
t.Panel.prototype.isPointingBarrier=!1,t.Panel.prototype._zOrderChildCount=0,t.Panel.prototype.defaults=(new t.Panel).extend(t.Bar.prototype.defaults).fillStyle(null).overflow("visible"),
t.Panel.prototype.anchor=function(e){var n=t.Bar.prototype.anchor.call(this,e);return n.parent=this,
n},t.Panel.prototype.add=function(e){var t=new e;t.parent=this,t.root=this.root,t.childIndex=this.children.length,
this.children.push(t);var n=+t._zOrder||0;return 0!==n&&this._zOrderChildCount++,
t},t.Panel.prototype.bind=function(){t.Mark.prototype.bind.call(this);for(var e=this.children,n=0,i=e.length;i>n;n++)e[n].bind();
},t.Panel.prototype.buildInstance=function(e){if(t.Bar.prototype.buildInstance.call(this,e),
e.visible){var n=this.scale*e.transform.k;t.Mark.prototype.index=-1;for(var i,r=this.children,o=e.children||(e.children=[]),a=0,s=r.length;s>a;a++)i=r[a],
i.scene=o[a],i.scale=n,i.build();for(a=s;a--;)i=r[a],o[a]=i.scene,delete i.scene,
delete i.scale;o.length=s}},t.Panel.prototype.buildImplied=function(e){this.parent||this._buildRootInstanceImplied(e)?(e.transform||(e.transform=t.Transform.identity),
t.Mark.prototype.buildImplied.call(this,e)):e.visible=!1},t.Panel.prototype._buildRootInstanceImplied=function(e){
var t=e.canvas;if(t){if(!this._rootInstanceStealCanvas(e,t))return!1;this._rootInstanceInitCanvas(e,t);
}else e.canvas=this._rootInstanceGetInlineCanvas(e);return!0},t.Panel.prototype._rootInstanceStealCanvas=function(e,n){
var i=n.$panel;if(i!==this){if(i){if(this.$lastCreateId)return!1;i._disposeRootPanel(),
this._updateCreateId(n)}n.$panel=this,t.removeChildren(n)}else this._updateCreateId(n);
return!0},t.Panel.prototype._registerBoundEvent=function(e,t,n,i){if(e.removeEventListener){
var r=this._boundEvents||(this._boundEvents=[]);r.push([e,t,n,i])}},t.Panel.prototype.dispose=function(){
var e=this.root,t=e.scene;e._disposeRootPanel();var n=t?e.canvas():null;e.canvas(null),
n&&(n.$panel=null),e.binds=null,t&&(t.$defs=null,t.$g=null,e.scene=null)},t.Panel.prototype._disposeRootPanel=function(){
var e=this.$transition;e&&e.stop();var t=this._boundEvents;if(t){this._boundEvents=null;
for(var n=0,i=t.length;i>n;n++){var r=t[n];r[0].removeEventListener(r[1],r[2],r[3]);
}}},t.Panel.prototype._rootInstanceInitCanvas=function(e,n){var i,r,o;null==e.width&&(o=t.cssStyle(n),
i=parseFloat(o("width")||0),e.width=i-e.left-e.right),null==e.height&&(o||(o=t.cssStyle(n)),
r=parseFloat(o("height")||0),e.height=r-e.top-e.bottom),o=null},t.Panel.prototype._rootInstanceGetInlineCanvas=function(){
var e,t=this.$canvas||(this.$canvas=[]);if(!(e=t[this.index]))if(e=t[this.index]=document.createElement("span"),
this.$dom)this.$dom.parentNode.insertBefore(e,this.$dom);else{for(var n=document.body;n.lastChild&&n.lastChild.tagName;)n=n.lastChild;
n!=document.body&&(n=n.parentNode),n.appendChild(e)}return e},t.Panel.prototype._updateCreateId=function(e){
this.$lastCreateId=e.$pvCreateId=(e.$pvCreateId||0)+1},t.Image=function(){t.Bar.call(this);
},t.Image.prototype=t.extend(t.Bar).property("url",String).property("imageWidth",Number).property("imageHeight",Number),
t.Image.prototype.type="image",t.Image.prototype.defaults=(new t.Image).extend(t.Bar.prototype.defaults).fillStyle(null),
t.Image.prototype.image=function(e){return this.$image=function(){var n=e.apply(this,arguments);
return null==n?t.Color.transparent:"string"==typeof n?t.color(n):n},this},t.Image.prototype.bind=function(){
t.Bar.prototype.bind.call(this);var e=this.binds,n=this;do e.image=n.$image;while(!e.image&&(n=n.proto));
},t.Image.prototype.buildImplied=function(e){if(t.Bar.prototype.buildImplied.call(this,e),
e.visible&&(null==e.imageWidth&&(e.imageWidth=e.width),null==e.imageHeight&&(e.imageHeight=e.height),
null==e.url&&this.binds.image)){var n,i=this.$canvas||(this.$canvas=document.createElement("canvas")),r=i.getContext("2d"),o=e.imageWidth,a=e.imageHeight,s=t.Mark.stack;
i.width=o,i.height=a,n=(e.image=r.createImageData(o,a)).data,s.unshift(null,null);
for(var l=0,u=0;a>l;l++){s[1]=l;for(var c=0;o>c;c++){s[0]=c;var h=this.binds.image.apply(this,s);
n[u++]=h.r,n[u++]=h.g,n[u++]=h.b,n[u++]=255*h.a}}s.splice(0,2)}},t.Wedge=function(){
t.Mark.call(this)},t.Wedge.prototype=t.extend(t.Mark).property("startAngle",Number).property("endAngle",Number).property("angle",Number).property("innerRadius",Number).property("outerRadius",Number).property("lineWidth",Number).property("strokeStyle",t.fillStyle).property("lineJoin",t.stringLowerCase).property("strokeMiterLimit",Number).property("lineCap",t.stringLowerCase).property("strokeDasharray",t.stringLowerCase).property("fillStyle",t.fillStyle),
t.Wedge.prototype.type="wedge",t.Wedge.prototype.defaults=(new t.Wedge).extend(t.Mark.prototype.defaults).startAngle(function(){
var e=this.sibling();return e?e.endAngle:-Math.PI/2}).innerRadius(0).lineWidth(1.5).strokeStyle(null).fillStyle(t.Colors.category20().by(t.index)).lineJoin("miter").strokeMiterLimit(8).lineCap("butt").strokeDasharray("none"),
t.Wedge.prototype.midRadius=function(){return(this.innerRadius()+this.outerRadius())/2;
},t.Wedge.prototype.midAngle=function(){return(this.startAngle()+this.endAngle())/2;
},t.Wedge.prototype.anchor=function(e){function n(e){return e.innerRadius||e.angle<2*Math.PI;
}function i(e){return(e.innerRadius+e.outerRadius)/2}function r(e){return(e.startAngle+e.endAngle)/2;
}return t.Mark.prototype.anchor.call(this,e).left(function(){var e=this.scene.target[this.index];
if(n(e))switch(this.name()){case"outer":return e.left+e.outerRadius*Math.cos(r(e));
case"inner":return e.left+e.innerRadius*Math.cos(r(e));case"start":return e.left+i(e)*Math.cos(e.startAngle);
case"center":return e.left+i(e)*Math.cos(r(e));case"end":return e.left+i(e)*Math.cos(e.endAngle);
}return e.left}).top(function(){var e=this.scene.target[this.index];if(n(e))switch(this.name()){
case"outer":return e.top+e.outerRadius*Math.sin(r(e));case"inner":return e.top+e.innerRadius*Math.sin(r(e));
case"start":return e.top+i(e)*Math.sin(e.startAngle);case"center":return e.top+i(e)*Math.sin(r(e));
case"end":return e.top+i(e)*Math.sin(e.endAngle)}return e.top}).textAlign(function(){
var e=this.scene.target[this.index];if(n(e))switch(this.name()){case"outer":return t.Wedge.upright(r(e))?"right":"left";
case"inner":return t.Wedge.upright(r(e))?"left":"right"}return"center"}).textBaseline(function(){
var e=this.scene.target[this.index];if(n(e))switch(this.name()){case"start":return t.Wedge.upright(e.startAngle)?"top":"bottom";
case"end":return t.Wedge.upright(e.endAngle)?"bottom":"top"}return"middle"}).textAngle(function(){
var e=this.scene.target[this.index],i=0;if(n(e))switch(this.name()){case"center":
case"inner":case"outer":i=r(e);break;case"start":i=e.startAngle;break;case"end":i=e.endAngle;
}return t.Wedge.upright(i)?i:i+Math.PI})},t.Wedge.upright=function(e){return e%=2*Math.PI,
e=0>e?2*Math.PI+e:e,e<Math.PI/2||e>=3*Math.PI/2},t.Wedge.prototype.buildImplied=function(e){
null==e.angle?e.angle=e.endAngle-e.startAngle:null==e.endAngle&&(e.endAngle=e.startAngle+e.angle),
t.Mark.prototype.buildImplied.call(this,e)},t.Wedge.prototype.getShapeCore=function(e,n){
var i=e[n];return new t.Shape.Wedge(i.left,i.top,i.innerRadius,i.outerRadius,i.startAngle,i.angle);
},t.Ease=function(){function e(e){return function(t){return 1-e(1-t)}}function n(e){
return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function i(e){return function(t){
return 0>t?0:t>1?1:Math.pow(t,e)}}function r(e){return 1-Math.cos(e*Math.PI/2)}function o(e){
return e?Math.pow(2,10*(e-1))-.001:0}function a(e){return-(Math.sqrt(1-e*e)-1)}function s(e,t){
var n;return t||(t=.45),!e||1>e?(e=1,n=t/4):n=t/(2*Math.PI)*Math.asin(1/e),function(i){
return 0>=i||i>=1?i:-(e*Math.pow(2,10*--i)*Math.sin(2*(i-n)*Math.PI/t))}}function l(e){
return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function u(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375;
}var c=i(2),h=i(3),d=s(),f=l(),p={linear:t.identity,"quad-in":c,"quad-out":e(c),"quad-in-out":n(c),
"quad-out-in":n(e(c)),"cubic-in":h,"cubic-out":e(h),"cubic-in-out":n(h),"cubic-out-in":n(e(h)),
"sin-in":r,"sin-out":e(r),"sin-in-out":n(r),"sin-out-in":n(e(r)),"exp-in":o,"exp-out":e(o),
"exp-in-out":n(o),"exp-out-in":n(e(o)),"circle-in":a,"circle-out":e(a),"circle-in-out":n(a),
"circle-out-in":n(e(a)),"elastic-in":d,"elastic-out":e(d),"elastic-in-out":n(d),"elastic-out-in":n(e(d)),
"back-in":f,"back-out":e(f),"back-in-out":n(f),"back-out-in":n(e(f)),"bounce-in":u,
"bounce-out":e(u),"bounce-in-out":n(u),"bounce-out-in":n(e(u))};return t.ease=function(e){
return p[e]},{reverse:e,reflect:n,linear:function(){return t.identity},sin:function(){
return r},exp:function(){return o},circle:function(){return a},elastic:s,back:l,bounce:u,
poly:i}}(),t.Transient=function(e){t.Mark.call(this),this.fillStyle(null).strokeStyle(null).textStyle(null),
this.on=function(t){return e.on(t)}},t.Transient.prototype=t.extend(t.Mark),!function(){
function e(e){for(var t={},n=e.length;n--;){var i=e[n],r=i.id;r&&(t[r]=i)}return t;
}function n(e,n,i,r){var o;if(n in s){var a=t.Scale.interpolator(i[n],r[n]);o=function(e){
i[n]=a(e)}}else o=function(e){e>.5&&(i[n]=r[n])};o.next=e.head,e.head=o}function i(e,t,i){
for(var r in t)"children"!==r&&t[r]!=i[r]&&n(e,r,t,i);var a=t.children;if(a)for(var s=i.children,l=0,u=a.length;u>l;l++)o(e,a[l],s[l]);
}function r(e,t,n,i){var r,o=Object.create(e[t]),a=e.mark,s=a.root.scene;i.target&&(r=i.target[i.length])&&(e=Object.create(e),
e.target=Object.create(i.target),e.target[t]=r),n||(n=l);var u=n.$properties,c=n.$propertiesMap;
return u=a.binds.optional.filter(function(e){return!(e.name in c)}).concat(u),a.context(e,t,function(){
this.buildProperties(o,u),this.buildImplied(o)}),a.root.scene=s,o}function o(t,n,o){
for(var a,s,l=n.mark,u=e(n),c=e(o),h=0,d=n.length;d>h;h++)if(a=n[h],s=a.id?c[a.id]:o[h],
a.index=h,a.visible){if(!s||!s.visible){var f=r(n,h,l.$exit,o);a.transition=s?2:(o.push(f),
1),s=f}i(t,a,s)}for(h=0,d=o.length;d>h;h++)if(s=o[h],a=s.id?u[s.id]:n[h],(!a||!a.visible)&&s.visible){
var p=r(o,h,l.$enter,n);a?n[a.index]=p:n.push(p),i(t,p,s)}}function a(e){for(var t=0,n=0;t<e.length;t++){
var i=e[t];1!=i.transition&&(e[n++]=i,2==i.transition&&(i.visible=!1),i.children&&i.children.forEach(a));
}e.length=n}var s={top:1,left:1,right:1,bottom:1,width:1,height:1,innerRadius:1,outerRadius:1,
radius:1,shapeRadius:1,shapeSize:1,startAngle:1,endAngle:1,angle:1,fillStyle:1,strokeStyle:1,
lineWidth:1,eccentricity:1,tension:1,textAngle:1,textStyle:1,textMargin:1},l=new t.Transient;
t.Transition=function(e){function n(t){var n=e.root.$transition===l;if(n&&(e.root.$transition=null),
null!=i&&(clearInterval(i),i=null),n&&h(e.scene),r){var o=r;r=null,o(t)}return t}
var i,r,s,l=this,u=t.ease("cubic-in-out"),c=250,h=function(e){s||(s=!0,a(e))};l.ease=function(e){
return arguments.length?(u="function"==typeof e?e:t.ease(e),l):u},l.duration=function(e){
return arguments.length?(c=Number(e),l):c},l.start=function(a){if(e.parent)throw new Error("Animated partial rendering is not supported.");
r=a;var s=e.root;if(s.$transition)try{s.$transition.stop()}catch(d){return n(!1)}
var f,p;s.$transition=l,s._renderId++;var m=e.scene;e.scene=null;var g=t.Mark.prototype.index;
try{e.bind(),e.build();var v=e.scene;e.scene=m,t.Mark.prototype.index=g,p=Date.now(),
f={},o(f,m,v)}catch(d){return t.Mark.prototype.index=g,n(!1)}if(!f.head)return n(!0);
var y=function(){var i=Math.max(0,Math.min(1,(Date.now()-p)/c)),r=u(i),o=f.head;do o(r);while(o=o.next);
1===i?(h(e.scene),t.Scene.updateAll(m),n(!0)):t.Scene.updateAll(m)};i=setInterval(function(){
try{y()}catch(e){n(!1)}},24)},l.stop=function(){n(!0)}}}(),t.simulation=function(e){
return new t.Simulation(e)},t.Simulation=function(e){for(var t=0;t<e.length;t++)this.particle(e[t]);
},t.Simulation.prototype.particle=function(e){return e.next=this.particles,isNaN(e.px)&&(e.px=e.x),
isNaN(e.py)&&(e.py=e.y),isNaN(e.fx)&&(e.fx=0),isNaN(e.fy)&&(e.fy=0),this.particles=e,
this},t.Simulation.prototype.force=function(e){return e.next=this.forces,this.forces=e,
this},t.Simulation.prototype.constraint=function(e){return e.next=this.constraints,
this.constraints=e,this},t.Simulation.prototype.stabilize=function(e){var n;arguments.length||(e=3);
for(var i=0;e>i;i++){var r=new t.Quadtree(this.particles);for(n=this.constraints;n;n=n.next)n.apply(this.particles,r);
}for(var o=this.particles;o;o=o.next)o.px=o.x,o.py=o.y;return this},t.Simulation.prototype.step=function(){
var e,n,i;for(e=this.particles;e;e=e.next){var r=e.px,o=e.py;e.px=e.x,e.py=e.y,e.x+=e.vx=e.x-r+e.fx,
e.y+=e.vy=e.y-o+e.fy}var a=new t.Quadtree(this.particles);for(i=this.constraints;i;i=i.next)i.apply(this.particles,a);
for(e=this.particles;e;e=e.next)e.fx=e.fy=0;for(n=this.forces;n;n=n.next)n.apply(this.particles,a);
},t.Quadtree=function(e){function n(e,t,n,r,o,a){if(!isNaN(t.x)&&!isNaN(t.y))if(e.leaf)if(e.p)if(Math.abs(e.p.x-t.x)+Math.abs(e.p.y-t.y)<.01)i(e,t,n,r,o,a);else{
var s=e.p;e.p=null,i(e,s,n,r,o,a),i(e,t,n,r,o,a)}else e.p=t;else i(e,t,n,r,o,a)}function i(e,i,r,o,a,s){
var l=.5*(r+a),u=.5*(o+s),c=i.x>=l,h=i.y>=u;switch(e.leaf=!1,(h<<1)+c){case 0:e=e.c1||(e.c1=new t.Quadtree.Node);
break;case 1:e=e.c2||(e.c2=new t.Quadtree.Node);break;case 2:e=e.c3||(e.c3=new t.Quadtree.Node);
break;case 3:e=e.c4||(e.c4=new t.Quadtree.Node)}c?r=l:a=l,h?o=u:s=u,n(e,i,r,o,a,s);
}var r,o=Number.POSITIVE_INFINITY,a=o,s=Number.NEGATIVE_INFINITY,l=s;for(r=e;r;r=r.next)r.x<o&&(o=r.x),
r.y<a&&(a=r.y),r.x>s&&(s=r.x),r.y>l&&(l=r.y);var u=s-o,c=l-a;for(u>c?l=a+u:s=o+c,
this.xMin=o,this.yMin=a,this.xMax=s,this.yMax=l,this.root=new t.Quadtree.Node,r=e;r;r=r.next)n(this.root,r,o,a,s,l);
},t.Quadtree.Node=function(){this.leaf=!0,this.c1=null,this.c2=null,this.c3=null,
this.c4=null,this.p=null},t.Force={},t.Force.charge=function(e){function t(n){function i(e){
t(e),n.cn+=e.cn,r+=e.cn*e.cx,o+=e.cn*e.cy}var r=0,o=0;n.cn=0,n.leaf||(n.c1&&i(n.c1),
n.c2&&i(n.c2),n.c3&&i(n.c3),n.c4&&i(n.c4)),n.p&&(n.cn+=e,r+=e*n.p.x,o+=e*n.p.y),n.cx=r/n.cn,
n.cy=o/n.cn}function n(t,i,o,l,u,c){var h=t.cx-i.x,d=t.cy-i.y,f=1/Math.sqrt(h*h+d*d);
if(t.leaf&&t.p!=i||s>(u-o)*f){if(a>f)return;f>r&&(f=r);var p=t.cn*f*f*f,m=h*p,g=d*p;
i.fx+=m,i.fy+=g}else if(!t.leaf){var v=.5*(o+u),y=.5*(l+c);if(t.c1&&n(t.c1,i,o,l,v,y),
t.c2&&n(t.c2,i,v,l,u,y),t.c3&&n(t.c3,i,o,y,v,c),t.c4&&n(t.c4,i,v,y,u,c),a>f)return;
if(f>r&&(f=r),t.p&&t.p!=i){var p=e*f*f*f,m=h*p,g=d*p;i.fx+=m,i.fy+=g}}}var i=2,r=1/i,o=500,a=1/o,s=.9,l={};
return arguments.length||(e=-40),l.constant=function(t){return arguments.length?(e=Number(t),
l):e},l.domain=function(e,t){return arguments.length?(i=Number(e),r=1/i,o=Number(t),
a=1/o,l):[i,o]},l.theta=function(e){return arguments.length?(s=Number(e),l):s},l.apply=function(e,i){
t(i.root);for(var r=e;r;r=r.next)n(i.root,r,i.xMin,i.yMin,i.xMax,i.yMax)},l},t.Force.drag=function(e){
var t={};return arguments.length||(e=.1),t.constant=function(n){return arguments.length?(e=n,
t):e},t.apply=function(t){if(e)for(var n=t;n;n=n.next)n.fx-=e*n.vx,n.fy-=e*n.vy},
t},t.Force.spring=function(e){var t,n,i=.1,r=20,o={};return arguments.length||(e=.1),
o.links=function(e){return arguments.length?(t=e,n=e.map(function(e){return 1/Math.sqrt(Math.max(e.sourceNode.linkDegree,e.targetNode.linkDegree));
}),o):t},o.constant=function(t){return arguments.length?(e=Number(t),o):e},o.damping=function(e){
return arguments.length?(i=Number(e),o):i},o.length=function(e){return arguments.length?(r=Number(e),
o):r},o.apply=function(){for(var o=0;o<t.length;o++){var a=t[o].sourceNode,s=t[o].targetNode,l=a.x-s.x,u=a.y-s.y,c=Math.sqrt(l*l+u*u),h=c?1/c:1,d=e*n[o],f=i*n[o],p=(d*(c-r)+f*(l*(a.vx-s.vx)+u*(a.vy-s.vy))*h)*h,m=-p*(c?l:.01*(.5-Math.random())),g=-p*(c?u:.01*(.5-Math.random()));
a.fx+=m,a.fy+=g,s.fx-=m,s.fy-=g}},o},t.Constraint={},t.Constraint.collision=function(e){
function t(s,l,u,c,h,d){if(!s.leaf){var f=.5*(u+h),p=.5*(c+d),m=p>r,g=a>p,v=f>i,y=o>f;
m&&(s.c1&&v&&t(s.c1,l,u,c,f,p),s.c2&&y&&t(s.c2,l,f,c,h,p)),g&&(s.c3&&v&&t(s.c3,l,u,p,f,d),
s.c4&&y&&t(s.c4,l,f,p,h,d))}if(s.p&&s.p!=l){var b=l.x-s.p.x,_=l.y-s.p.y,x=Math.sqrt(b*b+_*_),w=n+e(s.p);
if(w>x){var C=(x-w)/x*.5;b*=C,_*=C,l.x-=b,l.y-=_,s.p.x+=b,s.p.y+=_}}}var n,i,r,o,a,s=1,l={};
return arguments.length||(n=10),l.repeat=function(e){return arguments.length?(s=Number(e),
l):s},l.apply=function(l,u){var c,h,d=-1/0;for(c=l;c;c=c.next)h=e(c),h>d&&(d=h);for(var f=0;s>f;f++)for(c=l;c;c=c.next)h=(n=e(c))+d,
i=c.x-h,o=c.x+h,r=c.y-h,a=c.y+h,t(u.root,c,u.xMin,u.yMin,u.xMax,u.yMax)},l},t.Constraint.position=function(e){
var t=1,n={};return arguments.length||(e=function(e){return e.fix}),n.alpha=function(e){
return arguments.length?(t=Number(e),n):t},n.apply=function(n){for(var i=n;i;i=i.next){
var r=e(i);r&&(i.x+=(r.x-i.x)*t,i.y+=(r.y-i.y)*t,i.fx=i.fy=i.vx=i.vy=0)}},n},t.Constraint.bound=function(){
var e,t,n={};return n.x=function(t,n){return arguments.length?(e={min:Math.min(t,n),
max:Math.max(t,n)},this):e},n.y=function(e,n){return arguments.length?(t={min:Math.min(e,n),
max:Math.max(e,n)},this):t},n.apply=function(n){if(e)for(var i=n;i;i=i.next)i.x=i.x<e.min?e.min:i.x>e.max?e.max:i.x;
if(t)for(var i=n;i;i=i.next)i.y=i.y<t.min?t.min:i.y>t.max?t.max:i.y},n},t.Layout=function(){
t.Panel.call(this)},t.Layout.prototype=t.extend(t.Panel),t.Layout.prototype.property=t.Mark.prototype.localProperty,
t.Layout.Network=function(){t.Layout.call(this);var e=this;this.$id=t.id(),(this.node=(new t.Mark).data(function(){
return e.nodes()}).strokeStyle("#1f77b4").fillStyle("#fff").left(function(e){return e.x;
}).top(function(e){return e.y})).parent=this,this.link=(new t.Mark).extend(this.node).data(function(e){
return[e.sourceNode,e.targetNode]}).fillStyle(null).lineWidth(function(e,t){return 1.5*t.linkValue;
}).strokeStyle("rgba(0,0,0,.2)"),this.link.add=function(n){return e.add(t.Panel).data(function(){
return e.links()}).add(n).extend(this)},(this.label=(new t.Mark).extend(this.node).textMargin(7).textBaseline("middle").text(function(e){
return e.nodeName||e.nodeValue}).textAngle(function(e){var n=e.midAngle;return t.Wedge.upright(n)?n:n+Math.PI;
}).textAlign(function(e){return t.Wedge.upright(e.midAngle)?"left":"right"})).parent=this;
},t.Layout.Network.prototype=t.extend(t.Layout).property("nodes",function(e){return e.map(function(e,t){
return"object"!=typeof e&&(e={nodeValue:e}),e.index=t,e})}).property("links",function(e){
return e.map(function(e){return isNaN(e.linkValue)&&(e.linkValue=isNaN(e.value)?1:e.value),
e})}),t.Layout.Network.prototype.reset=function(){return this.$id=t.id(),this},t.Layout.Network.prototype.buildProperties=function(e,n){
(e.$id||0)<this.$id&&t.Layout.prototype.buildProperties.call(this,e,n)},t.Layout.Network.prototype.buildImplied=function(e){
return t.Layout.prototype.buildImplied.call(this,e),e.$id>=this.$id?!0:(e.$id=this.$id,
e.nodes.forEach(function(e){e.linkDegree=0}),void e.links.forEach(function(t){var n=t.linkValue;
(t.sourceNode||(t.sourceNode=e.nodes[t.source])).linkDegree+=n,(t.targetNode||(t.targetNode=e.nodes[t.target])).linkDegree+=n;
}))},t.Layout.Hierarchy=function(){t.Layout.Network.call(this),this.link.strokeStyle("#ccc");
},t.Layout.Hierarchy.prototype=t.extend(t.Layout.Network),t.Layout.Hierarchy.prototype.buildImplied=function(e){
e.links||(e.links=t.Layout.Hierarchy.links.call(this)),t.Layout.Network.prototype.buildImplied.call(this,e);
},t.Layout.Hierarchy.links=function(){return this.nodes().filter(function(e){return e.parentNode;
}).map(function(e){return{sourceNode:e,targetNode:e.parentNode,linkValue:1}})},t.Layout.Hierarchy.NodeLink={
buildImplied:function(e){function t(e){return e.parentNode?e.depth*(h-c)+c:0}function n(e){
return e.parentNode?2*(e.breadth-.25)*Math.PI:0}function i(e){switch(a){case"left":
return e.depth*l;case"right":return l-e.depth*l;case"top":return e.breadth*l;case"bottom":
return l-e.breadth*l;case"radial":return l/2+t(e)*Math.cos(e.midAngle)}}function r(e){
switch(a){case"left":return e.breadth*u;case"right":return u-e.breadth*u;case"top":
return e.depth*u;case"bottom":return u-e.depth*u;case"radial":return u/2+t(e)*Math.sin(e.midAngle);
}}var o=e.nodes,a=e.orient,s=/^(top|bottom)$/.test(a),l=e.width,u=e.height;if("radial"==a){
var c=e.innerRadius,h=e.outerRadius;null==c&&(c=0),null==h&&(h=Math.min(l,u)/2)}for(var d=0;d<o.length;d++){
var f=o[d];f.midAngle="radial"==a?n(f):s?Math.PI/2:0,f.x=i(f),f.y=r(f),f.firstChild&&(f.midAngle+=Math.PI);
}}},t.Layout.Hierarchy.Fill={constructor:function(){this.node.strokeStyle("#fff").fillStyle("#ccc").width(function(e){
return e.dx}).height(function(e){return e.dy}).innerRadius(function(e){return e.innerRadius;
}).outerRadius(function(e){return e.outerRadius}).startAngle(function(e){return e.startAngle;
}).angle(function(e){return e.angle}),this.label.textAlign("center").left(function(e){
return e.x+e.dx/2}).top(function(e){return e.y+e.dy/2}),delete this.link},buildImplied:function(e){
function t(e,t){return(e+t)/(1+t)}function n(e){switch(h){case"left":return t(e.minDepth,m)*f;
case"right":return(1-t(e.maxDepth,m))*f;case"top":return e.minBreadth*f;case"bottom":
return(1-e.maxBreadth)*f;case"radial":return f/2}}function i(e){switch(h){case"left":
return e.minBreadth*p;case"right":return(1-e.maxBreadth)*p;case"top":return t(e.minDepth,m)*p;
case"bottom":return(1-t(e.maxDepth,m))*p;case"radial":return p/2}}function r(e){switch(h){
case"left":case"right":return(e.maxDepth-e.minDepth)/(1+m)*f;case"top":case"bottom":
return(e.maxBreadth-e.minBreadth)*f;case"radial":return e.parentNode?(e.innerRadius+e.outerRadius)*Math.cos(e.midAngle):0;
}}function o(e){switch(h){case"left":case"right":return(e.maxBreadth-e.minBreadth)*p;
case"top":case"bottom":return(e.maxDepth-e.minDepth)/(1+m)*p;case"radial":return e.parentNode?(e.innerRadius+e.outerRadius)*Math.sin(e.midAngle):0;
}}function a(e){return Math.max(0,t(e.minDepth,m/2))*(v-g)+g}function s(e){return t(e.maxDepth,m/2)*(v-g)+g;
}function l(e){return 2*(e.parentNode?e.minBreadth-.25:0)*Math.PI}function u(e){return 2*(e.parentNode?e.maxBreadth-e.minBreadth:1)*Math.PI;
}var c=e.nodes,h=e.orient,d=/^(top|bottom)$/.test(h),f=e.width,p=e.height,m=-c[0].minDepth;
if("radial"==h){var g=e.innerRadius,v=e.outerRadius;null==g&&(g=0),g&&(m*=2),null==v&&(v=Math.min(f,p)/2);
}for(var y=0;y<c.length;y++){var b=c[y];b.x=n(b),b.y=i(b),"radial"==h?(b.innerRadius=a(b),
b.outerRadius=s(b),b.startAngle=l(b),b.angle=u(b),b.midAngle=b.startAngle+b.angle/2):b.midAngle=d?-Math.PI/2:0,
b.dx=r(b),b.dy=o(b)}}},t.Layout.Grid=function(){t.Layout.call(this);var e=this;(this.cell=(new t.Mark).data(function(){
return e.scene[e.index].$grid}).width(function(){return e.width()/e.cols()}).height(function(){
return e.height()/e.rows()}).left(function(){return this.width()*(this.index%e.cols());
}).top(function(){return this.height()*Math.floor(this.index/e.cols())})).parent=this;
},t.Layout.Grid.prototype=t.extend(t.Layout).property("rows").property("cols"),t.Layout.Grid.prototype.defaults=(new t.Layout.Grid).extend(t.Layout.prototype.defaults).rows(1).cols(1),
t.Layout.Grid.prototype.buildImplied=function(e){t.Layout.prototype.buildImplied.call(this,e);
var n=e.rows,i=e.cols;"object"==typeof i&&(n=t.transpose(i)),"object"==typeof n?(e.$grid=t.blend(n),
e.rows=n.length,e.cols=n[0]?n[0].length:0):e.$grid=t.repeat([e.data],n*i)},t.Layout.Stack=function(){
function e(e){return function(){return o[e](this.parent.index,this.index)}}t.Layout.call(this);
var n,i=this,r=function(){return null},o={t:r,l:r,r:r,b:r,w:r,h:r},a=i.buildImplied;
this.buildImplied=function(e){a.call(this,e);var i,s=e.layers,l=s.length,u=e.orient,c=/^(top|bottom)\b/.test(u),h=this.parent[c?"height":"width"](),d=[],f=[],p=[],m=t.Mark.stack,g={
parent:{parent:this}};m.unshift(null),n=[];for(var v=0;l>v;v++){p[v]=[],f[v]=[],g.parent.index=v,
m[0]=s[v],n[v]=this.$values.apply(g.parent,m),v||(i=n[v].length),m.unshift(null);for(var y=0;i>y;y++)m[0]=n[v][y],
g.index=y,v||(d[y]=this.$x.apply(g,m)),p[v][y]=this.$y.apply(g,m);m.shift()}m.shift();
var b;switch(e.order){case"inside-out":for(var _=p.map(function(e){return t.max.index(e);
}),x=t.range(l).sort(function(e,t){return _[e]-_[t]}),w=p.map(function(e){return t.sum(e);
}),C=0,S=0,k=[],D=[],v=0;l>v;v++){var y=x[v];S>C?(C+=w[y],k.push(y)):(S+=w[y],D.push(y));
}b=D.reverse().concat(k);break;case"reverse":b=t.range(l-1,-1,-1);break;default:b=t.range(l);
}switch(e.offset){case"silohouette":for(var y=0;i>y;y++){for(var g=0,v=0;l>v;v++)g+=p[v][y];
f[b[0]][y]=(h-g)/2}break;case"wiggle":for(var g=0,v=0;l>v;v++)g+=p[v][0];f[b[0]][0]=g=(h-g)/2;
for(var y=1;i>y;y++){for(var M=0,N=0,T=d[y]-d[y-1],v=0;l>v;v++)M+=p[v][y];for(var v=0;l>v;v++){
for(var A=(p[b[v]][y]-p[b[v]][y-1])/(2*T),j=0;v>j;j++)A+=(p[b[j]][y]-p[b[j]][y-1])/T;
N+=A*p[b[v]][y]}f[b[0]][y]=g-=M?N/M*T:0}break;case"expand":for(var y=0;i>y;y++){f[b[0]][y]=0;
for(var j=0,v=0;l>v;v++)j+=p[v][y];if(j){j=h/j;for(var v=0;l>v;v++)p[v][y]*=j}else{
j=h/l;for(var v=0;l>v;v++)p[v][y]=j}}break;default:for(var y=0;i>y;y++)f[b[0]][y]=0;
}for(var y=0;i>y;y++)for(var g=f[b[0]][y],v=1;l>v;v++)g+=p[b[v-1]][y],f[b[v]][y]=g;
var v=u.indexOf("-"),I=c?"h":"w",P=0>v?c?"l":"b":u.charAt(v+1),L=u.charAt(0);for(var R in o)o[R]=r;
o[P]=function(e,t){return d[t]},o[L]=function(e,t){return f[e][t]},o[I]=function(e,t){
return p[e][t]}},this.layer=(new t.Mark).data(function(){return n[this.parent.index];
}).top(e("t")).left(e("l")).right(e("r")).bottom(e("b")).width(e("w")).height(e("h")),
this.layer.add=function(e){return i.add(t.Panel).data(function(){return i.layers();
}).add(e).extend(this)}},t.Layout.Stack.prototype=t.extend(t.Layout).property("orient",String).property("offset",String).property("order",String).property("layers"),
t.Layout.Stack.prototype.defaults=(new t.Layout.Stack).extend(t.Layout.prototype.defaults).orient("bottom-left").offset("zero").layers([[]]),
t.Layout.Stack.prototype.$x=t.Layout.Stack.prototype.$y=function(){return 0},t.Layout.Stack.prototype.x=function(e){
return this.$x=t.functor(e),this},t.Layout.Stack.prototype.y=function(e){return this.$y=t.functor(e),
this},t.Layout.Stack.prototype.$values=t.identity,t.Layout.Stack.prototype.values=function(e){
return this.$values=t.functor(e),this},t.Layout.Band=function(){function e(e){return function(){
return n[e](this.index,this.parent.index)}}t.Layout.call(this);var n,i,r=this,o=r.buildImplied,a=(new t.Mark).data(function(){
return i[this.parent.index]}).top(e("t")).left(e("l")).right(e("r")).bottom(e("b")).width(e("w")).height(e("h")).antialias(e("antialias"));
this.buildImplied=function(e){o.call(this,e),n=Object.create(t.Layout.Band.$baseItemProps),
i=[];var r=e.layers,a=r.length;if(a>0){var s=e.orient,l=/^(top|bottom)\b/.test(s),u=this.parent[l?"height":"width"](),c=this._readData(r,i,e),h=c.length;
if("reverse"===e.bandOrder&&c.reverse(),"reverse"===e.order){i.reverse();for(var d=0;h>d;d++)c[d].items.reverse();
}switch(e.layout){case"grouped":this._calcGrouped(c,a,u,e);break;case"stacked":this._calcStacked(c,a,u,e);
}for(var f=e.hZero||0,p="stacked"===e.layout,m=0;h>m;m++)for(var g=c[m],v=p?Math.max(0,g.vertiMargin)/2:0,y=0;a>y;y++){
var b=g.items[y];b.zero&&(b.h=f,b.y-=v+f/2)}this._bindItemProps(c,n,s,l)}};var s=this.item={
end:this,add:function(e){return r.add(t.Panel).data(function(){return r.layers()}).add(e).extend(a);
},order:function(e){return r.order(e),this},w:function(e){return r.$iw=t.functor(e),
this},h:function(e){return r.$ih=t.functor(e),this},horizontalRatio:function(e){return r.$ihorizRatio=t.functor(e),
this},verticalMargin:function(e){return r.$ivertiMargin=t.functor(e),this}},l=this.band={
end:this,w:function(e){return r.$bw=t.functor(e),this},x:function(e){return r.$bx=t.functor(e),
this},order:function(e){return r.bandOrder(e),this},differentialControl:function(e){
return r.$bDiffControl=t.functor(e),this}};this.band.item=s,this.item.band=l},t.Layout.Band.$baseItemProps=function(){
var e=function(){return null};return{t:e,l:e,r:e,b:e,w:e,h:e}}(),t.Layout.Band.prototype=t.extend(t.Layout).property("orient",String).property("layout",String).property("layers").property("yZero",Number).property("hZero",Number).property("verticalMode",String).property("horizontalMode",String).property("order",String).property("bandOrder",String),
t.Layout.Band.prototype.defaults=(new t.Layout.Band).extend(t.Layout.prototype.defaults).orient("bottom-left").layout("grouped").yZero(0).hZero(1.5).layers([[]]),
t.Layout.Band.prototype.$bx=t.Layout.Band.prototype.$bw=t.Layout.Band.prototype.$bDiffControl=t.Layout.Band.prototype.$iw=t.Layout.Band.prototype.$ih=t.Layout.Band.prototype.$ivertiMargin=t.functor(0),
t.Layout.Band.prototype.$ihorizRatio=t.functor(.9),t.Layout.Band.prototype.$values=t.identity,
t.Layout.Band.prototype.values=function(e){return this.$values=t.functor(e),this},
t.Layout.prototype._readData=function(e,n,i){var r,o=e.length,a=[],s=t.Mark.stack,l=i.hZero,u={
parent:{parent:this}};s.unshift(null);for(var c=0;o>c;c++){u.parent.index=c,s[0]=e[c];
var h=n[c]=this.$values.apply(u.parent,s);c||(r=h.length),s.unshift(null);for(var d=0;r>d;d++){
s[0]=h[d],u.index=d;var f=a[d];f||(f=a[d]={horizRatio:this.$ihorizRatio.apply(u,s),
vertiMargin:this.$ivertiMargin.apply(u,s),w:this.$bw.apply(u,s),x:this.$bx.apply(u,s),
diffControl:this.$bDiffControl?this.$bDiffControl.apply(u,s):0,items:[]});var p=this.$ih.apply(u,s),m=null!=p?Math.abs(p):p;
f.items[c]={y:i.yZero||0,x:0,w:this.$iw.apply(u,s),h:m,zero:null!=m&&l>=m,dir:0>p?-1:1
}}s.shift()}return s.shift(),a},t.Layout.Band.prototype._normalizeBands=function(e,t,n,i){
var r,o=e.length;if("expand"===i.verticalMode)for(var a=0;o>a;a++){r=e[a].items;for(var s=null,l=0,u=0;t>u;u++){
var c=r[u];c.dir=1;var h=c.h;null!=h&&(l++,s+=h)}if(l)if(s)for(var d=n/s,u=0;t>u;u++){
var h=r[u].h;null!=h&&(r[u].h=h*d,r[u].zero=r[u].h<=i.hZero)}else if(0==s)for(var u=0;t>u;u++)r[u].h=0;else for(var f=n/l,u=0;t>u;u++){
var h=r[u].h;null!=h&&(r[u].h=f)}}return r},t.Layout.Band.prototype._calcGrouped=function(e,t,n,i){
for(var r=this._normalizeBands(e,t,n,i),o=0,a=e.length;a>o;o++){for(var s=e[o],r=s.items,l=s.w,u=s.horizRatio,c=0,h=0;t>h;h++)c+=r[h].w;
if(1===t?u=1:u>0&&1>=u||(u=1),null==l)l=s.w=c/u;else if("expand"===i.horizontalMode){
var d=u*l;if(c)for(var f=d/c,h=0;t>h;h++)r[h].w*=f;else for(var p=d/t,h=0;t>h;h++)r[h].w=p;
c=d}for(var m=c/u,g=s.x-m/2,v=t>1?(m-c)/(t-1):0,h=0;t>h;h++){var y=r[h];y.x=g,g+=y.w+v,
y.dir<0&&(y.y-=y.h)}}},t.Layout.Band.prototype._calcStacked=function(e,t,n,i){for(var r=this._normalizeBands(e,t,n,i),o=i.yZero,a=o,s=0,l=e.length;l>s;s++){
var u=e[s],c=u.x,h=u.diffControl,d=0>h,f=Math.max(0,u.vertiMargin);r=u.items;var p=this._layoutItemsOfDir(1,d,r,f,c,a),m=null;
if(p.existsOtherDir&&(m=this._layoutItemsOfDir(-1,d,r,f,c,a)),h){if(1===Math.abs(h)){
var g=a;a=p.yOffset,m&&(a-=g-m.yOffset)}}else a=o}},t.Layout.Band.prototype._layoutItemsOfDir=function(e,t,n,i,r,o){
for(var a=!1,s=i/2,l=t?-e:e,u=t,c=0,h=n.length;h>c;c+=1){var d=n[u?h-c-1:c];if(d.dir===e){
var f=d.h||0;l>0?(d.y=o+s,o+=f):(d.y=o-(f-s),o-=f);var p=f-i;d.h=p>0?p:0,d.x=r-d.w/2;
}else a=!0}return{existsOtherDir:a,yOffset:o}},t.Layout.Band.prototype._bindItemProps=function(e,t,n,i){
var r=n.indexOf("-"),o=i?"h":"w",a=i?"w":"h",s=0>r?i?"l":"b":n.charAt(r+1),l=n.charAt(0);
t[s]=function(t,n){return e[t].items[n].x},t[l]=function(t,n){return e[t].items[n].y;
},t[a]=function(t,n){return e[t].items[n].w},t[o]=function(t,n){return e[t].items[n].h||0;
},t.antialias=function(t,n){return e[t].items[n].zero}},t.Layout.Treemap=function(){
t.Layout.Hierarchy.call(this),this.node.strokeStyle("#fff").fillStyle("rgba(31, 119, 180, .25)").width(function(e){
return e.dx}).height(function(e){return e.dy}),this.label.visible(function(e){return!e.firstChild;
}).left(function(e){return e.x+e.dx/2}).top(function(e){return e.y+e.dy/2}).textAlign("center").textAngle(function(e){
return e.dx>e.dy?0:-Math.PI/2}),(this.leaf=(new t.Mark).extend(this.node).fillStyle(null).strokeStyle(null).visible(function(e){
return!e.firstChild})).parent=this,delete this.link},t.Layout.Treemap.prototype=t.extend(t.Layout.Hierarchy).property("round",Boolean).property("mode",String).property("order",String),
t.Layout.Treemap.prototype.defaults=(new t.Layout.Treemap).extend(t.Layout.Hierarchy.prototype.defaults).mode("squarify").order("ascending"),
t.Layout.Treemap.prototype.$size=function(e){return Number(e.nodeValue)},t.Layout.Treemap.prototype.$padLeft=t.Layout.Treemap.prototype.$padRight=t.Layout.Treemap.prototype.$padBottom=t.Layout.Treemap.prototype.$padTop=function(){
return 0},t.Layout.Treemap.prototype.size=function(e){return this.$size=t.functor(e),
this},t.Layout.Treemap.prototype.padding=function(e){return e=t.functor(e),this.paddingLeft(e).paddingRight(e).paddingTop(e).paddingBottom(e);
},t.Layout.Treemap.prototype.paddingLeft=function(e){return arguments.length?(this.$padLeft=t.functor(e),
this):this.$padLeft},t.Layout.Treemap.prototype.paddingRight=function(e){return arguments.length?(this.$padRight=t.functor(e),
this):this.$padRight},t.Layout.Treemap.prototype.paddingBottom=function(e){return arguments.length?(this.$padBottom=t.functor(e),
this):this.$padBottom},t.Layout.Treemap.prototype.paddingTop=function(e){return arguments.length?(this.$padTop=t.functor(e),
this):this.$padTop},t.Layout.Treemap.prototype.buildImplied=function(e){function n(e,t,n,i,r,o,a){
for(var s=0,l=0;s<e.length;s++){var u=e[s];n?(u.x=i+l,u.y=r,l+=u.dx=c(o*u.size/t),
u.dy=a):(u.x=i,u.y=r+l,u.dx=o,l+=u.dy=c(a*u.size/t))}u&&(n?u.dx+=o-l:u.dy+=a-l)}function i(e,t){
for(var n=-1/0,i=1/0,r=0,o=0;o<e.length;o++){var a=e[o].size;i>a&&(i=a),a>n&&(n=a),
r+=a}return r*=r,t*=t,Math.max(t*n/r,r/(t*i))}function r(e,r){function o(e){var i=d==g,r=t.sum(e,u),o=g?c(r/g):0;
return n(e,r,i,s,l,i?d:o,i?o:f),i?(l+=o,f-=o):(s+=o,d-=o),g=Math.min(d,f),i}var a=e.parentNode,s=e.x,l=e.y,d=e.dx,f=e.dy;
if(a&&(s+=a.paddingLeft,l+=a.paddingTop,d+=-a.paddingLeft-a.paddingRight,f+=-a.paddingTop-a.paddingBottom),
"squarify"==h){var p=[],m=1/0,g=Math.min(d,f),v=d*f/e.size;if(!(e.size<=0)){e.visitBefore(function(e){
e.size*=v});for(var y=e.childNodes.slice();y.length;){var b=y[y.length-1];if(b.size){
p.push(b);var v=i(p,g);m>=v?(y.pop(),m=v):(p.pop(),o(p),p.length=0,m=1/0)}else y.pop();
}if(o(p))for(var r=0;r<p.length;r++)p[r].dy+=f;else for(var r=0;r<p.length;r++)p[r].dx+=d;
}}else n(e.childNodes,e.size,"slice"==h?!0:"dice"==h?!1:1&r,s,l,d,f)}if(!t.Layout.Hierarchy.prototype.buildImplied.call(this,e)){
var o=this,a=e.nodes,s=a[0],l=t.Mark.stack,u=function(e){return e.size},c=e.round?Math.round:Number,h=e.mode;
l.unshift(null);try{s.visitAfter(function(e,n){e.depth=n,e.x=e.y=e.dx=e.dy=0,l[0]=e,
e.firstChild?(e.size=t.sum(e.childNodes,u),e.paddingRight=+o.$padRight.apply(o,l)||0,
e.paddingLeft=+o.$padLeft.apply(o,l)||0,e.paddingBottom=+o.$padBottom.apply(o,l)||0,
e.paddingTop=+o.$padTop.apply(o,l)||0):e.size=o.$size.apply(o,l)})}finally{l.shift();
}switch(e.order){case"ascending":s.sort(function(e,t){return e.size-t.size});break;
case"descending":s.sort(function(e,t){return t.size-e.size});break;case"reverse":
s.reverse()}s.x=0,s.y=0,s.dx=e.width,s.dy=e.height,s.visitBefore(r)}},t.Layout.Tree=function(){
t.Layout.Hierarchy.call(this)},t.Layout.Tree.prototype=t.extend(t.Layout.Hierarchy).property("group",Number).property("breadth",Number).property("depth",Number).property("orient",String),
t.Layout.Tree.prototype.defaults=(new t.Layout.Tree).extend(t.Layout.Hierarchy.prototype.defaults).group(1).breadth(15).depth(60).orient("top"),
t.Layout.Tree.prototype.buildImplied=function(e){function n(e){var t,i,o;if(e.firstChild){
t=e.firstChild,i=e.lastChild,o=t;for(var a=t;a;a=a.nextSibling)n(a),o=r(a,o);l(e);
var s=.5*(t.prelim+i.prelim);(t=e.previousSibling)?(e.prelim=t.prelim+c(e.depth,!0),
e.mod=e.prelim-s):e.prelim=s}else(t=e.previousSibling)&&(e.prelim=t.prelim+c(e.depth,!0));
}function i(e,t,n){e.breadth=e.prelim+t,t+=e.mod;for(var r=e.firstChild;r;r=r.nextSibling)i(r,t,n);
}function r(e,t){var n=e.previousSibling;if(n){for(var i=e,r=e,l=n,h=e.parentNode.firstChild,d=i.mod,f=r.mod,p=l.mod,m=h.mod,g=a(l),v=o(i);g&&v;){
l=g,i=v,h=o(h),r=a(r),r.ancestor=e;var y=l.prelim+p-(i.prelim+d)+c(l.depth,!1);y>0&&(s(u(l,e,t),e,y),
d+=y,f+=y),p+=l.mod,d+=i.mod,m+=h.mod,f+=r.mod,g=a(l),v=o(i)}g&&!a(r)&&(r.thread=g,
r.mod+=p-f),v&&!o(h)&&(h.thread=v,h.mod+=d-m,t=e)}return t}function o(e){return e.firstChild||e.thread;
}function a(e){return e.lastChild||e.thread}function s(e,t,n){var i=t.number-e.number;
t.change-=n/i,t.shift+=n,e.change+=n/i,t.prelim+=n,t.mod+=n}function l(e){for(var t=0,n=0,i=e.lastChild;i;i=i.previousSibling)i.prelim+=t,
i.mod+=t,n+=i.change,t+=i.shift+n}function u(e,t,n){return e.ancestor.parentNode==t.parentNode?e.ancestor:n;
}function c(e,t){return(t?1:y+1)/("radial"==m?e:1)}function h(e){return"radial"==m?e.breadth/g:0;
}function d(e){switch(m){case"left":return e.depth;case"right":return b-e.depth;case"top":
case"bottom":return e.breadth+b/2;case"radial":return b/2+e.depth*Math.cos(h(e))}
}function f(e){switch(m){case"left":case"right":return e.breadth+_/2;case"top":return e.depth;
case"bottom":return _-e.depth;case"radial":return _/2+e.depth*Math.sin(h(e))}}if(!t.Layout.Hierarchy.prototype.buildImplied.call(this,e)){
var p=e.nodes,m=e.orient,g=e.depth,v=e.breadth,y=e.group,b=e.width,_=e.height,x=p[0];
x.visitAfter(function(e,t){e.ancestor=e,e.prelim=0,e.mod=0,e.change=0,e.shift=0,e.number=e.previousSibling?e.previousSibling.number+1:0,
e.depth=t}),n(x),i(x,-x.prelim,0),x.visitAfter(function(e){e.breadth*=v,e.depth*=g,
e.midAngle=h(e),e.x=d(e),e.y=f(e),e.firstChild&&(e.midAngle+=Math.PI),delete e.breadth,
delete e.depth,delete e.ancestor,delete e.prelim,delete e.mod,delete e.change,delete e.shift,
delete e.number,delete e.thread})}},t.Layout.Indent=function(){t.Layout.Hierarchy.call(this),
this.link.interpolate("step-after")},t.Layout.Indent.prototype=t.extend(t.Layout.Hierarchy).property("depth",Number).property("breadth",Number),
t.Layout.Indent.prototype.defaults=(new t.Layout.Indent).extend(t.Layout.Hierarchy.prototype.defaults).depth(15).breadth(15),
t.Layout.Indent.prototype.buildImplied=function(e){function n(e,t,i){e.x=a+i++*o,
e.y=s+t++*r,e.midAngle=0;for(var l=e.firstChild;l;l=l.nextSibling)t=n(l,t,i);return t;
}if(!t.Layout.Hierarchy.prototype.buildImplied.call(this,e)){var i=e.nodes,r=e.breadth,o=e.depth,a=0,s=0;
n(i[0],1,1)}},t.Layout.Pack=function(){t.Layout.Hierarchy.call(this),this.node.shapeRadius(function(e){
return e.radius}).strokeStyle("rgb(31, 119, 180)").fillStyle("rgba(31, 119, 180, .25)"),
this.label.textAlign("center"),delete this.link},t.Layout.Pack.prototype=t.extend(t.Layout.Hierarchy).property("spacing",Number).property("order",String),
t.Layout.Pack.prototype.defaults=(new t.Layout.Pack).extend(t.Layout.Hierarchy.prototype.defaults).spacing(1).order("ascending"),
t.Layout.Pack.prototype.$radius=function(){return 1},t.Layout.Pack.prototype.size=function(e){
return this.$radius="function"==typeof e?function(){return Math.sqrt(e.apply(this,arguments));
}:(e=Math.sqrt(e),function(){return e}),this},t.Layout.Pack.prototype.buildImplied=function(e){
function n(e){var n=t.Mark.stack;n.unshift(null);for(var i=0,r=e.length;r>i;i++){
var o=e[i];o.firstChild||(o.radius=s.$radius.apply(s,(n[0]=o,n)))}n.shift()}function i(t){
for(var n=[],o=t.firstChild;o;o=o.nextSibling)o.firstChild&&(o.radius=i(o)),o.n=o.p=o,
n.push(o);switch(e.order){case"ascending":n.sort(function(e,t){return e.radius-t.radius;
});break;case"descending":n.sort(function(e,t){return t.radius-e.radius});break;case"reverse":
n.reverse()}return r(n)}function r(t){function n(e){d=Math.min(e.x-e.radius,d),f=Math.max(e.x+e.radius,f),
p=Math.min(e.y-e.radius,p),m=Math.max(e.y+e.radius,m)}function i(e,t){var n=e.n;e.n=t,
t.p=e,t.n=n,n.p=t}function r(e,t){e.n=t,t.p=e}function a(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.radius+t.radius;
return r*r-n*n-i*i>.001}var s,l,u,c,h,d=1/0,f=-1/0,p=1/0,m=-1/0;if(s=t[0],s.x=-s.radius,
s.y=0,n(s),t.length>1&&(l=t[1],l.x=l.radius,l.y=0,n(l),t.length>2)){u=t[2],o(s,l,u),
n(u),i(s,u),s.p=u,i(u,l),l=s.n;for(var g=3;g<t.length;g++){o(s,l,u=t[g]);var v=0,y=1,b=1;
for(c=l.n;c!=l;c=c.n,y++)if(a(c,u)){v=1;break}if(1==v)for(h=s.p;h!=c.p;h=h.p,b++)if(a(h,u)){
y>b&&(v=-1,c=h);break}0==v?(i(s,u),l=u,n(u)):v>0?(r(s,c),l=c,g--):0>v&&(r(c,l),s=c,
g--)}}for(var _=(d+f)/2,x=(p+m)/2,w=0,g=0;g<t.length;g++){var C=t[g];C.x-=_,C.y-=x,
w=Math.max(w,C.radius+Math.sqrt(C.x*C.x+C.y*C.y))}return w+e.spacing}function o(e,t,n){
var i=t.radius+n.radius,r=e.radius+n.radius,o=t.x-e.x,a=t.y-e.y,s=Math.sqrt(o*o+a*a),l=(r*r+s*s-i*i)/(2*r*s),u=Math.acos(l),c=l*r,h=Math.sin(u)*r;
o/=s,a/=s,n.x=e.x+c*o+h*a,n.y=e.y+c*a-h*o}function a(e,t,n,i){for(var r=e.firstChild;r;r=r.nextSibling)r.x+=e.x,
r.y+=e.y,a(r,t,n,i);e.x=t+i*e.x,e.y=n+i*e.y,e.radius*=i}if(!t.Layout.Hierarchy.prototype.buildImplied.call(this,e)){
var s=this,l=e.nodes,u=l[0];n(l),u.x=0,u.y=0,u.radius=i(u);var c=this.width(),h=this.height(),d=1/Math.max(2*u.radius/c,2*u.radius/h);
a(u,c/2,h/2,d)}},t.Layout.Force=function(){t.Layout.Network.call(this),this.link.lineWidth(function(e,t){
return 1.5*Math.sqrt(t.linkValue)}),this.label.textAlign("center")},t.Layout.Force.prototype=t.extend(t.Layout.Network).property("bound",Boolean).property("iterations",Number).property("dragConstant",Number).property("chargeConstant",Number).property("chargeMinDistance",Number).property("chargeMaxDistance",Number).property("chargeTheta",Number).property("springConstant",Number).property("springDamping",Number).property("springLength",Number),
t.Layout.Force.prototype.defaults=(new t.Layout.Force).extend(t.Layout.Network.prototype.defaults).dragConstant(.1).chargeConstant(-40).chargeMinDistance(2).chargeMaxDistance(500).chargeTheta(.9).springConstant(.1).springDamping(.3).springLength(20),
t.Layout.Force.prototype.buildImplied=function(e){function n(e){return e.fix?1:e.vx*e.vx+e.vy*e.vy;
}if(t.Layout.Network.prototype.buildImplied.call(this,e)){var i=e.$force;i&&(i.next=this.binds.$force,
this.binds.$force=i)}else{for(var r,o=this,a=e.nodes,s=e.links,l=e.iterations,u=e.width,c=e.height,h=0;h<a.length;h++)r=a[h],
isNaN(r.x)&&(r.x=u/2+40*Math.random()-20),isNaN(r.y)&&(r.y=c/2+40*Math.random()-20);
var d=t.simulation(a);if(d.force(t.Force.drag(e.dragConstant)),d.force(t.Force.charge(e.chargeConstant).domain(e.chargeMinDistance,e.chargeMaxDistance).theta(e.chargeTheta)),
d.force(t.Force.spring(e.springConstant).damping(e.springDamping).length(e.springLength).links(s)),
d.constraint(t.Constraint.position()),e.bound&&d.constraint(t.Constraint.bound().x(6,u-6).y(6,c-6)),
null==l)d.step(),d.step(),e.$force=this.binds.$force={next:this.binds.$force,nodes:a,
min:1e-4*(s.length+1),sim:d},this.$timer||(this.$timer=setInterval(function(){for(var e=!1,i=o.binds.$force;i;i=i.next)t.max(i.nodes,n)>i.min&&(i.sim.step(),
e=!0);e&&o.render()},42));else for(var h=0;l>h;h++)d.step()}},t.Layout.Cluster=function(){
t.Layout.Hierarchy.call(this);var e,n=this.buildImplied;this.buildImplied=function(t){
n.call(this,t),e=/^(top|bottom)$/.test(t.orient)?"step-before":/^(left|right)$/.test(t.orient)?"step-after":"linear";
},this.link.interpolate(function(){return e})},t.Layout.Cluster.prototype=t.extend(t.Layout.Hierarchy).property("group",Number).property("orient",String).property("innerRadius",Number).property("outerRadius",Number),
t.Layout.Cluster.prototype.defaults=(new t.Layout.Cluster).extend(t.Layout.Hierarchy.prototype.defaults).group(0).orient("top"),
t.Layout.Cluster.prototype.buildImplied=function(e){if(!t.Layout.Hierarchy.prototype.buildImplied.call(this,e)){
var n,i,r=e.nodes[0],o=e.group,a=0,s=.5-o/2,l=void 0;r.visitAfter(function(e){e.firstChild?e.depth=1+t.max(e.childNodes,function(e){
return e.depth}):(o&&l!=e.parentNode&&(l=e.parentNode,a+=o),a++,e.depth=0)}),n=1/a,
i=1/r.depth;var l=void 0;r.visitAfter(function(e){e.firstChild?e.breadth=t.mean(e.childNodes,function(e){
return e.breadth}):(o&&l!=e.parentNode&&(l=e.parentNode,s+=o),e.breadth=n*s++),e.depth=1-e.depth*i;
}),r.visitAfter(function(e){e.minBreadth=e.firstChild?e.firstChild.minBreadth:e.breadth-n/2,
e.maxBreadth=e.firstChild?e.lastChild.maxBreadth:e.breadth+n/2}),r.visitBefore(function(e){
e.minDepth=e.parentNode?e.parentNode.maxDepth:0,e.maxDepth=e.parentNode?e.depth+r.depth:e.minDepth+2*r.depth;
}),r.minDepth=-i,t.Layout.Hierarchy.NodeLink.buildImplied.call(this,e)}},t.Layout.Cluster.Fill=function(){
t.Layout.Cluster.call(this),t.Layout.Hierarchy.Fill.constructor.call(this)},t.Layout.Cluster.Fill.prototype=t.extend(t.Layout.Cluster),
t.Layout.Cluster.Fill.prototype.buildImplied=function(e){t.Layout.Cluster.prototype.buildImplied.call(this,e)||t.Layout.Hierarchy.Fill.buildImplied.call(this,e);
},t.Layout.Partition=function(){t.Layout.Hierarchy.call(this)},t.Layout.Partition.prototype=t.extend(t.Layout.Hierarchy).property("order",String).property("orient",String).property("innerRadius",Number).property("outerRadius",Number),
t.Layout.Partition.prototype.defaults=(new t.Layout.Partition).extend(t.Layout.Hierarchy.prototype.defaults).orient("top"),
t.Layout.Partition.prototype.$size=function(){return 1},t.Layout.Partition.prototype.size=function(e){
return this.$size=e,this},t.Layout.Partition.prototype.buildImplied=function(e){if(!t.Layout.Hierarchy.prototype.buildImplied.call(this,e)){
var n=this,i=e.nodes[0],r=t.Mark.stack,o=0;switch(r.unshift(null),i.visitAfter(function(e,i){
i>o&&(o=i),e.size=e.firstChild?t.sum(e.childNodes,function(e){return e.size}):n.$size.apply(n,(r[0]=e,
r))}),r.shift(),e.order){case"ascending":i.sort(function(e,t){return e.size-t.size;
});break;case"descending":i.sort(function(e,t){return t.size-e.size})}i.minBreadth=0,
i.breadth=.5,i.maxBreadth=1,i.visitBefore(function(e){for(var t=e.minBreadth,n=e.maxBreadth-t,i=e.firstChild;i;i=i.nextSibling)i.minBreadth=t,
t+=i.size/e.size*n,i.maxBreadth=t,i.breadth=(t+i.minBreadth)/2}),i.visitAfter(function(e,t){
e.minDepth=(t-1)/o,e.maxDepth=e.depth=t/o}),t.Layout.Hierarchy.NodeLink.buildImplied.call(this,e);
}},t.Layout.Partition.Fill=function(){t.Layout.Partition.call(this),t.Layout.Hierarchy.Fill.constructor.call(this);
},t.Layout.Partition.Fill.prototype=t.extend(t.Layout.Partition),t.Layout.Partition.Fill.prototype.buildImplied=function(e){
t.Layout.Partition.prototype.buildImplied.call(this,e)||t.Layout.Hierarchy.Fill.buildImplied.call(this,e);
},t.Layout.Arc=function(){t.Layout.Network.call(this);var e,n,i,r=this.buildImplied;
this.buildImplied=function(t){r.call(this,t),n=t.directed,e="radial"==t.orient?"linear":"polar",
i="right"==t.orient||"top"==t.orient},this.link.data(function(e){var t=e.sourceNode,r=e.targetNode;
return i!=(n||t.breadth<r.breadth)?[t,r]:[r,t]}).interpolate(function(){return e});
},t.Layout.Arc.prototype=t.extend(t.Layout.Network).property("orient",String).property("directed",Boolean),
t.Layout.Arc.prototype.defaults=(new t.Layout.Arc).extend(t.Layout.Network.prototype.defaults).orient("bottom"),
t.Layout.Arc.prototype.sort=function(e){return this.$sort=e,this},t.Layout.Arc.prototype.buildImplied=function(e){
function n(e){switch(a){case"top":return-Math.PI/2;case"bottom":return Math.PI/2;case"left":
return Math.PI;case"right":return 0;case"radial":return 2*(e-.25)*Math.PI}}function i(e){
switch(a){case"top":case"bottom":return e*u;case"left":return 0;case"right":return u;
case"radial":return u/2+h*Math.cos(n(e))}}function r(e){switch(a){case"top":return 0;
case"bottom":return c;case"left":case"right":return e*c;case"radial":return c/2+h*Math.sin(n(e));
}}if(!t.Layout.Network.prototype.buildImplied.call(this,e)){var o=e.nodes,a=e.orient,s=this.$sort,l=t.range(o.length),u=e.width,c=e.height,h=Math.min(u,c)/2;
s&&l.sort(function(e,t){return s(o[e],o[t])});for(var d=0;d<o.length;d++){var f=o[l[d]],p=f.breadth=(d+.5)/o.length;
f.x=i(p),f.y=r(p),f.midAngle=n(p)}}},t.Layout.Horizon=function(){t.Layout.call(this);
var e,n,i,r,o,a,s=this,l=this.buildImplied;this.buildImplied=function(s){l.call(this,s),
e=s.bands,n=s.mode,i=Math.round(("color"==n?.5:1)*s.height),r=s.backgroundStyle,o=t.ramp(r,s.negativeStyle).domain(0,e),
a=t.ramp(r,s.positiveStyle).domain(0,e)};var e=(new t.Panel).data(function(){return t.range(2*e);
}).overflow("hidden").height(function(){return i}).top(function(e){return"color"==n?(1&e)*i:0;
}).fillStyle(function(e){return e?null:r});this.band=(new t.Mark).top(function(e,t){
return"mirror"==n&&1&t?(t+1>>1)*i:null}).bottom(function(e,t){return"mirror"==n?1&t?null:(t+1>>1)*-i:(1&t||-1)*(t+1>>1)*i;
}).fillStyle(function(e,t){return(1&t?o:a)((t>>1)+1)}),this.band.add=function(n){
return s.add(t.Panel).extend(e).add(n).extend(this)}},t.Layout.Horizon.prototype=t.extend(t.Layout).property("bands",Number).property("mode",String).property("backgroundStyle",t.fillStyle).property("positiveStyle",t.fillStyle).property("negativeStyle",t.fillStyle),
t.Layout.Horizon.prototype.defaults=(new t.Layout.Horizon).extend(t.Layout.prototype.defaults).bands(2).mode("offset").backgroundStyle("white").positiveStyle("#1f77b4").negativeStyle("#d62728"),
t.Layout.Rollup=function(){t.Layout.Network.call(this);var e,n,i=this,r=i.buildImplied;
this.buildImplied=function(t){r.call(this,t),e=t.$rollup.nodes,n=t.$rollup.links},
this.node.data(function(){return e}).shapeSize(function(e){return 20*e.nodes.length;
}),this.link.interpolate("polar").eccentricity(.8),this.link.add=function(e){return i.add(t.Panel).data(function(){
return n}).add(e).extend(this)}},t.Layout.Rollup.prototype=t.extend(t.Layout.Network).property("directed",Boolean),
t.Layout.Rollup.prototype.x=function(e){return this.$x=t.functor(e),this},t.Layout.Rollup.prototype.y=function(e){
return this.$y=t.functor(e),this},t.Layout.Rollup.prototype.buildImplied=function(e){
function n(e){return s[e]+","+l[e]}if(!t.Layout.Network.prototype.buildImplied.call(this,e)){
var i=e.nodes,r=e.links,o=e.directed,a=i.length,s=[],l=[],u=0,c={},h={},d=t.Mark.stack,f={
parent:this};d.unshift(null);for(var p=0;a>p;p++)f.index=p,d[0]=i[p],s[p]=this.$x.apply(f,d),
l[p]=this.$y.apply(f,d);d.shift();for(var p=0;p<i.length;p++){var m=n(p),g=c[m];g||(g=c[m]=Object.create(i[p]),
g.index=u++,g.x=s[p],g.y=l[p],g.nodes=[]),g.nodes.push(i[p])}for(var p=0;p<r.length;p++){
var v=r[p].sourceNode,y=r[p].targetNode,b=c[n(v.index)],_=c[n(y.index)],x=!o&&b.index>_.index,w=x?_.index+","+b.index:b.index+","+_.index,C=h[w];
C||(C=h[w]={sourceNode:b,targetNode:_,linkValue:0,links:[]}),C.links.push(r[p]),C.linkValue+=r[p].linkValue;
}e.$rollup={nodes:t.values(c),links:t.values(h)}}},t.Layout.Matrix=function(){t.Layout.Network.call(this);
var e,n,i,r,o,a=this,s=a.buildImplied;this.buildImplied=function(t){s.call(this,t),
e=t.nodes.length,n=t.width/e,i=t.height/e,r=t.$matrix.labels,o=t.$matrix.pairs},this.link.data(function(){
return o}).left(function(){return n*(this.index%e)}).top(function(){return i*Math.floor(this.index/e);
}).width(function(){return n}).height(function(){return i}).lineWidth(1.5).strokeStyle("#fff").fillStyle(function(e){
return e.linkValue?"#555":"#eee"}).parent=this,delete this.link.add,this.label.data(function(){
return r}).left(function(){return 1&this.index?n*((this.index>>1)+.5):0}).top(function(){
return 1&this.index?0:i*((this.index>>1)+.5)}).textMargin(4).textAlign(function(){
return 1&this.index?"left":"right"}).textAngle(function(){return 1&this.index?-Math.PI/2:0;
}),delete this.node},t.Layout.Matrix.prototype=t.extend(t.Layout.Network).property("directed",Boolean),
t.Layout.Matrix.prototype.sort=function(e){return this.$sort=e,this},t.Layout.Matrix.prototype.buildImplied=function(e){
if(!t.Layout.Network.prototype.buildImplied.call(this,e)){var n=e.nodes,i=e.links,r=this.$sort,o=n.length,a=t.range(o),s=[],l=[],u={};
e.$matrix={labels:s,pairs:l},r&&a.sort(function(e,t){return r(n[e],n[t])});for(var c=0;o>c;c++)for(var h=0;o>h;h++){
var d=a[c],f=a[h],p={row:c,col:h,sourceNode:n[d],targetNode:n[f],linkValue:0};l.push(u[d+"."+f]=p);
}for(var c=0;o>c;c++){var d=a[c];s.push(n[d],n[d])}for(var c=0;c<i.length;c++){var m=i[c],g=m.sourceNode.index,v=m.targetNode.index,y=m.linkValue;
u[g+"."+v].linkValue+=y,e.directed||(u[v+"."+g].linkValue+=y)}}},t.Layout.Bullet=function(){
t.Layout.call(this);var e,n,i,r,o,a=this,s=a.buildImplied,l=a.x=t.Scale.linear();this.buildImplied=function(a){
s.call(this,o=a),e=a.orient,n=/^left|right$/.test(e),i=t.ramp("#bbb","#eee").domain(0,Math.max(1,o.ranges.length-1)),
r=t.ramp("steelblue","lightsteelblue").domain(0,Math.max(1,o.measures.length-1))},
(this.range=new t.Mark).data(function(){return o.ranges}).reverse(!0).left(function(){
return"left"==e?0:null}).top(function(){return"top"==e?0:null}).right(function(){
return"right"==e?0:null}).bottom(function(){return"bottom"==e?0:null}).width(function(e){
return n?l(e):null}).height(function(e){return n?null:l(e)}).fillStyle(function(){
return i(this.index)}).antialias(!1).parent=a,(this.measure=new t.Mark).extend(this.range).data(function(){
return o.measures}).left(function(){return"left"==e?0:n?null:this.parent.width()/3.25;
}).top(function(){return"top"==e?0:n?this.parent.height()/3.25:null}).right(function(){
return"right"==e?0:n?null:this.parent.width()/3.25}).bottom(function(){return"bottom"==e?0:n?this.parent.height()/3.25:null;
}).fillStyle(function(){return r(this.index)}).parent=a,(this.marker=new t.Mark).data(function(){
return o.markers}).left(function(t){return"left"==e?l(t):n?null:this.parent.width()/2;
}).top(function(t){return"top"==e?l(t):n?this.parent.height()/2:null}).right(function(t){
return"right"==e?l(t):null}).bottom(function(t){return"bottom"==e?l(t):null}).strokeStyle("black").shape("bar").shapeAngle(function(){
return n?0:Math.PI/2}).parent=a,(this.tick=new t.Mark).data(function(){return l.ticks(7);
}).left(function(t){return"left"==e?l(t):null}).top(function(t){return"top"==e?l(t):null;
}).right(function(t){return"right"==e?l(t):n?null:-6}).bottom(function(t){return"bottom"==e?l(t):n?-8:null;
}).height(function(){return n?6:null}).width(function(){return n?null:6}).parent=a;
},t.Layout.Bullet.prototype=t.extend(t.Layout).property("orient",String).property("ranges").property("markers").property("measures").property("minimum").property("maximum"),
t.Layout.Bullet.prototype.defaults=(new t.Layout.Bullet).extend(t.Layout.prototype.defaults).orient("left").ranges([]).markers([]).measures([]),
t.Layout.Bullet.prototype._originIsZero=!0,t.Layout.Bullet.prototype.originIsZero=function(e){
return arguments.length?this._originIsZero=!!e:this._originIsZero},t.Layout.Bullet.prototype.buildImplied=function(e){
t.Layout.prototype.buildImplied.call(this,e);var n,i=this.parent[/^left|right$/.test(e.orient)?"width":"height"](),r=e.maximum,o=e.minimum,a=1e-10;
null==r?(n=[].concat(e.ranges,e.markers,e.measures),r=t.max(n)):r=+r,null==o?(n||(n=[].concat(e.ranges,e.markers,e.measures)),
o=t.min(n),o=.95*o):o=+o,(o>r||a>r-o)&&(o=Math.abs(r)<a?-.1:.99*r),this._originIsZero&&o*r>0&&(o>0?o=0:r=0),
e.minimum=o,e.maximum=r,this.x.domain(o,r).range(0,i)},t.Behavior={},t.Behavior.dragBase=function(e){
function n(n){if(h||(h=!0,this.addEventInterceptor("click",s,!0)),!l){var a=this.root.scene.$g;
l=[[a,"mousemove",t.listen(a,"mousemove",i)],[a,"mouseup",t.listen(a,"mouseup",r)],[document,"mousemove",t.listen(document,"mousemove",i)],[document,"mouseup",t.listen(document,"mouseup",r)]];
}var f=arguments[arguments.length-1];u=f.target,c=!1,f.stopPropagation();var p=this.mouse(),m=this.scene,g=this.index;
d=m[g].drag={phase:"start",m:p,m1:p,m2:null,d:n,scene:m,index:g},f=o(f,d),e.dragstart.call(this,f);
var v=d.m;v!==p&&(p.x=v.x,p.y=v.y)}function i(t){if(d){d.phase="move",t.stopPropagation(),
t=o(t,d);var n=d.scene;n.mark.context(n,d.index,function(){var n=d.m2||d.m1,i=this.mouse();
if(!(n&&i.distance2(n).dist2<=2)){d.m=d.m2=i,e.drag.call(this,t);var r=d.m;r!==i&&(i.x=r.x,
i.y=r.y)}})}}function r(n){if(d){d.phase="end";var i=d.m2,r=i&&d.m1.distance2(i).dist2>.1;
d.canceled=!r,c=r&&u===n.target,c||(u=null),n.stopPropagation(),n=o(n,d),l&&(l.forEach(function(e){
t.unlisten.apply(t,e)}),l=null);var a=d.scene,s=d.index;try{a.mark.context(a,s,function(){
e.dragend.call(this,n)})}finally{d=null,delete a[s].drag}}}function o(e,t){try{return e.drag=t,
e}catch(n){}var i={};for(var r in e){var o=e[r];i[r]="function"!=typeof o?o:a(o,e);
}return i._sourceEvent=e,i}function a(e,t){return function(){return e.apply(t,arguments);
}}function s(e,t){return c&&u===t.target?(c=!1,u=null,!1):void 0}var l,u,c,h,d;return e.autoRender=!0,
e.positionConstraint=null,e.bound=function(e,t){return Math.max(d.min[t],Math.min(d.max[t],e));
},n.autoRender=function(t){return arguments.length?(e.autoRender=!!t,n):e.autoRender;
},n.positionConstraint=function(t){return arguments.length?(e.positionConstraint=t,
n):e.positionConstraint},n},t.Behavior.drag=function(){var e,n=null,i=1,r=1,o={dragstart:function(n){
var i=n.drag;i.type="drag";var r=i.d,a=t.vector(r.x,r.y);r.fix=a,r.drag=i,e=a.minus(i.m1);
var s=this.parent;i.max={x:s.width()-(r.dx||0),y:s.height()-(r.dy||0)},i.min={x:0,
y:0},o.autoRender&&this.render(),t.Mark.dispatch("dragstart",i.scene,i.index,n)},
drag:function(n){var a=n.drag,s=a.m2,l=a.d;a.m=e.plus(s);var u=o.positionConstraint;
u&&u(a);var c=a.m;i&&(l.x=l.fix.x=o.bound(c.x,"x")),r&&(l.y=l.fix.y=o.bound(c.y,"y")),
o.autoRender&&this.render(),t.Mark.dispatch("drag",a.scene,a.index,n)},dragend:function(n){
var i=n.drag,r=i.d;r.fix=null,e=null,o.autoRender&&this.render();try{t.Mark.dispatch("dragend",i.scene,i.index,n);
}finally{delete r.drag}}},a=t.Behavior.dragBase(o);return a.collapse=function(e){
if(arguments.length){switch(n=String(e)){case"y":i=1,r=0;break;case"x":i=0,r=1;break;
default:i=1,r=1}return a}return n},a},t.Behavior.point=function(e){function n(e,t){
if(e.visible)for(var n=e.children.length-1;n>=0;n--)if(i(e.children[n],t))return!0;
}function i(e,t){var i,a,s,l=e.mark,u="panel"===l.type;if(l.$handlers.point){var c,h=(u&&l.parent||l).mouse(),d=l._pointingRadiusMax,f=d*d;
for(a=e.length;a--;)if((c=r(e,a))&&o(e,a,h,t,c,f)){i=!0;break}}if(u){l.scene=e,s=!(!l.isPointingBarrier||!l.parent);
try{for(a=e.length;a--;)if(l.index=a,(!s||l.getShape(e,a).containsPoint(l.parent.mouse()))&&n(e[a],t))return!0;
}finally{delete l.scene,delete l.index}}return i}function r(e,t){var n=e[t];if(!n.visible)return 0;
if(!d)return 1;var i=e.mark.properties;if(!i.fillStyle&&!i.strokeStyle)return 1;var r=n.fillStyle?n.fillStyle.opacity:0,o=n.strokeStyle?n.strokeStyle.opacity:0,a=Math.max(r,o);
return.02>a?0:a>.98?1:.5}function o(e,n,i,r,o,a){function s(){if(m&&0>=a)return-1;
if(l=u.distance2(i,p),m&&t.floatLess(a,l.cost))return-2;if(v&&!f&&t.floatLess(g,l.dist2))return-3;
if(d===r.hasArea){if(f<r.inside)return-4;if(f>r.inside)return 1}else{if(h){if(!f&&r.inside)return-5;
if(f&&!r.inside)return 2}if(d||2!==r.inside){if(d&&2===f){if(2===r.inside)return-7;
if(0===r.inside&&t.floatLess(3,r.cost))return 4}}else{if(2===f)return 3;if(0===f&&t.floatLess(3,l.cost))return-6;
}}if(!h||!f){if(t.floatLess(r.dist2,l.dist2))return-8;if(t.floatLess(l.dist2,r.dist2))return 5;
}return h&&t.floatLess(l.cost,r.cost)?6:-9}var l,u=e.mark.getShape(e,n),d=u.hasArea(),f=u.containsPoint(i,p)?!h||u.containsPoint(i)?2:1:0,m=isFinite(a)&&2>f,y=s();
return c&&function(){if(-3>y||y>0){var t=e&&e.mark;console.log("POINT "+(y>0?"choose":"skip")+" ("+y+") "+(t?t.type+" "+n:"none")+" in="+f+" d2="+(l&&l.dist2)+" cost="+(l&&l.cost)+" opaq="+(1===o));
}}(),y>0&&(r.hasArea=d,r.inside=f,r.dist2=l.dist2,r.cost=l.cost,r.scenes=e,r.index=n,
r.shape=u,d&&2===f&&1===o)?!0:void 0}function a(){var e=t.event;c&&console.log("POINT MOUSE MOVE BEG");
try{var i={cost:1/0,dist2:1/0,inside:0,hasArea:!1,x:e.pageX||0,y:e.pageY||0};if(u&&y&&t.Shape.dist2(i,u).cost<y)return;
if(n(this.scene[this.index],i),i.inside||isFinite(i.cost)||(i=null),e.pointFrom=u,
e.pointTo=i,u){if(i&&u.scenes==i.scenes&&u.index==i.index)return;e.isPointSwitch=!!i,
t.Mark.dispatch("unpoint",u.scenes,u.index,e)}u=i,i&&(t.Mark.dispatch("point",i.scenes,i.index,e),
m||("panel"===this.type?(m=this,this.event("mouseout",function(){s.call(this.scene.$g);
}),f&&m.addEventInterceptor("click",l)):t.listen(this.root.canvas(),"mouseout",s)));
}finally{c&&console.log("POINT MOUSE MOVE END")}}function s(){var e=t.event;u&&!t.ancestor(this,e.relatedTarget)&&(t.Mark.dispatch("unpoint",u.scenes,u.index,e),
u=null)}function l(e,t){if(u){var n=u.scenes,i=n.mark.$handlers[e];if(i)return[i,n,u.index,t];
}}"object"!=typeof e&&(e={radius:e});var u,c=0,h=null,d=!!t.get(e,"painted",!1),f=!!t.get(e,"stealClick",!1),p={
x:1,y:1},m=null,g=function(){var n=t.parseNumNonNeg(t.get(e,"radius"),30);return n*n;
}(),v=isFinite(g),y=function(){var n=t.parseNumNonNeg(t.get(e,"radiusHyst"),0);return isFinite(n)||(n=4),
n*n}();return a.collapse=function(e){if(arguments.length){switch(h=String(e)){case"y":
p.x=1,p.y=0;break;case"x":p.x=0,p.y=1;break;default:p.x=1,p.y=1,h=null}return a}return h;
},e&&null!=e.collapse&&a.collapse(e.collapse),e=null,a},t.Behavior.select=function(){
var e=null,n=1,i=1,r=!1,o={dragstart:function(e){var a=e.drag;a.type="select",a.dxmin=0,
a.dymin=0;var s=a.d;s.drag=a,a.max={x:this.width(),y:this.height()},a.min={x:0,y:0
};var l=o.positionConstraint;l&&(a.m=a.m.clone(),l(a));var u=a.m;n&&(s.x=o.bound(u.x,"x"),
r||(s.dx=Math.max(0,a.dxmin))),i&&(s.y=o.bound(u.y,"y"),r||(s.dy=Math.max(0,a.dymin))),
t.Mark.dispatch("selectstart",a.scene,a.index,e)},drag:function(e){var a=e.drag,s=a.m1,l=a.d;
a.max.x=this.width(),a.max.y=this.height();var u=o.positionConstraint;u&&(a.m=a.m.clone(),
u(a));var c=a.m;if(n){var h=Math.min(s.x,c.x);if(h=o.bound(h,"x"),l.x=h,!r){var d=Math.max(c.x,s.x);
d=o.bound(d,"x"),l.dx=Math.max(0,a.dxmin,d-h)}}if(i){var f=Math.min(s.y,c.y);if(f=o.bound(f,"y"),
l.y=f,!r){var p=Math.max(c.y,s.y);p=o.bound(p,"y"),l.dy=Math.max(0,a.dymin,p-f)}}
o.autoRender&&this.render(),t.Mark.dispatch("select",a.scene,a.index,e)},dragend:function(e){
var n=e.drag;try{t.Mark.dispatch("selectend",n.scene,n.index,e)}finally{var i=n.d;
delete i.drag}}},a=t.Behavior.dragBase(o);return a.collapse=function(t){if(arguments.length){
switch(e=String(t)){case"y":n=1,i=0;break;case"x":n=0,i=1;break;default:n=1,i=1}return a;
}return e},a.preserveLength=function(e){return arguments.length?(r=!!e,a):r},a},t.Behavior.resize=function(e){
var n=!1,i="left"===e||"right"===e,r={dragstart:function(n){var i=n.drag;i.type="resize";
var r=i.m1,o=i.d;switch(o.drag=i,e){case"left":r.x=o.x+o.dx;break;case"right":r.x=o.x;
break;case"top":r.y=o.y+o.dy;break;case"bottom":r.y=o.y}var a=this.parent;i.max={
x:a.width(),y:a.height()},i.min={x:0,y:0},t.Mark.dispatch("resizestart",i.scene,i.index,n);
},drag:function(e){var o=e.drag,a=o.m1,s=r.positionConstraint;s&&(o.m=o.m.clone(),
s(o));var l=o.m,u=o.d;if(!n||i){var c=Math.min(a.x,l.x),h=Math.max(l.x,a.x);c=r.bound(c,"x"),
h=r.bound(h,"x"),u.x=c,u.dx=h-c}if(!n||!i){var d=Math.min(a.y,l.y),f=Math.max(l.y,a.y);
d=r.bound(d,"y"),f=r.bound(f,"y"),u.y=d,u.dy=f-d}r.autoRender&&this.render(),t.Mark.dispatch("resize",o.scene,o.index,e);
},dragend:function(e){var n=e.drag;n.max=null;try{t.Mark.dispatch("resizeend",n.scene,n.index,e);
}finally{var i=n.d;delete i.drag}}},o=t.Behavior.dragBase(r);return o.preserveOrtho=function(e){
return arguments.length?(n=!!e,o):n},o},t.Behavior.pan=function(){function e(){o=this.index,
r=this.scene,s=t.vector(t.event.pageX,t.event.pageY),a=this.transform(),l=1/(a.k*this.scale),
u&&(u={x:(1-a.k)*this.width(),y:(1-a.k)*this.height()})}function n(e){r&&(r.mark.context(r,o,function(){
var e=(t.event.pageX-s.x)*l,n=(t.event.pageY-s.y)*l,i=a.translate(e,n);u&&(i.x=Math.max(u.x,Math.min(0,i.x)),
i.y=Math.max(u.y,Math.min(0,i.y))),this.transform(i).render()}),t.Mark.dispatch("pan",r,o,e));
}function i(){r=null}var r,o,a,s,l,u;return e.bound=function(e){return arguments.length?(u=Boolean(e),
this):Boolean(u)},t.listen(window,"mousemove",n),t.listen(window,"mouseup",i),e},
t.Behavior.zoom=function(e){function n(n){var r=this.mouse(),o=t.event.wheel*e,a=this.transform().translate(r.x,r.y).scale(0>o?1e3/(1e3-o):(1e3+o)/1e3).translate(-r.x,-r.y);
i&&(a.k=Math.max(1,a.k),a.x=Math.max((1-a.k)*this.width(),Math.min(0,a.x)),a.y=Math.max((1-a.k)*this.height(),Math.min(0,a.y))),
this.transform(a).render(),t.Mark.dispatch("zoom",this.scene,this.index,n)}var i;return arguments.length||(e=1/48),
n.bound=function(e){return arguments.length?(i=Boolean(e),this):Boolean(i)},n},t.Geo=function(){},
t.Geo.projections={mercator:{project:function(e){return{x:e.lng/180,y:e.lat>85?1:e.lat<-85?-1:Math.log(Math.tan(Math.PI/4+t.radians(e.lat)/2))/Math.PI
}},invert:function(e){return{lng:180*e.x,lat:t.degrees(2*Math.atan(Math.exp(e.y*Math.PI))-Math.PI/2)
}}},"gall-peters":{project:function(e){return{x:e.lng/180,y:Math.sin(t.radians(e.lat))
}},invert:function(e){return{lng:180*e.x,lat:t.degrees(Math.asin(e.y))}}},sinusoidal:{
project:function(e){return{x:t.radians(e.lng)*Math.cos(t.radians(e.lat))/Math.PI,
y:e.lat/90}},invert:function(e){return{lng:t.degrees(e.x*Math.PI/Math.cos(e.y*Math.PI/2)),
lat:90*e.y}}},aitoff:{project:function(e){var n=t.radians(e.lng),i=t.radians(e.lat),r=Math.acos(Math.cos(i)*Math.cos(n/2));
return{x:2*(r?Math.cos(i)*Math.sin(n/2)*r/Math.sin(r):0)/Math.PI,y:2*(r?Math.sin(i)*r/Math.sin(r):0)/Math.PI
}},invert:function(e){var n=e.x*Math.PI/2,i=e.y*Math.PI/2;return{lng:t.degrees(n/Math.cos(i)),
lat:t.degrees(i)}}},hammer:{project:function(e){var n=t.radians(e.lng),i=t.radians(e.lat),r=Math.sqrt(1+Math.cos(i)*Math.cos(n/2));
return{x:2*Math.SQRT2*Math.cos(i)*Math.sin(n/2)/r/3,y:Math.SQRT2*Math.sin(i)/r/1.5
}},invert:function(e){var n=3*e.x,i=1.5*e.y,r=Math.sqrt(1-n*n/16-i*i/4);return{lng:t.degrees(2*Math.atan2(r*n,2*(2*r*r-1))),
lat:t.degrees(Math.asin(r*i))}}},identity:{project:function(e){return{x:e.lng/180,
y:e.lat/90}},invert:function(e){return{lng:180*e.x,lat:90*e.y}}}},t.Geo.scale=function(e){
function n(e){if(!o||e.lng!=o.lng||e.lat!=o.lat){o=e;var t=i(e);a={x:h(t.x),y:d(t.y)
}}return a}function i(e){var t={lng:e.lng-f.lng,lat:e.lat};return c.project(t)}function r(e){
var t=c.invert(e);return t.lng+=f.lng,t}var o,a,s={x:0,y:0},l={x:1,y:1},u=[],c=t.Geo.projections.identity,h=t.Scale.linear(-1,1).range(0,1),d=t.Scale.linear(-1,1).range(1,0),f={
lng:0,lat:0};return n.x=function(e){return n(e).x},n.y=function(e){return n(e).y},
n.ticks={lng:function(e){var n,i;if(u.length>1){var r=t.Scale.linear();void 0==e&&(e=10),
n=r.domain(u,function(e){return e.lat}).ticks(e),i=r.domain(u,function(e){return e.lng;
}).ticks(e)}else n=t.range(-80,81,10),i=t.range(-180,181,10);return i.map(function(e){
return n.map(function(t){return{lat:t,lng:e}})})},lat:function(e){return t.transpose(n.ticks.lng(e));
}},n.invert=function(e){return r({x:h.invert(e.x),y:d.invert(e.y)})},n.domain=function(e,n){
if(arguments.length){if(u=e instanceof Array?arguments.length>1?t.map(e,n):e:Array.prototype.slice.call(arguments),
u.length>1){var r=u.map(function(e){return e.lng}),a=u.map(function(e){return e.lat;
});f={lng:(t.max(r)+t.min(r))/2,lat:(t.max(a)+t.min(a))/2};var s=u.map(i);h.domain(s,function(e){
return e.x}),d.domain(s,function(e){return e.y})}else f={lng:0,lat:0},h.domain(-1,1),
d.domain(-1,1);return o=null,this}return u},n.range=function(e,t){return arguments.length?("object"==typeof e?(s={
x:Number(e.x),y:Number(e.y)},l={x:Number(t.x),y:Number(t.y)}):(s={x:0,y:0},l={x:Number(e),
y:Number(t)}),h.range(s.x,l.x),d.range(l.y,s.y),o=null,this):[s,l]},n.projection=function(e){
return arguments.length?(c="string"==typeof e?t.Geo.projections[e]||t.Geo.projections.identity:e,
this.domain(u)):e},t.copyOwn(n,t.Scale.common),arguments.length&&n.projection(e),
n},t}),define("cdf/lib/CCC/cdo",["./def","./protovis-compat!"],function(e,t){function n(e,t){
var n=e&&e.length;if(n){for(var i=0;n>i;i++){var r=e[i];t&&(r[t]=null),r.dispose();
}e.length=0}}function i(e,t,n,i,r){n[i]=e;var o=e[t]||(e[t]=[]);null==r||r>=o.length?o.push(n):o.splice(r,0,n);
}function r(t,n,i,r){var o,a=t[n];a&&(o=a.indexOf(i))>=0&&e.array.removeAt(a,o),i[r]=null;
}function o(e){return e.toISOString()}function a(e,t){return e.id-t.id}function s(e,t){
return t.id-e.id}function l(){delete this.isSelected}function u(e){return e.isNull||e.isSelected;
}function c(e){return e.isSelected===!0}function h(e){return e.isSelected===!1}function d(e){
return e.isVisible===!0}function f(e){return e.isVisible===!1}function p(e){return e.isNull===!0;
}function m(e){return e.isNull===!1}function g(t,n,i,r,o){var a;if(this.owner===this)a=new Me.Atom(this,i,r,t,n),
o&&(a.isVirtual=!0);else{var s=this.parent||this.linkParent;a=s._atomsByKey[n]||g.call(s,t,n,i,r,o);
}return e.array.insert(this._atoms,a,this._atomComparer),C.call(this),this._atomsByKey[n]=a,
a}function v(t){var n=t.key,i=this,r=!i._lazyInit;if(t.dimension===i)return i.owner===i||e.assert("Should be an owner dimension"),
n||t!==i._virtualNullAtom?r?C.call(this):this._sumCache=null:t=i.intern(null),t;if(r){
var o=i._atomsByKey[n];if(o){if(o!==t)throw e.error.operationInvalid("Atom is from a different root data.");
return C.call(i),t}if(i.owner===i)throw e.error.operationInvalid("Atom is from a different root data.");
}return v.call(i.parent||i.linkParent,t),r?(i._atomsByKey[n]=t,n?e.array.insert(i._atoms,t,i._atomComparer):(i._nullAtom=t,
i._atoms.unshift(t)),C.call(i)):this._sumCache=null,t}function y(t){var n=e.get(t,"visible"),i=e.get(t,"selected");
return(null==n?null:!!n)+":"+(null==i?null:!!i)}function b(e){var t=this._nullAtom;
return t||(this.owner===this?this.data._atomsBase[this.name]=t=new Me.Atom(this,null,e,null,""):t=b.call(this.parent||this.linkParent,e),
this._atomsByKey[""]=this._nullAtom=t,this._atoms.unshift(t)),t}function _(){return this.owner===this||e.assert("Can only create atoms on an owner dimension."),
this._virtualNullAtom||(this._virtualNullAtom=new Me.Atom(this,null,"",null,""),this.data._atomsBase[this.name]=this._virtualNullAtom),
this._virtualNullAtom}function x(){this.owner===this||e.assert("Can only unintern atoms of an owner dimension.");
var t=this._atoms;if(t){for(var n=this._atomsByKey,i=0,r=t.length;r>i;){var o=t[i];
if(o.visited)delete o.visited,i++;else if(o!==this._virtualNullAtom){t.splice(i,1),
r--;var a=o.key;delete n[a],a||(delete this._nullAtom,this.data._atomsBase[this.name]=this._virtualNullAtom);
}}C.call(this)}}function w(){var t=this._atoms;if(t){for(var n,i=this._atomsByKey,r=0,o=t.length;o>r;){
var a=t[r];if(a.isVirtual){t.splice(r,1),o--,n=!0;var s=a.key||e.assert("Cannot be the null or virtual null atom.");
delete i[s]}else r++}n&&C.call(this)}}function C(){this._atomVisibleDatumsCount=this._sumCache=this._visibleAtoms=this._visibleIndexes=null;
}function S(e){i(this,"childNodes",e,"parent"),e.owner=this.owner}function k(e){i(this,"_linkChildren",e,"linkParent"),
e.owner=this.owner}function D(e,t){var n;if(!this._disposed&&(n=this._atomVisibleDatumsCount)){
var i=e.atoms[this.name],r=i.key,o=n[r];n[r]=(o||0)+(t?1:-1),this._visibleAtoms=this._sumCache=this._visibleIndexes=null;
}}function M(){var e=this._atomVisibleDatumsCount;return e||(e={},this.data.datums(null,{
visible:!0}).each(function(t){var n=t.atoms[this.name],i=n.key;e[i]=(e[i]||0)+1},this),
this._atomVisibleDatumsCount=e),e}function N(e){var t=[];return this._atoms.forEach(function(n,i){
this.isVisible(n)===e&&t.push(i)},this),t}function T(t){return e.query(this._atoms).where(function(e){
return this.isVisible(e)===t},this).array()}function A(t,n){this.insertAt(t,n),e.lazy(this,"_childrenByKey")[t.key]=t;
}function j(e,t){i(this,"_linkChildren",e,"linkParent",t)}function I(e){r(this,"_linkChildren",e,"linkParent");
}function P(){n(this.childNodes,"parent"),this._childrenByKey=null,n(this._linkChildren,"linkParent"),
this._groupByCache=null,this._sumAbsCache=null}function L(){this.isOwner()||e.fail("Can only be called on the owner data.");
}function R(t,n){!t.isNull||e.assert("Null datums do not notify selected changes"),
n?this._selectedNotNullDatums.set(t.id,t):this._selectedNotNullDatums.rem(t.id),this._sumAbsCache=null;
}function O(t,n){var i=t.id,r=this,o=e.hasOwnProp;if(o.call(r._datumsById,i)){!t.isNull||e.assert("Null datums do not notify visible changes"),
n?r._visibleNotNullDatums.set(i,t):r._visibleNotNullDatums.rem(i),r._sumAbsCache=null;
for(var a=r._dimensionsList,s=0,l=a.length;l>s;)D.call(a[s++],t,n);for(a=r.childNodes,
s=0,l=a.length;l>s;)O.call(a[s++],t,n);if(a=r._linkChildren,a&&(l=a.length))for(s=0;l>s;)O.call(a[s++],t,n);
}}function E(e){for(var t,n=[e];t=e.parent||e.linkParent;)n.unshift(e=t);return n;
}function B(e,t){for(var n,i=0,r=Math.min(e.length,t.length),o=null;r>i&&(n=e[i])===t[i];)o=n,
i++;return o}function F(t,n){function i(t){if(t){var n=t.key;if(!e.hasOwnProp.call(o,n)){
null!==u&&e.hasOwnProp.call(u,n)&&(t=u[n]);var i=t.id;r.push(t),o[n]=t,a[i]=t,null!==d&&d.push(t),
t.isNull||(t.isSelected&&h.set(i,t),t.isVisible&&c.set(i,t))}}}if(!t)throw e.error.argumentRequired("setDatums");
var r,o,a,s=this._datums.length>0,l=!!e.get(n,"isAdditive"),u=null,c=this._visibleNotNullDatums,h=this._selectedNotNullDatums;
s&&!l?(P.call(this),u=this._datumsByKey,this._datums=r=[],this._datumsById=a={},this._datumsByKey=o={},
c.clear(),h&&h.clear()):(r=this._datums,o=this._datumsByKey,a=this._datumsById,s&&(this._sumAbsCache=null));
var d=null,f=!!this._linkChildren&&this._linkChildren.length>0;if(f&&s&&l&&(d=[]),
e.array.is(t))for(var p=0,m=t.length;m>p;)i.call(this,t[p++]);else{if(!(t instanceof e.Query))throw e.error.argumentInvalid("setDatums","Argument is of invalid type.");
t.each(i,this)}this.select&&this.select(r).forEach(function(e){q.call(this,e),null!==d&&d.splice(d.indexOf(e),1);
},this),z.call(this),f&&this._onDatumsAdded(d||r)}function z(){for(var e=-1,t=this._datums,n=t.length;++e<n;)V.call(this,t[e],!1,!0);
var i=this._dimensionsList;for(e=-1,n=i.length;++e<n;)x.call(i[e])}function V(e,t,n){
var i=this._dimensionsList;if(i||(t=!1),t||n){var r,o,a,s=e.atoms,l=0;if(i)for(r=i.length;r>l;)a=i[l++],
o=s[a.name],o&&(t&&v.call(a,o),n&&(o.visited=!0));else{var u=this.type.dimensionsNames();
for(r=u.length;r>l;)o=s[u[l++]],o&&(o.visited=!0)}}}function q(e){var t=this._datums,n=this._selectedNotNullDatums,i=e.id;
t.splice(t.indexOf(e),1),delete this._datumsById[i],delete this._datumsByKey[e.key],
n&&e.isSelected&&n.rem(i),e.isVisible&&this._visibleNotNullDatums.rem(i)}function H(t){
function n(t){if(null!=t){"object"==typeof t||e.fail.invalidArgument("datumFilter");
var n={},r=!1;for(var o in t){var a=t[o],s=this.dimensions(o).getDistinctAtoms(null!==a?e.array.as(a):[null]);
s.length&&(r=!0,n[o]=s)}r&&i.push(n)}}var i=[];return t=e.array.as(t),t&&t.forEach(n,this),
i}function W(t,n){var i=e.get(n,"visible"),r=e.get(n,"isNull"),o=e.get(n,"selected"),a=e.get(n,"where");
return null!=i&&(t=t.where(i?d:f)),null!=r&&(t=t.where(r?p:m)),null!=o&&(t=t.where(o?c:h)),
a&&(t=t.where(a)),t}function U(t,n){var i=e.get(n,"visible"),r=e.get(n,"isNull"),o=e.get(n,"selected"),a=e.get(n,"where"),s=[];
null!=i&&s.unshift(i?d:f),null!=r&&s.unshift(r?p:m),null!=o&&s.unshift(o?c:h),a&&s.unshift(a),
t&&s.unshift(G(t));var l=s.length;if(l){if(1===l)return s[0];var u=function(e){for(var t=l;t;)if(!s[--t](e))return!1;
return!0};return u}return null}function G(e){function t(t){for(var r=t.atoms,o=0;i>o;o++)if(n(r,e[o]))return!0;
return!1}function n(e,t){for(var n in t)if(t[n].indexOf(e[n])<0)return!1;return!0;
}var i=e.length;return t}function $(t,n){var i=e.array.as(e.get(n,"orderBy")),r=e.create(n||{},{
orderBy:null}),o=e.query(t).selectMany(function(e,t){return i&&(r.orderBy=i[t]),K.call(this,e,r);
},this);return o.distinct(e.propGet("id"))}function K(t,n){var i=n.orderBy;if(i){
if(i.indexOf("|")>=0)throw e.error.argumentInvalid("keyArgs.orderBy","Multi-dimension order by is not supported.");
}else i=Object.keys(t).sort().join(",");var r=this.groupBy(i,n),o=r.treeHeight,a=[];
return e.query(function(){var n;if(this._data){if(this._datumsQuery){if(this._data||e.assert("Must have a current data"),
a.length||e.assert("Must have a parent data"),!this._dimAtomsOrQuery||e.assert(),
this._datumsQuery.next())return this.item=this._datumsQuery.item,1;this._datumsQuery=null,
n=a.pop(),this._data=n.data,this._dimAtomsOrQuery=n.dimAtomsOrQuery}}else this._data=r,
this._dimAtomsOrQuery=e.query(t[r.groupingLevelSpec.dimensions[0].name]);this._dimAtomsOrQuery||e.assert("Invalid programmer"),
this._data||e.assert("Must have a current data");for(var i=a.length;;){for(;this._dimAtomsOrQuery.next();){
var s=this._dimAtomsOrQuery.item,l=this._data.child(s.key);if(l&&(o-1>i||l._datums.length)){
if(a.push({data:this._data,dimAtomsOrQuery:this._dimAtomsOrQuery}),this._data=l,!(o-1>i))return this._dimAtomsOrQuery=null,
this._datumsQuery=e.query(l._datums),this._datumsQuery.next(),this.item=this._datumsQuery.item,
1;this._dimAtomsOrQuery=e.query(t[l.groupingLevelSpec.dimensions[0].name]),i++}}if(!i)return 0;
n=a.pop(),this._data=n.data,this._dimAtomsOrQuery=n.dimAtomsOrQuery,i--}return 0});
}function X(t,n,i){return e.string.is(t)||e.fail.argumentInvalid("groupLevelText","Invalid grouping specification."),
e.query(t.split(/\s*\|\s*/)).where(e.truthy).select(function(t){var r=Ie.exec(t)||e.fail.argumentInvalid("groupLevelText","Invalid grouping level syntax '{0}'.",[t]),o=r[1],a=(r[2]||"").toLowerCase(),s="desc"===a,l=new Me.GroupingDimensionSpec(o,s);
return n&&l.bindComplexType(n,i),l})}function Y(t,n){function i(){var i={},o=e.query(r.source).select(function(e){
n(e,i);var t=i.series;return null!=t&&null!=t.v&&(t=t.v),t||null}).distinct().array();
return r._createPlot2SeriesKeySet(t,o)}var r=this;this._dataPartGet(i)}function Q(t){
return e.string.is(t)?!!this.mask(t):e.is(t,Oe)?!!this.mask(t.mask()).style(t.style()):void 0;
}function Z(e){e||(e="");var t="_"+e,n=Ee[t];return n||(Be===Oe.cacheLimit&&(Ee={},
Be=0),Ee[t]=n=J(e),Be++),n}function J(e){function t(e,t){return null==e?a?a(t):"":(e=+e,
isNaN(e)||!isFinite(e)?"":i?0===e?o?o(t):i(t,e,null,!1):e>0?i(t,e,o,!1):r?r(t,-e,o||i):i(t,-e,o,!0):String(e));
}function n(){var t,n,s,l=ee(e);if(l.forEach(te),t=l.length,i=a=r=o=null,t&&(i=ae(s=l[0]),
t>1&&(n=l[1],r=ae(n.empty?s:n),t>2&&(n=l[2],o=re(n.empty?s:n),t>3&&(n=l[3],a=oe(n.empty?s:n),
t>4)))))throw new Error("Invalid mask. More than 4 sections.")}var i,r,o,a;return n(),
t}function ee(e){var t=[];if(e){var n,i,r,o,a=-1,s=e.length,l="",u=1,c=1,h=0,d=0,f=function(e){
u=0,r.list.push(e)},p=function(e){u=0,l+=e},m=function(){l&&(b(),f({type:0,text:l
}),l="")},g=function(e){m(),f(e)},v=function(){m(),!h&&d&&f({type:2}),r.digits=o,
o=0,c=0,r=i.fractional},y=function(){!i||u&&t.length||(c?v():m(),r.digits=o,t.push(i)),
u=c=1,d=o=h=0,i={empty:0,scale:0,groupOn:0,scientific:0,abbreviationOn:0,integer:{
list:[],digits:0},fractional:{list:[],digits:0}},r=i.integer},b=function(){"A"===l?(l="",
g({type:6})):"C"===l?(l="",g({type:4})):"AC"===l?(l="",g({type:6}),g({type:4})):"CA"===l&&(l="",
g({type:4}),g({type:6}))},_=function(){var t,r=a+1,o=!1,l=0;if(s>r){if(t=e.charAt(r),
"-"===t||"+"===t){if(o="+"===t,!(++r<s))return 0;t=e.charAt(r)}for(;"0"===t&&++l&&++r<s&&(t=e.charAt(r)););
if(l)return a=r-1,g({type:5,text:n,digits:l,positive:o}),i.scientific=1,1}return 0;
};for(y();++a<s;)if(n=e.charAt(a),"0"===n)g({type:1}),h=1,o++;else if("#"===n)g({
type:2}),h=1,o++;else if(","===n)c&&g({type:3});else if("."===n)c&&(d=1,v());else if(""===n)g({
type:4});else if("C"===n&&"Currency"===e.substring(a,a+8))g({type:4}),a+=7;else if("A"===n&&"Abbreviation"===e.substring(a,a+12))g({
type:6}),a+=11;else if(";"===n)y(),(a+1>=s||";"===e.charAt(a+1))&&(a++,t.push({empty:1
}));else if("\\"===n)a++,s>a&&p(e.charAt(a));else if('"'===n){a++;var x=e.indexOf(n,a);
0>x&&(x=s),p(e.substring(a,x)),a=x}else" "===n?g({type:7}):("e"!==n&&"E"!==n||!_())&&("%"===n?i.scale+=2:""===n?i.scale+=3:""===n&&(i.scale+=4),
p(n));y()}return t}function te(e){e.empty||(ne(e,!0),ne(e,!1))}function ne(e,t){function n(e){
l[o](e)}for(var i,r,o=t?"push":"unshift",a=e[t?"integer":"fractional"],s=a.list,l=a.list=[],u=a.digits-1,c=0,h=0,d=s.length,f=t?0:d,p=t?function(){
return d>f?s[f++]:null}:function(){return f>0?s[--f]:null};i=p();)switch(r=i.type){
case 0:n(ue(i.text));break;case 1:case 2:h&&2===r&&(r=1),n(ce(t,u,1===r,!c)),u--,
c=1,h||1!==r||(h=1);break;case 3:ie(s,f,d)?c&&(e.groupOn=1):e.scale-=3;break;case 4:
n(me);break;case 5:n(de(e,i));break;case 6:e.abbreviationOn=1,n(ge);break;case 7:
n(ue(" "))}!t&&a.digits&&l.unshift(he(h))}function ie(e,t,n){for(;n>t;){var i=e[t++].type;
if(1===i||2===i)return 1}return 0}function re(e){function t(t){return se(e,t,0,!1);
}return t}function oe(e){function t(t){return se(e,t,"",!1)}return t}function ae(t){
function n(n,i,r,o){var a,s,l=i,u=0,c=t.scale;if(t.abbreviationOn)for(var h=n.abbreviations.length,d=h;d>0;d--){
var f=3*d;if(Math.pow(10,f)<=i){c-=f,s=d-1;break}}return t.scientific&&(a=Math.floor(Math.log(i)/Math.LN10),
u=c+a-t.integer.digits+1,c-=u),c&&(i=e.mult10(i,c)),i=e.round10(i,t.fractional.digits),
!i&&r?r(n,l):se(t,n,i,o,u,s)}return n}function se(e,t,n,i,r,o){var a=""+n,s=a.indexOf("."),l=0>s?a:a.substr(0,s),u=0>s?"":a.substr(s+1);
"0"===l&&(l=""),r||(r=0);var c=[];return i&&c.push(t.negativeSign),l=l.split(""),
u=u.split(""),t.group&&e.groupOn&&le(t,l),e.integer.list.forEach(function(e){c.push(e(t,l,r,o));
}),e.fractional.list.forEach(function(e){c.push(e(t,u,r,o))}),c.join("")}function le(e,t){
for(var n,i=e.group,r=function(){t[o-l-1]+=i},o=t.length,a=e.groupSizes,s=a.length,l=0,u=-1;++u<s;){
if(l+=n=a[u],!(o>l))return;r()}for(;(l+=n)<o;)r()}function ue(e){function t(){return e;
}return t}function ce(e,t,n,i){function r(t){return t[e?"integerPad":"fractionPad"];
}function o(e,n){var r=n.length;if(r>t){var o=r-1-t;return i?n.slice(0,o+1).join(""):n[o];
}return s?s(e):""}function a(e,n){return t<n.length?n[t]:s?s(e):""}var s=n?r:null;
return e?o:a}function he(e){return e?fe:pe}function de(e,t){function n(e,n,i){var r=0>i?e.negativeSign:t.positive?"+":"",o=""+Math.abs(i),a=t.digits-o.length;
return a>0&&(o=new Array(a+1).join("0")+o),t.text+r+o}return n}function fe(e){return e.decimal;
}function pe(e,t){return t.length?e.decimal:""}function me(e){return e.currency}function ge(e,t,n,i){
return null!=i?e.abbreviations[i]:void 0}function ve(t){return e.string.is(t)?!!this.mask(t):e.is(t,Fe)?!!this.mask(t.mask()):void 0;
}function ye(n){return n?t.Format.createFormatter(t.Format.date(n)):e.string.to}function be(t){
return e.is(t,ze)?!!this.formatter(t.formatter()):e.fun.is(t)?!!this.formatter(t):void 0;
}function _e(e){return null!=e?String(e):""}function xe(t){function n(n){return e.is(n,t)||e.is(n,ze)?n:null;
}function i(n,i){var r=e.fun.is(n)?ze:t;return r(n,i)}return{cast:n,factory:i}}function we(t){
switch(e.classOf(t)){case qe:return!!this.number(t.number()).percent(t.percent()).date(t.date()).any(t.any());
case Oe:return!!this.number(t);case Fe:return!!this.date(t);case ze:return!!this.any(t);
}if(e.string.is(t)){var n=Ue(t);if(n)return!!e.configure(this,n)}}function Ce(t,n){
t=ke(t);var i=e.getOwn(He,t);return i?e.configure(i,n):(i=He[t]=qe(n),i.languageCode=t),
i}function Se(e){var t=/^([a-z]{2,8})(?:[-_]([a-z]{2}|\d{3}))?$/i,n=t.exec(e);if(!n)return null;
var i=n[1]?n[1].toLowerCase():"",r=n[2]?n[2].toLowerCase():"";return{code:i+(r?"-"+r:""),
primary:i,region:r}}function ke(e){return e?e.toLowerCase():""}function De(t,n){t=ke(t);
var i=e.getOwn(He,t);if(i)return i;if(!n)return null;var r=Se(t);if(r){if(r.code!==t&&(i=e.getOwn(He,r.code)))return i;
if(r.region&&(i=e.getOwn(He,r.primary)))return i}return e.getOwn(He,Ve,null)}var Me=e.globalSpace("cdo",{});
e.type("cdo.DimensionType").init(function(n,i,r){this.complexType=n,this.name=i,this.label=e.get(r,"label")||e.titleFromName(i);
var a=e.splitIndexedId(i);this.group=a[0],this.groupLevel=e.nullyTo(a[1],0),this.label.indexOf("{")>=0&&(this.label=e.format(this.label,[this.groupLevel+1])),
this.isHidden=!!e.get(r,"isHidden");var s=e.get(r,"valueType")||null,l=Me.DimensionType.valueTypeName(s),u=e.getOwn(Me.DimensionType.cast,l,null);
this.valueType=s,this.valueTypeName=l,this.cast=u;var c=this.valueType===Number,h=!c&&this.valueType===Date;
if(this.isDiscreteValueType=!c&&!h,this.isDiscrete=e.get(r,"isDiscrete"),null==this.isDiscrete)this.isDiscrete=this.isDiscreteValueType;else if(this.isDiscrete=!!this.isDiscrete,
!this.isDiscrete&&this.isDiscreteValueType)throw e.error.argumentInvalid("isDiscrete","The only supported continuous value types are Number and Date.");
if(this._converter=e.get(r,"converter")||null,!this._converter){var d=e.get(r,"rawFormat");
if(d)switch(this.valueType){case Date:this._converter=t.Format.createParser(t.Format.date(d));
}}this._key=e.get(r,"key")||null,null===this._key&&h&&(this._key=o),this.setComparer(r&&r.comparer);
var f,p=e.get(r,"formatter"),m=e.get(r,"formatProto"),g=c?"number":h?"date":"any";
p?f=Me.format(e.set({},g,p),m):this.isDiscreteValueType?f=qe(null,m):(f=e.get(r,"format"),
f||c||(f=e.get(r,"rawFormat"),f&&(f=f.replace(/-/g,"/"))),f?e.is(f,qe)||((e.string.is(f)||e.fun.is(f)&&!e.classOf(f))&&(f=e.set({},g,f)),
f=qe(f,m)):f=qe(null,m),p=f[g]()),this._formatter=p||null,this._format=f||null,this.isKey=Boolean(e.get(r,"isKey"));
}).add({isCalculated:!1,compare:function(e,t){return null==e?null==t?0:-1:null==t?1:this._comparer.call(null,e,t);
},comparer:function(e){var t=this;return t.isComparable?e?t._rc||(t._rc=function(e,n){
return t.compare(n,e)}):t._dc||(t._dc=function(e,n){return t.compare(e,n)}):null},
setComparer:function(t){if(void 0===t||!t&&!this.isDiscrete)switch(this.valueType){
case Number:case Date:t=e.compare}this._comparer=t||null,this.isComparable=null!=this._comparer,
this._rc=this._dc=this._rac=this._dac=null},atomComparer:function(e){return e?this._rac||(this._rac=this._createReverseAtomComparer()):this._dac||(this._dac=this._createDirectAtomComparer());
},_toDiscrete:function(){this.isDiscrete=!0},_toCalculated:function(){this.isCalculated=!0;
},_createReverseAtomComparer:function(){function e(e,n){return e===n?0:t.compare(n.value,e.value);
}if(!this.isComparable)return s;var t=this;return e},_createDirectAtomComparer:function(){
function e(e,n){return e===n?0:t.compare(e.value,n.value)}if(!this.isComparable)return a;
var t=this;return e},format:function(){return this._format},formatter:function(){
return this._formatter},converter:function(){return this._converter}}),Me.DimensionType.cast={
Date:function(e){return e instanceof Date?e:new Date(e)},Number:function(e){return e=Number(e),
isNaN(e)?null:e},String:String,Boolean:Boolean,Object:Object,Any:null},Me.DimensionType.dimensionGroupName=function(e){
return e.replace(/^(.*?)(\d*)$/,"$1")},Me.DimensionType.valueTypeName=function(t){
if(null==t)return"Any";switch(t){case Boolean:return"Boolean";case Number:return"Number";
case String:return"String";case Object:return"Object";case Date:return"Date";default:
throw e.error.argumentInvalid("valueType","Invalid valueType function: '{0}'.",[t]);
}},e.type("cdo.ComplexType").init(function(t,n){if(this._dims={},this._dimsList=[],
this._dimsNames=[],this._calculations=[],this._calculatedDimNames={},this._dimsIndexByName=null,
this._dimsByGroup={},this._dimsNamesByGroup={},this.format=qe(null,e.get(n,"formatProto")),
this.nullNumberAtom=new Me.NumberAtom(this,null),t)for(var i in t)this.addDimension(i,t[i]);
}).add({describe:function(){var t=e.textTable(2).rowSep().row("Dimension","Properties").rowSep();
return this._dimsList.forEach(function(e){var n=[];n.push('"'+e.label+'"'),n.push(e.valueTypeName),
e.isComparable&&n.push("comparable"),e.isDiscrete||n.push("continuous"),e.isHidden&&n.push("hidden"),
t.row(e.name,n.join(", "))}),t.rowSep(!0),"COMPLEX TYPE INFORMATION\n"+t()+"\n"},
dimensions:function(t,n){if(null==t)return this._dims;var i=e.getOwn(this._dims,t,null);
if(!i&&e.get(n,"assertExists",!0))throw e.error.argumentInvalid("name","Undefined dimension '{0}'",[t]);
return i},filterExtensionDimensionNames:function(t){return t.filter(function(t){return!!e.hasOwn(this,t);
},this._dims)},dimensionsList:function(){return this._dimsList},calculatedDimensionsList:function(){
return this._calcDimsList},dimensionsNames:function(){return this._dimsNames},groupDimensions:function(t,n){
var i=e.getOwn(this._dimsByGroup,t);if(!i&&e.get(n,"assertExists",!0))throw e.error.operationInvalid("There is no dimension type group with name '{0}'.",[t]);
return i},groupDimensionsNames:function(t,n){var i=e.getOwn(this._dimsNamesByGroup,t);
if(!i&&e.get(n,"assertExists",!0))throw e.error.operationInvalid("There is no dimension type group with name '{0}'.",[t]);
return i},addDimension:function(t,n){t||e.fail.argumentRequired("name"),!e.hasOwn(this._dims,t)||e.fail.operationInvalid("A dimension type with name '{0}' is already defined.",[t]);
var i=new Me.DimensionType(this,t,n);this._dims[t]=i,this._dimsIndexByName=null;var r,o=i.group;
if(o){var a,s=e.getOwn(this._dimsByGroup,o);s?a=this._dimsNamesByGroup[o]:(s=this._dimsByGroup[o]=[],
a=this._dimsNamesByGroup[o]=[]),r=e.array.insert(a,t,e.compare),r=~r,e.array.insertAt(s,r,i);
}var l,u=this._dimsList.length;if(o){r=i.groupLevel;for(var c=0;u>c;c++){var h=this._dimsList[c];
if(h.group===o){if(h.groupLevel>r){l=c;break}l=c+1}}null==l&&(l=u)}else l=u;return e.array.insertAt(this._dimsList,l,i),
e.array.insertAt(this._dimsNames,l,t),i._calculate&&(l=e.array.binarySearch(this._calcDimsList,i._calculationOrder,e.compare,function(e){
return e._calculationOrder}),l>=0?l++:l=~l,e.array.insertAt(this._calcDimsList,l,i)),
i},addCalculation:function(t){t||e.fail.argumentRequired("calcSpec");var n=t.calculation||e.fail.argumentRequired("calculations[i].calculation"),i=t.names;
if(i=e.string.is(i)?i.split(/\s*\,\s*/):e.array.as(i),i&&i.length){var r=this._calculatedDimNames;
i.forEach(function(t){if(t){t=t.replace(/^\s*(.+?)\s*$/,"$1"),!e.hasOwn(r,t)||e.fail.argumentInvalid("calculations[i].names","Dimension name '{0}' is already being calculated.",[t]);
var n=this._dims[t]||e.fail.argumentInvalid("calculations[i].names","Undefined dimension with name '{0}'' ",[t]);
r[t]=!0,n._toCalculated()}},this)}this._calculations.push(n)},isCalculated:function(t){
return e.hasOwn(this._calculatedDimNames,t)},_calculate:function(e){var t=this._calculations,n=t.length;
if(n){for(var i={},r=0;n>r;r++){var o=t[r];o(e,i)}return i}},sortDimensionNames:function(t,n){
var i=this._dimsIndexByName;return i||(i=e.query(this._dimsList).object({name:function(e){
return e.name},value:function(e,t){return t}}),this._dimsIndexByName=i),t.sort(function(t,r){
return e.compare(i[n?n(t):t],i[n?n(r):r])}),t}}),e.type("cdo.ComplexTypeProject").init(function(e){
this._dims={},this._dimList=[],this._dimGroupsDims={},this._dimGroupSpecs=e||{},this._calcList=[];
}).add({_ensureDim:function(t,n){t||e.fail.argumentInvalid("name","Invalid dimension name '{0}'.",[t]);
var i=e.getOwn(this._dims,t);if(i)n&&e.setUDefaults(i.spec,n);else{i=this._dims[t]=this._createDim(t,n),
this._dimList.push(i);var r=e.array.lazy(this._dimGroupsDims,i.groupName);e.array.insert(r,t,e.compare);
}return i},hasDim:function(t){return e.hasOwn(this._dims,t)},setDim:function(t,n){
var i=this._ensureDim(t).spec;return n&&e.copy(i,n),this},setDimDefaults:function(t,n){
return e.setUDefaults(this._ensureDim(t).spec,n),this},_createDim:function(t,n){var i=Me.DimensionType.dimensionGroupName(t),r=this._dimGroupSpecs[i];
return r&&(n=e.create(r,n)),{name:t,groupName:i,spec:n||{}}},readDim:function(t,n){
var i=this._ensureDim(t,n);if(i.isRead)throw e.error.operationInvalid("Dimension '{0}' already is the target of a reader.",[t]);
if(i.isCalc)throw e.error.operationInvalid("Dimension '{0}' is being calculated, so it cannot be the target of a reader.",[t]);
i.isRead=!0},calcDim:function(t,n){var i=this._ensureDim(t,n);if(i.isCalc)throw e.error.operationInvalid("Dimension '{0}' already is being calculated.",[t]);
if(i.isRead)throw e.error.operationInvalid("Dimension '{0}' is the target of a reader, so it cannot be calculated.",[t]);
i.isCalc=!0},isReadOrCalc:function(t){if(t){var n=e.getOwn(this._dims,t);if(n)return n.isRead||n.isCalc;
}return!1},groupDimensionsNames:function(e){return this._dimGroupsDims[e]},setCalc:function(t){
t||e.fail.argumentRequired("calculations[i]"),t.calculation||e.fail.argumentRequired("calculations[i].calculation");
var n=t.names;n=e.string.is(n)?n.split(/\s*\,\s*/):e.array.as(n),n&&n.length&&n.forEach(this.calcDim,this),
this._calcList.push(t)},configureComplexType:function(e,t){this._dimList.forEach(function(n){
var i=n.name,r=n.spec;r=this._extendSpec(i,r,t),e.addDimension(i,r)},this),this._calcList.forEach(function(t){
e.addCalculation(t)})},_extendSpec:function(t,n,i){var r=Me.DimensionType.dimensionGroupName(t);
switch(n||(n={}),r){case"category":var o=e.get(i,"isCategoryTimeSeries",!1);o&&void 0===n.valueType&&(n.valueType=Date);
break;case"value":void 0===n.valueType&&(n.valueType=Number)}return void 0!==n.converter||n.valueType!==Date||n.rawFormat||(n.rawFormat=e.get(i,"timeSeriesFormat")),
n.formatProto=e.get(i,"formatProto"),n}}),e.type("cdo.Atom").init(function(t,n,i,r,o){
this.dimension=t,this.id=null==n?-e.nextId():e.nextId(),this.value=n,this._label=null==i?null:i,
void 0!==r&&(this.rawValue=r),this.key=o}).add({isVirtual:!1,rawValue:void 0,get label(){
var e=this._label;return null===e&&(this._label=e=this.dimension.format(this.value,this.rawValue)),
e},set label(t){this._label=e.string.to(t)},get labelPercent(){var e=this.dimension.type.format().percent();
return e(this.value)},toString:function(){var e=this.label;return null!=e?e:(e=this.value,
null!=e?""+e:"")}}),e.type("cdo.NumberAtom").init(function(t,n,i){this.complexType=t,
this.id=e.nextId(),this.value=null==n?null:n,this._label=null==i?null:i,this.key=null==n?"":n.toString();
}).add({dimension:null,get key(){return""+this.value},get rawValue(){return this.value;
},get label(){var e=this._label;return null===e&&(this._label=e=this.complexType.format.number()(this.value,this.rawValue)),
e},set label(t){this._label=e.string.to(t)},get labelPercent(){return this.complexType.format.percent()(this.value);
}});var Ne=1;e.type("cdo.Complex").init(function(t,n,i,r,o,a){this.id=Ne++,r||(r=null);
var s;t?(s=t.owner,null===r&&(r=t.atoms)):s=this,this.owner=s,this.atoms=r?Object.create(r):{};
var l=!!i;if(i||(i=s.type._dimsNames),n){var u,c=this.atoms,h=s._dimensions,d=function(t){
var i=n[t],o=h[t];if(void 0===o){if(!l)throw e.error.operationInvalid("Extension atom values require dimension names to be specified.");
if(!(i instanceof Me.Atom))throw e.error.operationInvalid("Extension atom values must be cdo.Atom instances.");
c[t]=i}else i=o.intern(i),null==i.value||null!==r&&i===r[t]||(c[t]=i)};if(l)for(var f=-1,p=i.length;++f<p;)d(i[f]);else for(u in n)d(u);
if(a){n=s.type._calculate(this);for(u in n)e.hasOwnProp.call(c,u)||d(u)}}this._initValueKeyLabel(i,o);
}).add({labelSep:" ~ ",keySep:"~",value:null,label:null,rawValue:void 0,_initValueKeyLabel:function(e,t){
var n,i=e.length;if(0===i)this.key="",this.value=null,t&&(this.label="");else if(1===i)n=this.atoms[e[0]],
this.key=this._getAtomKey(n),this.value=n.value,this.rawValue=n.rawValue,t&&(this.label=n.label);else{
for(var r,o,a,s="",l=this.owner.keySep,u=this.owner.labelSep,c=this.atoms,h="",d=-1;++d<i;)n=c[e[d]],
0===d?r=n.key:r+=l+n.key,o=this._getAtomKey(n),null!==o&&(0===d?s=o:s+=l+o),t&&""!==(a=n.label)&&(""===h?h=a:h+=u+a);
this.value=this.rawValue=r,this.key=s,t&&(this.label=h)}},_getAtomKey:function(e){
return e.key},getSpecifiedAtom:function(e){return this.atoms[e]},ensureLabel:function(){
var t=this.label;if(null==t){t="";var n=this.owner.labelSep;e.eachOwn(this.atoms,function(e){
var i=e.label;i&&(t?t+=n+i:t=i)}),this.label=t}return t},view:function(e){return new Me.ComplexView(this,e);
},toString:function(){var t=[""+e.qualNameOf(this.constructor)];return null!=this.index&&t.push("#"+this.index),
this.owner.type.dimensionsNames().forEach(function(n){t.push(n+": "+e.describe(this.atoms[n].value));
},this),t.join(" ")},rightTrimKeySep:function(e){return e&&Me.Complex.rightTrimKeySep(e,this.owner.keySep);
},absKeyTrimmed:function(){return this.rightTrimKeySep(this.absKey)},keyTrimmed:function(){
return this.rightTrimKeySep(this.key)}}),Me.Complex.rightTrimKeySep=function(e,t){
if(e&&t)for(var n,i=t.length;e.lastIndexOf(t)===(n=e.length-i)&&n>=0;)e=e.substr(0,n);
return e},Me.Complex.values=function(e,t){var n=e.atoms;return t.map(function(e){
return n[e].value})},Me.Complex.compositeKey=function(e,t){for(var n="",i=t.length,r=e.owner.keySep,o=e.atoms,a=0;i>a;a++){
var s=o[t[a]].key;a?n+=r+s:n=s}return n},Me.Complex.labels=function(e,t){var n=e.atoms;
return t.map(function(e){return n[e].label})};var Te=e.propGet("id");e.type("cdo.ComplexView",Me.Complex).init(function(e,t){
this.source=e,this.viewDimNames=t,this.base(e,e.atoms,t,e.owner.atoms,!0)}).add({
values:function(){return Me.Complex.values(this,this.viewDimNames)},labels:function(){
return Me.Complex.labels(this,this.viewDimNames)}}),e.type("cdo.Datum",Me.Complex).init(function(e,t,n){
this.base(e,t,n,null,!1,!0),this.key||(this.key=this.id)}).add({isSelected:!1,isVisible:!0,
isNull:!1,isVirtual:!1,isTrend:!1,trend:null,isInterpolated:!1,interpolation:null,
_getAtomKey:function(e){return e.dimension.isKey?e.key:null},setSelected:function(e){
if(this.isNull)return!1;e=null==e||!!e;var t=this.isSelected!==e;return t&&(e?this.isSelected=!0:delete this.isSelected,
R.call(this.owner,this,e)),t},toggleSelected:function(){return this.setSelected(!this.isSelected);
},setVisible:function(e){if(this.isNull)return!1;e=null==e||!!e;var t=this.isVisible!==e;
return t&&(this.isVisible=e,O.call(this.owner,this,e)),t},toggleVisible:function(){
return this.setVisible(!this.isVisible)}});var Ae=Me.Datum.isSelected=e.propGet("isSelected");
Me.Datum.isSelectedT=c,Me.Datum.isSelectedF=h,Me.Datum.isVisibleT=d,Me.Datum.isVisibleF=f,
Me.Datum.isNullT=p,Me.Datum.isNullF=m,e.type("cdo.TrendDatum",Me.Datum).init(function(e,t,n,i){
this.base(e,t,n),this.trend=i}).add({isVirtual:!0,isTrend:!0}),e.type("cdo.InterpolationDatum",Me.Datum).init(function(e,t,n,i,r){
this.base(e,t,n),this.interpolation=i,this.interpDimName=r}).add({isVirtual:!0,isInterpolated:!0
});var je={abs:!0};e.type("cdo.Dimension").init(function(t,n){this.data=t,this.type=n,
this.root=this,this.owner=this;var i=n.name;if(this.name=i,this._atomComparer=n.atomComparer(),
this._atomsByKey={},this.isKey=n.isKey,t.isOwner())this._atoms=[],this._lazyInit=null,
_.call(this);else{var r,o=t.parent;o?(r=o._dimensions[i],S.call(r,this),this.root=t.parent.root):(o=t.linkParent,
o||e.assert("Data must have a linkParent"),r=o._dimensions[i],k.call(r,this)),this._nullAtom=this.owner._nullAtom,
this._lazyInit=function(){this._lazyInit=null;for(var t=this.data._datums,n=t.length,o=this._atomsByKey,a=0;n>a;a++){
var s=t[a].atoms[i];o[s.key]=s}this._atoms=r.atoms().filter(function(t){return e.hasOwnProp.call(o,t.key);
})}}}).add({parent:null,linkParent:null,_linkChildren:null,_atomsByKey:null,_atomVisibleDatumsCount:null,
_disposed:!1,_nullAtom:null,_virtualNullAtom:null,_visibleAtoms:null,_visibleIndexes:null,
_atomComparer:null,_atoms:null,_sumCache:null,count:function(){return null!==this._lazyInit&&this._lazyInit(),
this._atoms.length},isVisible:function(t){return null!==this._lazyInit&&this._lazyInit(),
e.hasOwn(this._atomsByKey,t.key)||e.assert("Atom must exist in this dimension."),
M.call(this)[t.key]>0},atoms:function(t){null!==this._lazyInit&&this._lazyInit();var n=e.get(t,"visible");
return null==n?this._atoms:(n=!!n,this._visibleAtoms||(this._visibleAtoms={}),this._visibleAtoms[n]||(this._visibleAtoms[n]=T.call(this,n)));
},indexes:function(n){null!==this._lazyInit&&this._lazyInit();var i=e.get(n,"visible");
return null==i?t.range(0,this._atoms.length):(i=!!i,this._visibleIndexes||(this._visibleIndexes={}),
this._visibleIndexes[i]||(this._visibleIndexes[i]=N.call(this,i)))},atom:function(e){
if(null==e||""===e)return this._nullAtom;if(e instanceof Me.Atom)return e;null!==this._lazyInit&&this._lazyInit();
var t=this.type._key,n=t?t.call(null,e):e;return this._atomsByKey[n]||null},getDistinctAtoms:function(e){
var t,n,i,r=[],o=e?e.length:0;if(o){i={};for(var a=0;o>a;a++)(t=this.atom(e[a]))&&!i[n="\x00"+t.key]&&(i[n]=t,
r.push(t))}return r},extent:function(t){var n,i=this.atoms(t),r=i.length;if(!r)return void 0;
var o=this._nullAtom&&null==i[0].value?1:0,a=r-o;if(a>0){var s=i[o],l=i[r-1];if(s!==l&&e.get(t,"abs",!1)){
var u=s.value<0?-1:1,c=l.value<0?-1:1;if(u===c)0>c&&(n=l,l=s,s=n);else if(a>2){l.value<-s.value&&(l=s);
var h=e.array.binarySearch(i,0,this.type.comparer(),function(e){return e.value});if(0>h){
h=~h;var d=i[h-1],f=i[h];s=-d.value<f.value?d:f}else s=i[h]}else l.value<-s.value&&(n=l,
l=s,s=n)}return{min:s,max:l}}return void 0},min:function(e){var t=this.atoms(e),n=t.length;
if(!n)return void 0;var i=this._nullAtom&&null==t[0].value?1:0;return n>i?t[i]:void 0;
},max:function(e){var t=this.atoms(e),n=t.length;return n&&null!=t[n-1].value?t[n-1]:void 0;
},sumAbs:function(e){return this.sumAbsAtom(e).value},value:function(e){return this.valueAtom(e).value;
},valueAbs:function(e){return this.valueAbsAtom(e).value},sum:function(e){return this.sumAtom(e).value;
},sumAtom:function(t){var n=!!e.get(t,"abs",!1),i=e.get(t,"zeroIfNone",!0),r=y(t)+":"+n,o=e.getOwn(this._sumCache,r);
if(void 0===o){var a=this.name,s=this.data.datums(null,t).reduce(function(e,t){var i=t.atoms[a].value;
return null===i?e:(n&&0>i&&(i=-i),null!=e?e+i:i)},null);(this._sumCache||(this._sumCache={}))[r]=o=this.read(s);
}return i&&null===o.value?this.read(0):o},sumAbsAtom:function(t){return t=t?e.create(t,je):je,
this.sumAtom(t)},valueAtom:function(e){return this.sumAtom(e)},valueAbsAtom:function(e){
var t=this.valueAtom(e);return t.value<0?this.read(-t.value):t},percent:function(e,t){
var n=e instanceof Me.Atom?e.value:e;if(!n)return 0;var i=this.sumAbs(t);return i?Math.abs(n)/i:0;
},valuePercent:function(e){var t=this.valueAbs(e);if(!t)return 0;var n=this.data.parent;
if(!n)return 1;var i=n.dimensionsSumAbs(this.name,e);return t/i},percentOverParent:function(e){
return this.valuePercent(e)},format:function(t,n){return e.string.to(this.type._formatter?this.type._formatter.call(null,t,n):t);
},intern:function(e,t){return this._read(e,!0,t)},read:function(e){return this._read(e,!1);
},_read:function(t,n,i){var r,o;if(null==t||""===t)return this._nullAtom||(n?b.call(this):this.owner._virtualNullAtom);
if("object"==typeof t){if(t instanceof Me.Atom){if(t.dimension!==this)throw e.error.operationInvalid("Atom is of a different dimension.");
return t}if("v"in t&&(o=t.f,null==(t=t.v)||""===t))return this._nullAtom||(n?b.call(this,o):this.owner._virtualNullAtom);
}var a,s=this.type;if(i||null===(a=s._converter))r=t;else if(null==(r=a(t))||""===r)return this._nullAtom||(n?b.call(this):this.owner._virtualNullAtom);
if(null!==(a=s.cast)&&(null==(r=a(r))||""===r))return this._nullAtom||(n?b.call(this):this.owner._virtualNullAtom);
var l=""+(null!==(a=s._key)?a(r):r);if(0===l.length)throw e.error.operationInvalid("Only a null value can have an empty key.");
var u;return n?(null!==this._lazyInit&&this._lazyInit(),void 0!==(u=this._atomsByKey[l])?(n&&!i&&u.isVirtual&&delete u.isVirtual,
u):g.call(this,t,l,r,o,i)):void 0!==(u=this.owner._atomsByKey[l])?u:new Me.Atom(this,r,o,t,l);
},dispose:function(){var e,t=this;t._disposed||(n(t.childNodes,"parent"),n(t._linkChildren,"linkParent"),
(e=t.parent)&&r(e,"childNodes",t,"parent"),(e=t.linkParent)&&r(e,"_linkChildren",t,"linkParent"),
C.call(t),t._lazyInit=t._atoms=t._nullAtom=t._virtualNullAtom=null,t._disposed=!0);
}}),e.type("cdo.Data",Me.Complex).init(function(n){if(null==n)throw e.error.argumentRequired("keyArgs");
this._visibleNotNullDatums=new e.Map;var i,r,o,a,s,l,u=null,c=null,h=this.parent=n.parent||null;
if(h)this.root=h.root,this.depth=h.depth+1,this.type=h.type,i=h.owner,u=n.datums||e.fail.argumentRequired("datums"),
c=n.atoms||e.fail.argumentRequired("atoms"),a=n.atomsDimNames||e.fail.argumentRequired("atomsDimNames"),
o=h.atoms,l=n.extensionDatums||h.extensionDatums,r=Object.create(h.atomsIsSet),a.forEach(function(e){
r[e]=!0});else{this.root=this,a=[];var d=n.linkParent||null;d?(i=d.owner,this.type=i.type,
u=n.datums||e.fail.argumentRequired("datums"),this._leafs=[],o=n.atomsBase||d.atoms,
r=n.atomsBaseIsSet||Object.create(d.atomsIsSet),l=n.extensionDatums||d.extensionDatums,
s=e.get(n,"index",null),j.call(d,this,s)):(i=this,this.type=n.type||e.fail.argumentRequired("type"),
o={},r={},n.labelSep&&(this.labelSep=n.labelSep),n.keySep&&(this.keySep=n.keySep),
this._selectedNotNullDatums=new e.Map)}this.owner=i,this._datums=[],this._datumsById={},
this._datumsByKey={},null!==u&&this._addDatumsLocal(u),this._atomsBase=o,this.atomsIsSet=r,
this.extensionDatums=l||null,this._dimensions={},this._dimensionsList=[],this.type.dimensionsList().forEach(this._initDimension,this),
this.base(i,c,a,o,!0),t.Dom.Node.call(this),h?(s=e.get(n,"index",null),A.call(h,this,s),
this.absKey=h.absKey?e.string.join(i.keySep,h.absKey,this.key):this.key,this.absLabel=h.absLabel?e.string.join(i.labelSep,h.absLabel,this.label):this.label):(this.absKey=this.key,
this.absLabel=this.label)}).add(t.Dom.Node).add({parent:null,linkParent:null,_dimensions:null,
_dimensionsList:null,_freeDimensionNames:null,_linkChildren:null,_leafs:null,_childrenByKey:null,
_visibleNotNullDatums:null,_selectedNotNullDatums:null,_groupByCache:null,_sumAbsCache:null,
treeHeight:null,_datums:null,_datumsById:null,_datumsByKey:null,depth:0,label:"",
absLabel:"",_disposed:!1,_isFlattenGroup:!1,_isDegenerateFlattenGroup:!1,_initDimension:function(e){
var t=new Me.Dimension(this,e);this._dimensions[e.name]=t,this._dimensionsList.push(t);
},dimensions:function(t,n){if(null==t)return this._dimensions;var i=e.getOwn(this._dimensions,t);
if(!i&&e.get(n,"assertExists",!0))throw e.error.argumentInvalid("name","Undefined dimension '{0}'.",[t]);
return i},dimensionsList:function(){return this._dimensionsList},getSpecifiedAtom:function(e){
return this.atomsIsSet[e]===!0?this.atoms[e]:null},freeDimensionsNames:function(){
var e=this._freeDimensionNames;return e||(this._freeDimensionNames=e=this.type.dimensionsNames().filter(function(e){
var t=this.atoms[e];return!(t instanceof Me.Atom)||null==t.value},this)),e},isOwner:function(){
return this.owner===this},children:function(){var t=this.childNodes;return t.length>0?e.query(t):e.query();
},child:function(t){return e.getOwn(this._childrenByKey,t,null)},childCount:function(){
return this.childNodes.length},contains:function(t){return e.hasOwn(this._datumsById,t.id);
},datumByKey:function(t){return e.getOwn(this._datumsByKey,t,null)},leafs:function(){
return e.query(this._leafs)},count:function(){return this._datums.length},firstDatum:function(){
return this._datums.length>0?this._datums[0]:null},firstAtoms:function(){return(this.firstDatum()||this).atoms;
},singleDatum:function(){var e=this._datums;return 1===e.length?e[0]:null},dispose:function(){
var e=this;if(!e._disposed){P.call(e);var t;(t=e._selectedNotNullDatums)&&t.clear(),
e._visibleNotNullDatums.clear(),t=e._dimensionsList;for(var n=0,i=t.length;i>n;n++)t[n].dispose();
e._dimensions=null,e._dimensionsList=null,(t=e.parent)&&(t.removeChild(e),e.parent=null),
(t=e.linkParent)&&I.call(t,e),e._disposed=!0}},disposeChildren:function(){P.call(this);
}}),Me.Data.add({selectedCount:function(){return this.isOwner()?this._selectedNotNullDatums.count:this.datums(null,{
selected:!0}).count()},selectedDatums:function(){return this.isOwner()?this._selectedNotNullDatums.values():this.datums(null,{
selected:!0}).array()},selectedDatumMap:function(){if(this.isOwner())return this._selectedNotNullDatums.clone();
var t=this.datums(null,{selected:!0}).object({name:e.propGet("id")});return new e.Set(t);
},visibleCount:function(){return this._visibleNotNullDatums.count},replaceSelected:function(t){
e.array.is(t)||(t=t.array());var n=e.query(t).where(Ae).object({name:Te}),i=this.owner.clearSelected(function(t){
return!e.hasOwn(n,t.id)});return i|=Me.Data.setSelected(t,!0)},clearSelected:function(e){
if(this.owner!==this)return this.owner.clearSelected(e);if(!this._selectedNotNullDatums.count)return!1;
var t;return e?(t=!1,this._selectedNotNullDatums.values().filter(e).forEach(function(e){
t=!0,l.call(e),this._selectedNotNullDatums.rem(e.id)},this)):(t=!0,this._selectedNotNullDatums.values().forEach(function(e){
l.call(e)}),this._selectedNotNullDatums.clear()),t}}),Me.Data.setSelected=function(t,n){
var i=0;return t&&e.query(t).each(function(e){i|=e.setSelected(n)}),!!i},Me.Data.toggleSelected=function(t,n){
e.array.isLike(t)||(t=e.query(t).array());var i=e.query(t),r=n?i.any(Ae):i.all(u);
return this.setSelected(t,!r)},Me.Data.setVisible=function(t,n){var i=0;return t&&e.query(t).each(function(e){
i|=e.setVisible(n)}),!!i},Me.Data.toggleVisible=function(t){e.array.isLike(t)||(t=e.query(t).array());
var n=e.query(t).all(e.propGet("isVisible"));return Me.Data.setVisible(t,!n)},Me.Data.add({
select:null,load:function(t,n){L.call(this);var i=e.get(n,"where"),r=e.get(n,"isNull"),o=e.get(n,"isAdditive",!1),a=e.query(t).select(function(e){
var t=new Me.Datum(this,e);return r&&r(t)&&(t.isNull=!0),i&&!i(t)?null:t},this);F.call(this,a,{
isAdditive:o,doAtomGC:!0})},clearVirtuals:function(){var t=this._datums,n=t.length;
if(n>0){this._sumAbsCache=null;for(var i,r=0;n>r;){var o=t[r];o.isVirtual?(q.call(this,o),
n--,i=!0):r++}if(i){if(!t.length&&this.parent)return void this.dispose();var a=this.childNodes;
if(a)for(r=0,n=a.length;n>r;){var s=a[r];s.clearVirtuals(),s.parent?r++:n--}this._linkChildren&&this._linkChildren.forEach(function(e){
e.clearVirtuals()})}}e.eachOwn(this._dimensions,function(e){w.call(e)})},add:function(e){
L.call(this),F.call(this,e,{isAdditive:!0,doAtomGC:!0})},_addDatumsSimple:function(e){
this._addDatumsLocal(e),this._onDatumsAdded(e)},_onDatumsAdded:function(e){var t=this._linkChildren;
if(t)for(var n=-1,i=t.length;++n<i;)t[n]._addDatumsSimple(e)},_addDatumsLocal:function(e){
var t=this._datums,n=this._visibleNotNullDatums,i=this._selectedNotNullDatums,r=this._datumsById,o=this._datumsByKey,a=!!this._dimensions;
this._sumAbsCache=null;for(var s=-1,l=e.length;++s<l;){var u=e[s],c=u.id;void 0===r[c]&&(t.push(u),
r[c]=u,o[u.key]=u,a&&V.call(this,u,!0,!1),u.isNull||(i&&u.isSelected&&i.set(c,u),
u.isVisible&&n.set(c,u)))}},groupBy:function(t,n){var i,r,o=new Me.GroupingOper(this,t,n),a=o.key;
return a&&(i=this._groupByCache,r=i&&i[a]),r?e.debug>=7&&e.log("[GroupBy] Cache key hit '"+a+"'"):(e.debug>=7&&e.log("[GroupBy] "+(a?"Cache key not found : '"+a+"' on '"+this.id+"'":"No Cache key")),
r=o.execute(),a&&((i||(this._groupByCache={}))[a]=r)),r},where:function(t,n){var i=t&&H.call(this,t),r=this._datums;
r.length>0&&(i?r=$.call(this,i,n).array():n&&(r=W(e.query(r),n).array()));var o=(i||n)&&U(i,n);
return new Me.FilteredData({linkParent:this,datums:r,where:o})},datums:function(t,n){
if(0===this._datums.length)return e.query();if(!t)return n?W(e.query(this._datums),n):e.query(this._datums);
var i=H.call(this,t);return $.call(this,i,n)},datum:function(e,t){return this.datums(e,t).first()||null;
},dimensionsSumAbs:function(e,t){var n=this.dimensionNumberValue(e,t).value;return null!==n&&0>n?-n:n;
},dimensionNumberValue:function(e,t){var n=this._createDimensionOperArgs(e,t);return this._dimensionNumberValue(n);
},_createDimensionOperArgs:function(t,n){var i,r,o=null;"function"==typeof t?(i=t,
r=e.get(n,"discrimPossibleDims")||null,o=e.get(n,"discrimKey")||null,null!==o&&(o="discrim:"+o)):(i=e.fun.constant(t),
r=[t],o=t);var a=null;return null!==o&&(a=o+":"+y(n)+":"+(r||[]).join("|")),{discrimFun:i,
discrimPossibleDimNames:r,cacheKey:a,keyArgs:n}},_dimensionNumberValue:function(t){
var n,i=t.cacheKey;return(null===i||void 0===(n=e.getOwn(this._sumAbsCache,i)))&&(n=this._dimensionNumberValueCore(t),
null!==i&&((this._sumAbsCache||(this._sumAbsCache={}))[i]=n)),n},_dimensionNumberValueCore:function(t){
var n,i=t.discrimFun(this,null!==t.discrimPossibleDimNames);if(0===this.childCount()){
if(null!==i)return this.dimensions(i).valueAtom(t.keyArgs);n=e.query(t.discrimPossibleDimNames).select(function(e){
return this.dimensions(e).valueAbsAtom(t.keyArgs).value},this).reduce(e.addPreservingNull,null);
}else n=this.children().where(function(e){return!e._isFlattenGroup||e._isDegenerateFlattenGroup;
}).select(function(e){var n=e._dimensionNumberValue(t).value;return null!==n&&0>n?-n:n;
}).reduce(e.addPreservingNull,null);return null!==i?this.dimensions(i).read(n):null===n?this.type.nullNumberAtom:new Me.NumberAtom(this.type,n);
},dimensionPercentValue:function(e,t){function n(e){return null===a?new Me.NumberAtom(this.type,e):a.read(e);
}var i=this._createDimensionOperArgs(e,t),r=this._dimensionNumberValue(i),o=r.value;
if(null===o)return r;var a=r.dimension;if(0===o)return n.call(this,0);var s=this.parent;
if(null===s)return n.call(this,1);var l=s._dimensionNumberValue(i);return n.call(this,Math.abs(o)/l.value);
}}).type().add({lca:function(e){var t,n,i,r,o=e.length,a=null;if(o){if(1===o)return e[0];
var s=1;i=E(e[0]);do{if(n=e[s],r=E(n),!(a=B(i,r)))return null;t=n,i=r}while(++s<o);
}return a}}),Me.querySpecPredicate=G,e.type("cdo.FilteredData",Me.Data).init(function(t){
if(null==t||null!=t.parent||null==t.linkParent)throw e.error.argumentRequired("keyArgs.linkParent");
this.base(t),this._wherePred=t.where||e.fail.argumentRequired("keyArgs.where")}).add({
_addDatumsSimple:function(e){e=e.filter(this._wherePred),this.base(e)}}),e.type("cdo.GroupingData",Me.Data).init(function(t){
if(null==t)throw e.error.argumentRequired("keyArgs");this.base(t),this.groupingOper=t.groupingOper||e.fail.argumentRequired("keyArgs.groupingOper"),
this.groupingSpec=t.groupingSpec||null,this.groupingLevelSpec=t.groupingLevelSpec||null;
}),e.type("cdo.GroupingRootData",Me.GroupingData).init(function(t){if(null==t||null!=t.parent||null==t.linkParent)throw e.error.argumentRequired("keyArgs.linkParent");
var n=t.groupingSpec;if(null==n)throw e.error.argumentRequired("keyArgs.groupingSpec");
var i=t.groupingOper;if(i&&n.hasExtensionComplexTypes){t=Object.create(t);var r=t.atomsBase=Object.create(t.linkParent.atoms),o=i._extensionDataSetsMap;
n.extensionDimensions().each(function(e){void 0===r[e.fullName]&&(r[e.fullName]=o[e.dataSetName].owner.atoms[e.name]);
})}this.base(t)}).add({_addDatumsSimple:function(e){e=this.groupingOper.executeAdd(this,e),
this._onDatumsAdded(e)}}),e.type("cdo.GroupData",Me.GroupingData).init(function(t){
if(null==t||null==t.parent)throw e.error.argumentRequired("keyArgs.parent");this.base(t);
}),Me.Data.add({getInfo:function(){var t=["DATA SUMMARY",e.logSeparator,"  Dimension",e.logSeparator];
return e.eachOwn(this.dimensions(),function(e,n){var i=e.count(),r=e.type,o=[];o.push(),
o.push(r.valueTypeName),r.isComparable&&o.push("comparable"),r.isDiscrete||o.push("continuous"),
r.isHidden&&o.push("hidden"),t.push("  "+n+' ("'+r.label+'", #'+i+")\n	"+e.atoms().slice(0,10).map(function(e){
return e.label}).join(", ")+(i>10?"...":""))}),t.join("\n")},getValues:function(){
return t.range(0,this.getCategoriesSize()).map(function(e){return this._getValuesForCategoryIndex(e);
},this)},_getDimensionValues:function(e){return this.dimensions(e).atoms().map(function(e){
return e.value})},_getDimensionVisibleValues:function(e){return this.dimensions(e).atoms({
visible:!0}).map(function(e){return e.value})},getSeries:function(){return this._getDimensionValues("series");
},getVisibleSeriesIndexes:function(){return this.dimensions("series").indexes({visible:!0
})},getVisibleCategoriesIndexes:function(){return this.dimensions("category").indexes({
visible:!0})},getVisibleSeries:function(){return this._getDimensionVisibleValues("series");
},getCategories:function(){return this._getDimensionValues("category")},getVisibleCategories:function(){
return this._getDimensionVisibleValues("category")},_getValuesForCategoryIndex:function(t){
var n=this.dimensions("category").atoms()[t],i=this.datums({category:n}).uniqueIndex(function(e){
return e.atoms.series.key});return this.dimensions("series").atoms().map(function(t){
var n=e.getOwn(i,t.key);return n?n.atoms.value.value:null})},getSeriesSize:function(){
var e=this.dimensions("series",{assertExists:!1});return e?e.count():0},getCategoriesSize:function(){
var e=this.dimensions("category",{assertExists:!1});return e?e.count():0}}),e.type("cdo.DataOper").init(function(t){
t||e.fail.argumentRequired("linkParent"),this._linkParent=t}).add({key:null,execute:e.abstractMethod
}),e.type("cdo.GroupingOper",Me.DataOper).init(function(t,n,i){if(n||e.fail.argumentRequired("groupingSpecs"),
n=e.array.as(n),0===n.length)throw e.error.argumentRequired("groupingSpecText");e.get(i,"inverted",!1)&&(n=n.slice().reverse()),
this.base(t,i);var r=e.get(i,"where"),o=r&&e.get(i,"whereKey")||"",a=e.get(i,"visible",null),s=e.get(i,"selected",null);
this._preFilter=U(null,{visible:a,selected:s,where:r});var l=e.get(i,"isNull",null);
this._postFilter=U(null,{isNull:l});var u=null==s&&!(r&&!o),c=u?[]:null,h="",d=null,f=e.get(i,"extensionDataSetsMap",null),p=e.get(i,"reverse",!1);
this._groupSpecs=n.map(function(n){if(n instanceof Me.GroupingSpec){if(n.complexType!==t.type)throw e.error.argumentInvalid("groupingSpecText","Invalid associated complex type.");
}else n=Me.GroupingSpec.parse(n,t.type);if(n.isNull)throw e.error.argumentInvalid("groupingSpecText","Null grouping specification.");
return n.flatteningMode===Me.FlatteningMode.SingleLevel&&(n=n.toSingleLevel()),p&&(n=n.reverse()),
u&&c.push(n.key),null!==n.extensionComplexTypeNames&&n.extensionComplexTypeNames.forEach(function(t){
var n;if(null===f||!(n=f[t]))throw e.error.operationInvalid("Grouping specification requires extension data set '{0}'.",[t]);
null===d&&(d=Object.create(null)),d[t]=n,u&&(h+=t+":"+n.id+";")}),n}),this._extensionDataSetsMap=d,
u&&(this.key=c.join("!!")+":"+[a,l,o,h].join(":"))}).add({_getExtensionDatumsMap:function(){
var t=null,n=this._extensionDataSetsMap;if(n){t=Object.create(null);var i=this._linkParent.extensionDatums,r=e.query(Object.keys(n)).each(function(e){
var r=n[e],o=r._datums;if(0===o.length)return!1;if(null!==i){var a=i[e];a&&(o=a.filter(function(e){
return o.indexOf(e)>=0}))}return 0===o.length?!1:void(t[e]=o)});if(r)return!1}return t;
},execute:function(){var t=this._linkParent._datums,n=e.query(t).where(this._preFilter),i=this._group(n);
return this._generateData(i,null,this._linkParent,null)},executeAdd:function(t,n){
var i=e.query(n).where(this._preFilter),r=this._group(i);return this._generateData(r,null,this._linkParent,t),
r.datums},_group:function(t){var n={isRoot:!0,treeHeight:e.query(this._groupSpecs).select(function(e){
return e.flatteningMode&Me.FlatteningMode.Dfs?1:e.depth}).reduce(e.add,0),datums:[],
datumsById:{},groupSpec:this._groupSpecs[0],groupLevelSpec:this._groupSpecs[0].levels[0]
},i=this._getExtensionDatumsMap();return i!==!1&&this._groupSpecRecursive(n,e.query(t).array(),i,0),
n},_groupSpecRecursive:function(e,t,n,i){var r=this._groupSpecs[i];0!==(r.flatteningMode&Me.FlatteningMode.Dfs)?this._groupSpecRecursiveFlattened(e,t,n,r,i):this._groupSpecRecursiveNormal(e,t,n,r,i);
},_groupSpecRecursiveNormal:function(e,t,n,i,r){function o(e,t,u,c){var h=a[c],d=c===s-1,f=l&&d;
e.groupSpec=i,e.groupLevelSpec=h;for(var p=e.children=this._groupLevelDatums(h,e,t,u,!1),m=0,g=p.length;g>m;m++){
var v=p[m];if(!f){var y=v.datums;v.datums=[],v.datumsById={},d?this._groupSpecRecursive(v,y,v.extensionDatumsMap,r+1):o.call(this,v,y,v.extensionDatumsMap,c+1);
}this._addChildDatums(e.datums,e.datumsById,v.datums,n)}}var a=i.levels,s=a.length,l=r===this._groupSpecs.length-1;
e.isRoot&&(e.label=i.rootLabel),o.call(this,e,t,n,0)},_addChildDatums:function(t,n,i,r){
if(null===r)e.array.append(t,i);else for(var o=-1,a=i.length;++o<a;){var s=i[o];void 0===n[s.id]&&(n[s.id]=s,
t.push(s))}},_groupSpecRecursiveFlattened:function(t,n,i,r,o){function a(t,n,r,f){
for(var m=l[f],g=f===u-1,v=c&&g,y=this._groupLevelDatums(m,t,n,r,!0),b=c?t.datums:[],_=c?t.datumsById:{},x=0,w=y.length;w>x;x++){
var C=y[x],S=C.datums;if(e.array.lazy(t,"_children").push(C),e.hasOwn(d,C.key))this._addChildDatums(b,_,S,i);else{
var k=h.length;s||(p(C),t.isFlattenGroup=!0),v||(C.datums=[],C.datumsById={},g?this._groupSpecRecursive(C,S,r,o+1):a.call(this,C,S,r,f+1)),
this._addChildDatums(b,_,C.datums,i),s&&(e.hasOwn(d,C.key)&&(C.isFlattenGroup||e.assert("Must be a parent for duplicate keys to exist."),
1===C._children.length&&(h.splice(k,h.length-k),C.isDegenerateFlattenGroup=!0)),p(C),
t.isFlattenGroup=!0)}}c||this._groupSpecRecursive(t,b,r,o+1)}var s=r.flatteningMode===Me.FlatteningMode.DfsPost,l=r.levels,u=l.length,c=o===this._groupSpecs.length-1,h=[],d={},f={
key:"",absKey:"",atoms:{},datums:[],datumsById:{},label:r.rootLabel,dimNames:[]},p=function(e){
h.push(e),d[e.key]=e};t.children=h,t.childrenByKey=d,s||p(f),a.call(this,f,n,i,0),
s&&p(f),t.datums=f.datums},_groupLevelDatums:function(t,n,i,r,o){function a(i,r){
var a=u.call(t,i,r),s=e.hasOwnProp.call(f,a)&&f[a];s?(!p||p(i))&&s.datums.push(i):(s=c.call(t,i,r),
s.key=a,s.firstDatum=i,s.datums=!p||p(i)?[i]:[],s.extensionDatumsMap=r,o&&(null===m&&(m=i.owner.keySep),
this._onNewChildNodeFlattened(a,m,s,t,n)),e.array.insert(d,s,h),f[a]=s)}function s(e,t){
for(var n=-1,i=t.length;++n<i;)a.call(this,e,t[n])}function l(e,t,n){for(var i=y[t],o=i.dataSetName,a=r[o],s=-1,u=a.length,c=t+1,h=c>=y.length;++s<u;){
var d=Object.create(n);d[o]=[a[s]],h?e.push(d):l(e,c,d)}}var u,c,h,d=[],f=Object.create(null),p=this._postFilter,m=null,g=-1,v=i.length,y=t.extensionDimensions;
if(null!==y){u=t.buildKeyWithExtension,c=t.buildGroupNodeWithExtension,h=t.compareNodesWithExtension.bind(t);
var b=[];for(l(b,0,r);++g<v;)s.call(this,i[g],b)}else for(u=t.buildKeyMain,c=t.buildGroupNodeMain,
h=t.compareNodesMain.bind(t);++g<v;)a.call(this,i[g],r);if(p)for(g=d.length;g--;)0===d[g].datums.length&&d.splice(g,1);
return d},_onNewChildNodeFlattened:function(t,n,i,r,o){if(e.copy(i.atoms,o.atoms),
i.dimNames=r.accAllDimensionNames(),o.dimNames.length){var a=o.absKey+n+t;i.absKey=a,
i.key=Me.Complex.rightTrimKeySep(a,n)}else i.absKey=t},_generateData:function(t,n,i,r){
var o=null,a=!1;if(t.isRoot)null!==r?(o=r,o._addDatumsLocal(t.datums)):(a=!0,o=new Me.GroupingRootData({
groupingOper:this,groupingSpec:t.groupSpec,groupingLevelSpec:t.groupLevelSpec,linkParent:i,
datums:t.datums,extensionDatums:t.extensionDatumsMap}),o.treeHeight=t.treeHeight);else if(null!==r&&(o=i.child(t.key),
null!==o&&o._addDatumsSimple(t.datums)),null===o){a=!0;var s,l=null;null!==r&&(s=i.childNodes).length>0&&(l=~e.array.binarySearch(s,t.datums[0],n.groupLevelSpec.mainDatumComparer)),
o=new Me.GroupData({groupingOper:this,groupingSpec:t.groupSpec,groupingLevelSpec:t.groupLevelSpec,
parent:i,atoms:t.atoms,datums:t.datums,index:l,atomsDimNames:t.dimNames,extensionDatums:t.extensionDatumsMap
})}if(a){t.isFlattenGroup&&(o._isFlattenGroup=!0,o._isDegenerateFlattenGroup=!!t.isDegenerateFlattenGroup);
var u=t.label;u&&(o.label+=u,o.absLabel+=u)}var c=t.children,h=c?c.length:0;if(h>0)for(var d=-1;++d<h;)this._generateData(c[d],t,o,r);else if(a&&!t.isRoot){
var f=o.root._leafs;o.leafIndex=f.length,f.push(o)}return o}}),e.space("cdo").FlatteningMode=e.makeEnum(["SingleLevel","DfsPre","DfsPost"],{
zero:"None",all:"AllMask"}),Me.FlatteningMode.Dfs=Me.FlatteningMode.DfsPre|Me.FlatteningMode.DfsPost,
e.type("cdo.GroupingSpec").init(function(t,n,i,r){this.complexType=n||null,n=this.complexType;
var o=null,a=[],s=[],l=[],u=!1,c=null;this.levels=e.query(t||void 0).where(function(e){
return e.allDimensions.length>0}).select(function(e){return a.push(e.key),s.push.apply(s,e.dimensionNames()),
e.allDimensions.forEach(function(e){if(e.dataSetName?(null===o&&(o=Object.create(null)),
o[e.dataSetName]=!0,l.push(e.fullName)):l.push(e.name),null!==n&&!u){var t=e.dimensionType;
t.isDiscrete?u=!0:null===c?c=t.valueType:c!==t.valueType&&(u=!0)}}),e._setAccAllDimNames(l.slice(0)),
e}).array(),this.extensionComplexTypesMap=null,this.extensionComplexTypeNames=o&&Object.keys(o),
null!==n&&o&&this._setExtensionComplexTypesMap(i),this._dimNames=s,this._allDimNames=l,
this.depth=this.levels.length,this._isDiscrete=null!==n?u:void 0,this._singleContinuousValueType=null!==n?u?null:c:void 0,
this.isSingleDimension=1===l.length,this.firstDimension=this.depth>0?this.levels[0].allDimensions[0]:null,
this.lastDimension=this.depth>0?this.levels[this.depth-1].lastDimension():null,this.rootLabel=e.get(r,"rootLabel")||"",
this.flatteningMode=e.get(r,"flatteningMode")||Me.FlatteningMode.None,this._cacheKey=this._calcCacheKey(),
this.key=this._cacheKey+"##"+a.join("||")}).add({_calcCacheKey:function(t){return[e.get(t,"flatteningMode")||this.flatteningMode,e.get(t,"rootLabel")||this.rootLabel].join("#");
},bind:function(t,n){this.complexType=t||e.fail.argumentRequired("complexType"),this._setExtensionComplexTypesMap(n),
n=this.extensionComplexTypesMap;var i=!1,r=null;this.levels.forEach(function(e){if(e.bind(t,n),
!i)for(var o=e.allDimensions,a=-1,s=o.length;++a<s;){var l=o[a].dimensionType;if(l.isDiscrete){
i=!0;break}if(null===r)r=l.valueType;else if(r!==l.valueType){i=!0;break}}}),this._isDiscrete=i,
this._singleContinuousValueType=i?null:r},get isBound(){return!!this.complexType},
_setExtensionComplexTypesMap:function(t){if(this.hasExtensionComplexTypes){if(!t){
var n=e.error.operationInvalid("Expects a map of extension types.");throw n.code="need-extension-map",
n}this.extensionComplexTypesMap=e.copyProps(t,this.extensionComplexTypeNames)}else this.extensionComplexTypesMap=null;
},get isNull(){return 0===this.depth},get isSingleLevel(){return 1===this.depth},
get hasExtensionComplexTypes(){return!!this.extensionComplexTypeNames},isDiscrete:function(){
return this._isDiscrete},get singleContinuousValueType(){return this._singleContinuousValueType;
},get singleDimensionName(){if(this.isSingleDimension)return this.firstDimension.name;
throw e.error.operationInvalid("Expected grouping to contain exactly one dimension.");
},get singleDimensionType(){if(this.isSingleDimension)return this.firstDimension.dimensionType;
throw e.error.operationInvalid("Grouping contains more than one dimension.")},dimensions:function(){
return e.query(this.levels).prop("dimensions").selectMany()},allDimensions:function(){
return e.query(this.levels).prop("allDimensions").selectMany()},extensionDimensions:function(){
return e.query(this.levels).prop("extensionDimensions").selectMany()},dimensionNames:function(){
return this._dimNames},get allDimensionNames(){return this._allDimNames},firstDimensionType:function(){
var e=this.firstDimension;return e&&e.dimensionType},firstDimensionName:function(){
var e=this.firstDimensionType();return e&&e.name},firstDimensionValueType:function(){
var e=this.firstDimensionType();return e&&e.valueType},lastDimensionType:function(){
var e=this.lastDimension;return e&&e.dimensionType},lastDimensionName:function(){
var e=this.lastDimensionType();return e&&e.name},lastDimensionValueType:function(){
var e=this.lastDimensionType();return e&&e.valueType},ensure:function(t){var n;if(t){
var i=this._calcCacheKey(t);if(i!==this._cacheKey){var r=e.lazy(this,"_groupingCache");
n=e.getOwn(r,i),n||(n=r[i]=this._ensure(t))}}return n||this},_ensure:function(t){
return new Me.GroupingSpec(this.levels,this.complexType,this.extensionComplexTypesMap,{
flatteningMode:e.get(t,"flatteningMode")||this.flatteningMode,rootLabel:e.get(t,"rootLabel")||this.rootLabel
})},toSingleLevel:function(){if(this.isSingleLevel)return this;var e=this.allDimensions().array(),t=new Me.GroupingLevelSpec(e,this.complexType,this.extensionComplexTypesMap);
return new Me.GroupingSpec([t],this.complexType,this.extensionComplexTypesMap,{flatteningMode:Me.FlatteningMode.SingleLevel,
rootLabel:this.rootLabel})},reverse:function(){var e=this.levels.map(function(e){
return e.reverse()});return new Me.GroupingSpec(e,this.complexType,this.extensionComplexTypesMap,{
flatteningMode:this.flatteningMode,rootLabel:this.rootLabel})},view:function(e){var t=e instanceof Me.Datum?this.dimensionNames():this.allDimensionNames;
return e.view(t)},toString:function(){return this.levels.map(String).join(", ")}}),
e.type("cdo.GroupingLevelSpec").init(function(t){var n=[],i=[],r=[],o=[],a=null;this.dimensions=o,
this.allDimensions=e.query(t).select(function(e){return n.push(e.key),e.dataSetName?(i.push(e.fullName),
null===a&&(a=[]),a.push(e)):(i.push(e.name),r.push(e.name),o.push(e)),e}).array(),
this.extensionDimensions=a,this._dimNames=r,this._allDimNames=i,this._accDimNames=null,
this.depth=this.allDimensions.length,this.key=n.join(",")}).add({_setAccAllDimNames:function(e){
this._accDimNames=e},accAllDimensionNames:function(){return this._accDimNames},dimensionNames:function(){
return this._dimNames},get allDimensionNames(){return this._allDimNames},lastDimension:function(){
return this.allDimensions[this.depth-1]},bind:function(e,t){this.allDimensions.forEach(function(n){
n.bindComplexType(e,t)})},compareNodesMain:function(e,t){for(var n,i=this.dimensions,r=i.length,o=-1;++o<r;)if(0!==(n=i[o].compareDatums(e.firstDatum,t.firstDatum)))return n;
return 0},compareNodesWithExtension:function(e,t){for(var n,i,r,o,a,s=this.allDimensions,l=s.length,u=-1;++u<l;)if(null!==(r=(i=s[u]).dataSetName)?(o=e.extensionDatumsMap[r][0],
a=t.extensionDatumsMap[r][0]):(o=e.firstDatum,a=t.firstDatum),0!==(n=i.compareDatums(o,a)))return n;
return 0},buildKeyMain:function(e){return Me.Complex.compositeKey(e,this._dimNames);
},buildKeyWithExtension:function(e,t){for(var n,i="",r=this.allDimensions,o=r.length,a=-1,s=e.owner.keySep,l=e.atoms;++a<o;){
var u=null!==(n=r[a]).dataSetName?t[n.dataSetName][0].atoms[n.name].key:l[n.name].key;
a?i+=s+u:i=u}return i},buildGroupNodeMain:function(t){var n=this._dimNames;return{
atoms:e.copyProps(t.atoms,n),dimNames:n}},buildGroupNodeWithExtension:function(e,t){
for(var n,i={},r=this.allDimensions,o=r.length,a=e.atoms,s=-1;++s<o;)null!==(n=r[s]).dataSetName?i[n.fullName]=t[n.dataSetName][0].atoms[n.name]:i[n.name]=a[n.name];
return{atoms:i,dimNames:this._allDimNames}},reverse:function(){var e=this.allDimensions.map(function(e){
return e.reverse()});return new Me.GroupingLevelSpec(e,this.complexType,this.extensionComplexTypesMap);
},toString:function(){return e.query(this.allDimensions).select(String).array().join("|");
}}),e.type("cdo.GroupingDimensionSpec").init(function(e,t,n){this.fullName=e;var i=/^(?:(.+?)\.)?(.+)$/.exec(e);
this.dataSetName=i&&i[1]||null,this.name=i?i[2]:e,this.isReversed=!!t,this.key=e+":"+(t?"0":"1"),
this.dimensionType=null,n&&this.bind(n)}).add({bindComplexType:function(t,n){t||e.fail.argumentRequired("complexType");
var i;if(null!==this.dataSetName){var r=e.get(n,this.dataSetName);if(!r)throw e.error.operationInvalid("The data set name '{0}' of dimension '{1}' is not defined.",[this.dataSetName,this.fullName]);
i=r}else i=t;return this.bind(i.dimensions(this.name)),this},bind:function(t){if(this.dimensionType=t||e.fail.argumentRequired("dimensionType"),
t.isComparable){var n=t.atomComparer(this.isReversed),i=this.name;this.compareDatums=function(e,t){
return n(e.atoms[i],t.atoms[i])}}else this.compareDatums=this.isReversed?function(e,t){
return t.id-e.id}:function(e,t){return e.id-t.id};return this},compareDatums:function(){
throw e.error.operationInvalid("Not Bound.")},reverse:function(){return new Me.GroupingDimensionSpec(this.fullName,!this.isReversed,this.dimensionType);
},toString:function(){return this.fullName+(this.dimensionType?' ("'+this.dimensionType.label+'")':"")+(this.isReversed?" desc":"");
}}),Me.GroupingSpec.parse=function(t,n,i){var r=null;if(t){var o=e.string.is(t)?t.split(/\s*,\s*/):e.array.as(t);
r=e.query(o).select(function(e){var t=X(e,n,i);return new Me.GroupingLevelSpec(t,n,i);
})}return new Me.GroupingSpec(r,n,i)};var Ie=/^\s*(.+?)(?:\s+(asc|desc))?\s*$/i;e.type("cdo.LinearInterpolationOper").init(function(t,n,i,r,o,a,s,l){
this._newDatums=[],this._data=i;var u=r.flatten(t).children(),c=o.isBound()?o.flatten(n,{
visible:!0,isNull:!1}).children().array():[null],h=this._valDim=t.owner.dimensions(s),d={
visible:!0,zeroIfNone:!1};this._isCatDiscrete=r.grouping.isDiscrete(),this._stretchEnds=l,
this._catInfos=u.select(function(e,t){var n=i.child(e.key),r={data:n||e,value:e.value,
isInterpolated:!1,serInfos:null,index:t};return r.serInfos=[],c.forEach(function(e){
var t=n;t&&e&&(t=t.child(e.key));var i=a.getBoundDimensionName(t||e,!0);if(null===i||i===s){
var o=t?t.dimensions(h.name).value(d):null;r.serInfos.push({data:e,group:t,value:o,
isNull:null==o,catInfo:r})}}),r}).array(),this._serCount=c.length,this._serStates=e.range(0,this._serCount).select(function(e){
return new Me.LinearInterpolationOperSeriesState(this,e)},this).array()}).add({interpolate:function(){
for(var e;e=this._catInfos.shift();)e.serInfos.forEach(this._visitSeries,this);var t=this._newDatums;
t.length&&this._data.owner.add(t)},_visitSeries:function(e,t){this._serStates[t].visit(e);
},nextUnprocessedNonNullCategOfSeries:function(e){for(var t=0,n=this._catInfos.length;n>t;){
var i=this._catInfos[t++],r=i.serInfos[e];if(!r.isNull)return r}}}),e.type("cdo.LinearInterpolationOperSeriesState").init(function(e,t){
this.interpolation=e,this.index=t,this._lastNonNull(null)}).add({visit:function(e){
e.isNull?this._interpolate(e):this._lastNonNull(e)},_lastNonNull:function(e){return arguments.length&&(this.__lastNonNull=e,
this.__nextNonNull=void 0),this.__lastNonNull},_nextNonNull:function(){return this.__nextNonNull;
},_initInterpData:function(){if(void 0===this.__nextNonNull){var t=this.__lastNonNull,n=this.__nextNonNull=this.interpolation.nextUnprocessedNonNullCategOfSeries(this.index)||null;
if(n&&t){var i=t.value,r=n.value,o=r-i;if(this.interpolation._isCatDiscrete){var a=n.catInfo.index-t.catInfo.index;
a>=2||e.assert("Must have at least one interpolation point."),this._stepValue=o/a,
this._middleIndex=~~(a/2);var s=a-1;this._isOdd=s%2>0}else{var l=+t.catInfo.value,u=+n.catInfo.value,c=u-l;
this._steep=o/c,this._middleCat=(u+l)/2}}}},_interpolate:function(t){this._initInterpData();
var n=this.__nextNonNull,i=this.__lastNonNull,r=n||i;if(r){var o,a,s=this.interpolation,l=t.catInfo;
if(n&&i)if(s._isCatDiscrete){var u=l.index-i.catInfo.index;o=i.value+this._stepValue*u,
a=(this._isOdd?u<this._middleIndex:u<=this._middleIndex)?i.group:n.group}else{var c=+l.value,h=+i.catInfo.value;
o=i.value+this._steep*(c-h),a=c<this._middleCat?i.group:n.group}else{if(!s._stretchEnds)return;
o=r.value,a=r.group}var d=Object.create(a.atoms);e.copyOwn(d,l.data.atoms);var f=s._valDim,p=f.intern(o,!0);
d[f.name]=p;var m=s._datumDimNames;m||(s._datumDimNames=m=a.type.filterExtensionDimensionNames(e.keys(d))),
s._newDatums.push(new Me.InterpolationDatum(a.owner,d,m,"linear",f.name))}}}),e.type("cdo.ZeroInterpolationOper").init(function(t,n,i,r,o,a,s,l){
this._newDatums=[],this._data=i;var u=r.flatten(t).children(),c=o.isBound()?o.flatten(n,{
visible:!0,isNull:!1}).children().array():[null],h=this._valDim=t.owner.dimensions(s),d={
visible:!0,zeroIfNone:!1};this._isCatDiscrete=r.grouping.isDiscrete(),this._stretchEnds=l,
this._catInfos=u.select(function(e,t){var n=i.child(e.key),r={data:n||e,value:e.value,
isInterpolated:!1,serInfos:null,index:t};return r.serInfos=[],c.forEach(function(e){
var t=n;t&&e&&(t=t.child(e.key));var i=a.getBoundDimensionName(t||e,!0);if(null===i||i===s){
var o=t?t.dimensions(h.name).value(d):null;r.serInfos.push({data:e,group:t,value:o,
isNull:null==o,catInfo:r})}}),r}).array(),this._serCount=c.length,this._serStates=e.range(0,this._serCount).select(function(e){
return new Me.ZeroInterpolationOperSeriesState(this,e)},this).array()}).add({interpolate:function(){
for(var e;e=this._catInfos.shift();)e.serInfos.forEach(this._visitSeries,this);var t=this._newDatums;
t.length&&this._data.owner.add(t)},_visitSeries:function(e,t){this._serStates[t].visit(e);
},nextUnprocessedNonNullCategOfSeries:function(e){for(var t=0,n=this._catInfos.length;n>t;){
var i=this._catInfos[t++],r=i.serInfos[e];if(!r.isNull)return r}}}),e.type("cdo.ZeroInterpolationOperSeriesState").init(function(e,t){
this.interpolation=e,this.index=t,this._lastNonNull(null)}).add({visit:function(e){
e.isNull?this._interpolate(e):this._lastNonNull(e)},_lastNonNull:function(e){return arguments.length&&(this.__lastNonNull=e,
this.__nextNonNull=void 0),this.__lastNonNull},_nextNonNull:function(){return this.__nextNonNull;
},_initInterpData:function(){if(void 0===this.__nextNonNull){var t=this.__lastNonNull,n=this.__nextNonNull=this.interpolation.nextUnprocessedNonNullCategOfSeries(this.index)||null;
if(n&&t)if(this.interpolation._isCatDiscrete){var i=n.catInfo.index-t.catInfo.index;
i>=2||e.assert("Must have at least one interpolation point."),this._middleIndex=~~(i/2);
var r=i-1;this._isOdd=r%2>0}else{var o=+t.catInfo.value,a=+n.catInfo.value;this._middleCat=(a+o)/2;
}}},_interpolate:function(t){this._initInterpData();var n=this.__nextNonNull,i=this.__lastNonNull,r=n||i;
if(r){var o,a=this.interpolation,s=t.catInfo;if(n&&i)if(a._isCatDiscrete){var l=s.index-i.catInfo.index;
o=this._isOdd?l<this._middleIndex?i.group:n.group:l<=this._middleIndex?i.group:n.group;
}else{var u=+s.value;o=u<this._middleCat?i.group:n.group}else{if(!a._stretchEnds)return;
o=r.group}var c=Object.create(o.atoms);e.copyOwn(c,s.data.atoms);var h=a._valDim,d=a._zeroAtom||(a._zeroAtom=h.intern(0,!0));
c[h.name]=d;var f=a._datumDimNames;f||(a._datumDimNames=f=o.type.filterExtensionDimensionNames(e.keys(c))),
a._newDatums.push(new Me.InterpolationDatum(o.owner,c,f,"zero",h.name))}}}),e.type("cdo.TranslationOper").init(function(t,n,i,r){
this.complexTypeProj=t||e.fail.argumentRequired("complexTypeProj"),this.source=n||e.fail.argumentRequired("source"),
this.metadata=i||e.fail.argumentRequired("metadata"),this.options=r||{},this._initType(),
e.debug>=4&&(this._logLogicalRows=!0,this._logLogicalRowCount=0)}).add({_logLogicalRows:!1,
logSource:e.abstractMethod,logLogicalRow:e.abstractMethod,_translType:"Unknown",logTranslatorType:function(){
return this._translType+" data source translator"},logicalColumnCount:function(){
return this.metadata.length},setSource:function(t){if(!t)throw e.error.argumentRequired("source");
this.source=t},defReader:function(t){t||e.fail.argumentRequired("readerSpec");var n=e.string.is(t)?t:t.names;
n=e.string.is(n)?n.split(/\s*\,\s*/):e.array.as(n);var i=e.array.as(t.indexes);i&&i.forEach(this._userUseIndex,this);
var r=!(!n||!n.length),o=t.reader;if(o)r||e.fail.argumentRequired("reader.names","Required argument when a reader function is specified."),
this._userRead(o,n);else{if(r)return this._userCreateReaders(n,i);i&&i.forEach(function(e){
this._userIndexesToSingleDim[e]=null},this)}return i},configureType:function(){this._configureTypeCore();
},_configureTypeCore:e.abstractMethod,_initType:function(){this._userDimsReaders=[],
this._userDimsReadersByDim={},this._userUsedIndexes={},this._userIndexesToSingleDim=[];
var t=this.options.readers;t&&e.array.each(t,this.defReader,this);var n=e.parseDistinctIndexArray(this.options.multiChartIndexes);
n&&(this._multiChartIndexes=this.defReader({names:"multiChart",indexes:n}))},_userUseIndex:function(t){
if(t=+t,0>t)throw e.error.argumentInvalid("index","Invalid reader index: '{0}'.",[t]);
if(e.hasOwn(this._userUsedIndexes,t))throw e.error.argumentInvalid("index","Column '{0}' of the logical table is already assigned.",[t]);
return this._userUsedIndexes[t]=!0,t},_userCreateReaders:function(t,n){n?n.forEach(function(e,t){
n[t]=+e}):n=[];var i,r=n.length,o=t.length;if(o>r){var a=r>0?n[r-1]+1:0;do a=this._getNextFreeLogicalColumnIndex(a),
n[r]=a,this._userUseIndex(a),r++;while(o>r)}for(var s,l=r===o?o:o-1,u=0;l>u;u++)i=t[u],
s=n[u],this._userIndexesToSingleDim[s]=i,this._userRead(this._propGet(i,s),i);if(o>l)for(var c=e.splitIndexedId(t[o-1]),h=c[0],d=e.nullyTo(c[1],0),f=l;r>f;f++,
d++)i=e.indexedId(h,d),s=n[f],this._userIndexesToSingleDim[s]=i,this._userRead(this._propGet(i,s),i);
return n},_userRead:function(t,n){e.fun.is(t)||e.fail.argumentInvalid("reader","Reader must be a function."),
e.array.is(n)?n.forEach(function(e){this._readDim(e,t)},this):this._readDim(n,t),
this._userDimsReaders.push(t)},_readDim:function(t,n){var i,r,o=this._userIndexesToSingleDim.indexOf(t);
if(o>=0&&(i=this._logicalRowInfos[o],i&&!this.options.ignoreMetadataLabels)){var a=i.label||i.name&&e.titleFromName(i.name);
a&&(r={label:a})}this.complexTypeProj.readDim(t,r),this._userDimsReadersByDim[t]=n;
},execute:function(e){return this.data=e,this._executeCore()},_executeCore:function(){
var t=this._getDimensionsReaders();return e.query(this._getLogicalRows()).select(function(e){
return this._readLogicalRow(e,t)},this)},_getLogicalRows:function(){return this.source;
},_getDimensionsReaders:function(){return this._userDimsReaders.slice().reverse();
},_readLogicalRow:function(e,t){for(var n=this._logLogicalRows&&this._logLogicalRowBefore(e),i=t.length,r=this.data,o={};i--;)t[i].call(r,e,o);
return n&&this._logLogicalRowAfter(o),o},_logLogicalRowBefore:function(t){return this._logLogicalRowCount<10?(e.log("logical row ["+this._logLogicalRowCount++ +"]: "+e.describe(t)),
!0):(e.log("..."),this._logLogicalRows=!1)},_logLogicalRowAfter:function(t){var n={};
for(var i in t){var r=t[i];e.object.is(r)&&(r="v"in r?r.v:"value"in r?r.value:"..."),
n[i]=r}e.log("-> read: "+e.describe(n))},_propGet:function(e,t){function n(n,i){i[e]=n[t];
}return n},_getNextFreeLogicalColumnIndex:function(t,n){for(null==t&&(t=0),null==n&&(n=1/0);n>t&&e.hasOwn(this._userUsedIndexes,t);)t++;
return n>t?t:-1},_getPhysicalGroupStartIndex:function(t){return e.getOwn(this._logicalRowPhysicalGroupIndex,t);
},_getPhysicalGroupLength:function(t){return e.getOwn(this._logicalRowPhysicalGroupsLength,t);
},_configureTypeByPhysicalGroup:function(t,n,i,r){var o=this._logicalRowPhysicalGroupIndex[t],a=this._logicalRowPhysicalGroupsLength[t],s=o+a-1,l=o;
if(i=null==i?a:Math.min(a,i),i&&s>=l){n||(n=t),r||(r=1/0);for(var u,c=0;i&&r>c;)if(u=e.indexedId(n,c++),
!this.complexTypeProj.isReadOrCalc(u)){if(l=this._getNextFreeLogicalColumnIndex(l),
l>s)return l;this.defReader({names:u,indexes:l}),l++,i--}}return l},_configureTypeByOrgLevel:function(e,t){
var n=[],i=[];this._logicalRowInfos.forEach(function(e,t){if(!this[t]){var r=1===e.type?n:i;
r&&r.push(t)}},this._userUsedIndexes),this._configureTypeByDimGroups(i,this._processDimGroupSpecs(e,!0,1/0)),
this._configureTypeByDimGroups(n,this._processDimGroupSpecs(t,!1,1))},_processDimGroupSpecs:function(t,n,i){
return t.map(function(t){return e.string.is(t)?{name:t,greedy:n,maxCount:i}:e.setDefaults(t,{
greedy:n,maxCount:i})})},_configureTypeByDimGroups:function(e,t){if(t)for(var n,i=-1,r=t.length;++i<r&&(n=e.length);){
var o=t[i],a=Math.min(o.maxCount,n),s=this._getFreeDimGroupNames(o.name,a,o.greedy);
s&&(s.length,this.defReader({names:s,indexes:e.splice(0,s.length)}))}},_getFreeDimGroupNames:function(t,n,i){
if(!t)return null;var r=[],o=0;for(null==n&&(n=1);n;){var a=e.indexedId(t,o++);this.complexTypeProj.isReadOrCalc(a)?i||n--:(r.push(a),
n--)}return r.length?r:null}}),e.type("cdo.MatrixTranslationOper",Me.TranslationOper).add({
_initType:function(){this.J=this.metadata.length,this.I=this.source.length,this._processMetadata(),
this.base()},setSource:function(e){this.base(e),this.I=this.source.length},_knownContinuousColTypes:{
numeric:1,number:1,integer:1},_processMetadata:function(){var t,n=this.options.typeCheckingMode,i=this._knownContinuousColTypes;
if("none"===n)t=e.query(this.metadata).select(function(e,t){e.colIndex=t;var n=e.colType;
return n&&1===i[n.toLowerCase()]?1:0}).array();else{var r="extended"===n,o=e.query(this.metadata).select(function(e,t){
return e.colIndex=t,e}).where(function(e){var t=e.colType;return!t||1!==i[t.toLowerCase()];
}).select(function(e){return e.colIndex}).array(),a=this.I,s=this.source,l=o.length;
t=e.array.create(this.J,1);for(var u=0;a>u&&l>0;u++)for(var c=s[u],h=0;l>h;){var d=o[h],f=c[d];
null!=f?(t[d]=this._getSourceValueType(f,r),o.splice(h,1),l--):h++}}this._columnTypes=t;
},_buildLogicalColumnInfoFromMetadata:function(e){var t=this.metadata[e];return{type:this._columnTypes[e],
name:t.colName,label:t.colLabel}},_getSourceValueType:function(e,t){switch(typeof e){
case"number":return 1;case"string":return t&&""!==e&&!isNaN(+e)?1:0;case"object":
return e instanceof Date?1:0}return 0},logSource:function(){var t=Me.previewRowsMax,n=Me.previewColsMax,i=this.metadata,r=i.length,o=e.array.prepend;
r>n&&(i=i.slice(0,n),i.push({colName:"("+n+"/"+r+")",colType:"..."}));var a=e.textTable(i.length+1).rowSep().row.apply(a,o(i.map(function(e){
return e.colName}),["Name"])).rowSep().row.apply(a,o(i.map(function(e){return e.colLabel?'"'+e.colLabel+'"':"";
}),["Label"])).rowSep().row.apply(a,o(i.map(function(e){return e.colType}),["Type"])).rowSep();
return e.query(this.source).take(t).each(function(t,i){r>n&&(t=t.slice(0,n)),a.row.apply(a,o(t.map(function(t){
return e.describe(t)}),[i+1]))}),a.rowSep().row("("+Math.min(t,this.I)+"/"+this.I+")").rowSep(!0),
"DATA SOURCE SUMMARY\n"+a()+"\n"},_logLogicalRow:function(t,n){var i=e.textTable(6).rowSep().row("Index","Kind","Type","Name","Label","Dimension").rowSep(),r=0;
return t.forEach(function(e){for(var t=0,o=n[e];o>t;t++){var a=this._logicalRowInfos[r];
i.row(r,e,a.type?"number":"string",a.name||"",a.label||"",this._userIndexesToSingleDim[r]||""),
r++}},this),i.rowSep(!0),"LOGICAL TABLE\n"+i()+"\n"},_createPlot2SeriesKeySet:function(t,n){
var i=null,r=n.length;return e.query(t).each(function(t){var o=+t;if(isNaN(o))throw e.error.argumentInvalid("plot2SeriesIndexes","Element is not a number '{0}'.",[t]);
if(0>o){if(-r>=o)throw e.error.argumentInvalid("plot2SeriesIndexes","Index is out of range '{0}'.",[o]);
o=r+o}else if(o>=r)throw e.error.argumentInvalid("plot2SeriesIndexes","Index is out of range '{0}'.",[o]);
i||(i={}),i[n[o]]=!0}),i},_dataPartGet:function(t){function n(t,n){n[l]=e.hasOwn(r,t)?a||(a=i.intern("1")):o||(o=i.intern("0"));
}var i,r,o,a,s=this,l=this.options.dataPartDimName,u=function(){r=t(),i=s.data.dimensions(l),
e.debug>=3&&r&&e.log("Second axis series values: "+e.describe(e.keys(r))),u=null};
this.complexTypeProj.setCalc({names:l,calculation:function(e,t){u&&u(),n(e.atoms.series.value,t);
}})},_configureTypeCore:function(){["series","category","value"].forEach(function(e){
this._configureTypeByPhysicalGroup(e)},this)}}),Me.previewRowsMax=15,Me.previewColsMax=6,
e.type("cdo.CrosstabTranslationOper",Me.MatrixTranslationOper).add({_translType:"Crosstab",
logicalColumnCount:function(){return this.R+this.C+this.M},_executeCore:function(){
function t(e,t){for(var n=o[e],i=0,s=a[e];s-->0;)r[n++]=t[i++]}function n(e,t){for(var n=o.M,i=a._colGroupsIndexes[t],s=a.M,l=0;s>l;l++){
var u=i[l];r[n++]=null!=u?e[u]:null}}if(!this.metadata.length)return e.query();var i=this._getDimensionsReaders(),r=new Array(this.logicalColumnCount()),o=this._logicalRowCrossGroupIndex,a=this,s=e.query(this.source);
if(this._colGroups&&this._colGroups.length){var l=function(o){return t("R",o),e.query(this._colGroups).select(function(e,a){
return t("C",e),n(o,a),this._readLogicalRow(r,i)},this)};return s.selectMany(l,this);
}return s.select(function(e){return t("R",e),this._readLogicalRow(r,i)},this)},_processMetadata:function(){
this.base(),this._separator=this.options.separator||"~";var t=this.R=1;this.C=1,this.M=1,
this.measuresDirection=null;var n=this.options.seriesInRows,i=this.metadata,r=this.options.compatVersion<=1,o=function(){
var e=n?function(e){return e.colName}:r?function(e){return{v:e.colName}}:function(e){
return{v:e.colName,f:e.colLabel}};return i.map(e)}(),a=this._logicalRowCrossGroupInfos={};
if(this.options.isMultiValued){var s=e.get(this.options,"measuresInColumns",!0);if(s||null==this.options.measuresIndex){
t=this.R=this._getCategoriesCount();var l=o.slice(t),u=l.length;u>0?(s?(this.measuresDirection="columns",
this._processEncodedColGroups(l)):(this._colGroups=l,this._colGroupsIndexes=[],this._colGroups.forEach(function(e,t){
this._colGroups[t]=this._splitEncodedColGroupCell(e),this._colGroupsIndexes[t]=[this.R+t];
},this),a.M=[this._buildLogicalColumnInfoFromMetadata(t)]),this.C=this._colGroups[0].length,
a.C=e.range(0,this.C).select(function(){return{type:0}}).array()):(this.C=this.M=0,
a.M=[],a.C=[])}else{this.measuresDirection="rows",this.R=+this.options.measuresIndex;
var c=this.options.measuresCount;null==c&&(c=1),this.M=c,this._colGroups=o.slice(this.R+1),
this._colGroups.forEach(function(e,t){this._colGroups[t]=[e]},this)}}else t=this.R=this._getCategoriesCount(),
this._colGroups=o.slice(t),this._colGroupsIndexes=new Array(this._colGroups.length),
this._colGroups.forEach(function(e,n){this._colGroups[n]=[e],this._colGroupsIndexes[n]=[t+n];
},this),a.C=[{type:0}],a.M=[{type:this._columnTypes[t]}];a.R=e.range(0,this.R).select(this._buildLogicalColumnInfoFromMetadata,this).array();
var h=this._logicalRowCrossGroupIndex={C:n?this.R:0,R:n?0:this.C,M:this.C+this.R},d=this._logicalRowInfos=new Array(this.logicalColumnCount());
e.eachOwn(h,function(e,t){a[t].forEach(function(t,n){d[e+n]=t})}),this._logicalRowPhysicalGroupsLength={
series:n?this.R:this.C,category:n?this.C:this.R,value:this.M},this._logicalRowPhysicalGroupIndex={
series:0,category:this._logicalRowPhysicalGroupsLength.series,value:this.C+this.R
}},logLogicalRow:function(){return this._logLogicalRow(["C","R","M"],{C:this.C,R:this.R,
M:this.M})},_getCategoriesCount:function(){var t=this.options.categoriesCount;return null!=t&&(!isFinite(t)||0>t)&&(t=null),
null==t&&(t=e.query(this._columnTypes).whayl(function(e){return 0===e}).count(),t||(t=1)),
t},_splitEncodedColGroupCell:function(e){var t,n=e.v;return null==n?n=[]:(n=n.split(this._separator),
t=e.f,t&&(t=t.split(this._separator))),n.map(function(e,n){return{v:e,f:t&&t[n]}});
},_processEncodedColGroups:function(t){for(var n,i=t.length||e.assert("Must have columns"),r=this.R,o=[],a={},s=[],l=0;i>l;l++){
var u,c,h,d,f=t[l],p=f.v,m=f.f,g=p.lastIndexOf(this._separator);0>g?(u=p,c=m,p="",
h=[]):(u=p.substring(g+1),p=p.substring(0,g),h=p.split(this._separator),null!=m&&(d=m.split(this._separator),
c=d.pop()),h.forEach(function(e,t){var n=d&&d[t];h[t]={v:e,f:n}})),n&&n.encValues===p?n.measureNames.push(u):(n={
startIndex:l,encValues:p,values:h,measureNames:[u]},o.push(n));var v=l-n.startIndex,y=e.getOwn(a,u);
y?v>y.groupIndex&&(y.groupIndex=v):(a[u]=y={name:u,label:c,type:this._columnTypes[r+l],
groupIndex:v,index:l},s.push(y))}s.sort(function(t,n){return e.compare(t.groupIndex,n.groupIndex)||e.compare(t.index,n.index);
}),s.forEach(function(e,t){e.groupIndex=t});var b=o.length,_=new Array(b),x=new Array(b),w=s.length;
o.map(function(e,t){_[t]=e.values;var n=e.startIndex,i=x[t]=new Array(w);e.measureNames.forEach(function(e,t){
var o=a[e].groupIndex;i[o]=r+n+t})}),this._colGroups=_,this._colGroupsIndexes=x,this._logicalRowCrossGroupInfos.M=s,
this.M=w},configureType:function(){if("rows"===this.measuresDirection)throw e.error.notImplemented();
var t=this.options.dataPartDimName;if(t&&1===this.C&&!this.complexTypeProj.isReadOrCalc(t)){
var n=this.options.plot2DataSeriesIndexes;if(null!=n){var i=this._colGroups.map(function(e){
return""+e[0].v});this._plot2SeriesKeySet=this._createPlot2SeriesKeySet(n,i)}}if(this.base(),
this._plot2SeriesKeySet){var r=this._userDimsReadersByDim.series;if(r){var o=e.fun.constant(this._plot2SeriesKeySet);
this._dataPartGet(o)}}}}),e.type("cdo.RelationalTranslationOper",Me.MatrixTranslationOper).add({
M:0,C:0,S:0,_translType:"Relational",_processMetadata:function(){this.base();var t,n,i,r,o=this.metadata,a=this.J,s=this.options.categoriesCount;
if(null!=s&&(!isFinite(s)||0>s)&&(s=0),this.options.isMultiValued&&(n=e.parseDistinctIndexArray(this.options.measuresIndexes,0,a-1),
i=n?n.length:0),null==i)if(a>0&&3>=a&&(null==s||1===s))i=1,n=[a-1],s=a>=2?1:0,t=a>=3?1:0,
r=s+t;else if(null!=s&&s>=a)r=s=a,t=i=0;else{var l=null!=s?a-s:1/0;n=e.query(o).where(function(e,t){
return 0!==this._columnTypes[t]},this).select(function(e){return e.colIndex}).take(l).array(),
i=n.length}null==r&&(r=a-i,0===r?t=s=0:null!=s?s>r?(s=r,t=0):t=r-s:(t=r>1?1:0,s=r-t));
var u=this.options.seriesInRows,c=[];r&&(t&&!u&&c.push({name:"S",count:t}),s&&c.push({
name:"C",count:s}),t&&u&&c.push({name:"S",count:t})),i&&c.push({name:"M",count:i});
var h=e.range(0,a).array();n&&n.slice().sort(e.descending).forEach(function(e){h.splice(e,1);
});var d={};c.forEach(function(e){var t=e.count,i=e.name;d[i]=e,e.indexes=n&&"M"===i?n:h.splice(0,t);
}),this.M=i,this.S=t,this.C=s;var f=[];["S","C","M"].forEach(function(t){var n=d[t];
n&&e.array.append(f,n.indexes)}),this._logicalRowInfos=f.map(this._buildLogicalColumnInfoFromMetadata,this),
this._logicalRowPerm=f,this._logicalRowPhysicalGroupsLength={series:this.S,category:this.C,
value:this.M},this._logicalRowPhysicalGroupIndex={series:0,category:this._logicalRowPhysicalGroupsLength.series,
value:this.S+this.C}},logLogicalRow:function(){return this._logLogicalRow(["S","C","M"],{
S:this.S,C:this.C,M:this.M})},configureType:function(){this.base();var e=this.options.dataPartDimName;
if(e&&!this.complexTypeProj.isReadOrCalc(e)){var t=this.options.plot2DataSeriesIndexes;
if(null!=t){var n=this._userDimsReadersByDim.series;n&&Y.call(this,t,n)}}},_executeCore:function(){
var n=this._getDimensionsReaders(),i=this._logicalRowPerm;return e.query(this._getLogicalRows()).select(function(e){
return e=t.permute(e,i),this._readLogicalRow(e,n)},this)}});var Pe=Me.numberFormatStyle=function(e,t){
return new Re(e,t)},Le=e.priv.key().property(),Re=Pe.of=e("cdo.NumberFormatStyle",e.FieldsBase.extend({
init:function(){e.classify(this,Pe)},fields:{decimal:{cast:String,fail:e.falsy},group:{
cast:String},groupSizes:{fail:e.array.empty},negativeSign:{cast:String,fail:e.falsy
},currency:{cast:String,fail:e.falsy},integerPad:{cast:String,fail:e.falsy},fractionPad:{
cast:String,fail:e.falsy},abbreviations:{fail:e.array.empty}},methods:{tryConfigure:function(t){
if(e.is(t,Pe))return!!this.integerPad(t.integerPad()).fractionPad(t.fractionPad()).decimal(t.decimal()).group(t.group()).groupSizes(t.groupSizes()).negativeSign(t.negativeSign()).currency(t.currency()).abbreviations(t.abbreviations());
if(e.string.is(t)){var n=Ue(t);if(n)return!!e.configure(this,n.number().style())}
}}},{fieldsPrivProp:Le}));e.classify(Re.prototype,Pe),Pe.defaults=Pe({integerPad:"0",
fractionPad:"0",decimal:".",group:",",groupSizes:[3],abbreviations:["k","m","b","t"],
negativeSign:"-",currency:"$"});var Oe=Me.numberFormat=function(t,n){function i(e){
return o||(o=Z(r.mask)),o(e,Le(r.style))}var r,o;return i.format=i,i.tryConfigure=Q,
e.classify(i,Oe),r=e.instance(i,t,n,{mask:{cast:String,change:function(){o=null}},
style:{cast:e.createAs(Re),factory:Pe}}),i};Oe.defaults=Oe().style(Pe()),Oe.cacheLimit=20;
var Ee={},Be=0,Fe=Me.dateFormat=function(t,n){function i(e){return o||(o=ye(r.mask)),
o(e)}var r,o;return i.format=i,i.tryConfigure=ve,e.classify(i,Fe),r=e.instance(i,t,n,{
mask:{cast:String,change:function(){o=null}}}),arguments.length&&e.configure(i,arguments[0]),
i};Fe.defaults=Fe();var ze=Me.customFormat=function(t,n){function i(){var e=r.formatter;
return String(e&&e.apply(null,arguments))}var r;return i.format=i,i.tryConfigure=be,
e.classify(i,ze),r=e.instance(i,t,n,{formatter:{cast:e.fun.as}}),i};ze.defaults=ze().formatter(_e);
var Ve="en-us",qe=Me.format=function(t,n){function i(){}i.tryConfigure=we;var r;if(!n&&e.string.is(t)){
var o=Ue(t);r=o.languageCode,o&&(n=o,t=null)}return i.languageCode=r?r:Ve,e.classify(i,qe),
e.instance(i,t,n,{number:xe(Oe),percent:xe(Oe),date:xe(Fe),any:{cast:e.createAs(ze),
factory:ze}}),i};qe.defaults=qe({number:"#,0.##",percent:"#,0.#%",date:"%Y/%m/%d",
any:ze()});var He={},We=He[Ve]=qe.defaults,Ue=Me.format.language=function(t,n){var i=arguments.length;
if(!i)return We;if(1==i){if(void 0===t)throw e.error.operationInvalid("Undefined 'style' value.");
if(null===t||""===t)t=Ve;else{if(e.is(t,qe))return We=t;if("object"==typeof t){for(var r in t)Ce(r,e.getOwn(t,r));
return Me.format}}return De(t,!0)}if(2==i)return Ce(t,n);throw e.error.operationInvalid("Wrong number of arguments");
};return Ue({"en-gb":{number:{mask:"#,0.##",style:{integerPad:"0",fractionPad:"0",
decimal:".",group:",",groupSizes:[3],abbreviations:["k","m","b","t"],negativeSign:"-",
currency:""}},date:{mask:"%d/%m/%Y"}},"pt-pt":{number:{mask:"#,0.##",style:{integerPad:"0",
fractionPad:"0",decimal:",",group:" ",groupSizes:[3],abbreviations:["k","m","b","t"],
negativeSign:"-",currency:""}},date:{mask:"%d/%m/%Y"}}}),Me}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){
if(!e.document)throw new Error("jQuery requires a window with a document");return t(e);
}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=fe.type(e);
return"function"===n||fe.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e;
}function i(e,t,n){if(fe.isFunction(t))return fe.grep(e,function(e,i){return!!t.call(e,i,e)!==n;
});if(t.nodeType)return fe.grep(e,function(e){return e===t!==n});if("string"==typeof t){
if(Ce.test(t))return fe.filter(t,e,n);t=fe.filter(t,e)}return fe.grep(e,function(e){
return fe.inArray(e,t)>-1!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);
return e}function o(e){var t={};return fe.each(e.match(Te)||[],function(e,n){t[n]=!0;
}),t}function a(){ie.addEventListener?(ie.removeEventListener("DOMContentLoaded",s),
e.removeEventListener("load",s)):(ie.detachEvent("onreadystatechange",s),e.detachEvent("onload",s));
}function s(){(ie.addEventListener||"load"===e.event.type||"complete"===ie.readyState)&&(a(),
fe.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Le,"-$1").toLowerCase();
if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Pe.test(n)?fe.parseJSON(n):n;
}catch(r){}fe.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!fe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;
return!0}function c(e,t,n,i){if(Ie(e)){var r,o,a=fe.expando,s=e.nodeType,l=s?fe.cache:e,u=s?e[a]:e[a]&&a;
if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[a]=ne.pop()||fe.guid++:a),
l[u]||(l[u]=s?{}:{toJSON:fe.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[u]=fe.extend(l[u],t):l[u].data=fe.extend(l[u].data,t)),
o=l[u],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[fe.camelCase(t)]=n),"string"==typeof t?(r=o[t],
null==r&&(r=o[fe.camelCase(t)])):r=o,r}}function h(e,t,n){if(Ie(e)){var i,r,o=e.nodeType,a=o?fe.cache:e,s=o?e[fe.expando]:fe.expando;
if(a[s]){if(t&&(i=n?a[s]:a[s].data)){fe.isArray(t)?t=t.concat(fe.map(t,fe.camelCase)):t in i?t=[t]:(t=fe.camelCase(t),
t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!u(i):!fe.isEmptyObject(i))return;
}(n||(delete a[s].data,u(a[s])))&&(o?fe.cleanData([e],!0):he.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0);
}}}function d(e,t,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return fe.css(e,t,"");
},l=s(),u=n&&n[3]||(fe.cssNumber[t]?"":"px"),c=(fe.cssNumber[t]||"px"!==u&&+l)&&Oe.exec(fe.css(e,t));
if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do o=o||".5",c/=o,fe.style(e,t,c+u);while(o!==(o=s()/l)&&1!==o&&--a);
}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),
r}function f(e){var t=We.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());
return n}function p(e,t){var n,i,r=0,o="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;
if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||fe.nodeName(i,t)?o.push(i):fe.merge(o,p(i,t));
return void 0===t||t&&fe.nodeName(e,t)?fe.merge([e],o):o}function m(e,t){for(var n,i=0;null!=(n=e[i]);i++)fe._data(n,"globalEval",!t||fe._data(t[i],"globalEval"));
}function g(e){ze.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t,n,i,r){
for(var o,a,s,l,u,c,h,d=e.length,v=f(t),y=[],b=0;d>b;b++)if(a=e[b],a||0===a)if("object"===fe.type(a))fe.merge(y,a.nodeType?[a]:a);else if(Ge.test(a)){
for(l=l||v.appendChild(t.createElement("div")),u=(Ve.exec(a)||["",""])[1].toLowerCase(),
h=Ue[u]||Ue._default,l.innerHTML=h[1]+fe.htmlPrefilter(a)+h[2],o=h[0];o--;)l=l.lastChild;
if(!he.leadingWhitespace&&He.test(a)&&y.push(t.createTextNode(He.exec(a)[0])),!he.tbody)for(a="table"!==u||$e.test(a)?"<table>"!==h[1]||$e.test(a)?0:l:l.firstChild,
o=a&&a.childNodes.length;o--;)fe.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);
for(fe.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);
l=v.lastChild}else y.push(t.createTextNode(a));for(l&&v.removeChild(l),he.appendChecked||fe.grep(p(y,"input"),g),
b=0;a=y[b++];)if(i&&fe.inArray(a,i)>-1)r&&r.push(a);else if(s=fe.contains(a.ownerDocument,a),
l=p(v.appendChild(a),"script"),s&&m(l),n)for(o=0;a=l[o++];)qe.test(a.type||"")&&n.push(a);
return l=null,v}function y(){return!0}function b(){return!1}function _(){try{return ie.activeElement;
}catch(e){}}function x(e,t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,
n=void 0);for(s in t)x(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,
i=void 0):(r=i,i=n,n=void 0)),r===!1)r=b;else if(!r)return e;return 1===o&&(a=r,r=function(e){
return fe().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=fe.guid++)),e.each(function(){
fe.event.add(this,t,r,i,n)})}function w(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e;
}function C(e){return e.type=(null!==fe.find.attr(e,"type"))+"/"+e.type,e}function S(e){
var t=rt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function k(e,t){
if(1===t.nodeType&&fe.hasData(e)){var n,i,r,o=fe._data(e),a=fe._data(t,o),s=o.events;
if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)fe.event.add(t,n,s[n][i]);
}a.data&&(a.data=fe.extend({},a.data))}}function D(e,t){var n,i,r;if(1===t.nodeType){
if(n=t.nodeName.toLowerCase(),!he.noCloneEvent&&t[fe.expando]){r=fe._data(t);for(i in r.events)fe.removeEvent(t,i,r.handle);
t.removeAttribute(fe.expando)}"script"===n&&t.text!==e.text?(C(t).text=e.text,S(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),
he.html5Clone&&e.innerHTML&&!fe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&ze.test(e.type)?(t.defaultChecked=t.checked=e.checked,
t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue);
}}function M(e,t,n,i){t=oe.apply([],t);var r,o,a,s,l,u,c=0,h=e.length,d=h-1,f=t[0],m=fe.isFunction(f);
if(m||h>1&&"string"==typeof f&&!he.checkClone&&it.test(f))return e.each(function(r){
var o=e.eq(r);m&&(t[0]=f.call(this,r,o.html())),M(o,t,n,i)});if(h&&(u=v(t,e[0].ownerDocument,!1,e,i),
r=u.firstChild,1===u.childNodes.length&&(u=r),r||i)){for(s=fe.map(p(u,"script"),C),
a=s.length;h>c;c++)o=u,c!==d&&(o=fe.clone(o,!0,!0),a&&fe.merge(s,p(o,"script"))),
n.call(e[c],o,c);if(a)for(l=s[s.length-1].ownerDocument,fe.map(s,S),c=0;a>c;c++)o=s[c],
qe.test(o.type||"")&&!fe._data(o,"globalEval")&&fe.contains(l,o)&&(o.src?fe._evalUrl&&fe._evalUrl(o.src):fe.globalEval((o.text||o.textContent||o.innerHTML||"").replace(ot,"")));
u=r=null}return e}function N(e,t,n){for(var i,r=t?fe.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||fe.cleanData(p(i)),
i.parentNode&&(n&&fe.contains(i.ownerDocument,i)&&m(p(i,"script")),i.parentNode.removeChild(i));
return e}function T(e,t){var n=fe(t.createElement(e)).appendTo(t.body),i=fe.css(n[0],"display");
return n.detach(),i}function A(e){var t=ie,n=ut[e];return n||(n=T(e,t),"none"!==n&&n||(lt=(lt||fe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),
t=(lt[0].contentWindow||lt[0].contentDocument).document,t.write(),t.close(),n=T(e,t),
lt.detach()),ut[e]=n),n}function j(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments);
}}}function I(e){if(e in St)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Ct.length;n--;)if(e=Ct[n]+t,
e in St)return e}function P(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],
i.style&&(o[a]=fe._data(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),
""===i.style.display&&Be(i)&&(o[a]=fe._data(i,"olddisplay",A(i.nodeName)))):(r=Be(i),
(n&&"none"!==n||!r)&&fe._data(i,"olddisplay",r?n:fe.css(i,"display"))));for(a=0;s>a;a++)i=e[a],
i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));
return e}function L(e,t,n){var i=_t.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t;
}function R(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=fe.css(e,n+Ee[o],!0,r)),
i?("content"===n&&(a-=fe.css(e,"padding"+Ee[o],!0,r)),"margin"!==n&&(a-=fe.css(e,"border"+Ee[o]+"Width",!0,r))):(a+=fe.css(e,"padding"+Ee[o],!0,r),
"padding"!==n&&(a+=fe.css(e,"border"+Ee[o]+"Width",!0,r)));return a}function O(e,t,n){
var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=pt(e),a=he.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,o);
if(0>=r||null==r){if(r=mt(e,t,o),(0>r||null==r)&&(r=e.style[t]),ht.test(r))return r;
i=a&&(he.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+R(e,t,n||(a?"border":"content"),i,o)+"px";
}function E(e,t,n,i,r){return new E.prototype.init(e,t,n,i,r)}function B(){return e.setTimeout(function(){
kt=void 0}),kt=fe.now()}function F(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Ee[r],
i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function z(e,t,n){
for(var i,r=(H.tweeners[t]||[]).concat(H.tweeners["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i;
}function V(e,t,n){var i,r,o,a,s,l,u,c,h=this,d={},f=e.style,p=e.nodeType&&Be(e),m=fe._data(e,"fxshow");
n.queue||(s=fe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,
s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){
s.unqueued--,fe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],
u=fe.css(e,"display"),c="none"===u?fe._data(e,"olddisplay")||A(e.nodeName):u,"inline"===c&&"none"===fe.css(e,"float")&&(he.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?f.zoom=1:f.display="inline-block")),
n.overflow&&(f.overflow="hidden",he.shrinkWrapBlocks()||h.always(function(){f.overflow=n.overflow[0],
f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Mt.exec(r)){
if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;
p=!0}d[i]=m&&m[i]||fe.style(e,i)}else u=void 0;if(fe.isEmptyObject(d))"inline"===("none"===u?A(e.nodeName):u)&&(f.display=u);else{
m?"hidden"in m&&(p=m.hidden):m=fe._data(e,"fxshow",{}),o&&(m.hidden=!p),p?fe(e).show():h.done(function(){
fe(e).hide()}),h.done(function(){var t;fe._removeData(e,"fxshow");for(t in d)fe.style(e,t,d[t]);
});for(i in d)a=z(p?m[i]:0,i,h),i in m||(m[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0));
}}function q(e,t){var n,i,r,o,a;for(n in e)if(i=fe.camelCase(n),r=t[i],o=e[n],fe.isArray(o)&&(r=o[1],
o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=fe.cssHooks[i],a&&"expand"in a){o=a.expand(o),
delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function H(e,t,n){var i,r,o=0,a=H.prefilters.length,s=fe.Deferred().always(function(){
delete l.elem}),l=function(){if(r)return!1;for(var t=kt||B(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);
return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,
props:fe.extend({},t),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default
},n),originalProperties:t,originalOptions:n,startTime:kt||B(),duration:n.duration,
tweens:[],createTween:function(t,n){var i=fe.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);
return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;
for(r=!0;i>n;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),
this}}),c=u.props;for(q(c,u.opts.specialEasing);a>o;o++)if(i=H.prefilters[o].call(u,e,c,u.opts))return fe.isFunction(i.stop)&&(fe._queueHooks(u.elem,u.opts.queue).stop=fe.proxy(i.stop,i)),
i;return fe.map(c,z,u),fe.isFunction(u.opts.start)&&u.opts.start.call(e,u),fe.fx.timer(fe.extend(l,{
elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always);
}function W(e){return fe.attr(e,"class")||""}function U(e){return function(t,n){"string"!=typeof t&&(n=t,
t="*");var i,r=0,o=t.toLowerCase().match(Te)||[];if(fe.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",
(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function G(e,t,n,i){function r(s){
var l;return o[s]=!0,fe.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),
r(u),!1)}),l}var o={},a=e===Zt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function $(e,t){
var n,i,r=fe.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);
return n&&fe.extend(!0,e,n),e}function K(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),
void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){
l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){
o=a;break}i||(i=a)}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function X(e,t,n,i){
var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];
for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),
l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],
!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[r]:u[r]!==!0&&(o=s[0],
c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(h){
return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+o}}}return{state:"success",
data:t}}function Y(e){return e.style&&e.style.display||fe.css(e,"display")}function Q(e){
if(!fe.contains(e.ownerDocument||ie,e))return!0;for(;e&&1===e.nodeType;){if("none"===Y(e)||"hidden"===e.type)return!0;
e=e.parentNode}return!1}function Z(e,t,n,i){var r;if(fe.isArray(t))fe.each(t,function(t,r){
n||rn.test(e)?i(e,r):Z(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==fe.type(t))i(e,t);else for(r in t)Z(e+"["+r+"]",t[r],n,i);
}function J(){try{return new e.XMLHttpRequest}catch(t){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP");
}catch(t){}}function te(e){return fe.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1;
}var ne=[],ie=e.document,re=ne.slice,oe=ne.concat,ae=ne.push,se=ne.indexOf,le={},ue=le.toString,ce=le.hasOwnProperty,he={},de="1.12.4",fe=function(e,t){
return new fe.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,me=/^-ms-/,ge=/-([\da-z])/gi,ve=function(e,t){
return t.toUpperCase()};fe.fn=fe.prototype={jquery:de,constructor:fe,selector:"",
length:0,toArray:function(){return re.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:re.call(this);
},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,
t.context=this.context,t},each:function(e){return fe.each(this,e)},map:function(e){
return this.pushStack(fe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){
return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0);
},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);
return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor();
},push:ae,sort:ne.sort,splice:ne.splice},fe.extend=fe.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;
for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||fe.isFunction(a)||(a={}),
s===l&&(a=this,s--);l>s;s++)if(null!=(r=arguments[s]))for(i in r)e=a[i],n=r[i],a!==n&&(u&&n&&(fe.isPlainObject(n)||(t=fe.isArray(n)))?(t?(t=!1,
o=e&&fe.isArray(e)?e:[]):o=e&&fe.isPlainObject(e)?e:{},a[i]=fe.extend(u,o,n)):void 0!==n&&(a[i]=n));
return a},fe.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,
error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e);
},isArray:Array.isArray||function(e){return"array"===fe.type(e)},isWindow:function(e){
return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!fe.isArray(e)&&t-parseFloat(t)+1>=0;
},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){
var t;if(!e||"object"!==fe.type(e)||e.nodeType||fe.isWindow(e))return!1;try{if(e.constructor&&!ce.call(e,"constructor")&&!ce.call(e.constructor.prototype,"isPrototypeOf"))return!1;
}catch(n){return!1}if(!he.ownFirst)for(t in e)return ce.call(e,t);for(t in e);return void 0===t||ce.call(e,t);
},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ue.call(e)]||"object":typeof e;
},globalEval:function(t){t&&fe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t);
})(t)},camelCase:function(e){return e.replace(me,"ms-").replace(ge,ve)},nodeName:function(e,t){
return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){
var i,r=0;if(n(e))for(i=e.length;i>r&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;
return e},trim:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){
var i=t||[];return null!=e&&(n(Object(e))?fe.merge(i,"string"==typeof e?[e]:e):ae.call(i,e)),
i},inArray:function(e,t,n){var i;if(t){if(se)return se.call(t,e,n);for(i=t.length,
n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){
for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];
return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),
i!==s&&r.push(e[o]);return r},map:function(e,t,i){var r,o,a=0,s=[];if(n(e))for(r=e.length;r>a;a++)o=t(e[a],a,i),
null!=o&&s.push(o);else for(a in e)o=t(e[a],a,i),null!=o&&s.push(o);return oe.apply([],s);
},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),
fe.isFunction(e)?(n=re.call(arguments,2),i=function(){return e.apply(t||this,n.concat(re.call(arguments)));
},i.guid=e.guid=e.guid||fe.guid++,i):void 0},now:function(){return+new Date},support:he
}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=ne[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){
le["[object "+t+"]"]=t.toLowerCase()});var ye=function(e){function t(e,t,n,i){var r,o,a,s,l,u,h,f,p=t&&t.ownerDocument,m=t?t.nodeType:9;
if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!i&&((t?t.ownerDocument||t:z)!==I&&j(t),
t=t||I,L)){if(11!==m&&(u=ve.exec(e)))if(r=u[1]){if(9===m){if(!(a=t.getElementById(r)))return n;
if(a.id===r)return n.push(a),n}else if(p&&(a=p.getElementById(r))&&B(t,a)&&a.id===r)return n.push(a),
n}else{if(u[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((r=u[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(r)),
n}if(!(!x.qsa||U[e+" "]||R&&R.test(e))){if(1!==m)p=t,f=e;else if("object"!==t.nodeName.toLowerCase()){
for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=F),h=k(e),
o=h.length,l=de.test(s)?"#"+s:"[id='"+s+"']";o--;)h[o]=l+" "+d(h[o]);f=h.join(","),
p=ye.test(e)&&c(t.parentNode)||t}if(f)try{return Z.apply(n,p.querySelectorAll(f)),
n}catch(g){}finally{s===F&&t.removeAttribute("id")}}}return M(e.replace(se,"$1"),t,n,i);
}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],
e[n+" "]=i}var t=[];return e}function i(e){return e[F]=!0,e}function r(e){var t=I.createElement("div");
try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),
t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=t;
}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||$)-(~e.sourceIndex||$);
if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){
return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}
function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e;
}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]));
})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}
function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){
var i=t.dir,r=n&&"parentNode"===i,o=q++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o);
}:function(t,n,a){var s,l,u,c=[V,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0;
}else for(;t=t[i];)if(1===t.nodeType||r){if(u=t[F]||(t[F]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),
(s=l[i])&&s[0]===V&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}
function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;
return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i;
}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),
u&&t.push(s));return a}function v(e,t,n,r,o,a){return r&&!r[F]&&(r=v(r)),o&&!o[F]&&(o=v(o,a)),
i(function(i,a,s,l){var u,c,h,d=[],f=[],p=a.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:g(v,d,e,s,l),b=n?o||(i?e:p||r)?[]:a:y;
if(n&&n(y,b,s,l),r)for(u=g(b,f),r(u,[],s,l),c=u.length;c--;)(h=u[c])&&(b[f[c]]=!(y[f[c]]=h));
if(i){if(o||e){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);o(null,b=[],u,l);
}for(c=b.length;c--;)(h=b[c])&&(u=o?ee(i,h):d[c])>-1&&(i[u]=!(a[u]=h))}}else b=g(b===a?b.splice(p,b.length):b),
o?o(null,a,b,l):Z.apply(a,b)})}function y(e){for(var t,n,i,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=f(function(e){
return e===t},a,!0),u=f(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,i){var r=!o&&(i||n!==N)||((t=n).nodeType?l(e,n,i):u(e,n,i));
return t=null,r}];r>s;s++)if(n=w.relative[e[s].type])c=[f(p(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),
n[F]){for(i=++s;r>i&&!w.relative[e[i].type];i++);return v(s>1&&p(c),s>1&&d(e.slice(0,s-1).concat({
value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&d(e));
}c.push(n)}return p(c)}function b(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,u){
var c,h,d,f=0,p="0",m=i&&[],v=[],y=N,b=i||o&&w.find.TAG("*",u),_=V+=null==y?1:Math.random()||.1,x=b.length;
for(u&&(N=a===I||a||u);p!==x&&null!=(c=b[p]);p++){if(o&&c){for(h=0,a||c.ownerDocument===I||(j(c),
s=!L);d=e[h++];)if(d(c,a||I,s)){l.push(c);break}u&&(V=_)}r&&((c=!d&&c)&&f--,i&&m.push(c));
}if(f+=p,r&&p!==f){for(h=0;d=n[h++];)d(m,v,a,s);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=Y.call(l));
v=g(v)}Z.apply(l,v),u&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(V=_,
N=y),m};return r?i(a):a}var _,x,w,C,S,k,D,M,N,T,A,j,I,P,L,R,O,E,B,F="sizzle"+1*new Date,z=e.document,V=0,q=0,H=n(),W=n(),U=n(),G=function(e,t){
return e===t&&(A=!0),0},$=1<<31,K={}.hasOwnProperty,X=[],Y=X.pop,Q=X.push,Z=X.push,J=X.slice,ee=function(e,t){
for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(oe),de=new RegExp("^"+ie+"$"),fe={
ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),
ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),
bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")
},pe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){
var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320);
},we=function(){j()};try{Z.apply(X=J.call(z.childNodes),z.childNodes),X[z.childNodes.length].nodeType;
}catch(Ce){Z={apply:X.length?function(e,t){Q.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);
e.length=n-1}}}x=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;
return t?"HTML"!==t.nodeName:!1},j=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:z;
return i!==I&&9===i.nodeType&&i.documentElement?(I=i,P=I.documentElement,L=!S(I),
(n=I.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),
x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),
x.getElementsByTagName=r(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length;
}),x.getElementsByClassName=ge.test(I.getElementsByClassName),x.getById=r(function(e){
return P.appendChild(e).id=F,!I.getElementsByName||!I.getElementsByName(F).length;
}),x.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){
var n=t.getElementById(e);return n?[n]:[]}},w.filter.ID=function(e){var t=e.replace(_e,xe);
return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){
var t=e.replace(_e,xe);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");
return n&&n.value===t}}),w.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0;
}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);
return i}return o},w.find.CLASS=x.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&L?t.getElementsByClassName(e):void 0;
},O=[],R=[],(x.qsa=ge.test(I.querySelectorAll))&&(r(function(e){P.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",
e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+ne+"*(?:''|\"\")"),
e.querySelectorAll("[selected]").length||R.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||R.push("~="),
e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||R.push(".#.+[+~]");
}),r(function(e){var t=I.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),
e.querySelectorAll("[name=d]").length&&R.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),
e.querySelectorAll("*,:x"),R.push(",.*:")})),(x.matchesSelector=ge.test(E=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(e){
x.disconnectedMatch=E.call(e,"div"),E.call(e,"[s!='']:x"),O.push("!=",oe)}),R=R.length&&new RegExp(R.join("|")),
O=O.length&&new RegExp(O.join("|")),t=ge.test(P.compareDocumentPosition),B=t||ge.test(P.contains)?function(e,t){
var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)));
}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){
if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;
return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,
1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===I||e.ownerDocument===z&&B(z,e)?-1:t===I||t.ownerDocument===z&&B(z,t)?1:T?ee(T,e)-ee(T,t):0:4&n?-1:1);
}:function(e,t){if(e===t)return A=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t];
if(!r||!o)return e===I?-1:t===I?1:r?-1:o?1:T?ee(T,e)-ee(T,t):0;if(r===o)return a(e,t);
for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;
return i?a(s[i],l[i]):s[i]===z?-1:l[i]===z?1:0},I):I},t.matches=function(e,n){return t(e,null,null,n);
},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==I&&j(e),n=n.replace(ce,"='$1']"),
!(!x.matchesSelector||!L||U[n+" "]||O&&O.test(n)||R&&R.test(n)))try{var i=E.call(e,n);
if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}
return t(n,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&j(e),
B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&j(e);var n=w.attrHandle[t.toLowerCase()],i=n&&K.call(w.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;
return void 0!==i?i:x.attributes||!L?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null;
},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e);
},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(A=!x.detectDuplicates,T=!x.sortStable&&e.slice(0),
e.sort(G),A){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return T=null,
e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){
if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e);
}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},w=t.selectors={
cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",
first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"
}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,xe),
"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),
"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),
e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];
return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),
e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,xe).toLowerCase();
return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t;
}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&H(e,function(e){
return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"");
})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="",
"="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0;
}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;
return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,f,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;
if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;
p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){
for(d=g,h=d[F]||(d[F]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),u=c[e]||[],f=u[0]===V&&u[1],
b=f&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){
c[e]=[V,f,b];break}}else if(y&&(d=t,h=d[F]||(d[F]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),
u=c[e]||[],f=u[0]===V&&u[1],b=f),b===!1)for(;(d=++f&&d&&d[m]||(b=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&(h=d[F]||(d[F]={}),
c=h[d.uniqueID]||(h[d.uniqueID]={}),c[e]=[V,b]),d!==t)););return b-=r,b===i||b%i===0&&b/i>=0;
}}},PSEUDO:function(e,n){var r,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);
return o[F]?o(n):o.length>1?(r=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){
for(var i,r=o(e,n),a=r.length;a--;)i=ee(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r);
}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=D(e.replace(se,"$1"));return r[F]?i(function(e,t,n,i){
for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){
return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){
return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(_e,xe),function(t){
return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),
e=e.replace(_e,xe).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),
n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){
var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P;
},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex);
},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0;
},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected;
},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0;
},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;
return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName);
},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();
return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase());
},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){
return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),
odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){
for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);
return e})}},w.pseudos.nth=w.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,
image:!0})w.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})w.pseudos[_]=l(_);return h.prototype=w.filters=w.pseudos,
w.setFilters=new h,k=t.tokenize=function(e,n){var i,r,o,a,s,l,u,c=W[e+" "];if(c)return n?0:c.slice(0);
for(s=e,l=[],u=w.preFilter;s;){(!i||(r=le.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),
l.push(o=[])),i=!1,(r=ue.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(se," ")
}),s=s.slice(i.length));for(a in w.filter)!(r=fe[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),
o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):W(e,l).slice(0);
},D=t.compile=function(e,t){var n,i=[],r=[],o=U[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=y(t[n]),
o[F]?i.push(o):r.push(o);o=U(e,b(r,i)),o.selector=e}return o},M=t.select=function(e,t,n,i){
var r,o,a,s,l,u="function"==typeof e&&e,h=!i&&k(e=u.selector||e);if(n=n||[],1===h.length){
if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===t.nodeType&&L&&w.relative[o[1].type]){
if(t=(w.find.ID(a.matches[0].replace(_e,xe),t)||[])[0],!t)return n;u&&(t=t.parentNode),
e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(a=o[r],
!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(_e,xe),ye.test(o[0].type)&&c(t.parentNode)||t))){
if(o.splice(r,1),e=i.length&&d(o),!e)return Z.apply(n,i),n;break}}return(u||D(e,h))(i,t,!L,n,!t||ye.test(e)&&c(t.parentNode)||t),
n},x.sortStable=F.split("").sort(G).join("")===F,x.detectDuplicates=!!A,j(),x.sortDetached=r(function(e){
return 1&e.compareDocumentPosition(I.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>",
"#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){
return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){
return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value");
})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue;
}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){
var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null;
}),t}(e);fe.find=ye,fe.expr=ye.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=ye.uniqueSort,
fe.text=ye.getText,fe.isXMLDoc=ye.isXML,fe.contains=ye.contains;var be=function(e,t,n){
for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&fe(e).is(n))break;
i.push(e)}return i},_e=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);
return n},xe=fe.expr.match.needsContext,we=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ce=/^.[^:#\[\.,]*$/;
fe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?fe.find.matchesSelector(i,e)?[i]:[]:fe.find.matches(e,fe.grep(t,function(e){
return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;
if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;r>t;t++)if(fe.contains(i[t],this))return!0;
}));for(t=0;r>t;t++)fe.find(e,i[t],n);return n=this.pushStack(r>1?fe.unique(n):n),
n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1));
},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&xe.test(e)?fe(e):e||[],!1).length;
}});var Se,ke=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,De=fe.fn.init=function(e,t,n){
var i,r;if(!e)return this;if(n=n||Se,"string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ke.exec(e),
!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){
if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ie,!0)),
we.test(i[1])&&fe.isPlainObject(t))for(i in t)fe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);
return this}if(r=ie.getElementById(i[2]),r&&r.parentNode){if(r.id!==i[2])return Se.find(e);
this.length=1,this[0]=r}return this.context=ie,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,
this.length=1,this):fe.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(fe):(void 0!==e.selector&&(this.selector=e.selector,
this.context=e.context),fe.makeArray(e,this))};De.prototype=fe.fn,Se=fe(ie);var Me=/^(?:parents|prev(?:Until|All))/,Ne={
children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t,n=fe(e,this),i=n.length;
return this.filter(function(){for(t=0;i>t;t++)if(fe.contains(this,n[t]))return!0});
},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=xe.test(e)||"string"!=typeof e?fe(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&fe.find.matchesSelector(n,e))){
o.push(n);break}return this.pushStack(o.length>1?fe.uniqueSort(o):o)},index:function(e){
return e?"string"==typeof e?fe.inArray(this[0],fe(e)):fe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1;
},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))));
},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e));
}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null;
},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,n){return be(e,"parentNode",n);
},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling");
},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling");
},nextUntil:function(e,t,n){return be(e,"nextSibling",n)},prevUntil:function(e,t,n){
return be(e,"previousSibling",n)},siblings:function(e){return _e((e.parentNode||{}).firstChild,e);
},children:function(e){return _e(e.firstChild)},contents:function(e){return fe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:fe.merge([],e.childNodes);
}},function(e,t){fe.fn[e]=function(n,i){var r=fe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),
i&&"string"==typeof i&&(r=fe.filter(i,r)),this.length>1&&(Ne[e]||(r=fe.uniqueSort(r)),
Me.test(e)&&(r=r.reverse())),this.pushStack(r)}});var Te=/\S+/g;fe.Callbacks=function(e){
e="string"==typeof e?o(e):fe.extend({},e);var t,n,i,r,a=[],s=[],l=-1,u=function(){
for(r=e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=a.length,
n=!1);e.memory||(n=!1),t=!1,r&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(l=a.length-1,
s.push(n)),function i(t){fe.each(t,function(t,n){fe.isFunction(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==fe.type(n)&&i(n);
})}(arguments),n&&!t&&u()),this},remove:function(){return fe.each(arguments,function(e,t){
for(var n;(n=fe.inArray(t,a,n))>-1;)a.splice(n,1),l>=n&&l--}),this},has:function(e){
return e?fe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){
return r=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=!0,
n||c.disable(),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],
n=[e,n.slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),
this},fired:function(){return!!i}};return c},fe.extend({Deferred:function(e){var t=[["resolve","done",fe.Callbacks("once memory"),"resolved"],["reject","fail",fe.Callbacks("once memory"),"rejected"],["notify","progress",fe.Callbacks("memory")]],n="pending",i={
state:function(){return n},always:function(){return r.done(arguments).fail(arguments),
this},then:function(){var e=arguments;return fe.Deferred(function(n){fe.each(t,function(t,o){
var a=fe.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);
e&&fe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments);
})}),e=null}).promise()},promise:function(e){return null!=e?fe.extend(e,i):i}},r={};
return i.pipe=i.then,fe.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){
n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),
this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){
var t,n,i,r=0,o=re.call(arguments),a=o.length,s=1!==a||e&&fe.isFunction(e.promise)?a:0,l=1===s?e:fe.Deferred(),u=function(e,n,i){
return function(r){n[e]=this,i[e]=arguments.length>1?re.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i);
}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&fe.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,t)).done(u(r,i,o)).fail(l.reject):--s;
return s||l.resolveWith(i,o),l.promise()}});var Ae;fe.fn.ready=function(e){return fe.ready.promise().done(e),
this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0);
},ready:function(e){(e===!0?--fe.readyWait:fe.isReady)||(fe.isReady=!0,e!==!0&&--fe.readyWait>0||(Ae.resolveWith(ie,[fe]),
fe.fn.triggerHandler&&(fe(ie).triggerHandler("ready"),fe(ie).off("ready"))))}}),fe.ready.promise=function(t){
if(!Ae)if(Ae=fe.Deferred(),"complete"===ie.readyState||"loading"!==ie.readyState&&!ie.documentElement.doScroll)e.setTimeout(fe.ready);else if(ie.addEventListener)ie.addEventListener("DOMContentLoaded",s),
e.addEventListener("load",s);else{ie.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);
var n=!1;try{n=null==e.frameElement&&ie.documentElement}catch(i){}n&&n.doScroll&&!function r(){
if(!fe.isReady){try{n.doScroll("left")}catch(t){return e.setTimeout(r,50)}a(),fe.ready();
}}()}return Ae.promise(t)},fe.ready.promise();var je;for(je in fe(he))break;he.ownFirst="0"===je,
he.inlineBlockNeedsLayout=!1,fe(function(){var e,t,n,i;n=ie.getElementsByTagName("body")[0],
n&&n.style&&(t=ie.createElement("div"),i=ie.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",
he.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i));
}),function(){var e=ie.createElement("div");he.deleteExpando=!0;try{delete e.test;
}catch(t){he.deleteExpando=!1}e=null}();var Ie=function(e){var t=fe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;
return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t},Pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Le=/([A-Z])/g;
fe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
},hasData:function(e){return e=e.nodeType?fe.cache[e[fe.expando]]:e[fe.expando],!!e&&!u(e);
},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return h(e,t)},_data:function(e,t,n){
return c(e,t,n,!0)},_removeData:function(e,t){return h(e,t,!0)}}),fe.fn.extend({data:function(e,t){
var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=fe.data(o),
1===o.nodeType&&!fe._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,
0===i.indexOf("data-")&&(i=fe.camelCase(i.slice(5)),l(o,i,r[i])));fe._data(o,"parsedAttrs",!0);
}return r}return"object"==typeof e?this.each(function(){fe.data(this,e)}):arguments.length>1?this.each(function(){
fe.data(this,e,t)}):o?l(o,e,fe.data(o,e)):void 0},removeData:function(e){return this.each(function(){
fe.removeData(this,e)})}}),fe.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",
i=fe._data(e,t),n&&(!i||fe.isArray(n)?i=fe._data(e,t,fe.makeArray(n)):i.push(n)),
i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=fe.queue(e,t),i=n.length,r=n.shift(),o=fe._queueHooks(e,t),a=function(){
fe.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),
delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";
return fe._data(e,n)||fe._data(e,n,{empty:fe.Callbacks("once memory").add(function(){
fe._removeData(e,t+"queue"),fe._removeData(e,n)})})}}),fe.fn.extend({queue:function(e,t){
var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?fe.queue(this[0],e):void 0===t?this:this.each(function(){
var n=fe.queue(this,e,t);fe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&fe.dequeue(this,e);
})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){
return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=fe.Deferred(),o=this,a=this.length,s=function(){
--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=fe._data(o[a],e+"queueHooks"),
n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}}),function(){var e;he.shrinkWrapBlocks=function(){
if(null!=e)return e;e=!1;var t,n,i;return n=ie.getElementsByTagName("body")[0],n&&n.style?(t=ie.createElement("div"),
i=ie.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
t.appendChild(ie.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),
e):void 0}}();var Re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oe=new RegExp("^(?:([+-])=|)("+Re+")([a-z%]*)$","i"),Ee=["Top","Right","Bottom","Left"],Be=function(e,t){
return e=t||e,"none"===fe.css(e,"display")||!fe.contains(e.ownerDocument,e)},Fe=function(e,t,n,i,r,o,a){
var s=0,l=e.length,u=null==n;if("object"===fe.type(n)){r=!0;for(s in n)Fe(e,t,s,n[s],!0,o,a);
}else if(void 0!==i&&(r=!0,fe.isFunction(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,
t=function(e,t,n){return u.call(fe(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));
return r?e:u?t.call(e):l?t(e[0],n):o},ze=/^(?:checkbox|radio)$/i,Ve=/<([\w:-]+)/,qe=/^$|\/(?:java|ecma)script/i,He=/^\s+/,We="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";
!function(){var e=ie.createElement("div"),t=ie.createDocumentFragment(),n=ie.createElement("input");
e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
he.leadingWhitespace=3===e.firstChild.nodeType,he.tbody=!e.getElementsByTagName("tbody").length,
he.htmlSerialize=!!e.getElementsByTagName("link").length,he.html5Clone="<:nav></:nav>"!==ie.createElement("nav").cloneNode(!0).outerHTML,
n.type="checkbox",n.checked=!0,t.appendChild(n),he.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",
he.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),n=ie.createElement("input"),
n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),
e.appendChild(n),he.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,he.noCloneEvent=!!e.addEventListener,
e[fe.expando]=1,he.attributes=!e.getAttribute(fe.expando)}();var Ue={option:[1,"<select multiple='multiple'>","</select>"],
legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],
thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:he.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]
};Ue.optgroup=Ue.option,Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td;
var Ge=/<|&#?\w+;/,$e=/<tbody/i;!function(){var t,n,i=ie.createElement("div");for(t in{
submit:!0,change:!0,focusin:!0})n="on"+t,(he[t]=n in e)||(i.setAttribute(n,"t"),he[t]=i.attributes[n].expando===!1);
i=null}();var Ke=/^(?:input|select|textarea)$/i,Xe=/^key/,Ye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^(?:focusinfocus|focusoutblur)$/,Ze=/^([^.]*)(?:\.(.+)|)/;
fe.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,u,c,h,d,f,p,m,g=fe._data(e);
if(g){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=fe.guid++),(a=g.events)||(a=g.events={}),
(c=g.handle)||(c=g.handle=function(e){return"undefined"==typeof fe||e&&fe.event.triggered===e.type?void 0:fe.event.dispatch.apply(c.elem,arguments);
},c.elem=e),t=(t||"").match(Te)||[""],s=t.length;s--;)o=Ze.exec(t[s])||[],f=m=o[1],
p=(o[2]||"").split(".").sort(),f&&(u=fe.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,
u=fe.event.special[f]||{},h=fe.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,
selector:r,needsContext:r&&fe.expr.match.needsContext.test(r),namespace:p.join(".")
},l),(d=a[f])||(d=a[f]=[],d.delegateCount=0,u.setup&&u.setup.call(e,i,p,c)!==!1||(e.addEventListener?e.addEventListener(f,c,!1):e.attachEvent&&e.attachEvent("on"+f,c))),
u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),
fe.event.global[f]=!0);e=null}},remove:function(e,t,n,i,r){var o,a,s,l,u,c,h,d,f,p,m,g=fe.hasData(e)&&fe._data(e);
if(g&&(c=g.events)){for(t=(t||"").match(Te)||[""],u=t.length;u--;)if(s=Ze.exec(t[u])||[],
f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(h=fe.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,
d=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)a=d[o],
!r&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(d.splice(o,1),
a.selector&&d.delegateCount--,h.remove&&h.remove.call(e,a));l&&!d.length&&(h.teardown&&h.teardown.call(e,p,g.handle)!==!1||fe.removeEvent(e,f,g.handle),
delete c[f])}else for(f in c)fe.event.remove(e,f+t[u],n,i,!0);fe.isEmptyObject(c)&&(delete g.handle,
fe._removeData(e,"events"))}},trigger:function(t,n,i,r){var o,a,s,l,u,c,h,d=[i||ie],f=ce.call(t,"type")?t.type:t,p=ce.call(t,"namespace")?t.namespace.split("."):[];
if(s=c=i=i||ie,3!==i.nodeType&&8!==i.nodeType&&!Qe.test(f+fe.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),
f=p.shift(),p.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[fe.expando]?t:new fe.Event(f,"object"==typeof t&&t),
t.isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,
t.result=void 0,t.target||(t.target=i),n=null==n?[t]:fe.makeArray(n,[t]),u=fe.event.special[f]||{},
r||!u.trigger||u.trigger.apply(i,n)!==!1)){if(!r&&!u.noBubble&&!fe.isWindow(i)){for(l=u.delegateType||f,
Qe.test(l+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s;c===(i.ownerDocument||ie)&&d.push(c.defaultView||c.parentWindow||e);
}for(h=0;(s=d[h++])&&!t.isPropagationStopped();)t.type=h>1?l:u.bindType||f,o=(fe._data(s,"events")||{})[t.type]&&fe._data(s,"handle"),
o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&Ie(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());
if(t.type=f,!r&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(d.pop(),n)===!1)&&Ie(i)&&a&&i[f]&&!fe.isWindow(i)){
c=i[a],c&&(i[a]=null),fe.event.triggered=f;try{i[f]()}catch(m){}fe.event.triggered=void 0,
c&&(i[a]=c)}return t.result}},dispatch:function(e){e=fe.event.fix(e);var t,n,i,r,o,a=[],s=re.call(arguments),l=(fe._data(this,"events")||{})[e.type]||[],u=fe.event.special[e.type]||{};
if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){
for(a=fe.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,
n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(o.namespace))&&(e.handleObj=o,
e.data=o.data,i=((fe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),
void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),
e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){
for(i=[],n=0;s>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?fe(r,this).index(l)>-1:fe.find(r,this,null,[l]).length),
i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({
elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[fe.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];
for(a||(this.fixHooks[r]=a=Ye.test(r)?this.mouseHooks:Xe.test(r)?this.keyHooks:{}),
i=a.props?this.props.concat(a.props):this.props,e=new fe.Event(o),t=i.length;t--;)n=i[t],
e[n]=o[n];return e.target||(e.target=o.srcElement||ie),3===e.target.nodeType&&(e.target=e.target.parentNode),
e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){
return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{
props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(e,t){var n,i,r,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ie,
r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),
e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),
!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),
e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==_()&&this.focus)try{
return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){
return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{
trigger:function(){return fe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),
!1):void 0},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{
postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result);
}}},simulate:function(e,t,n){var i=fe.extend(new fe.Event,n,{type:e,isSimulated:!0
});fe.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}},fe.removeEvent=ie.removeEventListener?function(e,t,n){
e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),
e.detachEvent(i,n))},fe.Event=function(e,t){return this instanceof fe.Event?(e&&e.type?(this.originalEvent=e,
this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?y:b):this.type=e,
t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),void(this[fe.expando]=!0)):new fe.Event(e,t);
},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:b,isPropagationStopped:b,
isImmediatePropagationStopped:b,preventDefault:function(){var e=this.originalEvent;
this.isDefaultPrevented=y,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1);
},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=y,
e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},
stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=y,
e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation();
}},fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",
pointerleave:"pointerout"},function(e,t){fe.event.special[e]={delegateType:t,bindType:t,
handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!fe.contains(i,r))&&(e.type=o.origType,
n=o.handler.apply(this,arguments),e.type=t),n}}}),he.submit||(fe.event.special.submit={
setup:function(){return fe.nodeName(this,"form")?!1:void fe.event.add(this,"click._submit keypress._submit",function(e){
var t=e.target,n=fe.nodeName(t,"input")||fe.nodeName(t,"button")?fe.prop(t,"form"):void 0;
n&&!fe._data(n,"submit")&&(fe.event.add(n,"submit._submit",function(e){e._submitBubble=!0;
}),fe._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,
this.parentNode&&!e.isTrigger&&fe.event.simulate("submit",this.parentNode,e))},teardown:function(){
return fe.nodeName(this,"form")?!1:void fe.event.remove(this,"._submit")}}),he.change||(fe.event.special.change={
setup:function(){return Ke.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(fe.event.add(this,"propertychange._change",function(e){
"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),fe.event.add(this,"click._change",function(e){
this._justChanged&&!e.isTrigger&&(this._justChanged=!1),fe.event.simulate("change",this,e);
})),!1):void fe.event.add(this,"beforeactivate._change",function(e){var t=e.target;
Ke.test(t.nodeName)&&!fe._data(t,"change")&&(fe.event.add(t,"change._change",function(e){
!this.parentNode||e.isSimulated||e.isTrigger||fe.event.simulate("change",this.parentNode,e);
}),fe._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0;
},teardown:function(){return fe.event.remove(this,"._change"),!Ke.test(this.nodeName);
}}),he.focusin||fe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){
fe.event.simulate(t,e.target,fe.event.fix(e))};fe.event.special[t]={setup:function(){
var i=this.ownerDocument||this,r=fe._data(i,t);r||i.addEventListener(e,n,!0),fe._data(i,t,(r||0)+1);
},teardown:function(){var i=this.ownerDocument||this,r=fe._data(i,t)-1;r?fe._data(i,t,r):(i.removeEventListener(e,n,!0),
fe._removeData(i,t))}}}),fe.fn.extend({on:function(e,t,n,i){return x(this,e,t,n,i);
},one:function(e,t,n,i){return x(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,
fe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),
this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,
t=void 0),n===!1&&(n=b),this.each(function(){fe.event.remove(this,e,n,t)})},trigger:function(e,t){
return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){
var n=this[0];return n?fe.event.trigger(e,t,n,!0):void 0}});var Je=/ jQuery\d+="(?:null|\d+)"/g,et=new RegExp("<(?:"+We+")[\\s/>]","i"),tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,nt=/<script|<style|<link/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^true\/(.*)/,ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,at=f(ie),st=at.appendChild(ie.createElement("div"));
fe.extend({htmlPrefilter:function(e){return e.replace(tt,"<$1></$2>")},clone:function(e,t,n){
var i,r,o,a,s,l=fe.contains(e.ownerDocument,e);if(he.html5Clone||fe.isXMLDoc(e)||!et.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(st.innerHTML=e.outerHTML,
st.removeChild(o=st.firstChild)),!(he.noCloneEvent&&he.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(i=p(o),
s=p(e),a=0;null!=(r=s[a]);++a)i[a]&&D(r,i[a]);if(t)if(n)for(s=s||p(e),i=i||p(o),a=0;null!=(r=s[a]);a++)k(r,i[a]);else k(e,o);
return i=p(o,"script"),i.length>0&&m(i,!l&&p(e,"script")),i=s=r=null,o},cleanData:function(e,t){
for(var n,i,r,o,a=0,s=fe.expando,l=fe.cache,u=he.attributes,c=fe.event.special;null!=(n=e[a]);a++)if((t||Ie(n))&&(r=n[s],
o=r&&l[r])){if(o.events)for(i in o.events)c[i]?fe.event.remove(n,i):fe.removeEvent(n,i,o.handle);
l[r]&&(delete l[r],u||"undefined"==typeof n.removeAttribute?n[s]=void 0:n.removeAttribute(s),
ne.push(r))}}}),fe.fn.extend({domManip:M,detach:function(e){return N(this,e,!0)},
remove:function(e){return N(this,e)},text:function(e){return Fe(this,function(e){
return void 0===e?fe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ie).createTextNode(e));
},null,e,arguments.length)},append:function(){return M(this,arguments,function(e){
if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e);t.appendChild(e);
}})},prepend:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){
var t=w(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return M(this,arguments,function(e){
this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return M(this,arguments,function(e){
this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){
for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&fe.cleanData(p(e,!1));e.firstChild;)e.removeChild(e.firstChild);
e.options&&fe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){
return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t);
})},html:function(e){return Fe(this,function(e){var t=this[0]||{},n=0,i=this.length;
if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Je,""):void 0;if(!("string"!=typeof e||nt.test(e)||!he.htmlSerialize&&et.test(e)||!he.leadingWhitespace&&He.test(e)||Ue[(Ve.exec(e)||["",""])[1].toLowerCase()])){
e=fe.htmlPrefilter(e);try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(fe.cleanData(p(t,!1)),
t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length);
},replaceWith:function(){var e=[];return M(this,arguments,function(t){var n=this.parentNode;
fe.inArray(this,e)<0&&(fe.cleanData(p(this)),n&&n.replaceChild(t,this))},e)}}),fe.each({
appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"
},function(e,t){fe.fn[e]=function(e){for(var n,i=0,r=[],o=fe(e),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),
fe(o[i])[t](n),ae.apply(r,n.get());return this.pushStack(r)}});var lt,ut={HTML:"block",
BODY:"block"},ct=/^margin/,ht=new RegExp("^("+Re+")(?!px)[a-z%]+$","i"),dt=function(e,t,n,i){
var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];
return r},ft=ie.documentElement;!function(){function t(){var t,c,h=ie.documentElement;
h.appendChild(l),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",
n=r=s=!1,i=a=!0,e.getComputedStyle&&(c=e.getComputedStyle(u),n="1%"!==(c||{}).top,
s="2px"===(c||{}).marginLeft,r="4px"===(c||{width:"4px"}).width,u.style.marginRight="50%",
i="4px"===(c||{marginRight:"4px"}).marginRight,t=u.appendChild(ie.createElement("div")),
t.style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",
t.style.marginRight=t.style.width="0",u.style.width="1px",a=!parseFloat((e.getComputedStyle(t)||{}).marginRight),
u.removeChild(t)),u.style.display="none",o=0===u.getClientRects().length,o&&(u.style.display="",
u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",
t=u.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",
o=0===t[0].offsetHeight,o&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),
h.removeChild(l)}var n,i,r,o,a,s,l=ie.createElement("div"),u=ie.createElement("div");
u.style&&(u.style.cssText="float:left;opacity:.5",he.opacity="0.5"===u.style.opacity,
he.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",
he.clearCloneStyle="content-box"===u.style.backgroundClip,l=ie.createElement("div"),
l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",
u.innerHTML="",l.appendChild(u),he.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,
fe.extend(he,{reliableHiddenOffsets:function(){return null==n&&t(),o},boxSizingReliable:function(){
return null==n&&t(),r},pixelMarginRight:function(){return null==n&&t(),i},pixelPosition:function(){
return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),a},reliableMarginLeft:function(){
return null==n&&t(),s}}))}();var pt,mt,gt=/^(top|right|bottom|left)$/;e.getComputedStyle?(pt=function(t){
var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t);
},mt=function(e,t,n){var i,r,o,a,s=e.style;return n=n||pt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,
""!==a&&void 0!==a||fe.contains(e.ownerDocument,e)||(a=fe.style(e,t)),n&&!he.pixelMarginRight()&&ht.test(a)&&ct.test(t)&&(i=s.width,
r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,
s.maxWidth=o),void 0===a?a:a+""}):ft.currentStyle&&(pt=function(e){return e.currentStyle;
},mt=function(e,t,n){var i,r,o,a,s=e.style;return n=n||pt(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),
ht.test(a)&&!gt.test(t)&&(i=s.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),
s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=i,o&&(r.left=o)),void 0===a?a:a+""||"auto";
});var vt=/alpha\([^)]*\)/i,yt=/opacity\s*=\s*([^)]*)/i,bt=/^(none|table(?!-c[ea]).+)/,_t=new RegExp("^("+Re+")(.*)$","i"),xt={
position:"absolute",visibility:"hidden",display:"block"},wt={letterSpacing:"0",fontWeight:"400"
},Ct=["Webkit","O","Moz","ms"],St=ie.createElement("div").style;fe.extend({cssHooks:{
opacity:{get:function(e,t){if(t){var n=mt(e,"opacity");return""===n?"1":n}}}},cssNumber:{
animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,
fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0
},cssProps:{"float":he.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){
if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=fe.camelCase(t),l=e.style;
if(t=fe.cssProps[s]||(fe.cssProps[s]=I(s)||s),a=fe.cssHooks[t]||fe.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];
if(o=typeof n,"string"===o&&(r=Oe.exec(n))&&r[1]&&(n=d(e,t,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(fe.cssNumber[s]?"":"px")),
he.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,i)))))try{
l[t]=n}catch(u){}}},css:function(e,t,n,i){var r,o,a,s=fe.camelCase(t);return t=fe.cssProps[s]||(fe.cssProps[s]=I(s)||s),
a=fe.cssHooks[t]||fe.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=mt(e,t,i)),
"normal"===o&&t in wt&&(o=wt[t]),""===n||n?(r=parseFloat(o),n===!0||isFinite(r)?r||0:o):o;
}}),fe.each(["height","width"],function(e,t){fe.cssHooks[t]={get:function(e,n,i){
return n?bt.test(fe.css(e,"display"))&&0===e.offsetWidth?dt(e,xt,function(){return O(e,t,i);
}):O(e,t,i):void 0},set:function(e,n,i){var r=i&&pt(e);return L(e,n,i?R(e,t,i,he.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,r),r):0);
}}}),he.opacity||(fe.cssHooks.opacity={get:function(e,t){return yt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":"";
},set:function(e,t){var n=e.style,i=e.currentStyle,r=fe.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";
n.zoom=1,(t>=1||""===t)&&""===fe.trim(o.replace(vt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),
""===t||i&&!i.filter)||(n.filter=vt.test(o)?o.replace(vt,r):o+" "+r)}}),fe.cssHooks.marginRight=j(he.reliableMarginRight,function(e,t){
return t?dt(e,{display:"inline-block"},mt,[e,"marginRight"]):void 0}),fe.cssHooks.marginLeft=j(he.reliableMarginLeft,function(e,t){
return t?(parseFloat(mt(e,"marginLeft"))||(fe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-dt(e,{
marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),
fe.each({margin:"",padding:"",border:"Width"},function(e,t){fe.cssHooks[e+t]={expand:function(n){
for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Ee[i]+t]=o[i]||o[i-2]||o[0];
return r}},ct.test(e)||(fe.cssHooks[e+t].set=L)}),fe.fn.extend({css:function(e,t){
return Fe(this,function(e,t,n){var i,r,o={},a=0;if(fe.isArray(t)){for(i=pt(e),r=t.length;r>a;a++)o[t[a]]=fe.css(e,t[a],!1,i);
return o}return void 0!==n?fe.style(e,t,n):fe.css(e,t)},e,t,arguments.length>1)},
show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(e){
return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Be(this)?fe(this).show():fe(this).hide();
})}}),fe.Tween=E,E.prototype={constructor:E,init:function(e,t,n,i,r,o){this.elem=e,
this.prop=n,this.easing=r||fe.easing._default,this.options=t,this.start=this.now=this.cur(),
this.end=i,this.unit=o||(fe.cssNumber[n]?"":"px")},cur:function(){var e=E.propHooks[this.prop];
return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){var t,n=E.propHooks[this.prop];
return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,
this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),
n&&n.set?n.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,
E.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""),
t&&"auto"!==t?t:0)},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit);
}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now);
}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2;
},_default:"swing"},fe.fx=E.prototype.init,fe.fx.step={};var kt,Dt,Mt=/^(?:toggle|show|hide)$/,Nt=/queueHooks$/;
fe.Animation=fe.extend(H,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);
return d(n.elem,e,Oe.exec(t),n),n}]},tweener:function(e,t){fe.isFunction(e)?(t=e,
e=["*"]):e=e.match(Te);for(var n,i=0,r=e.length;r>i;i++)n=e[i],H.tweeners[n]=H.tweeners[n]||[],
H.tweeners[n].unshift(t)},prefilters:[V],prefilter:function(e,t){t?H.prefilters.unshift(e):H.prefilters.push(e);
}}),fe.speed=function(e,t,n){var i=e&&"object"==typeof e?fe.extend({},e):{complete:n||!n&&t||fe.isFunction(e)&&e,
duration:e,easing:n&&t||t&&!fe.isFunction(t)&&t};return i.duration=fe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in fe.fx.speeds?fe.fx.speeds[i.duration]:fe.fx.speeds._default,
(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){
fe.isFunction(i.old)&&i.old.call(this),i.queue&&fe.dequeue(this,i.queue)},i},fe.fn.extend({
fadeTo:function(e,t,n,i){return this.filter(Be).css("opacity",0).show().end().animate({
opacity:t},e,n,i)},animate:function(e,t,n,i){var r=fe.isEmptyObject(e),o=fe.speed(t,n,i),a=function(){
var t=H(this,fe.extend({},e),o);(r||fe._data(this,"finish"))&&t.stop(!0)};return a.finish=a,
r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){
var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),
this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=fe.timers,a=fe._data(this);
if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&Nt.test(r)&&i(a[r]);
for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),
t=!1,o.splice(r,1));(t||!n)&&fe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),
this.each(function(){var t,n=fe._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=fe.timers,a=i?i.length:0;
for(n.finish=!0,fe.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),
o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish;
})}}),fe.each(["toggle","show","hide"],function(e,t){var n=fe.fn[t];fe.fn[t]=function(e,i,r){
return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(F(t,!0),e,i,r);
}}),fe.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{
opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){
fe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),fe.timers=[],fe.fx.tick=function(){
var e,t=fe.timers,n=0;for(kt=fe.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);
t.length||fe.fx.stop(),kt=void 0},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop();
},fe.fx.interval=13,fe.fx.start=function(){Dt||(Dt=e.setInterval(fe.fx.tick,fe.fx.interval));
},fe.fx.stop=function(){e.clearInterval(Dt),Dt=null},fe.fx.speeds={slow:600,fast:200,
_default:400},fe.fn.delay=function(t,n){return t=fe.fx?fe.fx.speeds[t]||t:t,n=n||"fx",
this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r);
}})},function(){var e,t=ie.createElement("input"),n=ie.createElement("div"),i=ie.createElement("select"),r=i.appendChild(ie.createElement("option"));
n=ie.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),
e=n.getElementsByTagName("a")[0],e.style.cssText="top:1px",he.getSetAttribute="t"!==n.className,
he.style=/top/.test(e.getAttribute("style")),he.hrefNormalized="/a"===e.getAttribute("href"),
he.checkOn=!!t.value,he.optSelected=r.selected,he.enctype=!!ie.createElement("form").enctype,
i.disabled=!0,he.optDisabled=!r.disabled,t=ie.createElement("input"),t.setAttribute("value",""),
he.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),
he.radioValue="t"===t.value}();var Tt=/\r/g,At=/[\x20\t\r\n\f]+/g;fe.fn.extend({val:function(e){
var t,n,i,r=this[0];{if(arguments.length)return i=fe.isFunction(e),this.each(function(n){
var r;1===this.nodeType&&(r=i?e.call(this,n,fe(this).val()):e,null==r?r="":"number"==typeof r?r+="":fe.isArray(r)&&(r=fe.map(r,function(e){
return null==e?"":e+""})),t=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()],
t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=fe.valHooks[r.type]||fe.valHooks[r.nodeName.toLowerCase()],
t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Tt,""):null==n?"":n);
}}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:fe.trim(fe.text(e)).replace(At," ");
}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],
!(!n.selected&&l!==r||(he.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&fe.nodeName(n.parentNode,"optgroup"))){
if(t=fe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=fe.makeArray(t),a=r.length;a--;)if(i=r[a],
fe.inArray(fe.valHooks.option.get(i),o)>-1)try{i.selected=n=!0}catch(s){i.scrollHeight;
}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),fe.each(["radio","checkbox"],function(){
fe.valHooks[this]={set:function(e,t){return fe.isArray(t)?e.checked=fe.inArray(fe(e).val(),t)>-1:void 0;
}},he.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value;
})});var jt,It,Pt=fe.expr.attrHandle,Lt=/^(?:checked|selected)$/i,Rt=he.getSetAttribute,Ot=he.input;
fe.fn.extend({attr:function(e,t){return Fe(this,fe.attr,e,t,arguments.length>1)},
removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({
attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?fe.prop(e,t,n):(1===o&&fe.isXMLDoc(e)||(t=t.toLowerCase(),
r=fe.attrHooks[t]||(fe.expr.match.bool.test(t)?It:jt)),void 0!==n?null===n?void fe.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),
n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=fe.find.attr(e,t),null==i?void 0:i))},
attrHooks:{type:{set:function(e,t){if(!he.radioValue&&"radio"===t&&fe.nodeName(e,"input")){
var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){
var n,i,r=0,o=t&&t.match(Te);if(o&&1===e.nodeType)for(;n=o[r++];)i=fe.propFix[n]||n,
fe.expr.match.bool.test(n)?Ot&&Rt||!Lt.test(n)?e[i]=!1:e[fe.camelCase("default-"+n)]=e[i]=!1:fe.attr(e,n,""),
e.removeAttribute(Rt?n:i)}}),It={set:function(e,t,n){return t===!1?fe.removeAttr(e,n):Ot&&Rt||!Lt.test(n)?e.setAttribute(!Rt&&fe.propFix[n]||n,n):e[fe.camelCase("default-"+n)]=e[n]=!0,
n}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Pt[t]||fe.find.attr;
Ot&&Rt||!Lt.test(t)?Pt[t]=function(e,t,i){var r,o;return i||(o=Pt[t],Pt[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,
Pt[t]=o),r}:Pt[t]=function(e,t,n){return n?void 0:e[fe.camelCase("default-"+t)]?t.toLowerCase():null;
}}),Ot&&Rt||(fe.attrHooks.value={set:function(e,t,n){return fe.nodeName(e,"input")?void(e.defaultValue=t):jt&&jt.set(e,t,n);
}}),Rt||(jt={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),
i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Pt.id=Pt.name=Pt.coords=function(e,t,n){
var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},fe.valHooks.button={
get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0;
},set:jt.set},fe.attrHooks.contenteditable={set:function(e,t,n){jt.set(e,""===t?!1:t,n);
}},fe.each(["width","height"],function(e,t){fe.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),
n):void 0}}})),he.style||(fe.attrHooks.style={get:function(e){return e.style.cssText||void 0;
},set:function(e,t){return e.style.cssText=t+""}});var Et=/^(?:input|select|textarea|button|object)$/i,Bt=/^(?:a|area)$/i;
fe.fn.extend({prop:function(e,t){return Fe(this,fe.prop,e,t,arguments.length>1)},
removeProp:function(e){return e=fe.propFix[e]||e,this.each(function(){try{this[e]=void 0,
delete this[e]}catch(t){}})}}),fe.extend({prop:function(e,t,n){var i,r,o=e.nodeType;
if(3!==o&&8!==o&&2!==o)return 1===o&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,r=fe.propHooks[t]),
void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t];
},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||Bt.test(e.nodeName)&&e.href?0:-1;
}}},propFix:{"for":"htmlFor","class":"className"}}),he.hrefNormalized||fe.each(["href","src"],function(e,t){
fe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),he.optSelected||(fe.propHooks.selected={
get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),
null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex);
}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){
fe.propFix[this.toLowerCase()]=this}),he.enctype||(fe.propFix.enctype="encoding");
var Ft=/[\t\r\n\f]/g;fe.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(fe.isFunction(e))return this.each(function(t){
fe(this).addClass(e.call(this,t,W(this)))});if("string"==typeof e&&e)for(t=e.match(Te)||[];n=this[l++];)if(r=W(n),
i=1===n.nodeType&&(" "+r+" ").replace(Ft," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");
s=fe.trim(i),r!==s&&fe.attr(n,"class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;
if(fe.isFunction(e))return this.each(function(t){fe(this).removeClass(e.call(this,t,W(this)));
});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Te)||[];n=this[l++];)if(r=W(n),
i=1===n.nodeType&&(" "+r+" ").replace(Ft," ")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");
s=fe.trim(i),r!==s&&fe.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;
return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):fe.isFunction(e)?this.each(function(n){
fe(this).toggleClass(e.call(this,n,W(this),t),t)}):this.each(function(){var t,i,r,o;
if("string"===n)for(i=0,r=fe(this),o=e.match(Te)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(void 0===e||"boolean"===n)&&(t=W(this),
t&&fe._data(this,"__className__",t),fe.attr(this,"class",t||e===!1?"":fe._data(this,"__className__")||""));
})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+W(n)+" ").replace(Ft," ").indexOf(t)>-1)return!0;
return!1}}),fe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){
fe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t);
}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}
});var zt=e.location,Vt=fe.now(),qt=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
fe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=fe.trim(t+"");
return r&&!fe.trim(r.replace(Ht,function(e,t,r,o){return n&&t&&(i=0),0===i?e:(n=r||t,
i+=!o-!r,"")}))?Function("return "+r)():fe.error("Invalid JSON: "+t)},fe.parseXML=function(t){
var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new e.DOMParser,
n=i.parseFromString(t,"text/xml")):(n=new e.ActiveXObject("Microsoft.XMLDOM"),n.async="false",
n.loadXML(t))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+t),
n};var Wt=/#.*$/,Ut=/([?&])_=[^&]*/,Gt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Kt=/^(?:GET|HEAD)$/,Xt=/^\/\//,Yt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qt={},Zt={},Jt="*/".concat("*"),en=zt.href,tn=Yt.exec(en.toLowerCase())||[];
fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:en,type:"GET",isLocal:$t.test(tn[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
accepts:{"*":Jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",
json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/
},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{
"* text":String,"text html":!0,"text json":fe.parseJSON,"text xml":fe.parseXML},flatOptions:{
url:!0,context:!0}},ajaxSetup:function(e,t){return t?$($(e,fe.ajaxSettings),t):$(fe.ajaxSettings,e);
},ajaxPrefilter:U(Qt),ajaxTransport:U(Zt),ajax:function(t,n){function i(t,n,i,r){
var o,h,y,b,x,C=n;2!==_&&(_=2,l&&e.clearTimeout(l),c=void 0,s=r||"",w.readyState=t>0?4:0,
o=t>=200&&300>t||304===t,i&&(b=K(d,w,i)),b=X(d,b,w,o),o?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),
x&&(fe.lastModified[a]=x),x=w.getResponseHeader("etag"),x&&(fe.etag[a]=x)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=b.state,
h=b.data,y=b.error,o=!y)):(y=C,(t||!C)&&(C="error",0>t&&(t=0))),w.status=t,w.statusText=(n||C)+"",
o?m.resolveWith(f,[h,C,w]):m.rejectWith(f,[w,C,y]),w.statusCode(v),v=void 0,u&&p.trigger(o?"ajaxSuccess":"ajaxError",[w,d,o?h:y]),
g.fireWith(f,[w,C]),u&&(p.trigger("ajaxComplete",[w,d]),--fe.active||fe.event.trigger("ajaxStop")));
}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,a,s,l,u,c,h,d=fe.ajaxSetup({},n),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?fe(f):fe.event,m=fe.Deferred(),g=fe.Callbacks("once memory"),v=d.statusCode||{},y={},b={},_=0,x="canceled",w={
readyState:0,getResponseHeader:function(e){var t;if(2===_){if(!h)for(h={};t=Gt.exec(s);)h[t[1].toLowerCase()]=t[2];
t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===_?s:null;
},setRequestHeader:function(e,t){var n=e.toLowerCase();return _||(e=b[n]=b[n]||e,
y[e]=t),this},overrideMimeType:function(e){return _||(d.mimeType=e),this},statusCode:function(e){
var t;if(e)if(2>_)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this;
},abort:function(e){var t=e||x;return c&&c.abort(t),i(0,t),this}};if(m.promise(w).complete=g.add,
w.success=w.done,w.error=w.fail,d.url=((t||d.url||en)+"").replace(Wt,"").replace(Xt,tn[1]+"//"),
d.type=n.method||n.type||d.method||d.type,d.dataTypes=fe.trim(d.dataType||"*").toLowerCase().match(Te)||[""],
null==d.crossDomain&&(r=Yt.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===tn[1]&&r[2]===tn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(tn[3]||("http:"===tn[1]?"80":"443")))),
d.data&&d.processData&&"string"!=typeof d.data&&(d.data=fe.param(d.data,d.traditional)),
G(Qt,d,n,w),2===_)return w;u=fe.event&&d.global,u&&0===fe.active++&&fe.event.trigger("ajaxStart"),
d.type=d.type.toUpperCase(),d.hasContent=!Kt.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(qt.test(a)?"&":"?")+d.data,
delete d.data),d.cache===!1&&(d.url=Ut.test(a)?a.replace(Ut,"$1_="+Vt++):a+(qt.test(a)?"&":"?")+"_="+Vt++)),
d.ifModified&&(fe.lastModified[a]&&w.setRequestHeader("If-Modified-Since",fe.lastModified[a]),
fe.etag[a]&&w.setRequestHeader("If-None-Match",fe.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&w.setRequestHeader("Content-Type",d.contentType),
w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Jt+"; q=0.01":""):d.accepts["*"]);
for(o in d.headers)w.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===_))return w.abort();
x="abort";for(o in{success:1,error:1,complete:1})w[o](d[o]);if(c=G(Zt,d,n,w)){if(w.readyState=1,
u&&p.trigger("ajaxSend",[w,d]),2===_)return w;d.async&&d.timeout>0&&(l=e.setTimeout(function(){
w.abort("timeout")},d.timeout));try{_=1,c.send(y,i)}catch(C){if(!(2>_))throw C;i(-1,C);
}}else i(-1,"No Transport");return w},getJSON:function(e,t,n){return fe.get(e,t,n,"json");
},getScript:function(e,t){return fe.get(e,void 0,t,"script")}}),fe.each(["get","post"],function(e,t){
fe[t]=function(e,n,i,r){return fe.isFunction(n)&&(r=r||i,i=n,n=void 0),fe.ajax(fe.extend({
url:e,type:t,dataType:r,data:n,success:i},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){
return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0
})},fe.fn.extend({wrapAll:function(e){if(fe.isFunction(e))return this.each(function(t){
fe(this).wrapAll(e.call(this,t))});if(this[0]){var t=fe(e,this[0].ownerDocument).eq(0).clone(!0);
this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;
return e}).append(this)}return this},wrapInner:function(e){return fe.isFunction(e)?this.each(function(t){
fe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=fe(this),n=t.contents();
n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=fe.isFunction(e);return this.each(function(n){
fe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){
fe.nodeName(this,"body")||fe(this).replaceWith(this.childNodes)}).end()}}),fe.expr.filters.hidden=function(e){
return he.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e);
},fe.expr.filters.visible=function(e){return!fe.expr.filters.hidden(e)};var nn=/%20/g,rn=/\[\]$/,on=/\r?\n/g,an=/^(?:submit|button|image|reset|file)$/i,sn=/^(?:input|select|textarea|keygen)/i;
fe.param=function(e,t){var n,i=[],r=function(e,t){t=fe.isFunction(t)?t():null==t?"":t,
i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=fe.ajaxSettings&&fe.ajaxSettings.traditional),
fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){r(this.name,this.value);
});else for(n in e)Z(n,e[n],t,r);return i.join("&").replace(nn,"+")},fe.fn.extend({
serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){
return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this;
}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&sn.test(this.nodeName)&&!an.test(e)&&(this.checked||!ze.test(e));
}).map(function(e,t){var n=fe(this).val();return null==n?null:fe.isArray(n)?fe.map(n,function(e){
return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")
}}).get()}}),fe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?ee():ie.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||ee();
}:J;var ln=0,un={},cn=fe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){
for(var e in un)un[e](void 0,!0)}),he.cors=!!cn&&"withCredentials"in cn,cn=he.ajax=!!cn,
cn&&fe.ajaxTransport(function(t){if(!t.crossDomain||he.cors){var n;return{send:function(i,r){
var o,a=t.xhr(),s=++ln;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];
t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");
for(o in i)void 0!==i[o]&&a.setRequestHeader(o,i[o]+"");a.send(t.hasContent&&t.data||null),
n=function(e,i){var o,l,u;if(n&&(i||4===a.readyState))if(delete un[s],n=void 0,a.onreadystatechange=fe.noop,
i)4!==a.readyState&&a.abort();else{u={},o=a.status,"string"==typeof a.responseText&&(u.text=a.responseText);
try{l=a.statusText}catch(c){l=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=u.text?200:404;
}u&&r(o,l,u,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(n):a.onreadystatechange=un[s]=n:n();
},abort:function(){n&&n(void 0,!0)}}}}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){
return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),
e.crossDomain&&(e.type="GET",e.global=!1)}),fe.ajaxTransport("script",function(e){
if(e.crossDomain){var t,n=ie.head||fe("head")[0]||ie.documentElement;return{send:function(i,r){
t=ie.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),
t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,
t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild);
},abort:function(){t&&t.onload(void 0,!0)}}}});var hn=[],dn=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({
jsonp:"callback",jsonpCallback:function(){var e=hn.pop()||fe.expando+"_"+Vt++;return this[e]=!0,
e}}),fe.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(dn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");
return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=fe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,
s?t[s]=t[s].replace(dn,"$1"+r):t.jsonp!==!1&&(t.url+=(qt.test(t.url)?"&":"?")+t.jsonp+"="+r),
t.converters["script json"]=function(){return a||fe.error(r+" was not called"),a[0];
},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){void 0===o?fe(e).removeProp(r):e[r]=o,
t[r]&&(t.jsonpCallback=n.jsonpCallback,hn.push(r)),a&&fe.isFunction(o)&&o(a[0]),a=o=void 0;
}),"script"):void 0}),fe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;
"boolean"==typeof t&&(n=t,t=!1),t=t||ie;var i=we.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=v([e],t,r),
r&&r.length&&fe(r).remove(),fe.merge([],i.childNodes))};var fn=fe.fn.load;fe.fn.load=function(e,t,n){
if("string"!=typeof e&&fn)return fn.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");
return s>-1&&(i=fe.trim(e.slice(s,e.length)),e=e.slice(0,s)),fe.isFunction(t)?(n=t,
t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&fe.ajax({url:e,type:r||"GET",
dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?fe("<div>").append(fe.parseHTML(e)).find(i):e);
}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e]);
})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){
fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.filters.animated=function(e){
return fe.grep(fe.timers,function(t){return e===t.elem}).length},fe.offset={setOffset:function(e,t,n){
var i,r,o,a,s,l,u,c=fe.css(e,"position"),h=fe(e),d={};"static"===c&&(e.style.position="relative"),
s=h.offset(),o=fe.css(e,"top"),l=fe.css(e,"left"),u=("absolute"===c||"fixed"===c)&&fe.inArray("auto",[o,l])>-1,
u?(i=h.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),fe.isFunction(t)&&(t=t.call(e,n,fe.extend({},s))),
null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):h.css(d);
}},fe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){
fe.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;
if(o)return t=o.documentElement,fe.contains(t,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),
n=te(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)
}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===fe.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),
t=this.offset(),fe.nodeName(e[0],"html")||(n=e.offset()),n.top+=fe.css(e[0],"borderTopWidth",!0),
n.left+=fe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-fe.css(i,"marginTop",!0),
left:t.left-n.left-fe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){
for(var e=this.offsetParent;e&&!fe.nodeName(e,"html")&&"static"===fe.css(e,"position");)e=e.offsetParent;
return e||ft})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){
var n=/Y/.test(t);fe.fn[e]=function(i){return Fe(this,function(e,i,r){var o=te(e);
return void 0===r?o?t in o?o[t]:o.document.documentElement[i]:e[i]:void(o?o.scrollTo(n?fe(o).scrollLeft():r,n?r:fe(o).scrollTop()):e[i]=r);
},e,i,arguments.length,null)}}),fe.each(["top","left"],function(e,t){fe.cssHooks[t]=j(he.pixelPosition,function(e,n){
return n?(n=mt(e,t),ht.test(n)?fe(e).position()[t]+"px":n):void 0})}),fe.each({Height:"height",
Width:"width"},function(e,t){fe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){
fe.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");
return Fe(this,function(t,n,i){var r;return fe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,
Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?fe.css(t,n,a):fe.style(t,n,i,a);
},t,o?i:void 0,o,null)}})}),fe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n);
},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i);
},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n);
}}),fe.fn.size=function(){return this.length},fe.fn.andSelf=fe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){
return fe});var pn=e.jQuery,mn=e.$;return fe.noConflict=function(t){return e.$===fe&&(e.$=mn),
t&&e.jQuery===fe&&(e.jQuery=pn),fe},t||(e.jQuery=e.$=fe),fe}),define("cdf/lib/jquery",function(e){
return function(){var t;return t||e.$}}(this)),define("common-ui/util/require-css/css!cdf/lib/CCC/tipsy",[],function(){}),
define("cdf/lib/CCC/jquery.tipsy",["jquery","css!./tipsy"],function(e){return!function(e){
function t(e){var t=e.attr("title");(t||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",t||"").removeAttr("title");
}function n(n,i){this.$element=e(n),this.options=i,this.enabled=!0,t(this.$element);
}n.prototype={enter:function(){var e=this,t=this.options;0==t.delayIn?(e.hoverState=null,
e.show()):(e.hoverState="in",setTimeout(function(){"in"===e.hoverState&&(e.hoverState=null,
e.show())},t.delayIn))},leave:function(){var e=this,t=this.options;0==t.delayOut?e.hide():(e.hoverState="out",
setTimeout(function(){"out"===e.hoverState&&e.hide()},t.delayOut))},visible:function(){
var e;return"in"===this.hoverState||"out"!==this.hoverState&&!(!this.$tip||!(e=this.$tip[0].parentNode)||11===e.nodeType);
},update:function(){this.visible()?this.show(!0):this.enter()},setOptions:function(t){
t=e.extend({},e.fn.tipsy.defaults,t),null==t.arrowVisible&&(t.arrowVisible=!t.useCorners),
this.options=e.fn.tipsy.elementOptions(this.$element[0],t)},show:function(t){function n(e){
var t;switch(e.charAt(0)){case"n":t={top:l.top+l.height+m,left:l.left+l.width/2-f/2
};break;case"s":t={top:l.top-p-m,left:l.left+l.width/2-f/2};break;case"e":t={top:l.top+l.height/2-p/2,
left:l.left-f-m};break;case"w":t={top:l.top+l.height/2-p/2,left:l.left+l.width+m};
}return 2===e.length&&(t.left="w"==e.charAt(1)?g?l.left+l.width+m:l.left+l.width/2-15:g?l.left-f-m:l.left+l.width/2-f+15),
t}if("in"!==this.hoverState){var i=this.getTitle();if(this.enabled&&i){var r=this.tip(),o=r[0];
r.find(".tipsy-inner")[this.options.html?"html":"text"](i);var a=this.options.className;
o.className="tipsy"+(a?" "+a:""),t||r.remove();var s=o.parentNode;s&&11!==s.nodeType||r.css({
top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var l,u=this.$element,c=u[0];
if("getBoundingClientRect"in c){var h=c.getBoundingClientRect(),d=e(document);l={
left:h.left+d.scrollLeft(),top:h.top+d.scrollTop(),width:h.right-h.left,height:h.bottom-h.top
}}else l=e.extend({},u.offset()),l.width=c.offsetWidth,l.height=c.offsetHeight;var f,p,m=this.options.offset,g=this.options.useCorners,v=this.options.arrowVisible;
if("getBoundingClientRect"in o){var y=o.getBoundingClientRect();f=y.right-y.left,
p=y.bottom-y.top}else f=o.offsetWidth,p=o.offsetHeight;v||(m-=4);var b=this.options.gravity;
"function"==typeof b&&(b=b.call(c,{width:f,height:p},n));var _=n(b);r.addClass("tipsy-"+b+(g&&b.length>1?b.charAt(1):""));
var x,w,C=this.options.animate;if(t&&C>0?w=_:x=_,v){var S=g&&2===b.length;r.find(".tipsy-arrow")[S?"hide":"show"]();
}var k=this.options.fade&&!t;k?(x=e.extend(x||{},{opacity:0,display:"block",visibility:"visible"
}),w=e.extend(w||{},{opacity:this.options.opacity})):x=e.extend(x||{},{visibility:"visible",
opacity:this.options.opacity}),x&&r.css(x),w&&r.stop().animate(w,C>0?C:400),this._prevGravity=b,
this.hoverState=null}else this.hoverState=null,this.hide()}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){
e(this).remove()}):this.$tip&&this.tip().remove(),this.hoverState=null},setTitle:function(e){
e=null==e?"":""+e,this.$element.attr("original-title",e).removeAttr("title")},getTitle:function(){
var e,n=this.$element,i=this.options;return t(n),"string"==typeof i.title?e=n.attr("title"==i.title?"original-title":i.title):"function"==typeof i.title&&(e=i.title.call(n[0])),
e=(""+e).replace(/(^\s*|\s*$)/,""),e||i.fallback},tip:function(){if(!this.$tip){var t=this.options.className;
this.$tip=e('<div class="tipsy'+(t?" "+t:"")+'"></div>'),this.$tip.html(this.options.arrowVisible?'<div class="tipsy-arrow"></div><div class="tipsy-inner"/></div>':'<div class="tipsy-inner"/></div>'),
this.$tip.remove()}return this.$tip},validate:function(){var e=this.$element[0].parentNode;
e&&11!==e.nodeType||(this.hide(),this.$element=null,this.options=null)},enable:function(){
this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled;
}},e.fn.tipsy=function(t,i){function r(i){var r=e.data(i,"tipsy");return r||(r=new n(i,e.fn.tipsy.elementOptions(i,t)),
e.data(i,"tipsy",r)),r}function o(){r(this).enter()}function a(){r(this).leave()}
if(t===!0)return this.data("tipsy");if("string"==typeof t)return this.data("tipsy")[t](i);
if(t=e.extend({},e.fn.tipsy.defaults,t),null==t.arrowVisible&&(t.arrowVisible=!t.useCorners),
t.live||this.each(function(){r(this)}),"manual"!=t.trigger){var s=t.live?"live":"bind",l="hover"==t.trigger?"mouseenter":"focus",u="hover"==t.trigger?"mouseleave":"blur";
this[s](l,o)[s](u,a)}return this},e.fn.tipsy.defaults={delayIn:0,delayOut:0,animate:0,
fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",
trigger:"hover",useCorners:!1,arrowVisible:null,className:""},e.fn.tipsy.elementOptions=function(t,n){
return e.metadata?e.extend({},n,e(t).metadata()):n},e.fn.tipsy.autoNS=function(){
return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"},
e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w";
}}(e),e}),define("cdf/lib/CCC/tipsy",["./protovis-compat!","jquery","./jquery.tipsy"],function(e,t){
return!function(){function n(t){return e.Transform.identity.translate(t.left(),t.top()).times(t.transform());
}function i(e){for(var t,i,r,o=e.instance(),a=o.left,s=o.top,l=o.width,u=o.height;r=e.parent;){
0>a&&(l+=a,a=0),0>s&&(u+=s,s=0),t=o.right,0>t&&(l+=t),i=o.bottom,0>i&&(u+=i);var c=n(r),h=c.k;
a=c.x+h*a,s=c.y+h*s,l=h*l,u=h*u,e=r,o=e.instance()}return{left:a,top:s,width:l,height:u
}}t.fn.tipsy.elementOptions=function(e,n){var i=e.$tooltipOptions;return n=t.extend({},n,i||{},{
gravity:n.gravity})};var r=0;e.Behavior.tipsy=function(n){function a(){var e=K.instance(),t=K.properties.tooltip?e.tooltip:"function"==typeof K.tooltip?K.tooltip():e.title||e.text;
return"function"==typeof t&&(t=t()),t||""}function s(){var e,t,n,r,o=K.instance();
if(K.properties.width){var a=i(K);e=a.left,t=a.top,n=a.width,r=a.height}else{var s,u=K.toScreenTransform();
if(K.properties.outerRadius){var c=o.startAngle+o.angle/2;s=o.outerRadius,e=u.x+o.left+s*Math.cos(c),
t=u.y+o.top+s*Math.sin(c)}else if(K.properties.shapeRadius){s=l().ignoreRadius?0:Math.max(2,o.shapeRadius);
var h=o.left,d=o.top;switch(o.shape){case"diamond":s*=Math.SQRT2;break;case"circle":
s/=Math.SQRT2}e=(h-s)*u.k+u.x,t=(d-s)*u.k+u.y,r=n=2*s*u.k}else e=o.left*u.k+u.x,t=o.top*u.k+u.y;
}var f=Math.ceil(e),p=Math.ceil(t),m=f-e,g=p-t;return n=Math.max(1,Math.floor((n||0)-m)),
r=Math.max(1,Math.floor((r||0)-g)),{left:f,top:p,width:n,height:r}}function l(){return K&&K.tooltipOptions||n;
}function u(){var n=l(),i=e.get(n,"gravity");return i&&"function"==typeof i&&(i=i.call(K)),
o.debug>=21&&o.log("[TIPSY] #"+G+" Update User Gravity "+i),B=i||t.fn.tipsy.defaults.gravity;
}function c(i,r){function a(e){var t=r(e);return s(e,t)}function s(t,r){var o=l(r.left,"width"),a=l(r.top,"height"),s=E&&!n.followMouse;
if(s){var u=new e.Shape.Rect(r.left,r.top,i.width,i.height);s=u.containsPoint(E)}
var c=!s&&o.fits&&a.fits,h=o.value+a.value+(2-t.length)+(s?-1e3:0);return{gravity:t,
width:o,height:a,value:h,isMouseInside:s,isTotal:c,isPartial:o.fits||a.fits}}function l(e,t){
var n=d[t],r=i[t],o=e-c[t],a=n-(o+r),s=o>=0&&a>=0,l=(o>=0?o:4*o)+(a>=0?a:4*a);return{
fits:s,value:l}}if(this!==R[0])throw new Error("Assertion failed.");var u=t(window),c={
width:u.scrollLeft(),height:u.scrollTop()},d={width:u.width(),height:u.height()},f=B;
"c"===f&&(f="w");var p=a(f);if(!p.isTotal){for(var m=Q.indexOf(f),g=1,v=Q.length;v>g;g++){
var y=(m+g)%v;p=h(p,a(Q[y]))}o.debug>=21&&f!==p.gravity&&o.log("[TIPSY] #"+G+" Choosing gravity '"+p.gravity+"' over '"+f+"'"),
f=p.gravity}return o.debug>=21&&o.log("[TIPSY] #"+G+" Gravity '"+f+"'"),f}function h(e,t){
if(e.isTotal){if(!t.isTotal)return e}else if(t.isTotal){if(!e.isTotal)return t}else if(e.isPartial){
if(!t.isPartial)return e}else if(t.isPartial&&!e.isPartial)return t;return t.value>e.value?t:e;
}function d(e){R.css({left:e.left+parseFloat(H.css("padding-left"))+H.scrollLeft(),
top:e.top+parseFloat(H.css("padding-top"))+H.scrollTop(),width:e.width,height:e.height
})}function f(e){o.debug>=20&&o.log("[TIPSY] #"+G+" Creating _id="+q);var i=e.root.canvas();
H=t(i);var r=i.style.position;r&&"static"!==r||(i.style.position="relative"),H.mouseleave(S),
n.usesPoint&&n.followMouse&&e.root.event("mousemove",A),m(),q||(q="tipsyPvBehavior_"+(new Date).getTime());
var a=document.getElementById(q);a||(o.debug>=20&&o.log("[TIPSY] #"+G+" Creating Fake Tip Target="+q),
a=document.createElement("div"),a.id=q,a.className="fakeTipsyTarget",i.appendChild(a));
var s=a.style;s.padding="0px",s.margin="0px",s.position="absolute",s.pointerEvents="none",
s.display="block",s.zIndex=-10,R=t(a),g(),R.removeData("tipsy"),R[0].$tooltipOptions=e.tooltipOptions;
var l=p(n);R.tipsy(l)}function p(e){var t=Object.create(e);return t.gravity=c,t.delayOut=0,
t.trigger="manual",null==t.animate&&(t.animate=t.followMouse?0:400),t}function m(){
if(W=H.data("tipsy-pv-shared-info")){var e=H[0].$pvCreateId||0;if(W.createId===e)return void W.behaviors.push(k);
W.behaviors.forEach(function(e){e()})}W={createId:H[0].$pvCreateId||0,behaviors:[k]
},H.data("tipsy-pv-shared-info",W)}function g(){R&&R.css(o.debug>=22?{borderColor:"red",
borderWidth:"1px",borderStyle:"solid",zIndex:1e3}:{borderWidth:"0px",zIndex:-10});
}function v(t){t||(t=e.event);var n=5,i=H.offset(),r=i.left+parseFloat(H.css("padding-left")||0),o=i.top+parseFloat(H.css("padding-top")||0);
return{left:t.pageX-r-n,top:t.pageY-o-n,width:10+2*n,height:20}}function y(e){e||(e=null);
var t,i,r;if(e!==K)K=e,e?(V=e.scene,z=x(V,K.index),F=e.renderId()):(F=V=z=null,o.debug>=20&&o.log("[TIPSY] #"+G+" Cleared Mark"));else{
if(!e)return!1;if(V!==(r=e.scene))V=r,z=x(V,K.index),F=e.renderId();else if(z!==(t=x(V,K.index)))z=t,
F=e.renderId();else{if(F===(i=e.renderId()))return!1;F=i}}R[0].$tooltipOptions=K&&K.tooltipOptions;
var a=p(n);return R.tipsy("setOptions",a),e&&o.debug>=20&&o.log("[TIPSY] #"+G+" Set Mark State to "+e.type+" scenes: #"+V.length+" index: "+z+" renderId: "+F),
!0}function b(e,n){e&&n||(e=n=null);var i=!U&&e||U&&U[0]!==e;i&&(o.debug>=20&&o.log("[TIPSY] #"+G+" "+(e?"Changing target element "+e.tagName+".":"Clearing target element.")),
i&&(U&&(U.off("mousemove",j),U.off("mouseleave",S)),U=e?t(e):null),y(n),U&&(U.mousemove(j),
U.mouseleave(S)))}function _(e,t){var n=t;return"function"==typeof K.getNearestInstanceToMouse&&(t=K.getNearestInstanceToMouse(e,t),
o.debug>=20&&n!==t&&o.log("[TIPSY] #"+G+" Changing index "+n+" to Nearest index "+t)),
x(e,t)}function x(e,t){if("function"==typeof K.getOwnerInstance){var n=t;t=K.getOwnerInstance(e,t),
o.debug>=20&&n!==t&&o.log("[TIPSY] #"+G+" Changing index "+n+" to Owner index "+t);
}return t}function w(){return $++}function C(e){return e===$-1}function S(){var e=w();
o.debug>=30&&o.log("[TIPSY] #"+G+" Delayed Hide Begin opId="+e),X>0?window.setTimeout(function(){
C(e)?(o.debug>=30&&o.log("[TIPSY] #"+G+" Hiding opId="+e),M(e)):o.debug>=30&&o.log("[TIPSY] #"+G+" Delayed Hide Cancelled opId="+e);
},X):(o.debug>=30&&o.log("[TIPSY] #"+G+" Hiding Immediately opId="+e),M(e))}function k(){
o.debug>=30&&o.log("[TIPSY] #"+G+" Disposing"),D(),R&&(R.removeData("tipsy"),R.each(function(e){
e.$tooltipOptions=null}),R.remove(),R=null),H&&(H.off("mouseleave",S),H=null)}function D(){
var e=w();o.debug>=30&&o.log("[TIPSY] #"+G+" Hiding as Other opId="+e),M(e)}function M(){
b(null,null),y(null),R&&R.data("tipsy")&&R.tipsy("leave")}function N(){var e=W&&W.behaviors;
e&&e.length>1&&(o.debug>=30&&o.group("[TIPSY] #"+G+" Hiding Others"),e.forEach(function(e){
e!==k&&e()}),o.debug>=30&&o.groupEnd())}function T(t){return E=new e.Shape.Point(t.pageX,t.pageY),
O&&E.distance2(O).cost<=8?(o.debug>=30&&o.log("[TIPSY] #"+G+" mousemove too close"),
!1):!0}function A(){o.debug>=30&&o.group("[TIPSY] #"+G+" doFollowMouse");var t=e.event;
!K||Y&&!Y(L,K)?(S(),o.debug>=30&&o.groupEnd()):(R&&K&&T(t)&&(O=E,d(v(t)),N(),R.tipsy("update")),
o.debug>=30&&o.groupEnd())}function j(t){if(R&&T(t)){var i,r=this.$scene;if(r&&(i=r.scenes)&&i.mark&&i.mark===K){
var l=K.renderId(),c=l!==F||i!==V,h=n.followMouse,f=r.index;if(("function"==typeof K.getOwnerInstance||"function"==typeof K.getNearestInstanceToMouse)&&(e.event=t,
K.context(i,f,function(){f=_(i,f)}),e.event=null),c|=f!==z,h||c){var p=w();o.debug>=20&&o.log("[TIPSY] #"+G+" Updating opId="+p),
O=E;var m;h&&(m=v(t)),c&&(F=l,V=i,z=f,K.context(i,f,function(){h||(m=s());var e=a();
o.debug>=20&&o.log("[TIPSY] #"+G+" Update text. Was hidden. Text: "+e.substr(0,50)),
R.tipsy("setTitle",e),u()})),d(m),N(),R.tipsy("update")}else o.debug>=20&&o.log("[TIPSY] #"+G+" !followMouse and same scene");
}else o.debug>=20&&o.log("[TIPSY] #"+G+" mousemove on != mark")}}function I(e){H||f(e),
e._tipsy!==L&&(o.debug>=20&&o.log("[TIPSY] #"+G+" Initializing mark"),e._tipsy=L,
n.usesPoint&&e.event("unpoint",function(){o.debug>=20&&o.group("[TIPSY] #"+G+" unpoint"),
S(),o.debug>=20&&o.groupEnd()}))}function P(t){function i(){var e=a();o.debug>=20&&o.log("[TIPSY] #"+G+" Set Text: "+e.substr(0,50)),
R.tipsy("setTitle",e),d(n.followMouse?v():s()),u()}var r=w();o.debug>=20&&o.group("[TIPSY] #"+G+" ShowTipsy opId="+r),
I(t);var l=!K;n.usesPoint?y(t):b(e.event.target,t);var c=e.event;T(c),O=E,t.index!==z?t.context(V,z,i):i(),
N(),R.tipsy(l?"enter":"update"),o.debug>=20&&o.groupEnd()}function L(){var e=this;
(!Y||Y(L,e))&&P(e)}n||(n={});var R,O,E,B,F,z,V,q,H,W,U=null,G=r++,$=0,K=null,X=n.delayOut,Y=n.isEnabled,Q=["nw","n","ne","e","se","s","sw","w"];
return L};var o=e.Behavior.tipsy;o.debug=0,o.setDebug=function(e){o.debug=e},o.log=function(e){
"undefined"!=typeof console&&console.log(""+e)},o.group=function(e){"undefined"!=typeof console&&console.group(""+e);
},o.groupEnd=function(){"undefined"!=typeof console&&console.groupEnd()},o.disposeAll=function(e){
var n=e&&e.root;if(n&&n.scene){var i=n.canvas();if(i){var r=t(i),a=r.data("tipsy-pv-shared-info");
a&&(a.behaviors&&a.behaviors.forEach(function(e){e()}),r.removeData("tipsy-pv-shared-info"));
}}o.removeAll()},o.removeAll=function(){t(".tipsy").remove()}}(),e.Behavior.tipsy;
}),define("cdf/lib/CCC/pvc",["./def","./protovis-compat!","./cdo","jquery","./tipsy"],function(e,t,n,i){
function r(t,n){if(t){if(null!=t.abs)return t.abs;if(!n)return t;var i=e.firstUpperCase(t);
return null!=n.abs?{abs:n.abs+i}:n+i}return n}function o(t,n){function i(e){return f[e].resolve();
}function r(e,t){var n=i(e);return t&&!n.isSpecified?void 0:n.value}function o(e){
return i(e).isSpecified}function a(e,t){var n=i(e);return n.isSpecified?n.value:t;
}function s(e){return r(e,!0)}function l(t){return e.hasOwn(f,t)}function u(e){return d(e,!1);
}function c(e){return d(e,!0)}function h(e){return i(e)._dv}function d(t,n){var i,o,a;
for(i in t)o=e.hasOwnProp.call(f,i)&&f[i],o&&void 0!==(a=t[i])&&o.set(a,n);return r;
}t||e.fail.argumentRequired("specs");var f={};return e.each(t,function(e,t){var i=new oe(t,r,n,e);
f[i.name]=i}),r.option=r,r.specified=s,r.defaultValue=h,r.isSpecified=o,r.isDefined=l,
r.getSpecified=a,r.specify=u,r.defaults=c,r}function a(e){return function(t){var n,i,r;
for(n=0,r=e.length;r>n;n++)if(i=e[n],"string"==typeof i&&(i=this[i]),i.call(this,t)===!0)return!0;
}}function s(e){return function(t){return t.specify(e),!0}}function l(e){return function(t){
var n=e.call(this,t);return void 0!==n?(t.specify(n),!0):void 0}}function u(e){return function(t){
var n=e.call(this,t);return void 0!==n?(t.defaultValue(n),!0):void 0}}function c(){
e.MetaType.apply(this,arguments);var t=this.baseType&&this.baseType.optionsDef;this.optionsDef=e.create(t);
}function h(e){e=t.color(e);var n=e.r,i=e.g,r=e.b,o=(n+i+r)/3,a=2;return Math.abs(n-o)<=a&&Math.abs(i-o)<=a&&Math.abs(r-o)<=a;
}function d(t){t||e.fail.argumentRequired("keyArgs");var n=t.type||e.fail.argumentRequired("keyArgs.type");
switch(n){case"linear":return new Y.color.LinearScalesBuild(t).buildMap();case"discrete":
return new Y.color.DiscreteScalesBuild(t).buildMap();case"normal":return new Y.color.NormalScalesBuild(t).buildMap();
}throw e.error.argumentInvalid("scaleType","Unexistent scale type '{0}'.",[n])}function f(t){
t||e.fail.argumentRequired("keyArgs");var n=t.type||e.fail.argumentRequired("keyArgs.type");
switch(n){case"linear":return new Y.color.LinearScalesBuild(t).build();case"discrete":
return new Y.color.DiscreteScalesBuild(t).build();case"normal":return new Y.color.NormalScalesBuild(t).build();
}throw e.error.argumentInvalid("scaleType","Unexistent scale type '{0}'.",[n])}function p(e,n){
if(this.event=t.event,this.pvMark=e,e){var i=this.sign=e.sign||null;!n&&i&&(n=i.scene()),
n?this.index=n.childIndex():(this.index=null,n=new Y.visual.Scene(null,{panel:this.panel
}))}else this.sign=null,this.index=null,n=new Y.visual.Scene(null,{panel:this.panel,
source:this.chart.root.data});this.scene=n}function m(t,n,i,r){var o=e.lazy(n,t),a=o[i];
return a?e.array.is(a)&&(a=o[i]=[a]):a=o[i]=[],a.push(r),Y.spec}function g(){var e=this.chart.axes.base,t=e&&(e.role.grouping||e.role.preBoundGrouping());
return t?t.singleDimensionName:this.chart.data.type.dimensionsNames()[0]}function v(e){
var t=[],n=e.length;if(n>0)for(var i=this.dimension,r=this.chart.data.dimensions(i),o=r.max(),a=o?o.value:null,s=this.length,l=0;n>l;l++){
var u=e[l],c=u.atoms[i].value;if(null==c)t.push(u);else{var h=+a-+c;h>0&&h>s&&t.push(u);
}}return t}function y(){e.MetaType.apply(this,arguments),this._vars=e.create(this.baseType&&this.baseType._vars);
}function b(e){var t;return!!(e&&(t=e.pointTo)&&t.scenes.mark._hasHoverable)}function _(e){
this._renderId!==e&&(this._renderId=e,this.renderState={})}function x(e){var t;e&&(t=e.ownerScene)&&(e=t);
var n=this._active;return n!==e?(n&&w.call(n,!1),this._active=n=e||null,n&&w.call(n,!0),
!0):!1}function w(e){this.isActive!==e&&(e?this.isActive=!0:delete this.isActive);
}function C(e,t){return function(){var n=this.vars[e];return void 0===n&&(n=this[t](),
void 0===n&&(n=null),this.vars[e]=n),n}}function S(t){if(null===t.plot&&t.isRequired)throw e.error.operationInvalid("The required visual role '{0}' is unbound.",[t.name]);
}function k(t,n){if(t!==n)throw e.error.operationInvalid("Invalid state.")}function D(e){
return!e.isNull}function M(e){return e.isDiscrete()?"discrete":e.singleContinuousValueType===Date?"timeSeries":"numeric";
}function N(n){var i;if(n){var r;e.eachOwn(n,function(e,i){r=!0,n[i]=t.fillStyle(e);
}),r&&(i=n)}return i}function T(){var e,n=this.scaleType;if(n)if("discrete"===n)if(0===this.index)e=Y.createColorScheme();else{
var i=this;e=function(){return i.chart._getRoleColorScale(i.role.grouping)}}else he||(he=["red","yellow","green"].map(t.color)),
e=he.slice();else e=Y.createColorScheme();return e}function A(t){if(!e.object.is(t)){
var n=this.option("Position");t=(new re).setSize(t,{singleProp:Y.BasePanel.orthogonalLength[n]
})}return t}function j(e){var t=this.option("Position");return Y.parseAlign(t,e)}
function I(e){return(new re).setSize(e,{singleProp:"width"})}function P(t){if(e.string.is(t))t=t.split(",");else if(!e.array.is(t))throw e.error.argumentInvalid("dims","Must be a string or an array of strings.");
return e.query(t).distinct().sort().array()}function L(t,n){function i(){if(u||(u=!0,
this.chart._processViewSpec(n),l=n.dimNames,s=n.dimsKey),!l)return!1;var t=e.lazy(this,"_activeFilters"),i=e.getOwn(t,s);
return void 0===i&&(t[s]=i=o(this.event)),i}function r(){var e=this.event,t=Object.create(e);
t.viewKey=s,t.viewFrom=function(){return a(e.from)},t.viewTo=function(){return a(e.to);
},this.event=t;try{n.handler.call(this)}finally{this.event=e}}function o(e){var t=a(e.from,null),n=a(e.to,null);
if(t===n)return!1;if(null==t||null==n)return!0;for(var i=l.length,r=t.atoms,o=n.atoms;i--;)if(r[l[i]].value!==o[l[i]].value)return!0;
return!1}function a(e,t){return e?e._asView(s,l):t}var s,l,u=!1;n._filter=i,n._handler=r;
}function R(t){var n=O(t)||e.assert("There must exist an ancestor sign");return new Y.visual.BasicSign(n.panel,t);
}function O(e){var t;do e=e.parent;while(!(!e||(t=e.sign)||e.proto&&(t=e.proto.sign)));
return t}function E(e,n,i,r,o,a,s,l){if(!e)return null;var u;null==r&&(r=1/0),null==s&&(s=1/0),
null==i&&(i=0),null==a&&(a=0),i>r&&(r=i),a>s&&(s=a),null!=n?i>n?n=i:n>r&&(n=r):t.floatEqual(i,r)&&(n=i),
null!=o?a>o?o=a:o>s&&(o=s):t.floatEqual(a,s)&&(o=a);var c=null!=n,h=null!=o;if(c||h){
if(c&&h)return t.floatZero(n)&&t.floatZero(o)?E(e,null,0,1/0,null,0,1/0,l):(l=n/(n+o),
{mode:"abs",ratio:l,value:e*(n+o),band:n,space:o});var d,f;return c?(d=n+a,f=n+s,
l=t.floatZero(n)?0:n/d):(d=i+o,f=r+o,l=t.floatZero(o)?1:i/d),{mode:"abs",ratio:l,
min:e*d,max:e*f,band:c?n:void 0,space:h?o:void 0}}var p=i>0,m=a>0,g=isFinite(r)&&r>0,v=isFinite(s)&&s>0,y=p&&m,b=g&&v;
if(y||b)if(y){if(l=i/(i+a),b)return{mode:"abs",ratio:l,min:e*(i+a),max:e*(r+s),band:i,
space:a};u=a/i,g?s=u*r:v&&(r=s/u)}else u=s/r,l=r/(r+s),p?a=u*i:m&&(i=a/u);else{if(!(p||g||m||v))return{
mode:"rel",ratio:l,min:0,max:1/0};if(u=1/l-1,m){if(i=a/u,g&&i>=r)return E(e,n,i,r,o,a,s,l);
}else if(p&&(a=u*i,v&&a>=s))return E(e,n,i,r,o,a,s,l);g?s=u*r:v&&(r=s/u)}return{mode:"rel",
ratio:l,min:e*(i+a),max:e*(r+s)}}function B(e){return Y.parseDomainScope(e,this.orientation);
}function F(t){if(t){if(e.hasOwn(ie.namesSet,t)){var n=Y.BasePanel["y"===this.orientation?"horizontalAlign":"verticalAlign2"];
return n[t]}e.debug>=2&&e.log(e.format("Invalid axis position value '{0}'.",[t]));
}return"x"===this.orientation?"bottom":"left"}function z(e){var t=this.option("Position");
return re.toOrtho(e,t)}function V(e){var t=this.option("Position");return re.to(e,{
singleProp:Y.BasePanel.orthogonalLength[t]})}function q(t){var n=[];if(!t)return n;
e.array.is(t)||n.push(t);for(var i=0,r=t.length;i!==r;++i){var o=e.number.to(t[i]);
null!=o&&n.push(o)}return n}function H(){var e=["axis"],t=this.scaleType;return t&&("discrete"!==t&&e.push("continuousAxis"),
e.push(t+"Axis")),this.v1SecondOrientedId&&e.push(this.v1SecondOrientedId+"Axis"),
e.push(this.orientedId+"Axis"),e.push(this.id+"Axis"),e}function W(e){if("trend"===this.name)return null;
var t=this.option("TrendType");if(!t&&e&&(t=e.type),!t||"none"===t)return null;e=e?Object.create(e):{};
var n=Y.trends.get(t);e.info=n,e.type=t;var i=this.option("TrendLabel");return e.label=null!=i?String(i):n.dataPartAtom.f,
e}function U(e){return!e.isDiscrete()&&(null!=e.option("FixedMin")||null!=e.option("FixedMax")||null!=e.option("FixedLength")||null!=e.option("Ratio")||e.option("PreserveRatio"));
}function G(e,t){return{resolveV1:function(n){return 0===this.globalIndex?(this._specifyChartOption(n,"show"+e)||n.defaultValue(t),
!0):void 0}}}function $(e){return{resolveV1:function(t){return this._specifyChartOption(t,"show"+e),
!0}}}function K(t){return e.number.toBetween(t,0,1)}function X(e){for(var t=[e],n=-1;++n<t.length;){
var i=t[n];t.push.apply(t,i.childNodes)}return t}Array.prototype.every||(Array.prototype.every=function(e){
if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;
for(var i=arguments.length>=2?arguments[1]:void 0,r=0;n>r;r++)if(r in t&&!e.call(i,t[r],r,t))return!1;
return!0});var Y=e.globalSpace("pvc",{});Y.data=n;var Q=Array.prototype.slice;Y.invisibleFill="rgba(127,127,127,0.00001)",
!function(){var n=function(e){t.Behavior.tipsy.setDebug(e)};n(e.debug),e.addOnDebugChanged(n);
}(),Y.NoDataException=e.global.NoDataException=function(){this.name="no-data",this.message="No data found";
},Y.InvalidDataException=e.global.InvalidDataException=function(e,t){this.name=t||"invalid-data",
this.message=e||"Invalid Data."},Y.defaultCompatVersion=function(e){var t=Y.BaseChart.prototype.defaults;
return null!=e?t.compatVersion=e:t.compatVersion},Y.cloneMatrix=function(e){return e.map(function(e){
return e.slice()})},Y.normAngle=t.Shape.normalizeAngle,Y.orientation={vertical:"vertical",
horizontal:"horizontal"},Y.removeTipsyLegends=function(){var e=t.Behavior.tipsy;e&&e.removeAll&&e.removeAll();
},Y.createDateComparer=function(e,n){return n||(n=t.identity),function(t,i){return e.parse(n(t))-e.parse(n(i));
}},Y.buildIndexedId=e.indexedId,Y.makeEnumParser=function(t,n,i){if(e.array.is(n)){
var r={};n.forEach(function(e){e&&(r[e.toLowerCase()]=e)}),n=function(t){return e.hasOwn(r,t);
}}return i&&(i=i.toLowerCase()),function(r){return r&&(r=(""+r).toLowerCase()),n(r)||(r&&e.debug>=2&&e.log.warn("Invalid '"+t+"' value: '"+r+"'. Assuming '"+i+"'."),
r=i),r}},Y.unionExtents=function(e,t){if(e)t&&(t.min<e.min&&(e.min=t.min),t.max>e.max&&(e.max=t.max));else{
if(!t)return null;e={min:t.min,max:t.max}}return e},Y.roundPixel={epsilon:.1},null==i.support.svg&&(i.support.svg=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),
Y.extensionTag="extension",Y.extendType=function(t,n,i){if(n){var r,o=t.meta&&t.meta._vars,a=function(t,n){
void 0!==t&&(r||(r={}),o&&o[n]&&(n="_"+n+"EvalCore"),r[n]=e.fun.to(t))};i?i.forEach(function(e){
a(n[e],e)}):e.each(a),r&&t.add(r)}};var Z=[null];Y.makeExtensionAbsId=function(t,n){
if(!t)return n;var i=[];n=e.array.to(n)||Z,t=e.array.to(t);for(var o=0,a=n.length;a>o;o++)for(var s=0,l=t.length;l>s;s++){
var u=r(t[s],n[o]);u&&i.push(u)}return i},Y.uniqueExtensionAbsPrefix=function(){return"_"+((new Date).getTime()+Math.floor(1e5*Math.random()));
},Y.defaultColorScheme=null,Y.brighterColorTransform=function(e){return(e.rgb?e:t.color(e)).brighter(.6);
},Y.setDefaultColorScheme=function(e){return Y.defaultColorScheme=Y.colorScheme(e);
},Y.defaultColor=t.Colors.category10()("?"),Y.colorScheme=function(n){if(null==n)return null;
if("function"==typeof n){if(!n.hasOwnProperty("range"))return n;n=n.range()}else n=e.array.as(n);
return n.length?function(){var e=t.colors(n);return e.domain.apply(e,arguments),e;
}:null},Y.createColorScheme=function(e){return Y.colorScheme(e)||Y.defaultColorScheme||t.Colors.category10;
},Y.toGrayScale=function(e,n,i,r){e=t.color(e);var o=.299*e.r+.587*e.g+.114*e.b;void 0===i?i=200:null==i&&(i=255),
void 0===r?r=30:null==r&&(r=0);var a=i-r;return o=0>=a?i:r+o/255*a,null==n?n=e.opacity:0>n&&(n=-n*e.opacity),
o=Math.round(o),t.rgb(o,o,o,n)},Y.time={intervals:{y:31536e6,m:2592e6,d30:2592e6,
w:6048e5,d7:6048e5,d:864e5,h:36e5,M:6e4,s:1e3,ms:1},withoutTime:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate());
},weekday:{previousOrSelf:function(e,t){var n=e.getDay(),i=n-t;if(i){var r=0>i?7+i:i;
e=new Date(e-r*Y.time.intervals.d)}return e},nextOrSelf:function(e,t){var n=e.getDay(),i=n-t;
if(i){var r=i>0?7-i:-i;e=new Date(e+r*Y.time.intervals.d)}return e},closestOrSelf:function(e,t){
var n=e.getDay(),i=n-t;if(i){var r=Y.time.intervals.d,o=i>0?1:-1;i=Math.abs(i),e=new Date(i>=4?e.getTime()+o*(7-i)*r:e.getTime()-o*i*r);
}return e}}};var J=t.Mark,ee=J.prototype.zOrder;J.prototype.zOrder=function(e){var t=this.borderPanel;
return t&&t!==this?ee.call(t,e):ee.call(this,e)},J.prototype.wrapper=function(e){
return this._wrapper=e,this},J.prototype.wrap=function(t,n){return t&&e.fun.is(t)&&this._wrapper&&!t._cccWrapped&&(t=this._wrapper(t,n),
t._cccWrapped=!0),t},t.Mark.prototype.call=function(e){e.call(this,this)},J.prototype.lock=function(e,t){
return void 0!==t&&this[e](t),(this._locked||(this._locked={}))[e]=!0,this},J.prototype.isIntercepted=function(e){
return this._intercepted&&this._intercepted[e]},J.prototype.isLocked=function(e){
return this._locked&&this._locked[e]},J.prototype.ensureEvents=function(e){var t=this.propertyValue("events",!0);
return t&&"none"!==t||this.events(e||"all"),this},J.prototype.addMargin=function(n,i){
if(0!==i){var r=e.nullyTo(this.propertyValue(n),0),o=t.functor(r);this[n](function(){
return i+o.apply(this,Q.call(arguments))})}return this},J.prototype.addMargins=function(t){
var n=e.get(t,"all",0);return this.addMargin("left",e.get(t,"left",n)),this.addMargin("right",e.get(t,"right",n)),
this.addMargin("top",e.get(t,"top",n)),this.addMargin("bottom",e.get(t,"bottom",n)),
this},J.prototype.eachInstanceWithData=function(e,t){this.eachInstance(function(n,i,r){
n.mark.sign&&n[i].data&&e.call(t,n,i,r)})},J.prototype.eachSceneWithDataOnRect=function(e,t,n,i){
function r(i,r){if(i.intersectsRect(e)){var o=r.data;o&&o.datum&&t.call(n,o)}}var o=this,a=o.sign;
if(!a||a.selectable()){null==i&&(i=o.rubberBandSelectionMode||"partial");var s="center"===i;
o.eachInstanceWithData(function(e,t,n){var i=o.getShape(e,t,.15);i=(s?i.center():i).apply(n),
r(i,e[t])})}},J.prototype.eachDatumOnRect=function(e,t,n,i){function r(i,r){if(i.intersectsRect(e)){
var o=r.data;o&&o.datum&&o.datums().each(function(e){e.isNull||t.call(n,e)})}}var o=this,a=o.sign;
if(!a||a.selectable()){null==i&&(i=o.rubberBandSelectionMode||"partial");var s="center"===i;
o.eachInstanceWithData(function(e,t,n){var i=o.getShape(e,t,.15);i=(s?i.center():i).apply(n),
r(i,e[t])})}},J.prototype.getOwnerInstance=function(e,t){var n=e[t].data;return n instanceof Y.visual.Scene&&(n=n.ownerScene)?n.childIndex():t;
},t.Mark.prototype._ibits=-1,t.Mark.prototype._imask=0,t.Mark.prototype.ibits=function(e){
return arguments.length?(e=Y.visual.Interactive.parseBits(e),this._ibits=null==e?0:e,
this):this._ibits},t.Mark.prototype.imask=function(e){return arguments.length?(e=Y.visual.Interactive.parseBits(e),
this._imask=null==e?0:e,this):this._imask},t.Transform.prototype.transformHPosition=function(e){
return this.x+this.k*e},t.Transform.prototype.transformVPosition=function(e){return this.y+this.k*e;
},t.Transform.prototype.transformLength=function(e){return this.k*e},t.Format.createParser=function(t){
function n(n){return n instanceof Date?n:e.number.is(n)?new Date(n):t.parse(n)}return n;
},t.Format.createFormatter=function(e){function t(t){return null!=t?e(t):""}return t;
},t.Color.prototype.describe=function(t,n,i){return e.describeRecursive(t,this.key,n,i);
},J.prototype.hasDelegateValue=function(e,t){var n=this.$propertiesMap[e];return n?!t||n.tag===t:!!this.proto&&this.proto.hasDelegateValue(e,t);
},Y.parseValuesOverflow=Y.makeEnumParser("valuesOverflow",["show","trim","hide"],"hide"),
Y.parseMultiChartOverflow=Y.makeEnumParser("multiChartOverflow",["grow","fit","clip","page"],"grow"),
Y.parseLegendClickMode=Y.makeEnumParser("legendClickMode",["toggleSelected","toggleVisible","none"],"toggleVisible"),
Y.parseTooltipAutoContent=Y.makeEnumParser("tooltipAutoContent",["summary","value"],"value"),
Y.parseSelectionMode=Y.makeEnumParser("selectionMode",["rubberbandOrClick","click","rubberBand","focusWindow","custom"],"rubberbandOrClick"),
Y.parseClearSelectionMode=Y.makeEnumParser("clearSelectionMode",["emptySpaceClick","manual"],"emptySpaceClick"),
Y.parsePointingMode=Y.makeEnumParser("pointingMode",["over","near"],"near"),Y.parsePointingCollapse=Y.makeEnumParser("pointingCollapse",["none","x","y"],"none"),
Y.parseShape=Y.makeEnumParser("shape",t.Scene.hasSymbol,null),Y.parseDataTypeCheckingMode=Y.makeEnumParser("typeCheckingMode",["none","minimum","extended"],"minimum"),
Y.parseLegendOverflow=Y.makeEnumParser("legendOverflow",["clip","collapse"],"clip"),
Y.parseLabelRotationDirection=Y.makeEnumParser("labelRotationDirection",["clockwise","counterclockwise"],"clockwise"),
Y.parseContinuousColorScaleType=function(t){if(t)switch(t=(""+t).toLowerCase()){case"linear":
case"normal":case"discrete":break;default:e.debug>=2&&e.log("[Warning] Invalid 'ScaleType' option value: '"+t+"'."),
t=null}return t},Y.parseDomainScope=function(t,n){if(t)switch(t=(""+t).toLowerCase()){
case"cell":case"global":break;case"section":if(!n)throw e.error.argumentRequired("orientation");
t="y"===n?"row":"column";break;case"column":case"row":n&&n!==("row"===t?"y":"x")&&(t="section",
e.debug>=2&&e.log("[Warning] Invalid 'DomainScope' option value: '"+t+"' for the orientation: '"+n+"'."));
break;default:e.debug>=2&&e.log("[Warning] Invalid 'DomainScope' option value: '"+t+"'."),
t=null}return t},Y.parseDomainRoundingMode=function(t){if(t)switch(t=(""+t).toLowerCase()){
case"none":case"nice":case"tick":break;default:e.debug>=2&&e.log("[Warning] Invalid 'DomainRoundMode' value: '"+t+"'."),
t=null}return t},Y.parseOverlappedLabelsMode=function(t){if(t)switch(t=(""+t).toLowerCase()){
case"leave":case"hide":case"rotate":case"rotatethenhide":break;default:e.debug>=2&&e.log("[Warning] Invalid 'OverlappedLabelsMode' option value: '"+t+"'."),
t=null}return t},Y.parseTrendType=function(t){if(t){if(t=(""+t).toLowerCase(),"none"===t)return t;
if(Y.trends.has(t))return t;e.debug>=2&&e.log("[Warning] Invalid 'TrendType' value: '"+t+"'.");
}},Y.parseNullInterpolationMode=function(t){if(t){switch(t=(""+t).toLowerCase()){
case"none":case"linear":case"zero":return t}e.debug>=2&&e.log("[Warning] Invalid 'NullInterpolationMode' value: '"+t+"'.");
}},Y.parseAlign=function(t,n){n&&(n=(""+n).toLowerCase());var i,r;return"left"===t||"right"===t?(i=n&&Y.BasePanel.verticalAlign[n],
i||(i="middle",r=!!n)):(i=n&&Y.BasePanel.horizontalAlign[n],i||(i="center",r=!!n)),
r&&e.debug>=2&&e.log(e.format("Invalid alignment value '{0}'. Assuming '{1}'.",[n,i])),
i},Y.parseAnchor=function(t){if(t){switch(t=(""+t).toLowerCase()){case"top":case"left":
case"center":case"bottom":case"right":return t}e.debug>=2&&e.log(e.format("Invalid anchor value '{0}'.",[t]));
}},Y.parseAnchorWedge=function(t){if(t){switch(t=(""+t).toLowerCase()){case"outer":
case"inner":case"center":case"start":case"end":return t}e.debug>=2&&e.log(e.format("Invalid wedge anchor value '{0}'.",[t]));
}},Y.parsePosition=function(t,n){if(t&&(t=(""+t).toLowerCase(),!e.hasOwn(ie.namesSet,t))){
var i=n||"left";e.debug>=2&&e.log(e.format("Invalid position value '{0}. Assuming '{1}'.",[t,i])),
t=i}return t||n||"left"},Y.parseAxisFixedLength=function(n){var i;return n&&("string"==typeof n&&(n=t.parseDatePrecision(n)),
"number"!=typeof n||0>=n?e.debug>=2&&e.log(e.format("Invalid fixed length value '{0}'.",[n])):i=n),
i},Y.parseAxisRatio=function(n){var i;if("string"==typeof n){var r=/([0-9]\u002F[0-9]|[0-9]\u002F[a-z]|[0-9]\u002F[0-9][a-z])/;
if(r.test(n)&&(n=n.split("/")),2===n.length){var o=parseInt(n[0]),a=t.parseDatePrecision(n[1]);
isNaN(o)||isNaN(a)||0==a||(n=o/a)}}return"number"!=typeof n||0>n?e.debug>=2&&e.log(e.format("Invalid ratio value '{0}'.",[n])):i=n,
i},Y.parseDomainAlign=function(t){var n;if(t){switch(t=(""+t).toLowerCase()){case"max":
case"min":case"center":return t}n="center",e.debug>=2&&e.log(e.format("Invalid domain align value '{0}'. Assuming '{1}'.",[t,n]));
}return n},Y.parseDimensionName=function(t,n){if(t){t=(""+t).toLowerCase();var i=n.data.type.dimensions(t,{
assertExists:!1});if(i)return t;e.debug>=2&&e.log(e.format("[Warning] Undefined dimension with name '{0}'.",[t]));
}return null};var te=e.type("pvc.Offset").init(function(e,t){1===arguments.length?null!=e&&this.setOffset(e):(null!=e&&(this.x=e),
null!=t&&(this.y=t))}).add({describe:function(t,n,i){return e.describeRecursive(t,e.copyOwn(this),n,i);
},setOffset:function(t,n){if("string"==typeof t){var i=t.split(/\s+/).map(function(e){
return ne.parse(e)});switch(i.length){case 1:return this.set(e.get(n,"singleProp","all"),i[0]),
this;case 2:return this.set("x",i[0]),this.set("y",i[1]),this;case 0:return this}
}else{if("number"==typeof t)return this.set(e.get(n,"singleProp","all"),t),this;if("object"==typeof t){
this.set("all",t.all);for(var r in t)"all"!==r&&this.set(r,t[r]);return this}}return e.debug&&e.log("Invalid 'offset' value: "+e.describe(t)),
this},set:function(t,n){null!=n&&e.hasOwn(te.namesSet,t)&&(n=ne.parse(n),null!=n&&("all"===t?te.names.forEach(function(e){
this[e]=n},this):this[t]=n))},resolve:function(e){var t={};return re.names.forEach(function(n){
var i=te.namesSizeToOffset[n],r=this[i];if(null!=r)if("number"==typeof r)t[i]=r;else if(e){
var o=e[n];null!=o&&(t[i]=r.resolve(o))}},this),t}});te.type().add({names:["x","y"],
namesSizeToOffset:{width:"x",height:"y"},namesSidesToOffset:{left:"x",right:"x",top:"y",
bottom:"y"},as:function(e){return null==e||e instanceof te||(e=(new te).setOffset(e)),
e}}).add({namesSet:t.dict(te.names,e.retTrue)});var ne=Y.PercentValue=function(e){
this.percent=e};ne.prototype.resolve=function(e){return this.percent*e},ne.prototype.divide=function(e){
return new ne(this.percent/e)},ne.divide=function(e,t){return e instanceof ne?e.divide(t):e/t;
},ne.parse=function(t){if(null!=t&&""!==t){switch(typeof t){case"number":return t;
case"string":var n=t.match(/^(.+?)\s*(%)?$/);if(n){var i=+n[1];if(!isNaN(i)){if(!n[2])return i;
if(i>=0)return new ne(i/100)}}break;case"object":if(t instanceof ne)return t}e.debug&&e.log(e.format("Invalid margins component '{0}'",[""+t]));
}},ne.resolve=function(e,t){return e instanceof ne?e.resolve(t):e};var ie=Y.Sides=function(e){
null!=e&&this.setSides(e)};ie.hnames="left right".split(" "),ie.vnames="top bottom".split(" "),
ie.names="left right top bottom".split(" "),ie.namesSet=t.dict(ie.names,e.retTrue),
ie.as=function(e){return null==e||e instanceof ie||(e=(new ie).setSides(e)),e},ie.to=function(e){
return null!=e&&e instanceof ie||(e=(new ie).setSides(e)),e},ie.prototype.describe=function(t,n,i){
return e.describeRecursive(t,e.copyOwn(this),n,i)},ie.prototype.setSides=function(t){
if("string"==typeof t){var n=t.split(/\s+/).map(function(e){return ne.parse(e)});switch(n.length){
case 1:return this.set("all",n[0]),this;case 2:return this.set("top",n[0]),this.set("left",n[1]),
this.set("right",n[1]),this.set("bottom",n[0]),this;case 3:return this.set("top",n[0]),
this.set("left",n[1]),this.set("right",n[1]),this.set("bottom",n[2]),this;case 4:
return this.set("top",n[0]),this.set("right",n[1]),this.set("bottom",n[2]),this.set("left",n[3]),
this;case 0:return this}}else{if("number"==typeof t)return this.set("all",t),this;
if("object"==typeof t){if(t instanceof ne)this.set("all",t);else if(t instanceof ie)ie.names.forEach(function(n){
e.hasOwn(t,n)&&(this[n]=t[n])},this);else{this.set("all",t.all),this.set("width",t.width),
this.set("height",t.height);for(var i in t)ie.namesSet.hasOwnProperty(i)&&this.set(i,t[i]);
}return this}}return e.debug&&e.log("Invalid 'sides' value: "+e.describe(t)),this;
},ie.prototype.set=function(t,n){if(n=ne.parse(n),null!=n)switch(t){case"all":ie.names.forEach(function(e){
this[e]=n},this);break;case"width":this.left=this.right=ne.divide(n,2);break;case"height":
this.top=this.bottom=ne.divide(n,2);break;default:e.hasOwn(ie.namesSet,t)&&(this[t]=n);
}},ie.prototype.resolve=function(e,t){"object"==typeof e&&(t=e.height,e=e.width);var n={};
return ie.names.forEach(function(i){var r=0,o=this[i];null!=o&&(r="number"==typeof o?o:o.resolve("left"===i||"right"===i?e:t)),
n[i]=r},this),ie.updateSize(n)},ie.updateSize=function(e){return e.width=(e.left||0)+(e.right||0),
e.height=(e.bottom||0)+(e.top||0),e},ie.prototype.getDirectionPercentage=function(e){
var t="width"===e?ie.hnames:ie.vnames,n=this;return t.reduce(function(e,t){return(n.getSidePercentage(t)||0)+e;
},0)},ie.prototype.getSidePercentage=function(e){var t=this[e];return null!=t&&"number"!=typeof t?t.percent:null;
},ie.resolvedMax=function(e,t){var n={};return ie.names.forEach(function(i){n[i]=Math.max(e[i]||0,t[i]||0);
}),ie.updateSize(n)},ie.inflate=function(e,t){var n={};return ie.names.forEach(function(i){
n[i]=(e[i]||0)+t}),ie.updateSize(n)},ie.filterAnchor=function(e,t){var n=new ie;return ie.getAnchorSides(e).forEach(function(e){
n.set(e,t[e])}),n},ie.getAnchorSides=function(e){switch(e){case"left":case"right":
return ie.vnames;case"top":case"bottom":return ie.hnames;case"fill":return ie.names;
}};var re=e.type("pvc.Size").init(function(e,t){1===arguments.length?null!=e&&this.setSize(e):(null!=e&&(this.width=e),
null!=t&&(this.height=t))}).add({describe:function(t,n,i){return e.describeRecursive(t,e.copyOwn(this),n,i);
},setSize:function(t,n){if("string"==typeof t){var i=t.split(/\s+/).map(function(e){
return ne.parse(e)});switch(i.length){case 1:return this.set(e.get(n,"singleProp","all"),i[0]),
this;case 2:return this.set("width",i[0]),this.set("height",i[1]),this;case 0:return this;
}}else{if("number"==typeof t)return this.set(e.get(n,"singleProp","all"),t),this;if("object"==typeof t){
if(t instanceof ne)this.set(e.get(n,"singleProp","all"),t);else{this.set("all",t.all);
for(var r in t)"all"!==r&&this.set(r,t[r])}return this}}return e.debug&&e.log("Invalid 'size' value: "+e.describe(t)),
this},set:function(t,n){return null==n||"all"!==t&&!e.hasOwn(re.namesSet,t)||(n=ne.parse(n),
null!=n&&("all"===t?re.names.forEach(function(e){this[e]=n},this):this[t]=n)),this;
},clone:function(){return new re(this.width,this.height)},intersect:function(e){return new re(Math.min(this.width,e.width),Math.min(this.height,e.height));
},resolve:function(e){var t={};return re.names.forEach(function(n){var i=this[n];if(null!=i)if("number"==typeof i)t[n]=i;else if(e){
var r=e[n];null!=r&&(t[n]=i.resolve(r))}},this),t}});re.names=["width","height"],
re.namesSet=t.dict(re.names,e.retTrue),re.toOrtho=function(e,t){if(null!=e){var n;
t&&(n=Y.BasePanel.orthogonalLength[t]),e=re.to(e,{singleProp:n}),t&&delete e[Y.BasePanel.oppositeLength[n]];
}return e},re.to=function(e,t){return null==e||e instanceof re||(e=(new re).setSize(e,t)),
e},re.applyMax=function(e,t){var n,i;return null!=(i=t.width)&&null!=(n=e.width)&&n>i&&(e.width=i),
null!=(i=t.height)&&null!=(n=e.height)&&n>i&&(e.height=i),e},re.applyMin=function(e,t){
var n,i;return null!=(i=t.width)&&null!=(n=e.width)&&i>n&&(e.width=i),null!=(i=t.height)&&null!=(n=e.height)&&i>n&&(e.height=i),
e},re.applyMinMax=function(e,t,n){var i,r;return null!=(i=e.width)&&(null!=(r=t.width)&&r>i?e.width=r:null!=(r=n.width)&&i>r&&(e.width=r)),
null!=(i=e.height)&&(null!=(r=t.height)&&r>i?e.height=r:null!=(r=n.height)&&i>r&&(e.height=r)),
e},re.deflate=function(e,t,n){var i;return{width:null!=(i=e.width)?Math.max(i-t,0):null,
height:null!=(i=e.height)?Math.max(i-n,0):null}},re.inflate=function(e,t,n){var i;
return{width:null!=(i=e.width)?i+t:null,height:null!=(i=e.height)?i+n:null}},re.clone=function(e){
return{width:e.width,height:e.height}},e.type("pvc.Abstract").init(function(){this.log=e.logger(this._getLogId,this);
}).add({invisibleLineWidth:.001,defaultLineWidth:1.5,_logId:null,_getLogId:function(){
return this._logId||(this._logId=this._processLogId(this._createLogId()))},_createLogId:function(){
return String(e.qualNameOf(this.constructor))},_processLogId:function(t){var n=30,i=t.substr(0,n);
return i.length<n&&(i+=e.array.create(n-i.length," ").join("")),"["+i+"]"}}),o.resolvers=a,
o.constant=s,o.specify=l,o.defaultValue=u,Y.options=o;var oe=e.type().init(function(t,n,i,r){
this.name=t,this.option=n,this._dv=this.value=e.get(r,"value"),this._resolve=e.get(r,"resolve");
var o=!this._resolve;this.isResolved=o,this.isSpecified=!1,this._setCalled=!1,this._context=i,
this._cast=e.get(r,"cast"),this._getDefault=o?null:e.get(r,"getDefault"),this.data=e.get(r,"data");
}).add({resolve:function(){if(!this.isResolved&&(this.isResolved=!0,this._setCalled=!1,
this._getFunProp("_resolve").call(this._context,this),!this._setCalled)){this.isSpecified=!1;
var e=this._dynDefault();null!=e&&(this.value=this._dv=e)}return this},specify:function(e){
return this.set(e,!1)},defaultValue:function(e){return arguments.length&&this.set(e,!0),
this._dv},cast:function(e){if(null!=e){var t=this._getFunProp("_cast");t&&(e=t.call(this._context,e));
}return e},set:function(e,t){if(this._setCalled=!0,null!=e&&(e=this.cast(e)),null==e){
if(e=this._dynDefault(),null==e){if(!this.isSpecified)return this;e=this._dv}t=!0;
}return t?(this._dv=e,this.isSpecified||(this.value=e)):(this.isResolved=this.isSpecified=!0,
this.value=e),this},_dynDefault:function(){var e=this._getFunProp("_getDefault");return e&&this.cast(e.call(this._context,this));
},_getFunProp:function(t){var n,i=this[t];return i&&(n=this._context)&&e.string.is(i)&&(i=n[i]),
i}});e.MetaType.subType(c,{methods:{options:function(t){return e.mixin(this.optionsDef,t),
this},_addInitSteps:function(e){function t(){this.option=Y.options(n.optionsDef,this);
}this.base(e);var n=this;e.push(t)}}});var ae=c.Ctor;e("pvc.visual.OptionsBase",ae.configure({
init:function(t,n,i,r){this.type=n,this.chart=t,this.index=null==i?0:i,this.name=e.get(r,"name"),
this.id=e.indexedId(this.type,this.index),this.optionId=this._buildOptionId(r);var o=this._resolvers=[];
this._registerResolversFull(o,r)},methods:{_buildOptionId:function(){return this.id;
},_chartOption:function(e){return this.chart.options[e]},_registerResolversFull:function(t,n){
var i=e.get(n,"fixed");i&&(this._fixed=i,t.push(Y.options.specify(function(e){return i[e.name];
}))),this._registerResolversNormal(t,n);var r=e.get(n,"defaults");r&&(this._defaults=r),
t.push(this._resolveDefault)},_registerResolversNormal:function(t,n){e.get(n,"byV1",1)&&this.chart.compatVersion()<=1&&t.push(this._resolveByV1OnlyLogic),
this.name&&e.get(n,"byName",1)&&t.push(this._resolveByName),e.get(n,"byId",1)&&t.push(this._resolveByOptionId),
e.get(n,"byNaked",!this.index)&&t.push(this._resolveByNaked)},_resolveFull:function(e){
for(var t=this._resolvers,n=0,i=t.length;i>n;n++)if(t[n].call(this,e))return!0;return!1;
},_resolveFixed:Y.options.specify(function(e){return this._fixed?this._fixed[e.name]:void 0;
}),_resolveByV1OnlyLogic:function(e){var t,n=e.data;return n&&(t=n.resolveV1)?t.call(this,e):void 0;
},_resolveByName:Y.options.specify(function(t){return this.name?this._chartOption(this.name+e.firstUpperCase(t.name)):void 0;
}),_resolveByOptionId:Y.options.specify(function(t){return this._chartOption(this.optionId+e.firstUpperCase(t.name));
}),_resolveByNaked:Y.options.specify(function(t){return this._chartOption(e.firstLowerCase(t.name));
}),_resolveDefault:function(e){var t,n=e.data;if(n&&(t=n.resolveDefault)&&t.call(this,e))return!0;
if(this._defaults){var i=this._defaults[e.name];if(void 0!==i)return e.defaultValue(i),
!0}},_specifyChartOption:function(e,t){var n=this._chartOption(t);return null!=n?(e.specify(n),
!0):void 0}}})),e.scope(function(){function t(e){return e=Math.floor(e),isNaN(e)?null:-1>e||!isFinite(e)?-1:e;
}var n=e.makeEnum(["Interactive","ShowsActivity","ShowsSelection","ShowsTooltip","Selectable","Unselectable","Hoverable","Clickable","DoubleClickable","SelectableByClick","SelectableByRubberband","SelectableByFocusWindow","Animatable"]);
n.ShowsInteraction=n.ShowsActivity|n.ShowsSelection,n.Actionable=n.Hoverable|n.Clickable|n.DoubleClickable|n.SelectableByClick,
n.HandlesEvents=n.Actionable|n.ShowsTooltip,n.HandlesClickEvent=n.Clickable|n.SelectableByClick,
e("pvc.visual.Interactive",e.Object.extend({"type.methods":[n,{ShowsAny:n.ShowsInteraction|n.ShowsTooltip,
SelectableAny:n.Selectable|n.SelectableByClick|n.SelectableByRubberband|n.SelectableByFocusWindow,
parseBits:function(i){if(null==i)return null;if("number"==typeof i)return t(i);"string"!=typeof i&&(i=String(i));
var r=t(+i);return null!==r?r:(i.split(/\s*\|\s*/).forEach(function(t){var i=e.getOwn(n,t);
null!=i&&(null===r?r=i:r|=i)}),r)}}],methods:[{_ibits:-1,ibits:function(){return this._ibits;
}},e.query(e.ownKeys(n)).object({name:e.firstLowerCase,value:function(e){var t=n[e];
return function(){return!!(this.ibits()&t)}}})]}))}),Y.color={scale:f,scales:d,toGray:Y.toGrayScale,
isGray:h},e.type("pvc.color.ScalesBuild").init(function(n){this.keyArgs=n,this.data=n.data||e.fail.argumentRequired("keyArgs.data"),
this.domainDimName=n.colorDimension||e.fail.argumentRequired("keyArgs.colorDimension"),
this.domainDim=this.data.dimensions(this.domainDimName);var i=this.domainDim.type;
i.isComparable?this.domainComparer=function(e,t){return i.compare(e,t)}:(this.domainComparer=null,
e.log("Color value dimension should be comparable. Generated color scale may be invalid.")),
this.nullRangeValue=n.colorMissing?t.color(n.colorMissing):t.Color.transparent,this.domainRangeCountDif=0;
}).add({build:function(){this.range=this._getRange(),this.desiredDomainCount=this.range.length+this.domainRangeCountDif;
var e=this._getDomain();return this._createScale(e)},buildMap:function(){this.range=this._getRange(),
this.desiredDomainCount=this.range.length+this.domainRangeCountDif;var t;if(this.keyArgs.normPerBaseCategory)t=function(e){
var t=this._ensureDomain(null,!1,e);return this._createScale(t)};else{var n=this._getDomain(),i=this._createScale(n);
t=e.fun.constant(i)}return this._createCategoryScalesMap(t)},_createScale:e.abstractMethod,
_createCategoryScalesMap:function(e){return this.data.children().object({name:function(e){
return e.absKey},value:e,context:this})},_getRange:function(){var e=this.keyArgs,n=e.colors||["red","yellow","green"];
return null!=e.colorMin&&null!=e.colorMax?n=[e.colorMin,e.colorMax]:null!=e.colorMin?n.unshift(e.colorMin):null!=e.colorMax&&n.push(e.colorMax),
n.map(function(e){return t.color(e)})},_getDataExtent:function(e){var t=e.dimensions(this.domainDimName).extent({
visible:!0});if(!t)return null;var n=t.min.value,i=t.max.value;return i==n&&(i>=1?n=i-1:i=n+1),
{min:n,max:i}},_getDomain:function(){var e=this.keyArgs.colorDomain;return null!=e?(e=e.slice(),
this.domainComparer&&e.sort(this.domainComparer),e.length>this.desiredDomainCount&&(e=e.slice(0,this.desiredDomainCount))):e=[],
this._ensureDomain(e,!0,this.data)},_ensureDomain:function(n,i,r){var o;if(n&&i){
var a=this.desiredDomainCount-n.length;if(a>0&&(o=this._getDataExtent(r)))switch(a){
case 1:this.domainComparer?e.array.insert(n,o.max,this.domainComparer):n.push(o.max);
break;case 2:this.domainComparer?(e.array.insert(n,o.min,this.domainComparer),e.array.insert(n,o.max,this.domainComparer)):(n.unshift(o.min),
n.push(o.max));break;default:e.debug>=2&&e.log("Ignoring option 'colorDomain' due to unsupported length."+e.format(" Should have '{0}', but instead has '{1}'.",[this.desiredDomainCount,n.length])),
n=null}}if(!n&&(o||(o=this._getDataExtent(r)),o)){var s=o.min,l=o.max,u=(l-s)/(this.desiredDomainCount-1);
n=t.range(s,l+u,u)}return n}}),e.type("pvc.color.LinearScalesBuild",Y.color.ScalesBuild).add({
_createScale:function(e){var n=t.Scale.linear();return e&&n.domain.apply(n,e),n.range.apply(n,this.range),
n}}),e.type("pvc.color.DiscreteScalesBuild",Y.color.ScalesBuild).init(function(e){
this.base(e),this.domainRangeCountDif=1}).add({_createScale:function(n){function i(e){
if(null==e)return a;for(var t=0;r>t;t++)if(e<=n[t+1])return o[t];return o[s]}var r=n.length-1,o=this.range,a=this.nullRangeValue,s=o.length-1;
return e.copy(i,t.Scale.common),i.domain=function(){return n},i.range=function(){
return o},i}}),e.type("pvc.visual.Context").init(function(e,t,n){this.chart=e.chart,
this.panel=e,p.call(this,t,n)}).add({get parent(){throw e.error.operationInvalid("The 'this.parent.index' idiom has no equivalent in this version. Please try 'this.pvMark.parent.index'.");
},isPinned:!1,pin:function(){return this.isPinned=!0,this},compatVersion:function(){
return this.panel.compatVersion()},getCompatFlag:function(e){return this.panel.getCompatFlag(e);
},finished:function(e){return this.sign.finished(e)},delegate:function(e){return this.sign.delegate(e);
},getV1Series:function(){var t;return e.nullyTo(this.scene.firstAtoms&&(t=this.scene.firstAtoms[this.panel._getV1DimName("series")])&&t.rawValue,"Series");
},getV1Category:function(){var e;return this.scene.firstAtoms&&(e=this.scene.firstAtoms[this.panel._getV1DimName("category")])&&e.rawValue;
},getV1Value:function(){var e;return this.scene.firstAtoms&&(e=this.scene.firstAtoms[this.panel._getV1DimName("value")])&&e.value;
},getV1Datum:function(){return this.panel._getV1Datum(this.scene)},get:function(e,t){
return this.scene.get(e,t)},getSeries:function(){return this.scene.get("series")},
getCategory:function(){return this.scene.get("category")},getValue:function(){return this.scene.get("value");
},getTick:function(){return this.scene.get("tick")},getX:function(){return this.scene.get("x");
},getY:function(){return this.scene.get("y")},getColor:function(){return this.scene.get("color");
},getSize:function(){return this.scene.get("size")},getSeriesLabel:function(){return this.scene.get("series","label");
},getCategoryLabel:function(){return this.scene.get("category","label")},getValueLabel:function(){
return this.scene.get("value","label")},getTickLabel:function(){return this.scene.get("tick","label");
},getXLabel:function(){return this.scene.get("x","label")},getYLabel:function(){return this.scene.get("y","label");
},getColorLabel:function(){return this.scene.get("color","label")},getSizeLabel:function(){
return this.scene.get("size","label")},select:function(e){return this.scene.select(e);
},toggleVisible:function(){return this.scene.toggleVisible()},click:function(){var e=this;
if(e.clickable()&&e.panel._onClick(e),e.selectableByClick()){var t=e.event;e.select({
replace:!t||!(t.ctrlKey||t.metaKey)})}},doubleClick:function(){this.doubleClickable()&&this.panel._onDoubleClick(this);
},clickable:function(){var e=this;return(e.sign?e.sign.clickable():e.panel.clickable())&&(!e.scene||e.scene.clickable());
},selectableByClick:function(){var e=this;return(e.sign?e.sign.selectableByClick():e.panel.selectableByClick())&&(!e.scene||e.scene.selectableByClick());
},doubleClickable:function(){var e=this;return(e.sign?e.sign.doubleClickable():e.panel.doubleClickable())&&(!e.scene||e.scene.doubleClickable());
},hoverable:function(){var e=this;return(e.sign?e.sign.hoverable():e.panel.hoverable())&&(!e.scene||e.scene.hoverable());
}}),Y.text={getFitInfo:function(e,n,i,r,o){if(""===i)return{h:!0,v:!0,d:!0};var a=t.Text.measureWidth(i,r);
return{h:e>=a,v:n>=a,d:a<=Math.sqrt(e*e+n*n)-o}},trimToWidthB:function(e,n,i,r,o){
var a=t.Text.measureWidth(r,i),s=1.5*a;return Y.text.trimToWidth(e,n,i,r,o,s)},trimToWidth:function(e,n,i,r,o,a){
if(""===n)return n;var s=t.Text.measureWidth(n,i);return s>e&&(n=Y.text.trimToWidthBin(e,n,i,r,o,a)),
n},trimToWidthBin:function(e,n,i,r,o,a){function s(e,t,n){return o?e.slice(t):e.slice(0,n);
}var l=t.Text.measureWidth(n,i);if(e>=l)return n;for(var u,c=0,h=Math.max(0,e-t.Text.measureWidth(r,i)),d=n.length,f=d-1,p=0;f>p&&f>0;){
var m=(h-c)/(l-c);u=Math.ceil(p*(1-m)+f*m);var g=s(n,d-u,u),v=t.Text.measureWidth(g,i);
if(v>h)f=u-1,l=v;else{if(!(t.Text.measureWidth(s(n,d-u-1,u+1),i)<h))return a&&a>=v?"":o?r+g:g+r;
p=u+1,c=v}}return n=s(n,d-f,f),v=t.Text.measureWidth(n,i),a&&a>=v?"":o?r+n:n+r},justify:function(e,n,i){
var r=[];if(n<t.Text.measureWidth("a",i))return r;for(var o=(e||"").split(/\s+/),a="";o.length;){
var s=o.shift();if(s){var l=a?a+" "+s:s;t.Text.measureWidth(l,i)>n?(a&&r.push(a),
a=s):a=l}}return a&&r.push(a),r},getLabelBBox:function(e,n,i,r,o,a){var s=t.Label.getPolygon(e,n,i,r,o,a),l=s.bbox();
return l.source=s,l.sourceAngle=o,l.sourceAlign=i,l.sourceTextWidth=e,l}},e.space("pvc.trends",function(t){
var n={};e.set(t,"define",function(t,i){t||e.fail.argumentRequired("type"),i||e.fail.argumentRequired("trendSpec"),
e.object.is(i)||e.fail.argumentInvalid("trendSpec","Must be a trend specification object."),
t=(""+t).toLowerCase(),e.debug>=2&&e.hasOwn(n,t)&&e.log(e.format("[WARNING] A trend type with the name '{0}' is already defined.",[t]));
var r=i.label||e.fail.argumentRequired("trendSpec.label"),o=i.model||e.fail.argumentRequired("trendSpec.model");
e.fun.is(o)||e.fail.argumentInvalid("trendSpec.mode","Must be a function.");var a={
dataPartAtom:{v:"trend",f:r},type:t,label:r,model:o};n[t]=a},"get",function(t){return t||e.fail.argumentRequired("type"),
e.getOwn(n,t)||e.fail.operationInvalid("Undefined trend type '{0}'.",[t])},"has",function(t){
return e.hasOwn(n,t)},"types",function(){return e.ownKeys(n)}),t.define("linear",{
label:"Linear trend",model:function(t){for(var n=e.get(t,"rows"),i=e.get(t,"x"),r=e.get(t,"y"),o=0,a=0,s=0,l=0,u=0,c=0,h=function(e){
return null!=e?+e:NaN};n.next();){var d=n.item,f=i?h(i(d)):o;if(!isNaN(f)){var p=h(r(d));
isNaN(p)||(a++,s+=f,l+=p,u+=f*p,c+=f*f)}o++}if(a>=2){var m=s/a,g=l/a,v=u/a,y=c/a,b=y-m*m,_=0===b?0:(v-m*g)/b,x=g-_*m;
return{alpha:x,beta:_,reset:e.noop,sample:function(e){return x+_*+e}}}}}),t.define("moving-average",{
label:"Moving average",model:function(t){var n=Math.max(+(e.get(t,"periods")||3),2),i=0,r=[];
return{reset:function(){i=0,r.length=0},sample:function(e,t){var o=n;return null!=t&&(r.unshift(t),
i+=t,o=r.length,o>n&&(i-=r.pop(),o=n)),i/o}}}}),t.define("weighted-moving-average",{
label:"Weighted Moving average",model:function(t){var n=Math.max(+(e.get(t,"periods")||3),2),i=0,r=0,o=[],a=0,s=0;
return{reset:function(){i=r=s=a=0,o.length=0},sample:function(e,t){if(null!=t)if(n>a)o.push(t),
a++,s+=a,r+=a*t,i+=t;else{r+=a*t-i,i+=t-o[0];for(var l=1;n>l;l++)o[l-1]=o[l];o[n-1]=t;
}return r/s}}}})}),Y.spec={on:m.bind(null,"on"),before:m.bind(null,"before"),after:m.bind(null,"after")
},e("pvc.visual.SlidingWindow",Y.visual.OptionsBase.extend({init:function(e){this.base(e,"slidingWindow",0,{
byNaked:!1}),this.length=this.option("Length")},methods:{length:null,dimension:null,
select:v,initFromOptions:function(){this.length&&(this.dimension=this.option("Dimension"),
this.override("select",this.option("Select")))},setDataFilter:function(e){e.select=this.select.bind(this);
},setDimensionsOptions:function(t){var i=this.chart,r=i.options.dimensions,o=i.options.dimensionGroups;
t.dimensionsList().forEach(function(t){if(t.isDiscrete){var a=t.name,s=r&&r[a];if(!s||!s.comparer){
var l=n.DimensionType.dimensionGroupName(a),u=o&&o[l];if(!u||!u.comparer){var c=i.visualRolesOf(a,!0);
c&&t.setComparer(e.ascending)}}}})},setLayoutPreservation:function(e){null==e.options.preserveLayout&&(e.options.preserveLayout=!0);
},setAxesDefaults:function(e){e.axesList.forEach(function(e){var t=e.role;t&&(t.grouping.isSingleDimension&&t.grouping.singleDimensionName===this.dimension&&(e.option.defaults({
PreserveTickAlignment:!0}),this._setAxisFixedRatio(e)),"color"===e.type&&e.option.defaults({
PreserveMap:!0}))},this)},_setAxisFixedRatio:function(e){var t=e.option;t.isDefined("FixedLength")&&t.isDefined("PreserveRatio")&&(this.option.isSpecified("Length")&&e.option.defaults({
FixedLength:this.length}),e.option.defaults({PreserveRatio:!0}))}},options:{Dimension:{
resolve:"_resolveFull",cast:function(e){return Y.parseDimensionName(e,this.chart);
},getDefault:g},Length:{resolve:"_resolveFull",cast:function(e){return t.parseDatePrecision(e,null);
}},Select:{resolve:"_resolveFull",cast:e.fun.as,getDefault:function(){return v.bind(this);
}}}})),e.MetaType.subType(y,{methods:{variable:function(t,n){var i;if(this._vars[t])void 0!==n&&(i=e.set({},"_"+t+"EvalCore",e.fun.to(n)));else{
this._vars[t]=!0;var r=this.Ctor.prototype;i={};var o="_"+t+"Eval";i[t]=C(t,o);var a=o+"Core";
e.hasOwn(r,o)||(i[o]=e.methodCaller(a)),e.hasOwn(r,a)||(i[a]=e.fun.to(void 0===n?null:n));
}return i&&this.methods(i),this}}});var se=y.Ctor;e("pvc.visual.Scene",se.configure({
init:function(i,r){if(e.debug>=4&&(this.id=e.nextId("scene")),this._renderId=0,this.renderState={},
t.Dom.Node.call(this,null),this.parent=i||null,i){this.root=i.root;var o=e.get(r,"index",null);
i.insertAt(this,o)}else this.root=this,this._active=null,this._panel=e.get(r,"panel")||e.fail.argumentRequired("panel","Argument is required on root scene.");
var a,s,l,u,c,h,d,f=e.array.to(e.get(r,"source"));f&&f.length?(this.source=f,a=f[0],
a instanceof n.Data?(s=a,c=f,l=s.firstDatum()||e.query(c).select(function(e){return e.firstDatum();
}).first(e.notNully)):(a instanceof n.Datum||e.assert("not a datum"),l=a,u=f),h=a.atoms,
d=l&&l.atoms||h):h=d=i?Object.create(i.atoms):{},this.atoms=h,this.firstAtoms=d,c&&(this.groups=c),
s&&(this.group=s),u&&(this._datums=u),l&&(this.datum=l),(!a||a.isNull)&&(this.isNull=!0),
this.vars=i?Object.create(i.vars):{}},methods:[t.Dom.Node,Y.visual.Interactive,{source:null,
groups:null,group:null,_datums:null,datum:null,isNull:!1,get:function(e,t){var n=this.vars[e];
return n&&n[t||"value"]},getSeries:function(){return this.get("series")},getCategory:function(){
return this.get("category")},getValue:function(){return this.get("value")},getTick:function(){
return this.get("tick")},getX:function(){return this.get("x")},getY:function(){return this.get("y");
},getColor:function(){return this.get("color")},getSize:function(){return this.get("size");
},getSeriesLabel:function(){return this.get("series","label")},getCategoryLabel:function(){
return this.get("category","label")},getValueLabel:function(){return this.get("value","label");
},getTickLabel:function(){return this.get("tick","label")},getXLabel:function(){return this.get("x","label");
},getYLabel:function(){return this.get("y","label")},getColorLabel:function(){return this.get("color","label");
},getSizeLabel:function(){return this.get("size","label")},data:function(){var e=this.group;
if(!e){for(var t=this;!e&&(t=t.parent);)e=t.group;e||(e=this.panel.data)}return e;
},allGroup:function(){return 1===this.groups.length?this.group:this._allGroup||(this._allGroup=this._calcAllGroup());
},_calcAllGroup:function(){var e=this.groups;return new n.Data(e&&e.length?{linkParent:n.Data.lca(e),
datums:this.datums(),where:function(t){return!!e&&e.some(function(e){return e.contains(t);
})}}:{linkParent:this.data(),datums:this.datums()})},datums:function(){return this.groups?e.query(this.groups).selectMany(function(e){
return e.datums()}):this._datums?e.query(this._datums):e.query()},format:function(t){
return e.format(t,this._formatScope,this)},_formatScope:function(t){if("#"===t.charAt(0)){
if(t=t.substr(1).split("."),t.length>2)throw e.error.operationInvalid("Scene format mask is invalid.");
var n=this.firstAtoms[t[0]];if(n){if(t.length>1)switch(t[1]){case"value":return n.value;
case"label":break;default:throw e.error.operationInvalid("Scene format mask is invalid.");
}return n}return null}return e.getPath(this.vars,t)},isRoot:function(){return this.root===this;
},panel:function(){return this.root._panel},chart:function(){return this.root._panel.chart;
},compatVersion:function(){return this.root._panel.compatVersion()},children:function(){
var t=this.childNodes;return t.length?e.query(t):e.query()},leafs:function(){function t(e){
for(;e.childNodes.length;)e=e.childNodes[0];return e}var n=this;return e.query(function(e){
if(!e){var i=t(n);return i===n?0:(this.item=i,1)}var r=this.item.nextSibling;if(r)return this.item=r,
1;for(var o=this.item;o!==n&&(o=o.parentNode);)if(r=o.nextSibling)return this.item=t(r),
1;return 0})},anyInteraction:function(){return!!this.root._active||this.anySelected();
},isActive:!1,getIsActive:function(){return(this.ownerScene||this).isActive},setActive:function(e){
e=!!e,this.getIsActive()===e||!e&&b(t.event)||this.chart()._setActiveScene(e?this:null);
},clearActive:function(){return!!this.active()&&this.chart()._setActiveScene(null);
},_setActive:function(e){this.isActive!==e&&x.call(this.root,this.isActive?null:this);
},_clearActive:function(){return x.call(this.root,null)},anyActive:function(){return!!this.root._active;
},active:function(){return this.root._active},activeSeries:function(){var e,t=this.active();
return t&&(e=t.vars.series)?e.value:void 0},isActiveSeries:function(){if(this.isActive)return!0;
var e=this.renderState.isActiveSeries;if(null==e){var t;e=void 0!==(t=this.activeSeries())&&t===this.vars.series.value,
this.renderState.isActiveSeries=e}return e},isActiveDatum:function(){return this.isActive?!0:!1;
},isActiveDescendantOrSelf:function(){return this.isActive||e.lazy(this.renderState,"isActiveDescOrSelf",this._calcIsActiveDescOrSelf,this);
},_calcIsActiveDescOrSelf:function(){var e=this.active();if(e)for(;e=e.parent;)if(e===this)return!0;
return!1},isVisible:function(){return this._visibleInfo().is},anyVisible:function(){
return this._visibleInfo().any},_visibleInfo:function(){return e.lazy(this.renderState,"visibleInfo",this._createVisibleInfo,this);
},_createVisibleInfo:function(){var t=this.chart().data.owner.visibleCount()>0,n=t&&this.datums().any(e.propGet("isVisible"));
return{any:t,is:n}},isSelected:function(){return this._selectedInfo().is},anySelected:function(){
return this._selectedInfo().any},_selectedInfo:function(){return e.lazy(this.renderState,"selectedInfo",this._createSelectedInfo,this);
},_createSelectedInfo:function(){var e=this.chart().data.owner.selectedCount()>0,t=e&&this.datums().any(n.Datum.isSelected);
return{any:e,is:t}},select:function(t){var i=this,r=i.datums().array();if(r.length){
var o=i.chart();o._updatingSelections(function(){r=o._onUserSelection(r,i.group||i.datum),
r&&r.length&&(o.options.ctrlSelectMode&&e.get(t,"replace",!0)?o.data.replaceSelected(r):n.Data.toggleSelected(r));
})}},isSelectedDescendantOrSelf:function(){return this.isSelected()||e.lazy(this.renderState,"isSelectedDescOrSelf",this._calcIsSelectedDescOrSelf,this);
},_calcIsSelectedDescOrSelf:function(){var e=this.firstChild;if(e)do if(e.isSelectedDescendantOrSelf())return!0;while(e=e.nextSibling);
return!1},toggleVisible:function(){n.Data.toggleVisible(this.datums())&&this.chart().render(!0,!0,!1);
},asView:function(e){return this.chart()._processViewSpec(e),this._asView(e.dimsKey,e.dimNames);
},_asView:function(t,n){if(this.ownerScene)return this.ownerScene._asView(t,n);var i=e.lazy(this,"_viewCache"),r=e.getOwn(i,t);
return void 0===r&&(i[t]=r=this._calcView(n)),r},_calcView:function(e){for(var t,i,r=null,o=0,a=e.length;a>o;o++){
if(i=e[o],t=this.atoms[i],!t||null==t.value)return null;(r||(r={}))[i]=t}return new n.Complex(this.data().owner,r,e,null,!0,!1);
}}]}));var le=Y.visual.ValueLabelVar=function(e,t,n,i){this.value=e,this.label=t,
void 0!==n&&(this.rawValue=n),void 0!==i&&(this.absLabel=i)};e.set(le.prototype,"rawValue",void 0,"absLabel",void 0,"setValue",function(e){
return this.value=e,this},"setLabel",function(e){return this.label=e,this},"clone",function(){
return new le(this.value,this.label,this.rawValue)},"toString",function(){var e=this.label||this.value;
return null==e?"":"string"!=typeof e?""+e:e}),le.fromComplex=function(e){return e?new le(e.value,e.label,e.rawValue,e.absLabel):new le(null,"",null);
},le.fromAtom=le.fromComplex;var ue=["extensionDataSetsMap","reverse","visible","selected","isNull","where","whereKey"];
e.type("pvc.visual.Role").init(function(t,n,i){this.uid="r"+e.nextId("visual-role"),
this.chart=t,this.name=n,this.label=e.get(i,"label")||e.titleFromName(n),this.index=e.get(i,"index")||0,
this.plot=e.get(i,"plot")||null,this._legend={visible:!0},this.dimensionDefaults=e.get(i,"dimensionDefaults")||{},
this._isReversed=!1,this.isRequired=!!e.get(i,"isRequired",!1),this.autoCreateDimension=!!e.get(i,"autoCreateDimension",!1);
var r=e.get(i,"defaultSourceRole");r&&(this.defaultSourceRoleName=this.plot?this.plot.ensureAbsRoleRef(r):r);
var o=e.get(i,"defaultDimension");if(o){this.defaultDimensionName=o;var a=o.match(/^(.*?)(\*)?$/);
this.defaultDimensionGroup=a[1],this.defaultDimensionGreedy=!!a[2]}if(this.rootLabel=e.get(i,"rootLabel"),
this.flatteningModes=e.get(i,"flatteningModes"),this.flatteningMode=e.get(i,"flatteningMode"),
!o&&this.autoCreateDimension)throw e.error.argumentRequired("defaultDimension");var s=e.get(i,"requireSingleDimension"),l=e.get(i,"requireIsDiscrete"),u=null!=l&&!l;
if(null==s&&(s=u),!l&&e.get(i,"isMeasure")){this.isMeasure=!0;var c=e.get(i,"isNormalized");
(c||e.get(i,"isPercent"))&&(this.isPercent=!0),c&&(this.isNormalized=!0)}this.boundDimensionsDataSetName=this.isMeasure?n+"Role":null,
this.discriminatorDimensionFullName=this.isMeasure?this.boundDimensionsDataSetName+".dim":null;
var h=e.get(i,"valueType",null);h!==this.valueType&&(this.valueType=this.dimensionDefaults.valueType=h),
s!==this.requireSingleDimension&&(this.requireSingleDimension=s),null!=l&&(this.requireIsDiscrete=this.dimensionDefaults.isDiscrete=!!l),
this._sourceRole=null,this.grouping=null}).add({requireSingleDimension:!1,valueType:null,
requireIsDiscrete:null,isMeasure:!1,isNormalized:!1,isPercent:!1,defaultSourceRoleName:null,
defaultDimensionName:null,defaultDimensionGroup:null,defaultDimensionGreedy:null,
label:null,_rootSourceRole:void 0,_legend:null,prettyId:function(){return(this.plot?this.plot.prettyId+".":"")+this.name;
},legend:function(t){if(arguments.length){if(null!=t)switch(typeof t){case"boolean":
this._legend.visible=!!t;break;case"object":e.each(t,function(e,t){void 0!==e&&("visible"===t&&(e=!!e),
this[t]=e)},this._legend)}return this}return this._legend},firstDimensionType:function(){
var e=this.grouping;return e&&e.firstDimensionType()},firstDimensionName:function(){
var e=this.grouping;return e&&e.firstDimensionName()},firstDimensionValueType:function(){
var e=this.grouping;return e&&e.firstDimensionValueType()},lastDimensionType:function(){
var e=this.grouping;return e&&e.lastDimensionType()},lastDimensionName:function(){
var e=this.grouping;return e&&e.lastDimensionName()},lastDimensionValueType:function(){
var e=this.grouping;return e&&e.lastDimensionValueType()},get isMeasureEffective(){
return this.isMeasure?this.isBound()?!this.isDiscrete():null:!1},isDiscrete:function(){
var e=this.grouping;return e&&e.isDiscrete()},get sourceRole(){return this._sourceRole;
},set sourceRole(e){this._sourceRole=e||null,this._rootSourceRole=void 0},get rootSourceRole(){
var e,t=this._rootSourceRole;if(void 0===t){if(t=this.sourceRole,null!==t)for(;null!==(e=t.sourceRole);)t=e;
this._rootSourceRole=t}return t},get isReversed(){return this._isReversed},set isReserved(e){
this._isReversed=!!e},_flatteningModes:n.FlatteningMode.AllMask,get flatteningModes(){
return this._flatteningModes},set flatteningModes(t){if(t=e.nullyTo(t,n.FlatteningMode.AllMask),
this._flatteningModes!==t){if(t=this._flatteningModes&t,!t)throw e.error.argumentInvalid("flatteningModes","Cannot become empty.");
this._flatteningModes=t;var i=this.flatteningMode&t;i||(i=t&-t,this.flatteningMode=i);
}},_flatteningMode:n.FlatteningMode.SingleLevel,get flatteningMode(){return this._flatteningMode;
},set flatteningMode(t){if(null!=t&&t!==this._flatteningMode){if(!(t&this.flatteningModes))throw e.error.argumentInvalid("flatteningMode","Value is not currently valid.");
this._flatteningMode=t}},get rootLabel(){return this._rootLabel},set rootLabel(e){
e||(e=""),e!==this._rootLabel&&(this._rootLabel=e,this.grouping&&this._setGrouping(this.grouping));
},flatten:function(t,n){return n=e.whiteList(n,ue)||{},n.extensionDataSetsMap||(n.extensionDataSetsMap=(this.plot||this.chart).boundDimensionsDataSetsMap),
t.groupBy(this.flattenedGrouping(n),n)},flattenedGrouping:function(){var t=this.grouping||e.fail.operationInvalid("Role is unbound.");
return t=t.ensure({flatteningMode:this.flatteningMode})},select:function(t,n){var i=this.grouping||e.fail.operationInvalid("Role is unbound.");
return n=e.whiteList(n,ue),n.extensionDataSetsMap||(n.extensionDataSetsMap=(this.plot||this.chart).boundDimensionsDataSetsMap),
t.groupBy(i,n)},view:function(e){var t=this.grouping;return t?t.view(e):void 0},preBind:function(e){
return this.__grouping=e,this},isPreBound:function(){return!!this.__grouping},preBoundGrouping:function(){
return this.__grouping},isBound:function(){return!!this.grouping},get boundDimensionsDataSet(){
var e=this._boundDimsData;if(!e){var t=this.chart.getBoundDimensionsDataSetOf(this);
this._boundDimsData=e=t.where(null,{where:this._isBoundDimensionDatum.bind(this)});
}return e},_isBoundDimensionDatum:function(e){var t=this.grouping;if(t){var n=e.atoms.dim.value;
return t.dimensionNames().indexOf(n)>=0}return!1},_loadDimensionsDataSet:function(){
var e=this.boundDimensionsDataSet,t=e.owner,i=this.grouping.complexType,r=this.grouping.dimensionNames().map(function(e){
var r=i.dimensions(e);return new n.Datum(t,{dim:{v:e,f:r.label}})});t.add(r)},postBind:function(e,t){
var n=this.__grouping;return n&&(n.isNull||(n.bind(e,t),this.bind(n)),delete this.__grouping),
this},bind:function(t){if(!t)throw e.error.argumentRequired("groupingSpec");if(this.grouping)throw e.error.operationInvalid("Visual role is already bound");
return this._coerceGrouping(t),this._setGrouping(t),this.isMeasureEffective&&(this._loadDimensionsDataSet(),
this._setupGetBoundDimensionName()),this},_coerceGrouping:function(t){if(!t.isBound)throw e.error.operationInvalid("Cannot bind to an unbound grouping.");
if(t.isNull)throw e.error.operationInvalid("Cannot bind to a null grouping.");if(this.requireSingleDimension&&!t.isSingleDimension)throw e.error.operationInvalid("Role '{0}' only accepts a single dimension.",[this.name]);
var i=this.valueType,r=this.requireIsDiscrete;t.dimensions().each(function(t){var o=t.dimensionType;
if(i&&o.valueType!==i)throw e.error.operationInvalid("Role '{0}' cannot be bound to dimension '{1}'. \nIt only accepts dimensions of type '{2}' and not of type '{3}'.",[this.name,o.name,n.DimensionType.valueTypeName(i),o.valueTypeName]);
if(null!=r&&o.isDiscrete!==r){if(!r)throw e.error.operationInvalid("Role '{0}' cannot be bound to dimension '{1}'.\nIt only accepts continuous dimensions.",[this.name,o.name]);
o._toDiscrete()}},this)},canHaveSource:function(e){var t=this.valueType;return null==t||t===e.valueType;
},_setGrouping:function(e){e=e.ensure({rootLabel:this.rootLabel}),this.isReversed&&(e=e.reverse()),
this.grouping=e},_setupGetBoundDimensionName:function(){var e=this.discriminatorDimensionFullName,t=this.boundDimensionsDataSet,n=this.grouping.isSingleDimension?this.grouping.singleDimensionName:null;
this.getBoundDimensionName=function(i,r){var o,a=i.atoms[e];if(void 0===a||null===(o=a.value)){
if(null!==n)return n;if(r)return null;throw this._errorMustBindDiscrimDimension();
}if(!t.datumByKey(o)){if(r)return null;throw this._errorMustBindDiscrimDimension();
}return o}},_errorMustBindDiscrimDimension:function(){return new e.error.operationInvalid("Must bind the measure discriminator dimension '"+this.discriminatorDimensionFullName+"'.");
},getBoundDimensionName:function(){throw e.error.operationInvalid("Not a bound measure visual role.");
},isBoundDimensionName:function(e,t){return this.getBoundDimensionName(e,!0)===t},
isBoundDimensionCompatible:function(e){var t=this.discriminatorDimensionFullName,n=this.boundDimensionsDataSet,i=e.atoms[t];
if(void 0===i||null===i.value)return!0;var r=i.value;return!!n.datumByKey(r)},getCompatibleBoundDimensionNames:function(e){
var t=this.discriminatorDimensionFullName,n=this.boundDimensionsDataSet,i=e.atoms[t];
if(void 0===i||null===i.value)return this.grouping.dimensionNames();var r=i.value;
return null!==n.datumByKey(r)?[r]:[]},numberValueOf:function(e,t){return this.grouping.isSingleDimension?e.dimensionNumberValue(this.grouping.singleDimensionName,t):(t=this._getDimensionOperKeyArgs(t),
e.dimensionNumberValue(this.getBoundDimensionName.bind(this),t))},percentOf:function(e,t){
return this.grouping.isSingleDimension?e.dimensionPercentValue(this.grouping.singleDimensionName,t):(t=this._getDimensionOperKeyArgs(t),
e.dimensionPercentValue(this.getBoundDimensionName.bind(this),t))},_getDimensionOperKeyArgs:function(e){
return e=e?Object.create(e):{},e.discrimKey=this.uid,e.discrimPossibleDims=this.grouping.allDimensionNames,
e}}).type().add({readConfig:function(t,i,r){var o,a={isReversed:!1,source:null,grouping:null,
legend:null};if(e.object.is(t)){t.isReversed&&(a.isReversed=!0),a.legend=t.legend;
var s=t.from;if(s){if(s===i)throw e.error.operationInvalid("Invalid source role.");
a.source=r(s)||e.fail.operationInvalid("Source visual role '{0}' is not defined.",[s]);
}else o=t.dimensions}else(null===t||e.string.is(t))&&(o=t);return void 0!==o&&(a.grouping=n.GroupingSpec.parse(o)),
a},parseDataSetName:function(e){var t=/^(.+?)Role$/.exec(e);return t&&t[1]}}),Y.visual.rolesBinder=function(){
function t(){if(k(A,x),!v)throw e.error.argumentRequired("context");if(!y)throw e.error.argumentRequired("complexTypeProject");
return A=w,_=!!b&&b.level()>=3,v.query().each(function(e){var t=v.getOptions(e),n=void 0===t||!i(e,t);
n&&r(e)}),j.forEach(l,this),j=[],c(),A=C,this}function i(e,t){var n=Y.visual.Role.readConfig(t,e.name,v);
if(n.isReversed&&(e.isReserved=!0),null!=n.legend&&e.legend(n.legend),n.source)return e.sourceRole=n.source,
o(e),!0;var i=n.grouping;return i?(a(e,i),!0):!1}function r(e){var t=v(e.name),n=t!==e;
n&&e.canHaveSource(t)&&(e.sourceRole=t,o(e))}function o(e){j.push(e)}function a(e,t){
e.preBind(t),t.isNull?S(e):t.dimensionNames().forEach(function(t){s(e,t)})}function s(e,t){
P[t]?delete I[t]:(P[t]=!0,I[t]=e,y.setDim(t))}function l(e){return u(e,Object.create(null));
}function u(t,n){var i=t.uid;if(e.hasOwn(n,i))throw e.error.argumentInvalid("visualRoles","Cyclic source role definition.");
if(n[i]=!0,t.isPreBound())return t.preBoundGrouping();var r=t.sourceRole;if(r){var o=u(r,n);
return o&&(r.isReversed&&(t.isReserved=!t.isReversed),t.preBind(o)),o}return null;
}function c(){e.eachOwn(I,function(e,t){y.setDimDefaults(t,e.dimensionDefaults)}),
I=Object.create(null)}function h(){k(A,C),A=D,v.query().where(function(e){return!e.isPreBound();
}).each(d),j.forEach(function(e){l(e)||p(e)}),c(),A=M}function d(e){if(e.sourceRole)return o(e);
var t=e.defaultDimensionGroup;if(t){if(e.defaultDimensionGreedy){var n=y.groupDimensionsNames(t);
if(n)return f(e,n)}else if(y.hasDim(t))return f(e,t);if(e.autoCreateDimension)return y.setDim(t,{
isHidden:!0}),f(e,t)}if(e.defaultSourceRoleName){var i=v(e.defaultSourceRoleName);
if(i)return e.sourceRole=i,o(e)}p(e)}function f(e,t){var i=n.GroupingSpec.parse(t);
a(e,i)}function p(e){S(e),e.sourceRole=null}function m(t){k(A,M),A=N,v.query().where(function(e){
return e.isMeasure&&e.isPreBound()}).each(function(e){try{e.postBind(t)}catch(n){
if("need-extension-map"!==n.code)throw n}});var n=null;v.query().where(function(e){
return e.isPreBound()}).each(function(i){var r;"dataPart"===i.name?r=null:i.plot?r=i.plot.boundDimensionsComplexTypesMap:(null===n&&(n=v.getExtensionComplexTypesMap()),
r=n);try{i.postBind(t,r)}catch(o){if("need-extension-map"===o.code&&"dataPart"===i.name)throw e.error.operationInvalid("The data part visual role cannot be bound to measure role discriminator dimensions.");
throw o}}),_&&g(),A=T}function g(){var t=e.textTable(3).rowSep().row("Visual Role","Source Role","Bound to Dimension(s)").rowSep();
v.query().each(function(e){t.row(e.prettyId(),e.sourceRole?e.sourceRole.prettyId():"-",String(e.grouping||"-"));
}),t.rowSep(!0),b("VISUAL ROLES MAP SUMMARY\n"+t()+"\n")}var v,y,b,_,x=0,w=1,C=2,D=3,M=4,N=5,T=6,A=x,j=[],I=Object.create(null),P=Object.create(null);
return{logger:function(e){return arguments.length?(k(A,x),b=e,this):b},context:function(e){
return arguments.length?(k(A,x),v=e,this):v},complexTypeProject:function(e){return arguments.length?(k(A,x),
y=e,this):y},init:t,dimensionsFinished:h,bind:m}},e.type("pvc.visual.RoleVarHelper").init(function(t,n,i,r){
this.role=i||null;var o=i&&i.grouping;if(this.grouping=o,!n){if(!i)throw e.error.operationInvalid("Role is not defined, so the roleName argument is required.");
n=i.name}if(this.roleName=n,this.sourceRoleName=null,this.hasPercentSubVar=e.get(r,"hasPercentSubVar",!1),
this.allowNestedVars=!!e.get(r,"allowNestedVars"),this.isNumericMode=!1,null!==o){
var a=i.rootSourceRole,s=a&&a.name;s!==i.name&&(this.sourceRoleName=s),o.isDiscrete()||o.singleContinuousValueType!==Number||(this.isNumericMode=!0);
}else{var l=t.vars[n]=this._createNullVar();this.hasPercentSubVar&&(l.percent=this._createNullVar());
}t["is"+e.firstUpperCase(n)+"Bound"]=!!o}).add({isBound:function(){return!!this.grouping;
},onNewScene:function(t,n){if(this.grouping){var i=this.roleName;if(!(this.allowNestedVars?e.hasOwnProp.call(t.vars,i):i in t.vars)){
var r,o=this.sourceRoleName;null===o||null===(r=e.getOwn(t.vars,o,null))?n&&(t.vars[i]=this._createVar(t)):t.vars[i]=r.clone();
}}},_createVar:function(e){if(this.isNumericMode){var t=e.group,n=null!==t?t.singleDatum():e.datum;
return null!==n?this._createVarFromDatumNumber(n,e):null!==t?this._createVarFromGroupNumber(t):this._createVarFromDatumNumber(null,e);
}var i=e.datum;return null!==i&&i.isNull&&(i=e.datums().where(D).first()||null),this._createVarFromDatumDiscrete(i);
},_createNullVar:function(){return new le(null,"")},_createVarFromDatumDiscrete:function(e){
if(null===e||e.isNull)return this._createNullVar();if(this.grouping.isSingleDimension)return le.fromAtom(e.atoms[this.grouping.singleDimensionName]);
var t=this.grouping.view(e);return le.fromComplex(t)},_createVarFromDatumNumber:function(e,t){
var n,i=null;if(null===e||e.isNull)n=this._createNullVar();else{var r,o=t.group,a=this.role.getBoundDimensionName(o||t.data(),null!=o);
r=null!==a?e.atoms[a]:this.role.numberValueOf(o),n=le.fromAtom(r),n.dimensionName=a,
null!=n.value&&this.hasPercentSubVar&&null!==t.group&&(i=this.role.percentOf(t.group));
}return this.hasPercentSubVar&&(n.percent=this._createPercentVar(i)),n},_createVarFromGroupNumber:function(e){
var t=this.role.numberValueOf(e),n=le.fromAtom(t);if(n.dimensionName=null!==t.dimension?t.dimension.name:null,
this.hasPercentSubVar){var i=null!==t.value?this.role.percentOf(e):null;n.percent=this._createPercentVar(i);
}return n},_createPercentVar:function(e){return null==e?this._createNullVar():new le(e.value,e.labelPercent);
}}),e.type("pvc.visual.DataCell").init(function(e,t,n,i){this.plot=e,this.dataPartValue=e.dataPartValue,
this.axisType=t,this.axisIndex=n,this.role=i,this.key=[t,n,i.prettyId(),this.dataPartValue].join("~");
}).add({legendVisible:function(){return this.role.legend().visible},isDataBoundOn:function(e){
var t=this.role;return t.isBound()?t.isMeasureEffective?t.isBoundDimensionCompatible(e):!0:!1;
}}),e.type("pvc.visual.ColorDataCell",Y.visual.DataCell).init(function(e,t,n,i){this.base(e,t,n,i),
this._legendGroupScene=null,this._legendSymbolRenderer=null}).add({legendSymbolRenderer:function(e){
return arguments.length?(e&&"object"==typeof e&&(e=Y.visual.legend.symbolRenderer(e)),
this._legendSymbolRenderer=e,this):this._legendSymbolRenderer}});var ce=e("pvc.visual.Axis",Y.visual.OptionsBase.extend({
init:function(t,n,i,r){this.base(t,n,i,r),this.dataCells=null,this.dataCell=null,
this.role=null,this._dataCellsByKey=null,this._dataCellsScaleInfoByKey=null,this._domainData=null,
this._domainItems=null,this._domainValues=null,this.scaleType=null,this._state={},
r&&r.state&&e.copy(this._state,r.state),t._addAxis(this)},methods:{_buildOptionId:function(){
return this.id+"Axis"},bind:function(t){return t||e.fail.argumentRequired("dataCells"),
!this.dataCells||e.fail.operationInvalid("Axis is already bound."),this.dataCells=e.array.to(t),
this._dataCellsByKey=e.query(this.dataCells).uniqueIndex(function(e){return e.key;
}),this.dataCell=this.dataCells[0],this.role=this.dataCell&&this.dataCell.role,this.scaleType=M(this.role.grouping),
this._conciliateVisualRoles(),this},isBound:function(){return!!this.role},__assertBound:function(){
this.isBound()||e.fail.operationInvalid("Axis is not bound.")},isDiscrete:function(){
return!!this.role&&this.role.isDiscrete()},_conciliateVisualRoles:function(){var t=this.dataCells.length;
if(t>1){var i,r,o,a,s,l,u,c,h=this._getBoundRoleGrouping(this.role),d=function(t,n){
return e.error.operationInvalid(e.format(t,n))};if("discrete"===this.scaleType){for(o=this.role.flatteningModes,
l=this.role.rootLabel,u=String(this.role.grouping.dimensionNames()),c=1;t>c&&o;c++)if(i=this.dataCells[c].role,
o&=i.flatteningModes,l||(l=i.rootLabel),r=this._getBoundRoleGrouping(i),u!==String(r.dimensionNames()))throw d("The visual roles '{0}', on axis '{1}', assumed discrete, should be bound to the same dimension list.",[[this.role.prettyId(),i.prettyId()].join("', '"),this.id]);
if(o===n.FlatteningMode.None)throw d("The visual roles on axis '{0}', assumed discrete, do not share a possible flattening mode.",[this.id]);
for(a=0,c=0;t>c;c++)i=this.dataCells[c].role,s=i.flatteningMode,s&o&&s>a&&(a=s);for(a||(a=o&-o),
c=0;t>c;c++)i=this.dataCells[c].role,i.rootLabel=l,i.flatteningMode=a,i.flatteningModes=a;
}else{if(!h.firstDimension.dimensionType.isComparable)throw d("The visual roles on axis '{0}', assumed continuous, should have 'comparable' groupings.",[this.id]);
for(c=1;t>c;c++){if(i=this.dataCells[c].role,r=this._getBoundRoleGrouping(i),this.scaleType!==M(r))throw d("The visual roles on axis '{0}', assumed continuous, should have scales of the same type.",[this.id]);
if(this.role.isNormalized!==i.isNormalized)throw d("The visual roles on axis '{0}', assumed normalized, should be of the same type.",[this.id]);
}}}},_getBoundRoleGrouping:function(t){var n=t.grouping;if(!n||!n.isBound)throw e.error.operationInvalid("Axis' role '{0}' is unbound.",[t.name]);
return n},getState:function(){return this._buildState()},_buildState:function(){return{};
},setDataCellScaleInfo:function(t,n){if(this._dataCellsByKey[t.key]!==t)throw e.error.argumentInvalid("dataCell","Not present in this axis.");
e.lazy(this,"_dataCellsScaleInfoByKey")[t.key]=n},getDataCellScaleInfo:function(t){
return e.getOwn(this._dataCellsScaleInfoByKey,t.key)},domainVisibleOnly:e.retTrue,
domainIgnoreNulls:e.retFalse,domainReverse:e.retFalse,domainGroupOperator:e.fun.constant("flatten"),
domainItemValueProp:e.fun.constant("value"),domainItemKeyProp:e.fun.constant("key"),
_selectDomainItems:function(e){return e.children()},domainData:function(){this.__assertBound();
var t=this._domainData;if(!t){var n=e.query(this.dataCells).select(e.propGet("dataPartValue")).distinct().array(),i=this.chart.partData(n);
this._domainData=t=this._createDomainData(i)}return t},domainCellData:function(e){
this.__assertBound();var t=this.dataCells;if(1===t.length)return this.domainData();
var n=t[e],i=this.chart.partData(n.dataPartValue);return this._createDomainData(i);
},domainCellItems:function(t){this.__assertBound();var n=this.dataCells;if(1===n.length)return this.domainItems();
var i=e.number.is(t)?this.domainCellData(t):t;return this._selectDomainItems(i).array();
},domainValues:function(){var e=this._domainValues;return e||(this._calcDomainItems(),
e=this._domainValues),e},domainItems:function(){var e=this._domainItems;return e||(this._calcDomainItems(),
e=this._domainItems),e},domainItemCount:function(){return this.domainItems().length;
},domainItemValue:function(t){return e.nullyTo(t[this.domainItemValueProp()],"")},
domainItemKey:function(t){return e.nullyTo(t[this.domainItemKeyProp()],"")},get boundDimensionsDataSetsMap(){
var e=null;if(this.isBound()&&this.isDiscrete()){var t=this.role.grouping.extensionComplexTypeNames;
if(t){var n=this.chart.boundDimensionsDataSetsMap;e=Object.create(null),t.forEach(function(t){
e[t]=n[t]})}}return e},_createDomainData:function(e){this.__assertBound();var t={
visible:this.domainVisibleOnly()?!0:null,isNull:this.chart.options.ignoreNulls||this.domainIgnoreNulls()?!1:null,
reverse:this.domainReverse(),extensionDataSetsMap:this.boundDimensionsDataSetsMap
};return this.role[this.domainGroupOperator()](e,t)},_calcDomainItems:function(){
var t=this.domainData(),n=[],i=[],r=Object.create(null),o=e.hasOwnProp;this._selectDomainItems(t).each(function(e){
var t=this.domainItemKey(e);o.call(r,t)||(r[t]=1,i.push(this.domainItemValue(e)),
n.push(e))},this),this._domainItems=n,this._domainValues=i},scaleTreatsNullAs:e.fun.constant("null"),
scaleNullRangeValue:e.fun.constant(null),scaleUsesAbs:e.retFalse,scaleSumNormalized:e.retFalse,
setScale:function(t,n){return this.isBound()||e.fail.operationInvalid("Axis is not bound."),
this.scale=t?n?t:this._wrapScale(t):null,this},_wrapScale:function(t){t.type=this.scaleType;
var n;if("discrete"!==t.type){var i=this.scaleUsesAbs(),r=this.scaleTreatsNullAs();
if(r&&"null"!==r){var o="min"===r;n=i?function(e){return t(null==e?o?t.domain()[0]:0:0>e?-e:e);
}:function(e){return t(null==e?o?t.domain()[0]:0:e)}}else{var a=this.scaleNullRangeValue();
n=i?function(e){return null==e?a:t(0>e?-e:e)}:function(e){return null==e?a:t(e)}}
}else n=function(e){return t(null==e?"":e)};return e.copy(n,t)},sceneScale:function(t){
var n=e.get(t,"sceneVarName")||this.role.name,i=this.role.grouping,r=this.scale;if(i.singleContinuousValueType===Number){
var o=e.get(t,"nullToZero",!0),a=function(e){var t=e.vars[n].value;if(null==t){if(!o)return t;
t=0}return r(t)};return e.copy(a,r),a}return r.by1(function(e){return e.vars[n].value;
})}}}));e("pvc.visual.ColorAxis",ce.extend({methods:{scaleNullRangeValue:function(){
return this.option("Missing")||null},scaleUsesAbs:function(){return this.option("UseAbs");
},domainVisibleOnly:function(){return"discrete"!==this.scaleType},bind:function(t){
return this.base(t),this._legendGroupScene=null,this._plotList=e.query(t).select(function(e){
return e.plot}).distinct(function(e){return e&&e.id}).array(),this},_buildState:function(){
return{preservedMap:this._calcPreservedMap()}},_calcPreservedMap:function(){var t=this.scale;
if(t&&"discrete"===this.scaleType){var n=this._state.preservedMap||{};return t.domain().forEach(function(i){
e.hasOwn(n,i)||(n[i]=t(i))}),n}},_wrapScale:function(e){var t=this.option.isSpecified,n="discrete"!==this.scaleType||t("Transform")||!t("Colors");
if(n){var i=this.option("Transform");i&&(e=e.transform(i))}return this.base(e)},scheme:function(){
return e.lazy(this,"_scheme",this._createScheme,this)},_createColorMapFilter:function(t){
var n=e.uniqueIndex(t,function(e){return e.key});return{domain:function(n){return!e.hasOwn(t,n);
},color:function(t){return!e.hasOwn(n,t.key)}}},_getBaseScheme:function(){return this.option("Colors");
},_createScheme:function(){var t=this,n=t._getBaseScheme();if("discrete"!==t.scaleType)return function(){
var e=n.apply(null,arguments);return t._wrapScale(e)};var i=this._getPreservedMap()||t.option("Map");
if(!i)return function(){var e=n.apply(null,arguments);return t._wrapScale(e)};var r=this._createColorMapFilter(i,n);
return function(o){var a;o instanceof Array||(o=e.array.copy(arguments)),o=o.filter(r.domain);
var s=n(o),l=s.range().filter(r.color);s.range(l),a=function(t){var n=e.getOwn(i,t);
return n||s(t)},e.copy(a,s);var u,c;return a.domain=function(){if(arguments.length)throw e.error.operationInvalid("The scale cannot be modified.");
return u||(u=e.array.append(e.ownKeys(i),o)),u},a.range=function(){if(arguments.length)throw e.error.operationInvalid("The scale cannot be modified.");
return c||(c=e.array.append(e.own(i),l)),c},t._wrapScale(a)}},_getPreservedMap:function(){
return this.option("PreserveMap")?this._state.preservedMap:null},sceneScale:function(t){
var n=e.get(t,"sceneVarName")||this.role.name,i=this.scalesByCateg;if(i){var r=this.option("Missing");
return function(e){var t=e.vars[n].value;if(null==t)return r;var o=e.group.parent.absKey;
return i[o](t)}}return this.scale.by1(function(e){return e&&e.vars[n].value})},_registerResolversNormal:function(e){
this.chart.compatVersion()<=1&&e.push(this._resolveByV1OnlyLogic),e.push(this._resolveByOptionId,this._resolveByScaleType,this._resolveByCommonId),
this.index||e.push(this._resolveByNaked)},_resolveByScaleType:Y.options.specify(function(e){
var t=this.scaleType;if(t){var n=e.name,i=this._chartOption(t+"ColorAxis"+n);return void 0===i&&"discrete"!==t&&(i=this._chartOption("continuousColorAxis"+n)),
i}}),_resolveByCommonId:Y.options.specify(function(e){return this._chartOption("colorAxes"+e.name);
}),_resolveByNaked:Y.options.specify(function(t){return this._chartOption(this.id+e.firstUpperCase(t.name));
}),_specifyV1ChartOption:function(e,t){return!this.index&&this.chart.compatVersion()<=1&&this._specifyChartOption(e,t)?!0:void 0;
}}}));var he,de={resolveDefault:function(t){return!this.index&&this._specifyChartOption(t,e.firstLowerCase(t.name))?!0:void 0;
}};Y.visual.ColorAxis.options({Colors:{resolve:"_resolveFull",getDefault:T,data:{
resolveV1:function(e){return"discrete"===this.scaleType?0===this.index?this._specifyChartOption(e,"colors"):1===this.index&&this.chart._allowV1SecondAxis&&this._specifyChartOption(e,"secondAxisColor"):this._specifyChartOption(e,"colorRange"),
!0},resolveDefault:function(e){0===this.index&&this._specifyChartOption(e,"colors");
}},cast:Y.colorScheme},Map:{resolve:"_resolveFull",cast:N},PreserveMap:{resolve:"_resolveFull",
cast:Boolean,value:!1},Transform:{resolve:"_resolveFull",data:{resolveDefault:function(t){
var n=this._plotList;if(n.length){var i=!1;if(e.query(n).each(function(e){if(e.isMain)return i=!1;
var t=e.name;("plot2"===t||"trend"===t)&&(i=!0)}),i)return t.defaultValue(Y.brighterColorTransform),
!0}}},cast:e.fun.to},NormByCategory:{resolve:function(e){return this.chart._allowColorPerCategory?this._resolveFull(e):(e.specify(!1),
!0)},data:{resolveV1:function(e){return this._specifyV1ChartOption(e,"normPerBaseCategory"),
!0}},cast:Boolean,value:!1},ScaleType:{resolve:"_resolveFull",data:{resolveV1:function(e){
return this._specifyV1ChartOption(e,"scalingType"),!0}},cast:Y.parseContinuousColorScaleType,
value:"linear"},UseAbs:{resolve:"_resolveFull",cast:Boolean,value:!1},Domain:{resolve:"_resolveFull",
data:{resolveV1:function(e){return this._specifyV1ChartOption(e,"colorRangeInterval"),
!0}},cast:e.array.to},Min:{resolve:"_resolveFull",data:{resolveV1:function(e){return this._specifyV1ChartOption(e,"minColor"),
!0}},cast:t.color},Max:{resolve:"_resolveFull",data:{resolveV1:function(e){return this._specifyV1ChartOption(e,"maxColor"),
!0}},cast:t.color},Missing:{resolve:"_resolveFull",data:{resolveV1:function(e){return this._specifyV1ChartOption(e,"nullColor"),
!0}},cast:t.color,value:t.color("lightgray")},Unbound:{resolve:"_resolveFull",getDefault:function(){
var e=this.option("Colors");return e().range()[0]||Y.defaultColor},cast:t.color},
LegendVisible:{resolve:"_resolveFull",data:de,cast:Boolean,value:!0},LegendClickMode:{
resolve:"_resolveFull",data:de,cast:Y.parseLegendClickMode,value:"togglevisible"},
LegendDrawLine:{resolve:"_resolveFull",data:de,cast:Boolean,value:!1},LegendDrawMarker:{
resolve:"_resolveFull",data:de,cast:Boolean,value:!0},LegendShape:{resolve:"_resolveFull",
data:de,cast:Y.parseShape}}),e("pvc.visual.SizeAxis",ce.extend({init:function(t,n,i,r){
r=e.set(r,"byNaked",!1),this.base(t,n,i,r)},methods:{scaleTreatsNullAs:function(){
return"min"},scaleUsesAbs:function(){return this.option("UseAbs")},setScaleRange:function(t){
var n=this.scale;return n.min=t.min,n.max=t.max,n.size=t.max-t.min,n.range(n.min,n.max),
e.debug>=4&&e.log("Scale: "+e.describe(e.copyOwn(n))),this}},options:{OriginIsZero:{
resolve:"_resolveFull",cast:Boolean,value:!1},FixedMin:{resolve:"_resolveFull",cast:e.number.to
},FixedMax:{resolve:"_resolveFull",cast:e.number.to},FixedLength:{resolve:"_resolveFull",
cast:e.number.to},DomainAlign:{resolve:"_resolveFull",cast:Y.parseDomainAlign,value:"center"
},UseAbs:{resolve:"_resolveFull",cast:Boolean,value:!1}}})),e("pvc.visual.NormalizedAxis",ce.extend({
init:function(t,n,i,r){r=e.set(r,"byNaked",!1),this.base(t,n,i,r)},methods:{scaleTreatsNullAs:function(){
return"zero"},scaleUsesAbs:e.retTrue,scaleSumNormalized:e.retTrue,setScaleRange:function(t){
var n=this.scale;return n.min=t.min,n.max=t.max,n.size=t.max-t.min,n.range(n.min,n.max),
e.debug>=4&&e.log("Scale: "+e.describe(e.copyOwn(n))),this}},options:{OriginIsZero:{
value:!0}}})),e.type("pvc.BasePanel",Y.Abstract).add(Y.visual.Interactive).init(function(t,n,r){
if(this.chart=t,this.base(),this.axes=Object.create(t.axes),r){r.scenes&&(this._sceneTypeExtensions=r.scenes,
delete r.scenes);var o=r.axes;o&&(e.copy(this.axes,o),delete r.axes)}i.extend(this,r),
this.axes.color||(this.axes.color=t.axes.color),this.position={};var a=r&&r.margins;
n||void 0!==a||(a=3),this.margins=new ie(a),this.paddings=new ie(r&&r.paddings),this.size=new re(r&&r.size),
this.sizeMin=new re(r&&r.sizeMin),this.sizeMax=new re(r&&r.sizeMax),this.parent=n||null,
n?(this.isTopRoot=!1,this.isRoot=n.chart!==t,this.root=this.isRoot?this:n.root,this.topRoot=n.topRoot,
this.isRoot&&(this.position.left=t.left,this.position.top=t.top),n._addChild(this)):(this.root=this,
this.topRoot=this,this.isRoot=!0,this.isTopRoot=!0);var s=n||t;if(this.data=s.data,
this.isRoot)this.anchor=null,this.align=null,this.alignTo=null,this.offset=null;else{
this.align=Y.parseAlign(this.anchor,this.align);var l=this.alignTo,u=this.anchor;null==l||""===l||"left"!==u&&"right"!==u?l=this.align:"page-middle"!==l&&(l=isNaN(+l.charAt(0))?Y.parseAlign(u,l):ne.parse(l)),
this.alignTo=l,this.offset=new te(this.offset)}if(null==this.borderWidth){var c,h=this._getExtensionId();
if(h){var d=this._getExtension(h,"strokeStyle");null!=d&&(c=+this._getConstantExtension(h,"lineWidth"),
(isNaN(c)||!isFinite(c))&&(c=null))}this.borderWidth=null==c?0:1.5}var f=s.ibits(),p=Y.visual.Interactive,m=t.ibits();
f=e.bit.set(f,p.Clickable,m&p.Clickable&&!!this.clickAction),f=e.bit.set(f,p.DoubleClickable,m&p.DoubleClickable&&!!this.doubleClickAction),
f=e.bit.set(f,p.Animatable,m&p.Animatable),this._ibits&=f}).add({_ibits:~Y.visual.Interactive.Animatable,
chart:null,parent:null,_children:null,type:t.Panel,_extensionPrefix:"",_rubberSelectableMarks:null,
height:null,width:null,borderWidth:null,anchor:"top",pvPanel:null,margins:null,paddings:null,
isRoot:!1,isTopRoot:!1,root:null,topRoot:null,_layoutInfo:null,_signs:null,data:null,
_animating:0,_selectingByRubberband:!1,_v1DimRoleName:{series:"series",category:"category",
value:"value"},_sceneTypeExtensions:null,clickAction:null,doubleClickAction:null,
compatVersion:function(e){return this.chart.compatVersion(e)},getCompatFlag:function(e){
return this.chart.getCompatFlag(e)},_createLogId:function(){return""+e.qualNameOf(this.constructor)+this.chart._createLogChildSuffix();
},_getLegendRootScene:function(){return this.chart._getLegendRootScene()},_addChild:function(t){
t.parent===this||e.assert("Child has a != parent."),(this._children||(this._children=[])).push(t);
},_addSign:function(t){e.array.lazy(this,"_signs").push(t),t.selectableByRubberband()&&e.array.lazy(this,"_rubberSelectableMarks").push(t.pvMark);
},layout:function(n){function i(e){var n=D[e]-C[e];if(n>t.epsilon){M[e]=n;var i=this.margins.getDirectionPercentage(e)+this.paddings.getDirectionPercentage(e);
i=Math.max(0,Math.min(1,i)),i>0&&(n/=1-i),_[e]=n,N[e]+=n}else 0>n&&(N[e]=D[e]+k.spacings[e]);
}var r=e.debug>=10,o=this._layoutInfo||null;if(o){if(!e.get(n,"force",!1))return;o.previous=null;
}var a=e.get(n,"canChange",!0),s=e.get(n,"sizeAvailable"),l=e.get(n,"sizeRef")||s&&re.clone(s),u=this.chart.parent?{
width:0,height:0}:this.sizeMin.resolve(null),c=this.sizeMax.resolve(l),h=e.get(n,"size")||this.size.resolve(l);
if(re.applyMin(c,u),re.applyMinMax(h,u,c),!s){if(null==h.width||null==h.height)throw e.error.operationInvalid("Panel layout without width or height set.");
s=re.clone(h),l||(l=re.clone(s))}var d=this.borderWidth/2,f=e.get(n,"margins"),p=e.get(n,"paddings"),m=f?ie.updateSize(f):ie.inflate(this.margins.resolve(l),d),g=p?ie.updateSize(p):ie.inflate(this.paddings.resolve(l),d),v=m.width+g.width,y=m.height+g.height,b=re.clone(s);
re.applyMinMax(s,u,c);var _={width:Math.max(0,s.width-b.width),height:Math.max(0,s.height-b.height)
},x=re.deflate(s,v,y),w=re.deflate(h,v,y),C=re.clone(x);r&&(s.width-b.width||s.height-b.height?(this.log("Size          -> "+e.describe(b)),
this.log("Size (min/max)-> "+e.describe(s))):this.log("Size          -> "+e.describe(s)),
(m.width||m.height)&&this.log(" Margins      -> "+e.describe(m)),(g.width||g.height)&&this.log("  Paddings    -> "+e.describe(g)),
this.log("   ClientSize -> "+e.describe(x)));var S={canChange:a,sizeMin:u,sizeMax:c,
size:h,clientSizeMin:re.deflate(u,v,y),clientSizeMax:re.deflate(c,v,y),clientSize:w
},k=this._layoutInfo={sizeRef:l,referenceSize:l,desiredClientSize:w,borderWidth:this.borderWidth,
margins:m,paddings:g,spacings:{width:v,height:y},size:s,clientSize:x,clientSizePage:o?o.clientSizePage:re.clone(x),
previous:o,restrictions:S,sizeIncrease:null,clientSizeIncrease:null},D=this._calcLayout(k)||x;
if(this.isVisible=D.width>0&&D.height>0,this.isVisible){k.clientSize=re.applyMinMax(D,S.clientSizeMin,S.clientSizeMax);
var M={width:0,height:0},N=k.size;if(i.call(this,"width"),i.call(this,"height"),(M.width||M.height)&&(k.clientSizeIncrease=M),
(_.width||_.height)&&(k.sizeIncrease=_),k.sizeIncrease&&(!f||!p)){var T=re.clone(l);
_.width&&(T.width+=_.width),_.height&&(T.height+=_.height),f||(m=ie.inflate(this.margins.resolve(T),d)),
p||(g=ie.inflate(this.paddings.resolve(T),d)),k.margins=m,k.paddings=g,k.spacings.width=m.width+g.width,
k.spacings.height=m.height+g.height}}else k.size={width:0,height:0};k.desiredClientSize=k.restrictions=k.previous=null,
this.width=this.isVisible?N.width:0,this.height=this.isVisible?N.height:0,r&&(this.log("   ClientSize <- "+e.describe(k.clientSize)),
k.clientSizeIncrease&&this.log("             (+) "+e.describe(k.clientSizeIncrease)),
(g.width||g.height)&&this.log("  Paddings    <- "+e.describe(k.paddings)),(m.width||m.height)&&this.log(" Margins      <- "+e.describe(k.margins)),
this.log("Size          <- "+e.describe(k.size)),k.sizeIncrease&&this.log("             (+) "+e.describe(k.sizeIncrease))),
this._onLaidOut()},_onLaidOut:function(){this.isRoot&&this.chart._onLaidOut()},_getLayoutState:function(){
var e=this._layoutInfo,t=this.anchor;return"fill"===t&&(t=null),{size:t?re.toOrtho(e.size,t).resolve():e.size,
margins:e.margins,paddings:e.paddings}},getLayout:function(){return this._layoutInfo||null;
},_calcLayout:function(t){function n(e,t,n){for(var i=e,r=0;i--;){if(t.call(n,i,r,e)===!1)return!0;
r++}return!1}function i(t,n,i){d&&f.log.group("Iteration #"+(n+1)+" / "+i);try{c=new ie(0),
h=e.copyOwn(u);for(var o,a=t>0,s=0,l=b.length;l>s;){o=b[s],d&&o.log.group("Layout SIDE child");
try{if(r.call(this,o,a))return!0}finally{d&&o.log.groupEnd()}s++}for(s=0,l=y.length;l>s;){
o=y[s],d&&o.log.group("Layout FILL child");try{if(r.call(this,o,a))return!0}finally{
d&&o.log.groupEnd()}s++}return!1}finally{d&&f.log.groupEnd()}}function r(t,i){var r,u=!1;
return n(6,function(n,c,f){d&&t.log.group("Iteration #"+(c+1)+" / "+f);try{if(_.sizeAvailable=new re(h),
_.paddings=r,_.canChange=i&&n>0,t.layout(_),t.isVisible){if(u=a.call(this,t,i))return!1;
var p=t._layoutInfo.contentOverflow;if(o(r,p)){if(r=p,n>0)return r=new ie(r),d&&t.log("Child changed content overflow: "+e.describe(r)),
!0;d&&t.log.warn("Child content overflow changed, but iterations limit has been reached.");
}s.call(this,t),"fill"!==t.anchor&&l.call(this,t)}return!1}finally{d&&t.log.groupEnd();
}},this),u}function o(t,n){return n?e.query(ie.names).each(function(e){var i=t&&t[e]||0,r=n&&n[e]||0;
return Math.abs(r-i)>=Y.roundPixel.epsilon?!1:void 0}):!1}function a(e,t){function n(n){
var o=r[n];o>Y.roundPixel.epsilon&&(t?(i=!0,h[n]+=o,u[n]+=o):d&&e.log.warn("Child wanted more "+n+", but layout iterations limit has been reached."));
}var i=!1,r=e.getLayout().sizeIncrease;return r&&("fill"===e.anchor?re.names.forEach(n):n(e.anchorLength())),
i}function s(n){var i,r=n.anchor,o=n.align,a=n.alignTo;"fill"===r?(r="left",i=c.left+h.width/2-n.width/2,
o=a="middle"):i=c[r];var s,l;switch(o){case"top":case"bottom":case"left":case"right":
s=o,l=0;break;case"center":case"middle":s=g[m[r]],l=-n[p[s]]/2}var u,d;switch(a){
case"top":case"bottom":case"left":case"right":d=a,u=d!==s?h[p[s]]:0;break;case"center":
case"middle":d=g[m[r]],u=h[p[s]]/2;break;case"page-center":case"page-middle":d=g[m[r]];
var f=p[s],y=Math.min(h[f],t.clientSizePage[f]);u=y/2}var b=c[d]+u+l,_=n.offset.resolve(h);
_&&(i+=_[v[r]]||0,b+=_[v[s]]||0),n.keepInBounds&&(0>i&&(i=0),0>b&&(b=0)),n.setPosition(e.set({},r,i,s,b));
}function l(e){var t=e.anchor,n=p[t],i=e[n];c[t]+=i,h[n]-=i}var u,c,h,d,f=this;if(f._children){
var p=Y.BasePanel.orthogonalLength,m=Y.BasePanel.relativeAnchor,g=Y.BasePanel.leftTopAnchor,v=te.namesSidesToOffset,y=[],b=[];
f._children.forEach(function(t){var n=t.anchor;n&&("fill"===n?y.push(t):(e.hasOwn(m,n)||e.fail.operationInvalid("Unknown anchor value '{0}'",[n]),
b.push(t)))}),d=e.debug>=10,u=e.copyOwn(t.clientSize);var _={force:!0,sizeRef:u};d&&f.log.group("CCC DOCK LAYOUT");
try{n(5,i,f)}finally{d&&f.log.groupEnd()}}return u},invalidateLayout:function(){this._layoutInfo=null,
this._children&&this._children.forEach(function(e){e.invalidateLayout()})},_create:function(n){
if(!this.pvPanel||n){if(this.pvPanel=null,this.pvRootPanel&&(this.pvRootPanel=null),
delete this._signs,this.isRoot&&(this.layout(),this.isTopRoot&&this.chart._isMultiChartOverflowClip))return;
if(!this.isVisible)return;this.isRoot&&this._creating();var i=this._layoutInfo.margins,r=this._layoutInfo.paddings;
if(this.isTopRoot){this.pvRootPanel=this.pvPanel=(new t.Panel).canvas(this.chart.options.canvas);
var o=new Y.visual.Scene(null,{panel:this});this.pvRootPanel.lock("data",[o]),(i.width>0||i.height>0)&&(this.pvPanel.width(this.width).height(this.height),
this.pvPanel=this.pvPanel.add(t.Panel))}else this.pvPanel=this.parent.pvPanel.add(this.type);
this.pvPanel.isPointingBarrier=!0;var a=this.pvPanel,s=this.width-i.width,l=this.height-i.height;
a.width(s).height(l),e.debug>=15&&(i.width>0||i.height>0)&&(this.isTopRoot?this.pvRootPanel:this.parent.pvPanel).add(this.type).width(this.width).height(this.height).left(null!=this.position.left?this.position.left:null).right(null!=this.position.right?this.position.right:null).top(null!=this.position.top?this.position.top:null).bottom(null!=this.position.bottom?this.position.bottom:null).strokeStyle("orange").lineWidth(1).strokeDasharray("- .");
var u={};e.eachOwn(this.position,function(e,t){a[t](e+i[t]),u[this.anchorLength(t)]=!0;
},this),u.width||(i.left>0&&a.left(i.left),i.right>0&&a.right(i.right)),u.height||(i.top>0&&a.top(i.top),
i.bottom>0&&a.bottom(i.bottom)),(r.width>0||r.height>0)&&(this.pvPanel=a.add(t.Panel).width(s-r.width).height(l-r.height).left(r.left).top(r.top)),
a.borderPanel=a,a.paddingPanel=this.pvPanel,this.pvPanel.paddingPanel=this.pvPanel,
this.pvPanel.borderPanel=a,e.debug>=15&&(this.pvPanel.strokeStyle("lightgreen").lineWidth(1).strokeDasharray("- "),
this.pvPanel!==a&&a.strokeStyle("blue").lineWidth(1).strokeDasharray(". "));var c=this._getExtensionId();
if(new Y.visual.Panel(this,null,{panel:a,extensionId:c}),this._createCore(this._layoutInfo),
this.isTopRoot){var h=this.chart._multiInfo;h&&!h.isLastPage&&"clip"===this.chart.multiOptions.option("Overflow")&&this._addMultichartOverflowClipMarker(),
this._initSelection(),this.interactive()&&"near"===this.chart._pointingOptions.mode&&this._requirePointEvent();
}if(this.applyExtensions(),this.isRoot&&e.debug>5){var d=["SCALES SUMMARY",e.logSeparator];
this.chart.axesList.forEach(function(t){var n=t.scale;if(n){var i=n.domain&&n.domain(),r=n.range&&n.range();
d.push(t.id),d.push("    domain: "+(i?e.describe(i):"?")),d.push("    range : "+(r?e.describe(r):"?"));
}},this),this.log(d.join("\n"))}}},_creating:function(){this._children&&this._children.forEach(function(e){
e._creating()})},_createCore:function(){this._children&&this._children.forEach(function(e){
e._create()})},render:function(t){if(!this.isTopRoot)return this.topRoot.render(t);
if(this._create(e.get(t,"recreate",!1)),(!this.isTopRoot||!this.chart._isMultiChartOverflowClip)&&this.isVisible){
var n=this.pvRootPanel;this._onRender();var i=this._animating,r=this.animatable();
this._animating=r&&!e.get(t,"bypassAnimation",!1)?1:0;try{if(n.render(),this._animating){
this._animating=2;var o=this;n.transition().duration(2e3).ease("cubic-in-out").start(function(){
i?i=0:(o._animating=0,o._onRenderEnd(!0))})}else this._onRenderEnd(!1)}finally{this._animating=0;
}}},_onRender:function(){var e=this.chart.options.renderCallback;if(e)if(this.compatVersion()<=1)e.call(this.chart);else{
var t=this.context();e.call(t,t.scene)}},_onRenderEnd:function(e){if(this._children&&this._children.forEach(function(t){
t._onRenderEnd(e)}),this.isTopRoot){var t=this.chart.options.renderedCallback;if(t){
var n=this.context();t.call(n,n.scene)}}},renderInteractive:function(){if(this.isVisible){
var e=this._getRenderInteractiveMarks();if(e&&e.length)e.forEach(function(e){e.render();
});else if(!this._children)return void this.pvPanel.render();this._children&&this._children.forEach(function(e){
e.renderInteractive()})}},_getRenderInteractiveMarks:function(){return this._getSelectableMarks();
},_getSelectableMarks:function(){return this._rubberSelectableMarks},animatable:function(){
return this.base()||!!this._children&&this._children.some(function(e){return e.animatable();
})},animate:function(e,t){return 1===this.topRoot._animating?e:t},animatingStart:function(){
return 1===this.topRoot._animating},animating:function(){return this.topRoot._animating>0;
},setPosition:function(t){for(var n in t)if(e.hasOwn(ie.namesSet,n)){var i=t[n];null===i?delete this.position[n]:(i=+i,
!isNaN(i)&&isFinite(i)&&(this.position[n]=i))}},createAnchoredSize:function(e,t){
return this.isAnchorTopOrBottom()?{width:t.width,height:Math.min(t.height,e)}:{width:Math.min(t.width,e),
height:t.height}},applyExtensions:function(){this._signs&&this._signs.forEach(function(e){
e.applyExtensions()})},extend:function(e,t,n){this.chart.extend(e,this._makeExtensionAbsId(t),n);
},extendAbs:function(e,t,n){this.chart.extend(e,t,n)},_extendSceneType:function(t,n,i){
var r=e.get(this._sceneTypeExtensions,t);r&&Y.extendType(n,r,i)},_absBaseExtId:{abs:"base"
},_absSmallBaseExtId:{abs:"smallBase"},_getExtensionId:function(){return this.isRoot?this.chart.parent?this._absSmallBaseExtId:this._absBaseExtId:void 0;
},_getExtensionPrefix:function(){return this._extensionPrefix},_makeExtensionAbsId:function(e){
return Y.makeExtensionAbsId(e,this._getExtensionPrefix())},_getExtension:function(e,t){
return this.chart._getExtension(this._makeExtensionAbsId(e),t)},_getExtensionAbs:function(e,t){
return this.chart._getExtension(e,t)},_getConstantExtension:function(e,t){return this.chart._getConstantExtension(this._makeExtensionAbsId(e),t);
},getPvPanel:function(n){var i=this.pvPanel;if(!n)return i;if(!this.parent)throw e.error.operationInvalid("Layers are not possible in a root panel.");
if(!i)throw e.error.operationInvalid("Cannot access layer panels without having created the main panel.");
var r=null;if(this._layers?r=this._layers[n]:this._layers={},!r){var o=this.parent.pvPanel;
r=o.borderPanel.add(this.type).extend(i.borderPanel);var a=r;i!==i.borderPanel&&(r=a.add(t.Panel).extend(i)),
a.borderPanel=a,a.paddingPanel=r,r.paddingPanel=r,r.borderPanel=a,this.initLayerPanel(r,n),
this._layers[n]=r}return r},initLayerPanel:function(){},_getV1DimName:function(e){
var t=this._v1DimName||(this._v1DimNameCache={}),n=t[e];if(null==n){var i=this.visualRoles[this._v1DimRoleName[e]];
n=i?i.grouping.firstDimension.name:"",t[e]=n}return n},_getV1Datum:function(e){return e.datum;
},context:function(){var e=this._context;return!e||e.isPinned?e=this._context=new Y.visual.Context(this):p.call(e),
e},visualRolesOf:function(e,t){return t?this.chart.visualRolesOf(e):null},_isTooltipEnabled:function(){
return!this.selectingByRubberband()&&!this.animating()},_getTooltipFormatter:function(e){
var t=this.compatVersion()<=1,n=e.format;if(!n){if(!t)return this._summaryTooltipFormatter.bind(this);
if(n=this.chart.options.v1StyleTooltipFormat,!n)return}return t?function(e){return n.call(e.panel,e.getV1Series(),e.getV1Category(),e.getV1Value()||"",e.getV1Datum());
}:function(e){return n.call(e,e.scene)}},CSS_TT_CLASS:"ccc-tt",_summaryTooltipFormatter:function(t){
function n(){var e=[];return c.isTrend&&e.push(_("tr",{"class":x("trendLabel","trend-"+v(c.trend.type))
},_("td",{colspan:3},_("span",null,y(c.trend.label))))),T&&(e.push.apply(e,i()),f&&j&&e.push(_("tr",{
"class":x("dimSep")},'<td colspan="3"><hr/></td>'))),e.push.apply(e,r()),j&&e.push(_("tr",{
"class":x("datumCount")},'<td colspan="3"><span>'+M.length+"</span></td>")),e}function i(){
var t=S.atoms;return D.sortDimensionNames(e.keys(t)).map(function(e){var n,i,r=t[e];
return null==(n=r.value)||(i=r.dimension.type,i.isHidden)?"":((f||(f={}))[e]=!0,a(i,n,r.label));
})}function r(){return D.dimensionsList().map(o)}function o(t){var n=t.name;if(t.isHidden||e.getOwn(f,n))return"";
var i,r,o,s,p;if(A){var m=c.atoms[n];r=m.value,o=m.label,p=c.isInterpolated&&c.interpDimName===n?c.interpolation:null;
}else d||(d=u.allGroup()),i=d.dimensions(n),t.valueType===Number?(j&&(s="sum"),r=i.value(g),
o=i.format(r),null===C&&(C=w.interpolatable()),C&&(p=h(l).where(function(e){return e.isInterpolated&&e.interpDimName===n;
}).select(function(e){return e.interpolation}).first())):(j&&(s="list"),r=o=i.atoms(g).filter(function(e){
return null!=e.value}).map(function(e){return e.label||"- "}).join(", "),r||(r=null));
return a(t,r,o,s,p)}function a(t,n,i,r,o){var a=x("dim","dimValueType-"+t.valueTypeName,"dim"+(t.isDiscrete?"Discrete":"Continuous"),r?"dimAgg":"",r?"dimAgg-"+r:""),l=null,c=s(t.name),h=c?c.map(function(e){
if(e.isPercent&&null===l){var t=u.vars[e.name];t&&null!=t.percent&&(l=t.percent)}
return _("span",{"class":x("role","role-"+e.name)},_("span",{"class":x("roleIcon")
},""),_("span",{"class":x("roleLabel")},y(e.label)))}):"";return _("tr",{"class":a
},_("td",{"class":x("dimLabel")},_("span",null,y(t.label))),_("td",{"class":x("dimRoles")
},h),_("td",{"class":x("dimValue",null==n?"valueNull":"")},_("span",{"class":x("value")
},y(i)),null!==l?""+_("span",{"class":x("valuePct")},function(){return y(l.label);
}):"",o?" "+_("span",{"class":x("interp","interp-"+v(o))},y(e.firstUpperCase(o)+" interp.")):""));
}function s(e){var t=p.visualRolesOf(e,!0);return t&&T&&(t=t.filter(function(t){return!t.isMeasureEffective||t.isBoundDimensionName(S,e);
})),t}var l,u=t.scene,c=u.datum,h=e.query;if(!c)return"";if(l=u.datums().array(),
h(l).all(function(e){return e.isNull}))return"";var d,f,p=this,m=this.CSS_TT_CLASS,g={
visible:!0},v=e.css.escapeClass,y=e.html.escape,b=e.html.classes,_=e.html.tag,x=b.bind(null,m),w=t.chart,C=null,S=u.group,k=u.data(),D=k.type,M=h(l).where(function(e){
return!e.isVirtual}).array(),N=t.sign.defaultColor(u),T=!!S&&1===u.groups.length,A=1===l.length,j=M.length>1;
return _("div",{"class":m},function(){var t=e.array.appendMany(["ds"],p._getTooltipPanelClasses(),"chartOrient-"+(w.isOrientationVertical()?"v":"h"));
return _("table",{"class":x.apply(null,t),"data-ccc-color":N&&"none"!==N.color?N.color:""
},_("tBody",null,n))})},_getTooltipPanelClasses:function(){},_requirePointEvent:function(){
return this.isTopRoot?void(this._attachedPointEvent||(this.pvPanel.root.events("all").event("mousemove",t.Behavior.point(this.chart._pointingOptions)),
this._attachedPointEvent=!0)):this.topRoot._requirePointEvent()},_requireTipsy:function(){
if(!this.isTopRoot)return this.topRoot._requireTipsy();if(!this._tipsy){var n=this.chart,i=e.create(n._tooltipOptions);
i.isEnabled=this._isTooltipEnabled.bind(this),"near"===n._pointingOptions.mode&&(i.usesPoint=!0),
this._tipsy=t.Behavior.tipsy(i)}return this._tipsy},_onClick:function(e){var t=this.clickAction;
t&&(this.compatVersion()<=1?this._onV1Click(e,t):t.call(e,e.scene))},_onDoubleClick:function(e){
var t=this.doubleClickAction;t&&(this.compatVersion()<=1?this._onV1DoubleClick(e,t):t.call(e,e.scene));
},_onV1Click:function(e,t){t.call(e.pvMark,e.getV1Series(),e.getV1Category(),e.getV1Value(),e.event,e.getV1Datum());
},_onV1DoubleClick:function(e,t){t.call(e.pvMark,e.getV1Series(),e.getV1Category(),e.getV1Value(),e.event,e.getV1Datum());
},_addMultichartOverflowClipMarker:function(){function t(e){var t=e.shapeRadius();
if(null==t){var n=e.shapeSize();null!=n&&(t=Math.sqrt(n))}return t||i}var n=10,i=5,r=new Y.visual.Dot(this,this.pvPanel,{
noSelect:!0,noHover:!0,noClick:!0,noDoubleClick:!0,noTooltip:!1,freePosition:!0,extensionId:"multiChartOverflowMarker"
}).lock("data").pvMark.shape("triangle").shapeRadius(i).top(null).left(null).bottom(function(){
return t(this)+n}).right(function(){return t(this)+n}).shapeAngle(0).lineWidth(1.5).strokeStyle("red").fillStyle("rgba(255, 0, 0, 0.2)");
e.fun.is(r.tooltip)&&r.tooltip("Some charts did not fit the available space.")},selectingByRubberband:function(){
return this.topRoot._selectingByRubberband},_initSelection:function(){var n=this,i=n.chart;
if(n.interactive()){var r=n.unselectable(),o=n.selectableByRubberband();if(o||r){
var a=n.data,s=n.pvRootPanel||n.pvPanel.paddingPanel;if(n._getExtensionAbs("base","fillStyle")||s.fillStyle(Y.invisibleFill),
s.lock("events","all"),o){var l=4;n._selectingByRubberband=!1;var u,c,h,d=this.selectBar=new Y.visual.Bar(n,s,{
extensionId:"rubberBand",normalStroke:!0,noHover:!0,noSelect:!0,noClick:!0,noDoubleClick:!0,
noTooltip:!0}).override("defaultStrokeWidth",e.fun.constant(1.5)).override("defaultColor",function(e,t){
return"stroke"===t?"#86fe00":"rgba(203, 239, 163, 0.6)"}).override("interactiveColor",function(e,t){
return t}).pvMark.lock("visible",function(){return!!c}).lock("left",function(){return c.x;
}).lock("right").lock("top",function(){return c.y}).lock("bottom").lock("width",function(){
return c.dx}).lock("height",function(){return c.dy}).lock("cursor").lock("events","none");
s.intercept("data",function(){var e=this.delegate();return e&&e.forEach(function(e){
null==e.x&&(e.x=e.y=e.dx=e.dy=0)}),e}).event("mousedown",t.Behavior.select().autoRender(!1)).event("select",function(e){
if(c)c=new t.Shape.Rect(e.x,e.y,e.dx,e.dy);else{if(n.animating())return;if(e.dx*e.dx+e.dy*e.dy<=l)return;
c=new t.Shape.Rect(e.x,e.y,e.dx,e.dy),n._selectingByRubberband=!0,u||(u=s.toScreenTransform()),
n.rubberBand=c.apply(u)}d.render()}).event("selectend",function(){if(c){var e=arguments[arguments.length-1];
u||(u=s.toScreenTransform());var t=c.apply(u);c=null,n._selectingByRubberband=!1,
d.render();try{n._processRubberBand(t,e)}finally{h=new Date}}}),r&&s.event("click",function(){
if(h){var e=new Date-h;if(300>e)return void(h=null)}a.clearSelected()&&i.updateSelections();
})}else r&&s.event("click",function(){a.clearSelected()&&i.updateSelections()})}}
},_processRubberBand:function(e,t,n){this.rubberBand=e;try{this._onRubberBandSelectionEnd(t,n);
}finally{this.rubberBand=null}},_onRubberBandSelectionEnd:function(t,i){e.debug>=20&&this.log("rubberBand "+e.describe(this.rubberBand)),
i=Object.create(i||{}),i.toggle=!1;var r=this._getDatumsOnRubberBand(t,i);if(r&&r.length){
var o=this.chart;o._updatingSelections(function(){if(r=o._onUserSelection(r),r&&r.length){
var e=!(t.ctrlKey||t.metaKey)&&o.options.ctrlSelectMode;e?(o.data.owner.clearSelected(),
n.Data.setSelected(r,!0)):i.toggle?n.Data.toggleSelected(r):n.Data.setSelected(r,!0);
}})}},_getDatumsOnRubberBand:function(t,n){var i=new e.Map;return this._getDatumsOnRect(i,this.rubberBand,n),
i.values()},_getDatumsOnRect:function(e,t,n){this._getOwnDatumsOnRect(e,t,n);var i=this._children;
i&&i.forEach(function(i){i._getDatumsOnRect(e,t,n)})},_getOwnDatumsOnRect:function(t,n,i){
var r=this;if(!r.isVisible)return!1;var o=r._getSelectableMarks();if(!o||!o.length)return!1;
var a=t.count,s=e.get(i,"markSelectionMode"),l=function(e){e.isNull||t.set(e.id,e);
},u=function(e){e.selectableByRubberband()&&e.datums().each(l)},c=function(e){e.eachSceneWithDataOnRect(n,u,null,s);
};return o.forEach(c),a<t.count},isAnchorTopOrBottom:function(e){return e||(e=this.anchor),
"top"===e||"bottom"===e},isOrientationVertical:function(e){return this.chart.isOrientationVertical(e);
},isOrientationHorizontal:function(e){return this.chart.isOrientationHorizontal(e);
}}).type().add({relativeAnchor:{top:"left",bottom:"left",left:"bottom",right:"bottom"
},leftBottomAnchor:{top:"bottom",bottom:"bottom",left:"left",right:"left"},leftTopAnchor:{
top:"top",bottom:"top",left:"left",right:"left"},horizontalAlign:{top:"right",bottom:"left",
middle:"center",right:"right",left:"left",center:"center"},verticalAlign:{top:"top",
bottom:"bottom",middle:"middle",right:"bottom",left:"top",center:"middle"},verticalAlign2:{
top:"top",bottom:"bottom",middle:"middle",right:"top",left:"bottom",center:"middle"
},relativeAnchorMirror:{top:"right",bottom:"right",left:"top",right:"top"},oppositeAnchor:{
top:"bottom",bottom:"top",left:"right",right:"left"},parallelLength:{top:"width",
bottom:"width",right:"height",left:"height"},orthogonalLength:{top:"height",bottom:"height",
right:"width",left:"width"},oppositeLength:{width:"height",height:"width"}}),e.scope(function(){
var t=Y.BasePanel,n={},i={anchorOrtho:"relativeAnchor",anchorOrthoMirror:"relativeAnchorMirror",
anchorOpposite:"oppositeAnchor",anchorLength:"parallelLength",anchorOrthoLength:"orthogonalLength"
};e.eachOwn(i,function(e,i){var r=t[e];n[i]=function(e){return r[e||this.anchor]};
}),t.add(n)}),e.type("pvc.ContentPanel",Y.BasePanel).add({anchor:"fill",_getExtensionId:function(){
return[{abs:this.chart.parent?"smallContent":"content"}]}});var fe={};e("pvc.visual.Plot",Y.visual.OptionsBase.extend({
init:function(t,n){var i=e.getPath(t,["plotsByType",this.type]),r=i?i.length:0,o=t.plotList.length,a=!o,s=e.get(n,"isInternal",!0);
if(n=e.setDefaults(n,"byNaked",a,"byName",s,"byV1",s),s||(n.optionId=Y.uniqueExtensionAbsPrefix()),
this.base(t,this.type,r,n),this.name&&("$"===this.name||this.name.indexOf(".")>=0))throw e.error.argumentInvalid("name",e.format("Invalid plot name '{0}'.",[this.name]));
this.prettyId=this.name||this.id,this.isInternal=!!s,this.isMain=a;var l=this.extensionPrefixes=[this.optionId];
s&&(a&&l.push(""),this.name&&l.push(this.name)),this.visualRoles={},this.visualRoleList=[],
this.dataCellList=[],this.dataCellsByRole={},this._isBound=void 0;var u=e.get(n,"spec");
u&&this.processSpec(u)},methods:{get dataPartValue(){return this.option("DataPart");
},_buildOptionId:function(t){return e.get(t,"optionId",this.id)},processSpec:function(t){
var n=this,i=n.chart.options,r=(n.isInternal?n.name:null)||n.optionId;n.chart._processExtensionPointsIn(t,r,function(t,r,o){
switch(o){case"name":case"type":break;case"visualRoles":n._visualRolesOptions=t,e.object.is(t)&&e.each(t,function(t){
e.object.is(t)&&t.from&&(t.from=n.ensureAbsRoleRef(t.from))});break;default:i[r]=t;
}})},ensureAbsRoleRef:function(e){return e&&e.indexOf(".")<0?this.prettyId+"."+e:e;
},_getColorRoleSpec:e.fun.constant(null),_addVisualRole:function(t,n){var i=this.visualRoleList;
n=e.set(n,"index",i.length,"plot",this);var r=new Y.visual.Role(this.chart,t,n);return this.visualRoles[t]=r,
i.push(r),r},_addDataCell:function(t){this.dataCellList.push(t),e.array.lazy(this.dataCellsByRole,t.role.name).push(t);
},get boundDimensionsComplexTypesMap(){var t=null;return e.eachOwn(this.visualRoles,function(e){
e.isMeasureEffective!==!1&&(t||(t={}),t[e.boundDimensionsDataSetName]=this.chart.getBoundDimensionsComplexTypeOf(e));
},this),t},get boundDimensionsDataSetsMap(){var t=this._boundDimensionsDataSetsMap;
return t||(e.eachOwn(this.visualRoles,function(e){e.isMeasureEffective!==!1&&(t||(t=Object.create(null)),
t[e.boundDimensionsDataSetName]=e.boundDimensionsDataSet)},this),this._boundDimensionsDataSetsMap=t),
t},interpolatable:function(){return!1},visualRole:function(t){return e.getOwn(this.visualRoles,t,null);
},initEnd:function(){this._initVisualRoles(),this._initDataCells()},_initVisualRoles:function(){
var e=this._getColorRoleSpec();e&&this._addVisualRole("color",e)},_initDataCells:function(){
if(this.visualRoles.color){var e=this._getColorDataCell();e&&this._addDataCell(e);
}},bindEnd:function(){if(void 0!==this._isBound)throw e.error.operationInvalid("Plot binding has already ended.");
this._isBound=this.visualRoleList.every(function(e){return!e.isRequired||e.isBound();
})},assertBound:function(){this.isBound||this.visualRoleList.forEach(function(t){
if(t.isRequired&&!t.isBound())throw e.error.operationInvalid("The required visual role '{0}' is unbound.",[t.name]);
})},get isBound(){return this._isBound},isDataBoundOn:function(t){var n=this.isBound;
if(void 0!==n){var i=e.lazy(this,"_isBoundByData"),n=e.getOwn(i,t.id,null);null===n&&(n=e.query(this.dataCellList).all(function(e){
return!e.role.isBound()||e.isDataBoundOn(t)}),i[t.id]=n)}return n},createData:function(e,t){
return e.where(null,t)},interpolateDataCell:function(t){if(t.plot!==this)throw e.error.operationInvalid("DataCell not of this plot.");
},generateTrendsDataCell:function(t,n){if(n.plot!==this)throw e.error.operationInvalid("DataCell not of this plot.");
},getContinuousVisibleCellExtent:function(t,n,i){if(i.plot!==this)throw e.error.operationInvalid("Datacell not of this plot.");
var r=i.role;if("series"===r.name)throw e.error.notImplemented();var o=t.visiblePlotData(this);
if(n.scaleSumNormalized())return{min:0,max:Math.abs(r.numberValueOf(o).value||0)};
var a=r.grouping.dimensionNames(),s=n.scaleUsesAbs();return e.query(a).select(function(e){
var t=o.dimensions(e).extent({abs:s});if(void 0!==t){var n=t.min.value,i=t.max.value;
return{min:s?Math.abs(n):n,max:s?Math.abs(i):i}}}).reduce(Y.unionExtents,null)},_getColorDataCell:function(){
var e=this.visualRoles.color;return e?new Y.visual.ColorDataCell(this,"color",this.option("ColorAxis")-1,e):void 0;
}},options:{Orientation:{resolve:function(e){return e.specify(this._chartOption("orientation")||"vertical"),
!0},cast:String},ValuesVisible:{resolve:"_resolveFull",data:{resolveV1:function(e){
if(0===this.globalIndex){var t=this._chartOption("showValues");return void 0!==t?e.specify(t):(t="point"!==this.type,
e.defaultValue(t)),!0}}},cast:Boolean,value:!1},ValuesAnchor:{resolve:"_resolveFull",
cast:Y.parseAnchor},ValuesFont:{resolve:"_resolveFull",cast:String,value:"10px sans-serif"
},ValuesMask:{resolve:"_resolveFull",cast:String,value:"{value}"},ValuesOptimizeLegibility:{
resolve:"_resolveFull",cast:Boolean,value:!1},ValuesOverflow:{resolve:"_resolveFull",
cast:Y.parseValuesOverflow,value:"hide"},DataPart:{resolve:"_resolveFull",cast:String,
value:"0"},ColorAxis:{resolve:Y.options.resolvers([function(e){return 0===this.globalIndex?(e.specify(1),
!0):void 0},"_resolveFull"]),cast:function(t){return t=e.number.to(t),null!=t?e.between(t,1,10):1;
},value:1}},"type.methods":{registerClass:function(e){fe[e.prototype.type]=e},getClass:function(t){
return e.getOwn(fe,t)}}}));var pe={};e.type("pvc.PlotPanel",Y.BasePanel).init(function(e,t,n,i){
null==i.sizeMin&&(i.sizeMin=this._getOptionSizeMin(e)),null==i.paddings&&(i.paddings=e._axisOffsetPct),
this.base(e,t,i),this.plot=n,this.dataPartValue=n.dataPartValue,this._extensionPrefix=n.extensionPrefixes,
this.axes.color=e._getAxis("color",(n.option("ColorAxis")||0)-1),this.orientation=n.option("Orientation"),
this.valuesVisible=n.option("ValuesVisible"),this.valuesAnchor=n.option("ValuesAnchor"),
this.valuesMask=n.option("ValuesMask"),this.valuesFont=n.option("ValuesFont"),this.valuesOverflow=n.option("ValuesOverflow"),
this.valuesOptimizeLegibility=n.option("ValuesOptimizeLegibility"),this.visualRoles=n.visualRoles,
this.visualRoleList=n.visualRoleList}).add({anchor:"fill",visualRoles:null,visibleData:function(e){
return this.chart.visiblePlotData(this.plot,e)},partData:function(){return this.chart.partData(this.dataPartValue);
},_getExtensionId:function(){return["chart","plot"]},_getOptionSizeMin:function(e){
var t=e.parent?null:e.options.plotSizeMin;return null!=t?re.to(t):null},visualRolesOf:function(t,n){
var i=e.getOwn(this._visualRolesByDim,t,null),r=n?this.chart.visualRolesOf(t):null;
return i&&r?i.concat(r):i||r},get _visualRolesByDim(){var t=this.__visRolesByDim;return t||(t=this.__visRolesByDim={},
this.visualRoleList.forEach(function(n){var i=n.grouping;i&&i.dimensionNames().forEach(function(i){
e.array.lazy(t,i).push(n)})})),t},_getTooltipPanelClasses:function(){return["plot","plot-"+this.plot.type];
},isOrientationVertical:function(){return this.orientation===Y.orientation.vertical;
},isOrientationHorizontal:function(){return this.orientation===Y.orientation.horizontal;
}}).type().add({registerClass:function(e,t){pe[t||e.prototype.plotType]=e},getClass:function(t){
return e.getOwn(pe,t)}}),e.type("pvc.PlotBgPanel",Y.BasePanel).init(function(e,t,n){
this.base(e,t,n)}).add({anchor:"fill",_getExtensionId:function(){return"plotBg"},
_createCore:function(e){this.pvPanel.borderPanel.lock("zOrder",-13).antialias(!1),
this.base(e)}}),e("pvc.visual.Legend",Y.visual.OptionsBase.extend({init:function(t,n,i,r){
r=e.set(r,"byNaked",!1),this.base(t,n,i,r)},options:{Position:{resolve:"_resolveFull",
cast:Y.parsePosition,value:"bottom"},Size:{resolve:"_resolveFull",cast:A},SizeMax:{
resolve:"_resolveFull",cast:A},ItemCountMax:{resolve:"_resolveFull",cast:e.number.toPositive
},Align:{resolve:"_resolveFull",data:{resolveDefault:function(e){var t,n=this.option("Position");
return"top"!==n&&"bottom"!==n?t="top":this.chart.compatVersion()<=1&&(t="left"),e.defaultValue(t),
!0}},cast:j},Margins:{resolve:"_resolveFull",data:{resolveDefault:function(t){if(this.chart.compatVersion()>1){
var n=this.option("Position"),i=e.set({},Y.BasePanel.oppositeAnchor[n],5);t.defaultValue(i);
}return!0}},cast:ie.as},Paddings:{resolve:"_resolveFull",cast:ie.as,value:5},Font:{
resolve:"_resolveFull",cast:String},ItemSize:{resolve:"_resolveFull",cast:I},Overflow:{
resolve:"_resolveFull",cast:Y.parseLegendOverflow,value:"clip"}}})),e.type("pvc.LegendPanel",Y.BasePanel).init(function(e,t,n){
if(this.base(e,t,n),void 0===n.font){var i=this._getConstantExtension("label","font");
i&&(this.font=i)}var r=Y.visual.Interactive;this._ibits&r.Interactive&&(this._ibits|=r.Clickable);
}).add({pvRule:null,pvDot:null,pvLabel:null,anchor:"bottom",pvLegendPanel:null,textMargin:6,
itemPadding:2.5,itemSize:null,markerSize:15,font:"10px sans-serif",_calcLayout:function(e){
return this._getRootScene().layout(e)},_createCore:function(n){var i=n.clientSize,r=this._getRootScene(),o=r.vars.itemPadding,a=r.vars.contentSize,s=this.isAnchorTopOrBottom(),l=s?"top":"left",u=this.anchorOpposite(l),c=this.anchorLength(l),h=this.anchorOrthoLength(l),d=s?"center":"middle",f=s?"left":"top",p=this.anchorOpposite(f),m=0;
switch(this.align){case p:m=i[c]-a[c];break;case d:m=(i[c]-a[c])/2}this.pvPanel.borderPanel.overflow("hidden");
var g,v=this.pvPanel.add(t.Panel).data(r.vars.sections)[f](m)[l](function(){var e=this.sibling();
return e?e[l]+e[h]+o[h]:0})[c](function(e){return e.size[c]})[h](function(e){return e.size[h];
});this.compatVersion()<=1&&(g=function(e){return function(t){return e.call(this,t.vars.value.rawValue);
}});var y=this.pvLegendPanel=new Y.visual.Panel(this,v,{extensionId:"panel",wrapper:g,
noSelect:!1,noHover:!0,noClick:!1,noClickSelect:!0}).pvMark.lock("data",function(e){
return e.items})[p](null)[u](null)[f](function(e){for(var t,n=this.index;n>0&&!(t=this.scene[--n]).visible;);
return t&&t.visible?t[f]+t[c]+e.vars.itemPadding[c]:0})[l](s?function(e){var t=e.vars;
return t.section.size.height/2-t.itemClientSize.height/2}:0).height(function(e){return e.vars.itemClientSize.height;
}).width(s?function(e){return e.vars.itemClientSize.width}:function(){return this.parent.width();
}),b=new Y.visual.Panel(this,y,{extensionId:"markerPanel"}).pvMark.left(0).top(0).right(null).bottom(null).width(function(e){
return e.vars.markerSize}).height(function(e){return e.vars.itemClientSize.height;
});e.debug>=20&&(v.strokeStyle("red").lineWidth(.5).strokeDasharray("."),y.strokeStyle("green").lineWidth(.5).strokeDasharray("."),
b.strokeStyle("blue").lineWidth(.5).strokeDasharray(".")),r.childNodes.forEach(function(e){
var t=new Y.visual.Panel(this,b).pvMark.visible(function(t){return t.parent===e});
e.renderer()(this,t,g)},this),this.pvLabel=new Y.visual.Label(this,b.anchor("right"),{
extensionId:"label",noTooltip:!1,noClick:!1,wrapper:g}).intercept("textStyle",function(e){
this._finished=!1;var t=this.delegateExtension()||"black";return this._finished||e.isOn()?t:Y.toGrayScale(t,null,void 0,150);
}).pvMark.textAlign("left").text(function(e){var t=e.labelText(),n=e.vars;return n.textSize.width>n.labelWidthMax&&(t=Y.text.trimToWidthB(n.labelWidthMax,t,n.font,"..",!1)),
t}).textMargin(function(e){return e.vars.textMargin}).font(function(e){return e.vars.font;
}).textDecoration(function(e){return e.isOn()?"":"line-through"}).cursor(function(e){
return e.executable()?"pointer":"default"}),e.debug>=16&&b.anchor("right").add(t.Panel)[this.anchorLength()](0)[this.anchorOrthoLength()](0).fillStyle(null).strokeStyle(null).lineWidth(0).add(t.Line).data(function(e){
var t=e.vars,n=Y.text.getLabelBBox(Math.min(t.labelWidthMax,t.textSize.width),2*t.textSize.height/3,"left","middle",0,t.textMargin),i=n.source.points();
return i.length>1&&(i=i.concat(i[0])),i}).left(function(e){return e.x}).top(function(e){
return e.y}).strokeStyle("red").lineWidth(.5).strokeDasharray("-")},_onClick:function(t){
var n=t.scene;e.fun.is(n.execute)&&n.executable()&&n.execute()},_getExtensionPrefix:function(){
return"legend"},_getExtensionId:function(){return"area"},_getRenderInteractiveMarks:function(){
return[this.pvLegendPanel.parent]},_getRootScene:function(){var e=this._rootScene;
return e||(this._rootScene=e=new Y.visual.legend.LegendRootScene(null,{panel:this,
source:this.chart.data,horizontal:this.isAnchorTopOrBottom(),font:this.font,markerSize:this.markerSize,
textMargin:this.textMargin,itemPadding:this.itemPadding,itemSize:this.itemSize,itemCountMax:this.itemCountMax,
overflow:this.overflow})),e},_getTooltipFormatter:function(e){return e.isLazy=!1,
function(e){var t=e.scene.vars.value,n=t.absLabel||t.label,i=e.pvMark.text();return n!==i?n:"";
}}}),e.type("pvc.visual.legend.LegendRootScene",Y.visual.Scene).init(function(t,n){
this.base(t,n),this._unresolvedMarkerDiam=e.get(n,"markerSize"),this._unresolvedItemPadding=new ie(e.get(n,"itemPadding",5)),
this._unresolvedItemSize=re.to(e.get(n,"itemSize"))||new re,this._itemCountMax=e.get(n,"itemCountMax"),
this._overflow=e.get(n,"overflow"),e.set(this.vars,"horizontal",e.get(n,"horizontal",!1),"font",e.get(n,"font"),"textMargin",e.get(n,"textMargin",6)-3);
}).add({layout:function(t){function n(t){var n=t.labelTextSize(),r=!n||!n.width||!n.height;
if(t.isHidden=r,!r){var o,s={width:m+n.width,height:Math.max(n.height,f)},l={width:h.width||u.width+s.width,
height:h.height||u.height+s.height},c={width:Math.max(0,l.width-u.width),height:Math.max(0,l.height-u.height)
};p?o=!p.items.length:(p=new Y.visual.legend.LegendItemSceneSection(0),o=!0);var d=p.size[v]+c[v];
o||(d+=u[v]),!o&&d>w&&(i(!1),d=c[v]);var g=p.size;g[v]=d,g[y]=Math.max(g[y],c[y]);
var b=p.items.length;a++,p.items.push(t),e.set(t.vars,"section",p,"sectionIndex",b,"textSize",n,"itemSize",l,"itemClientSize",c,"itemContentSize",s);
}}function i(e){var t=p.size;_[y]+=t[y],b.length&&(_[y]+=u[y]),_[v]=Math.max(_[v],t[v]),
b.push(p),e||(p=new Y.visual.legend.LegendItemSceneSection(b.length))}function r(e){
return a>e}function o(){var e=l.width||1/0,t=l.height||1/0;return Math.min(e,s.width)<_.width||Math.min(t,s.height)<_.height;
}var a=0,s=t.clientSize;if(!(s.width>0&&s.height>0))return new re(0,0);var l=t.restrictions.clientSize;
if(null!=l.width&&0==l.width||null!=l.height&&0==l.height)return new re(0,0);var u=this._unresolvedItemPadding.resolve(s),c={
width:s.width+u.width,height:s.height+u.height},h=this._unresolvedItemSize.resolve(c),d={
width:h.width&&Math.max(0,h.width-u.width),height:h.height&&Math.max(0,h.height-u.height)
},f=this._unresolvedMarkerDiam||d.height||15;this.vars.itemPadding=u,this.vars.desiredItemSize=h,
this.vars.desiredItemClientSize=d,this.vars.markerSize=f;var p,m=f+this.vars.textMargin,g=Math.max(0,Math.min(d.width||1/0,l.width||1/0,s.width)-m),v=this.vars.horizontal?"width":"height",y=Y.BasePanel.oppositeLength[v],b=[],_={
width:0,height:0},x=l[v],w=x;if((!w||0>w)&&(w=s[v]),this.childNodes.forEach(function(e){
e.childNodes.forEach(n,this)},this),!p||"collapse"===this._overflow&&r(this._itemCountMax))return new re(0,0);
i(!0),e.set(this.vars,"sections",b,"contentSize",_,"labelWidthMax",g);var C=this.compatVersion()<=1,S=C?w:x,k=l[y];
return(!S||0>S)&&(S=_[v]),(!k||0>k)&&(k=_[y]),"collapse"===this._overflow&&o()?new re(0,0):this.vars.size=e.set({},v,Math.min(S,s[v]),y,Math.min(k,s[y]));
},defaultGroupSceneType:function(){var t=this._groupType;return t||(t=e.type(Y.visual.legend.LegendGroupScene),
this._groupType=t),t},createGroup:function(e){var t=this.defaultGroupSceneType();return new t(this,e);
}}),e.type("pvc.visual.legend.LegendGroupScene",Y.visual.Scene).init(function(t,n){
this.base(t,n),this.legendBaseIndex=e.get(n,"legendBaseIndex")||0,this.colorAxis=e.get(n,"colorAxis"),
this.clickMode=e.get(n,"clickMode"),!this.clickMode&&this.colorAxis&&(this.clickMode=this.colorAxis.option("LegendClickMode"));
}).add({_rendererCreate:function(t,n,i){var r=this.colorAxis;if(r){var o=r.chart._getDataPartDimName(),a=this.legendBaseIndex,s=!1;
r.dataCells.forEach(function(r,l){var u=r.legendSymbolRenderer();if(u){s=!0;var c=this._createDataCellPanel(r,t,n,o);
u(t,c,i,e.indexedId("",a+l))}},this),s||this._createDefaultRendererPanel(t,n,i,a);
}},_createDataCellPanel:function(t,n,i,r){var o=new Y.visual.Panel(n,i).pvMark,a=t.role,s=t.plot,l=null;
if(a.grouping.hasExtensionComplexTypes&&(l=a.grouping.extensionDimensions().select(function(e){
var t,n=Y.visual.Role.parseDataSetName(e.dataSetName);return null!==n&&null!==(t=s.visualRole(n))?t.isBoundDimensionCompatible.bind(t):void 0;
}).where(e.notNully).array(),0===l.length&&(l=null)),null!==r||null!==l){var u=t.dataPartValue;
o.visible(function(t){var n=t.group;if(n._disposed)return e.log.warn("[CCC] FIXME: Code running on disposed scene!"),
!1;if(null!==r&&null===n.dimensions(r).atom(u))return!1;if(null!==l)for(var i=-1,o=l.length;++i<o;)if(!l[i](n))return!1;
return!0})}return o},_createDefaultRendererPanel:function(t,n,i,r){var o=new Y.visual.Panel(t,n).pvMark,a=this.colorAxis,s={
drawLine:a.option("LegendDrawLine"),drawMarker:a.option("LegendDrawMarker"),markerShape:a.option("LegendShape")
},l=Y.visual.legend.symbolRenderer(s);l(t,o,i,e.indexedId("",r))},hasRenderer:function(){
return!!this._renderer},renderer:function(e){return arguments.length?(e&&"object"==typeof e&&(e=Y.visual.legend.symbolRenderer(e)),
this._renderer=e,this):this._renderer||(this._renderer=this._rendererCreate.bind(this));
},itemSceneType:function(){var t=this._itemSceneType;if(!t){t=e.type(Y.visual.legend.LegendItemScene);
var n=this.clickMode;switch(n){case"toggleselected":t.add(Y.visual.legend.LegendItemSceneSelection);
break;case"togglevisible":t.add(Y.visual.legend.LegendItemSceneVisibility)}var i=this.panel();
i._extendSceneType("item",t,["isOn","executable","execute","value","labelText"]);var r=Y.makeExtensionAbsId(Y.makeExtensionAbsId("ItemScene",[this.extensionPrefix,"$"]),i._getExtensionPrefix()),o=i.chart._getExtension(r,"value");
void 0!==o&&t.variable("value",o),this._itemSceneType=t}return t},createItem:function(e){
var t=this.itemSceneType();return new t(this,e)}}),e.type("pvc.visual.legend.LegendItemSceneSection").init(function(e){
this.index=e,this.items=[],this.size={width:0,height:0}}),e.type("pvc.visual.legend.LegendItemScene",Y.visual.Scene).add({
_ibits:null,ibits:function(){var e=this._ibits;if(null==e){if(this.executable())e=-1;else{
var t=Y.visual.Interactive;e=t.Interactive|t.ShowsInteraction|t.ShowsTooltip|t.Hoverable|t.SelectableAny;
}this._ibits=e}return e},isOn:e.fun.constant(!0),executable:e.fun.constant(!1),execute:e.fun.constant(),
labelText:function(){return this.value().label},labelTextSize:function(){return t.Text.measure(this.labelText(),this.vars.font);
},_valueEval:function(){var e=this._valueEvalCore();return e instanceof le||(e=new le(e,e)),
e},_valueEvalCore:function(){var e,t,n,i,r,o=this.group||this.datum;return o&&(e=o.value,
t=o.rawValue,r=this._getTrendLineSuffix(o),n=o.ensureLabel()+r,i=o.absLabel?o.absLabel+r:n),
new le(e||null,n||"",t,i)},_getTrendLineSuffix:function(e){var t,n;return(t=e.firstDatum())&&(n=t.trend)?" ("+n.label+")":"";
}}).variable("value"),e.type("pvc.visual.legend.LegendItemSceneSelection").add({isOn:function(){
var e=this.group||this.datum;return!e.owner.selectedCount()||this.isSelected()},executable:function(){
return this.chart().selectableByClick()},execute:function(){var e=this.datums().array();
if(e.length){var t=this,i=this.chart();i._updatingSelections(function(){e=i._onUserSelection(e,t.group||t.datum),
e&&e.length&&n.Data.toggleSelected(e,!0)})}}}),e.type("pvc.visual.legend.LegendItemSceneVisibility").add({
isOn:function(){var e=this._isOn;return null==e&&(e=this._isOn=this.datums().any(function(e){
return!e.isNull&&e.isVisible})),e},executable:function(){return e.lazy(this,"_execble",this._calcExecutable,this);
},_calcExecutable:function(){if(this._executableApriori())for(var e,t=this.root.childNodes,n=-1,i=t.length;++n<i;)if("togglevisible"===(e=t[n]).clickMode)for(var r,o=e.childNodes,a=-1,s=o.length;++a<s;)if((r=o[a])!==this&&r._executableApriori()&&r._hasAnyNonNullVisibleDatumsNotIn(this))return!0;
return!1},_hasAnyNonNullVisibleDatumsNotIn:function(e){var t=e.group;return this.datums().any(function(e){
return!e.isNull&&e.isVisible&&!t.contains(e)})},_executableApriori:function(){return e.lazy(this,"_execApriori",this._calcExecutableApriori,this);
},_calcExecutableApriori:function(){return this.datums().any(function(e){return!e.isTrend;
})},execute:function(){n.Data.toggleVisible(this.datums())&&(this.clearCachedState(),
this.chart().render(!0,!0,!1))},clearCachedState:function(){delete this._execble,
delete this._isOn,delete this._execApriori}}),e.space("pvc.visual.legend").symbolRenderer=function(t){
function n(e,t){var n=Y.makeExtensionAbsId(e,t);return u?n.concat(Y.makeExtensionAbsId(e,u)):n;
}function i(e,t,i,u){var c=Y.extensionTag,h=function(e){return e.color},d=["$",u];
if(a){var f=(new J).left(0).top(function(){return this.parent.height()/2}).width(function(){
return this.parent.width()}).lineWidth(1,c).strokeStyle(h,c).cursor(function(e){return e.executable()?"pointer":"default";
});l&&(f=l.extend(f)),new Y.visual.Rule(e,t,{proto:f,noSelect:!1,noHover:!1,activeSeriesAware:!1,
extensionId:n("Rule",d),showsInteraction:!0,wrapper:i})}if(s){var p=(new J).left(function(){
return this.parent.width()/2}).top(function(){return this.parent.height()/2}).shapeSize(function(){
return this.parent.width()},c).lineWidth(2,c).fillStyle(h,c).strokeStyle(h,c).shape(r,c).angle(a?0:Math.PI/2,c).antialias(function(){
var e=Math.abs(Math.cos(this.angle()));if(0!==e&&1!==e)switch(this.shape()){case"square":
case"bar":return!1}return!0},c).cursor(function(e){return e.executable()?"pointer":"default";
});o&&(p=o.extend(p)),new Y.visual.Dot(e,t,{proto:p,freePosition:!0,activeSeriesAware:!1,
noTooltip:!0,noClick:!0,extensionId:n("Dot",d),wrapper:i}).pvMark.pointingRadiusMax(0);
}}var r,o,a=e.get(t,"drawLine",!1),s=!a||e.get(t,"drawMarker",!0),l=a?e.get(t,"rulePvProto"):null,u=e.array.to(e.get(t,"extensionPrefix"));
return s&&(r=e.get(t,"markerShape","square"),o=e.get(t,"markerPvProto")),i};var me={
top:"left",bottom:"right",left:"left",right:"right",middle:"center",center:"center"
},ge={top:"right",bottom:"left",left:"right",right:"left",middle:"center",center:"center"
},ve={top:0,right:Math.PI/2,bottom:0,left:-Math.PI/2};e.type("pvc.TitlePanelAbstract",Y.BasePanel).init(function(e,t,n){
n||(n={});var i=n.anchor||this.anchor;if(null==n.size){var r=n.titleSize;null!=r&&(n.size=(new re).setSize(r,{
singleProp:this.anchorOrthoLength(i)}))}if(null==n.sizeMax){var o=n.titleSizeMax;null!=o&&(n.sizeMax=(new re).setSize(o,{
singleProp:this.anchorOrthoLength(i)}))}if(null==n.paddings&&(n.paddings=this.defaultPaddings),
this.base(e,t,n),void 0===n.font){var a=this._getExtension("label","font");"string"==typeof a&&(this.font=a);
}}).add({pvLabel:null,anchor:"top",title:null,titleSize:void 0,font:"12px sans-serif",
defaultPaddings:2,_extensionPrefix:"title",_calcLayout:function(e){var n=new re,i=this.anchor,r=this.anchorLength(i),o=this.anchorOrthoLength(i),a=this.title||"",s=t.Text.measureWidth(a,this.font)+2,l=e.clientSize[r],u=e.restrictions.clientSize[r];
null==u?u=s>l?l:s:u>l&&(u=l);var c=a?s>u?Y.text.justify(a,u,this.font):[a]:[],h=t.Text.fontHeight(this.font),d=c.length*h,f=e.clientSize[o],p=e.restrictions.clientSize[o];
if(null==p?p=d:p>f&&(p=f),d>p){var m=Math.max(1,Math.floor(p/h));if(c.length>m){var g=c[m];
c.length=m,d=p=m*h;var v=c[m-1]+" "+g;c[m-1]=Y.text.trimToWidthB(u,v,this.font,"..");
}}return e.lines=c,e.topOffset=(p-d)/2,e.lineSize={width:u,height:h},e.a_width=r,
e.a_height=o,n[r]=u,n[o]=p,n},_createCore:function(e){var t,n=this._buildScene(e),i=this.isAnchorTopOrBottom(),r=this.align,o=Y.BasePanel.leftTopAnchor[this.anchor];
this.compatVersion()<=1&&(t=function(e){return function(){return e.call(this)}}),
this.pvLabel=new Y.visual.Label(this,this.pvPanel,{extensionId:"label",wrapper:t}).lock("data",n.lineScenes).pvMark.textAngle(ve[this.anchor]).textAlign(function(){
var e=this.textAngle(),t=i?Math.cos(e)>=0:Math.sin(e)>=0;return(t?me:ge)[r]})[o](function(t){
return e.topOffset+t.vars.size.height/2+this.index*t.vars.size.height})[this.anchorOrtho(o)](function(e){
switch(r){case"middle":case"center":return e.vars.size.width/2;case"bottom":case"left":
return 0;case"top":case"right":return e.vars.size.width}}).text(function(e){return e.vars.textLines[this.index];
}).font(this.font).textBaseline("middle")},_buildScene:function(t){var n=new Y.visual.Scene(null,{
panel:this,source:this.chart.data}),i=t.lines;return n.vars.size=t.lineSize,n.vars.textLines=i,
n.lineScenes=e.array.create(i.length,n),n},_getExtensionId:e.fun.constant("")}),e.type("pvc.TitlePanel",Y.TitlePanelAbstract).init(function(e,t,n){
n||(n={});var i=e.compatVersion()<=1;if(i){var r=n.titleSize;null==r&&(n.titleSize=25);
}this._extensionPrefix=e.parent?"smallTitle":"title",this.base(e,t,n)}).add({font:"14px sans-serif",
defaultPaddings:4}),e.type("pvc.GridDockingPanel",Y.ContentPanel).add({_getFillSizeMin:function(){
return null},_calcLayout:function(t){function n(){var n=0;try{p._children.forEach(i);
}finally{}g&&p.log.group("Phase 1 - Determine MARGINS and FILL SIZE from SIDE panels");
try{n=r()}finally{g&&(p.log("Final FILL margins = "+e.describe(k)),p.log("Final FILL border size = "+e.describe(D)),
p.log.groupEnd())}if(n|=h(v),!n){g&&p.log.group("Phase 2 - Determine COMMON PADDINGS");
try{n=a()}finally{g&&(p.log("Final COMMON paddings  = "+e.describe(T)),p.log("Final FILL client size = "+e.describe({
width:(D.width||0)-(T.width||0),height:(D.height||0)-(T.height||0)})),p.log.groupEnd());
}}v&&!n&&m&&(t.contentOverflow=m)}function i(e){var t=e.anchor;t&&("fill"===t?j.push(e):I.push(e));
}function r(){var e=0,t=new Array(I.length),n=5,i=0;do{i++,g&&p.log.group("Iteration #"+i+" / "+n);
try{if(e=o(t,i===n),e&&0!==(e&w))return g&&p.log("Restarting due to clientSize increase."),
e}finally{g&&p.log.groupEnd()}}while(n>i&&0!==(e&C));for(var i=-1,r=I.length,a=new ie(0);++i<r;){
var s=I[i];if(s.isVisible){var l=s.anchor,c=a[l]||0;s.position[l]=c,u(s,s.align),
a[l]=c+t[i]}else I.splice(i,1),t.splice(i,1),r--,i--}return 0}function o(e,n){var i=0,r=v&&!n;
m=null,T=new ie(0),A=!1;for(var o=-1,a=I.length;++o<a;){var s=I[o];g&&s.log.group("Layout");
try{var l=s.anchor,u=b[l],h=y[l],d=e[o];null!=d&&(k[l]-=d,D[h]+=d);var p={width:null,
height:null};p[u]=D[u],p[h]=t.clientSize[h];var _=new re(D);M&&_[u]<M[u]&&(_[u]=M[u]),
S.sizeAvailable=_,S.sizeRef=p,S.canChange=r,s.layout(S);var x;if(s.isVisible){if(c(s,r))return w;
x=null==d||Math.abs(s[h]-d)>Y.roundPixel.epsilon?s[h]:d}else x=0;(null==d||x!=d)&&(i|=C),
e[o]=x,x&&(k[l]+=x,D[h]-=x),s.isVisible&&f(s,r)}finally{g&&s.log.groupEnd()}}return i;
}function a(){var e=0,t=9,n=0;do{n++,g&&p.log.group("Iteration #"+n+" / "+t);try{
if(e=s(1===n,n===t),e&&0!==(e&w))return g&&p.log("Restarting due to clientSize increase."),
e}finally{g&&p.log.groupEnd()}}while(t>n&&0!==(e&_));return 0}function s(e,t){var n,i=v&&!t,r=I.length,o=I.concat(j),a=-1,s=o.length;
for(0>a&&(m=null);++a<s;){var h=o[a],p=a>=r;g&&h.log.group("Layout");try{if(l(h,i,p),
h.isVisible){if(c(h,i))return w;if(n=d(h,i))return _;p||f(h,i),p?(u(h,"center"),u(h,"middle")):u(h,h.align);
}}finally{g&&h.log.groupEnd()}}return 0}function l(n,i,r){var o,a,s,l;if(r)o=re.clone(D),
s=D,l=e.copyOwn(T);else{var u=n.anchor,c=b[u],h=y[u];a={width:null,height:null},a[c]=D[c],
a[h]=n[h],s={width:null,height:null},s[c]=D[c],s[h]=t.clientSize[h],l=e.copyOwn(ie.filterAnchor(u,T));
}S.sizeAvailable=o,S.size=a,S.sizeRef=s,S.paddings=l,S.canChange=i,n.layout(S)}function u(e,t){
var n,i;switch(t){case"top":case"bottom":case"left":case"right":i=t,n=k[i];break;case"fill":
case"middle":i="bottom",n=k.bottom+D.height/2-e.height/2;break;case"center":i="left",
n=k.left+D.width/2-e.width/2}e.position[i]=n}function c(e,n){function i(i){var a=o[i];
a>Y.roundPixel.epsilon&&(n?(r|=w,t.clientSize[i]+=a,N[i]+=a):g&&e.log.warn("Child wanted more "+i+", but layout iterations limit has been reached."));
}var r=0,o=e.getLayout().sizeIncrease;return o&&("fill"===e.anchor?re.names.forEach(i):i(e.anchorLength())),
r}function h(e){function n(n){var r=M[n]-D[n];r-=N[n],r>Y.roundPixel.epsilon&&(e?(i|=w,
t.clientSize[n]+=r,g&&p.log.warn("Increasing client "+n+" by "+r+" to satisfy minimum fill "+n+".")):g&&p.log.warn("Wanted more fill "+n+", "+r+", but layout iterations limit has been reached."));
}var i=0;return M&&(n("width"),n("height")),i}function d(t,n){var i=0,r=t._layoutInfo.contentOverflow;
return r&&(g&&t.log("ContentOverflow="+e.describe(r)),ie.getAnchorSides(t.anchor).forEach(function(e){
var o=T[e]||0,a=r[e]||0;a-o>Y.roundPixel.epsilon&&(n?(i|=_,T[e]=a,g&&t.log("Changed content overflow: "+e+" <- "+a)):g&&t.log.warn("CANNOT change but child wanted to: "+e+"="+a));
}),i&&ie.updateSize(T)),i}function f(n,i){var r,o=0;if(p.chart._preserveLayout||!(r=n._layoutInfo.contentOverflowOptional))return o;
g&&n.log("<= contentOverflowOptional="+e.describe(r));var a=t.paddings,s=n.anchorLength();
return ie.getAnchorSides(n.anchor).forEach(function(t){if(r.hasOwnProperty(t)){var l=a[t]||0,u=r[t]||0,c=n._layoutInfo.size[s],h=Math.max(0,c+u-D[s]),d=Math.max(0,h-k[t]);
d-l>Y.roundPixel.epsilon&&(i?(o|=x,m||(m=new ie(a)),m[t]=Math.max(m[t]||0,d),g&&n.log("Changed optional content overflow "+t+" <- "+d)):e.debug>=2&&n.log.warn("CANNOT change optional content overflow but child wanted to: "+t+"="+d));
}}),o}var p=this;if(p._children){var m,g=e.debug>=10,v=t.restrictions.canChange!==!1,y=Y.BasePanel.orthogonalLength,b=Y.BasePanel.parallelLength,_=2,x=4,w=8,C=16,S={
force:!0},k=new ie(0),D=e.copyOwn(t.clientSize),M=this._getFillSizeMin();M&&(M=M.resolve(null));
var N={width:0,height:0},T=new ie(0),A=!1,j=[],I=[];g&&p.log.group("CCC GRID LAYOUT");
try{n()}finally{g&&p.log.groupEnd()}return t.gridMargins=ie.updateSize(k),t.gridPaddings=ie.updateSize(T),
t.gridSize=new re(D),t.clientSize}}}),e.type("pvc.BaseChart",Y.Abstract).add(Y.visual.Interactive).add(e.EventSource).init(function(t){
var i=t,r=this.parent=e.get(t,"parent")||null;r?t||e.fail.argumentRequired("options"):(ye&&ye(),
t=e.mixin.copy({},this.defaults,t)),this.options=t,r?(this.root=r.root,this.smallColIndex=t.smallColIndex,
this.smallRowIndex=t.smallRowIndex):(this.root=this,this._format=n.format.language().createChild()),
this.base(),e.debug>=3&&this.log.info("NEW CHART\n"+e.logSeparator.replace(/-/g,"=")+"\n  DebugLevel: "+e.debug),
e.debug>=3&&!r&&i&&(this.log.info("OPTIONS:\n",i),e.debug>=5&&this.log.debug(e.describe(i,{
ownOnly:!1,funs:!0}))),r&&r._addChild(this),this._constructData(t),this._constructVisualRoles(t),
this._constructPlots(t)}).add({_disposed:!1,parent:null,children:null,root:null,isCreated:!1,
_createVersion:0,renderCallback:void 0,left:0,top:0,width:null,height:null,margins:null,
paddings:null,_allowV1SecondAxis:!1,_preserveLayout:!1,compatVersion:function(e){
return(e||this.options).compatVersion},getCompatFlag:function(e){return this.options.compatFlags[e];
},_createLogId:function(){return""+e.qualNameOf(this.constructor)+this._createLogChildSuffix();
},_createLogChildSuffix:function(){return this.parent?" ("+(this.smallRowIndex+1)+","+(this.smallColIndex+1)+")":"";
},_addChild:function(t){t.parent===this||e.assert("Not a child of this chart."),this.children.push(t);
},_savePlotsLayout:function(){this.options.preserveLayout&&this.plotPanelList&&this.plotPanelList.length&&(this._preservedPlotsLayoutInfo={},
this.plotPanelList.forEach(function(e){this._preservedPlotsLayoutInfo[e.plot.id]=e._getLayoutState();
},this),this._preserveLayout=!0)},_create:function(e){this._createPhase1(e),this._createPhase2();
},_createPhase1:function(t){this._createVersion++,this.isCreated=!1,e.debug>=3&&this.log("Creating");
var n=!this.parent,i=this._isMultiChartOverflowClipRetry,r=n&&!i&&!this.data;if(this._savePlotsLayout(),
n&&(this.children=[]),this.plotPanels={},this.plotPanelList=[],n&&i||this._processOptions(),
!i){if(r){if(this._processDataOptions(this.options),!this.allowNoData&&!this.resultset.length)throw new Y.NoDataException;
this._initVisualRoles(),this._initPlots(),this._createComplexTypeAndBindVisualRoles(),
this._bindPlotsEnd()}if(this._initAxes(),n&&(this._initData(t),!this.allowNoData&&!this.data.count()))throw new Y.NoDataException;
this._initAxesEnd()}if(n){var o=this.visualRoles.multiChart.isBound();o&&this._initMultiCharts(),
i||(this._interpolate(o),this._generateTrends(o))}this._setAxesScales(this._chartLevel());
},_createPhase2:function(){this._initChartPanels(),this.isCreated=!0},_setSmallLayout:function(t){
function n(e){var n=t[e];return null!=n?(i[e]=n,!0):void 0}if(t){var i=this,r=i.basePanel;
n("left")|n("top")&&r&&e.set(r.position,"left",this.left,"top",this.top),n("width")|n("height")&&r&&(r.size=new re(this.width,this.height)),
n("margins")&&r&&(r.margins=new ie(this.margins)),n("paddings")&&r&&(r.paddings=new ie(this.paddings));
}},_processOptions:function(){var t,n=this.options;return this.parent||(this.width=n.width,
this.height=n.height,this.margins=n.margins,this.paddings=n.paddings),this.compatVersion()<=1?n.plot2=this._allowV1SecondAxis&&!!n.secondAxis:!n.plot2&&(t=n.plots)&&(n.plot2=e.array.is(t)?e.query(t).where(function(e){
return"plot2"===e.name}).any():!!t.plot2),this._processFormatOptions(n),this._processOptionsCore(n),
this._processExtensionPoints(),n},_processOptionsCore:function(e){var n=this.parent;
if(n)o=n.ibits(),this._tooltipOptions=n._tooltipOptions,this._pointingOptions=n._pointingOptions;else{
var r="batik"!==t.renderer();r&&null==(r=e.interactive)&&(r=!0);var o=0;if(r){var a=Y.visual.Interactive;
o=a.Interactive|a.ShowsInteraction,this._processTooltipOptions(e)&&(o|=a.ShowsTooltip),
e.animate&&i.support.svg&&(o|=a.Animatable);var s=!1;if(e.selectable)switch(o|=a.Selectable,
Y.parseSelectionMode(e.selectionMode)){case"rubberbandorclick":o|=a.SelectableByRubberband|a.SelectableByClick;
break;case"rubberband":o|=a.SelectableByRubberband;break;case"click":o|=a.SelectableByClick;
break;case"focuswindow":o|=a.SelectableByFocusWindow,s=!0}s||"emptyspaceclick"!==Y.parseClearSelectionMode(e.clearSelectionMode)||(o|=a.Unselectable),
e.hoverable&&(o|=a.Hoverable),e.clickable&&(o|=a.Clickable|a.DoubleClickable),this._processPointingOptions(e);
var l;(l=e.on)&&this.on(l),(l=e.before)&&this.before(l),(l=e.after)&&this.after(l);
}}this._ibits=o},_pointingDefaults:{radius:10,radiusHyst:4,stealClick:!0,collapse:"none"
},_tooltipDefaults:{gravity:"s",animate:void 0,delayIn:200,delayOut:80,offset:2,opacity:.9,
html:!0,fade:!0,useCorners:!1,arrowVisible:!0,followMouse:!1,format:void 0,className:""
},_processTooltipOptions:function(t){var n=this.compatVersion()<=1,i=t.tooltip,r=t.tooltipEnabled;
return null==r&&(i&&(r=i.enabled),null==r&&(n&&(r=t.showTooltips),null==r&&(r=!0))),
r&&(i=i?e.copy(i):{},n&&this._importV1TooltipOptions(i,t),e.eachOwn(this._tooltipDefaults,function(n,r){
var o=t["tooltip"+e.firstUpperCase(r)];void 0!==o?i[r]=o:void 0===i[r]&&(i[r]=n)})),
this._tooltipOptions=i||{},r},_importV1TooltipOptions:function(e,t){var n=t.tipsySettings;
if(n){this.extend(n,"tooltip");for(var i in n)void 0===e[i]&&(e[i]=n[i]);null==e.html&&(e.html=!1);
}},_processPointingOptions:function(t){var n=t.pointing,i=t.pointingMode;null==i&&(n&&(i=n.mode),
i||(i="near")),n=n?e.copyOwn(n):{},n.mode=Y.parsePointingMode(i),e.eachOwn(this._pointingDefaults,function(e,t){
void 0===n[t]&&(n[t]=e)}),n.collapse=Y.parsePointingCollapse(n.collapse),n.painted=!0,
this._pointingOptions=n||{}},_processFormatOptions:function(e){if(!this.parent){var t=e.format;
null!=t&&this.format(t);var n=this._format;this._processFormatOption(e,n,"number","valueFormat"),
this._processFormatOption(e,n,"percent","percentValueFormat")}},_processFormatOption:function(e,i,r,o){
var a=i[r]();if(a!==n.format.defaults[r]())e[o]=a;else{var s=e[o];s&&s!==a&&(s._nullWrapped||(e[o]=s=t.Format.createFormatter(s),
s._nullWrapped=1),i[r](s))}},_processDataOptions:function(t){function n(e,n,r){var o=t[e];
void 0!==o?i[n]=null==o||""===o?r:o:null!=r&&void 0===i[n]&&(i[n]=r)}var i=t.dataOptions||(t.dataOptions={});
n("dataSeparator","separator","~"),n("dataMeasuresInColumns","measuresInColumns"),
n("dataCategoriesCount","categoriesCount"),n("dataIgnoreMetadataLabels","ignoreMetadataLabels"),
n("dataWhere","where"),n("dataTypeCheckingMode","typeCheckingMode");var r,o,a=t.plot2;
a&&(this._allowV1SecondAxis&&this.compatVersion()<=1?o=t.secondAxisIdx:(r=t.plot2Series?e.array.as(t.plot2Series):null,
r&&r.length||(r=null,o=t.plot2SeriesIndexes)),r||(o=e.parseDistinctIndexArray(o,-1/0)||-1)),
t.plot2Series=r,t.plot2SeriesIndexes=o,i.measuresIndex=i.measuresIndex||i.measuresIdx,
i.measuresCount=i.measuresCount||i.numMeasures},format:function(t){var i=this.root;
if(i!==this)return i.format.apply(i,arguments);var r=this._format;if(arguments.length){
if(!t)throw e.error.argumentRequired("format");if(t!==r){if(!e.is(t,n.format)){if(r)return e.configure(r,t),
this;t=n.format(t)}this._format=t}return this}return r},_getPerformanceMeasurementPrefix:function(){
return this.options.measurePerformance&&"undefined"!=typeof performance?"ccc-chart-render"+("string"!=typeof this.options.canvas?"-"+this.options.canvas:""):null;
},_calcPerformanceMeasurementStats:function(t){var n=t.length,i=t.reduce(function(e,t){
return e+t.duration},0)/n,r=Math.sqrt(t.reduce(function(t,n){return t+e.sqr(n.duration-i);
},0)/n);return{last:t[n-1].duration,count:n,average:i,deviation:r}},render:function(t){
var n,i,r,o,a,s,l=null,u=this._getPerformanceMeasurementPrefix();1===arguments.length&&t&&"object"==typeof t?(i=!!t.bypassAnimation,
r=!!t.recreate,s=r?t.dataOnRecreate:null,o="reload"===s,a="add"===s):(i=!!arguments[0],
r=arguments[1],o=arguments[2],a=!1),null!==u&&(performance.clearMarks(),performance.mark(u+"-start")),
e.debug>1&&this.log.group("CCC RENDER"),this._lastRenderError=null,this._suspendSelectionUpdate();
try{this.useTextMeasureCache(function(){try{this._renderCore(r,o,a,i)}catch(t){l=t,
t instanceof Y.NoDataException?this._addErrorPanelMessage(t.message,"noDataMessage"):t instanceof Y.InvalidDataException?this._addErrorPanelMessage(t.message,"invalidDataMessage"):(n=!0,
this.log.error(t.message),e.debug>0&&this._addErrorPanelMessage("Error: "+t.message,"errorMessage"));
}})}finally{if(this._lastRenderError=l,this._isMultiChartOverflowClipRetry=!1,n||this._resumeSelectionUpdate(),
e.debug>1&&this.log.groupEnd(),null!==u){performance.mark(u+"-end"),performance.measure(u,u+"-start",u+"-end");
var c=this._calcPerformanceMeasurementStats(performance.getEntriesByName(u));console.info("CCC RENDER latest: %s ms / average: %s ms / deviation: %s / count: %d",c.last.toFixed(2),c.average.toFixed(2),c.deviation.toFixed(2),c.count);
}}return this},_renderCore:function(e,t,n,i){for(;this.parent||Y.removeTipsyLegends(),
(e||!this.isCreated)&&this._create({reloadData:t,addData:n}),this.basePanel.render({
bypassAnimation:i,recreate:e}),this._isMultiChartOverflowClip;)e=!0,t=!1,this._isMultiChartOverflowClipRetry=!0,
this._isMultiChartOverflowClip=!1},renderPages:function(){if(this.options.interactive=!1,
this.options.multiChartOverflow="page",this.render(),!this.getLastRenderError()){
var e=this.basePanel&&this.basePanel.pvRootPanel,n=e&&e.canvas();if(n){var i=this.getNextPageStartIndex();
if(!(0>i)){this.options.smallWidth=this._multiInfo.smallWidth,this.options.smallHeight=this._multiInfo.smallHeight;
var r=[n.childNodes[0]];do{if(this.__disposeRootPanel(),t.removeChildren(n),this.options.multiChartStart=i,
this.render({recreate:!0,dataOnRecreate:null,bypassAnimation:!0}),this.getLastRenderError())return;
r.push(n.childNodes[0]),i=this.getNextPageStartIndex()}while(i>=0);this.__disposeRootPanel(),
t.removeChildren(n);for(var o=-1,a=r.length;++o<a;)n.appendChild(r[o])}}}},getLastRenderError:function(){
return this._lastRenderError},getNextPageStartIndex:function(){var e=this._multiInfo;
return e&&!e.isLastPage?e.pageStartIndex+e.pageSmallCount:-1},renderResize:function(e,t){
var n=null!=e,i=null!=t;if(!n&&!i)return this;var r=this.basePanel;if(r){n&&(n=e!==r.width),
i&&(i=t!==r.height);var o,a;if((o=r.getLayout())&&(a=o.sizeIncrease)&&(n&&(n=!a.width||e>r.width),
i&&(i=!a.height||t>r.height),!n&&!i))return this}return n?this.options.width=e:r&&(this.options.width=this.width),
i?this.options.height=t:r&&(this.options.height=this.height),this.render(!0,!0,!1);
},_addErrorPanelMessage:function(n,i){e.debug>1&&this.log(n);var r=!i||this._getExtension(i,"visible")!==!1;
if(r){var o=this.options,a=(new t.Panel).canvas(o.canvas).width(this.width).height(this.height),s=a.anchor("center").add(t.Label).text(n);
i&&this.extend(s,i),a.render()}},useTextMeasureCache:function(e,n){var i=this.root,r=i._textMeasureCache||(i._textMeasureCache=t.Text.createCache());
return t.Text.usingCache(r,e,n||this)},animate:function(e,t){return this.basePanel.animate(e,t);
},animatingStart:function(){return this.basePanel.animatingStart()},animating:function(){
return!!this.basePanel&&this.basePanel.animating()},isOrientationVertical:function(e){
return(e||this.options.orientation)===Y.orientation.vertical},isOrientationHorizontal:function(e){
return(e||this.options.orientation)===Y.orientation.horizontal},dispose:function(){
this._disposed||(this._disposed=!0,this.__disposeRootPanel())},__disposeRootPanel:function(){
var e=this.basePanel&&this.basePanel.pvRootPanel,n=t.Behavior.tipsy;n&&n.disposeAll&&n.disposeAll(e),
e&&e.dispose()},defaults:{width:400,height:300,orientation:"vertical",ignoreNulls:!0,
crosstabMode:!0,isMultiValued:!1,seriesInRows:!1,groupedLabelSep:void 0,animate:!0,
titlePosition:"top",titleAlign:"center",legend:!1,legendPosition:"bottom",slidingWindow:!1,
v1StyleTooltipFormat:function(e,t,n,i){return e+", "+t+":  "+this.chart.options.valueFormat(n)+(i&&i.percent?" ("+i.percent.label+")":"");
},clickable:!1,doubleClickMaxDelay:300,hoverable:!1,selectable:!1,selectionMode:"rubberbandOrClick",
ctrlSelectMode:!0,clearSelectionMode:"emptySpaceClick",compatVersion:1/0,compatFlags:{
discreteTimeSeriesTickFormat:!0}}});var ye=function(){var e=Y.BaseChart.prototype.defaults;
e.valueFormat||(e.valueFormat=n.format.defaults.number()),e.percentValueFormat||(e.percentValueFormat=n.format.defaults.percent()),
ye=null};Y.BaseChart.add({visualRoles:null,visualRoleList:null,_measureVisualRoles:null,
_constructVisualRoles:function(){var e=this.parent;e&&(this.visualRoles=e.visualRoles,
this.visualRoleList=e.visualRoleList)},_initVisualRoles:function(){var e=this.parent;
e||(this.visualRoles={},this.visualRoleList=[],this._createChartVisualRoles())},_addVisualRole:function(t,n){
n=e.set(n,"index",this.visualRoleList.length);var i=new Y.visual.Role(this,t,n),r=[t];
return i.plot||r.push("$."+t),this._addVisualRoleCore(i,r)},_addVisualRoleCore:function(t,n){
return n||(n=t.name),this.visualRoleList.push(t),e.array.is(n)?n.forEach(function(e){
this.visualRoles[e]=t},this):this.visualRoles[n]=t,t},_createChartVisualRoles:function(){
this._addVisualRole("multiChart",{defaultDimension:"multiChart*",requireIsDiscrete:!0
}),this._addVisualRole("dataPart",{defaultDimension:"dataPart",requireIsDiscrete:!0,
requireSingleDimension:!0,dimensionDefaults:{isHidden:!0,comparer:e.compare}})},visualRole:function(t){
var n=e.getOwn(this.visualRoles,t);if(!n)throw e.error.operationInvalid("roleName","There is no visual role with name '{0}'.",[t]);
return n},measureVisualRoles:function(){return this.parent?this.parent.measureVisualRoles():this._measureVisualRoles||(this._measureVisualRoles=this.visualRoleList.filter(function(e){
return e.isMeasureEffective}))},measureDimensionsNames:function(){return e.query(this.measureVisualRoles()).selectMany(function(e){
return e.grouping.dimensionNames()}).distinct().array()},visualRolesOf:function(t,n){
var i=this._visRolesByDim;if(!i){i={};var r=!!this._dataType;r&&(this._visRolesByDim=i),
this.visualRoleList.forEach(function(t){if(n||!t.plot){var r=t.grouping||t.preBoundGrouping();
r&&r.dimensionNames().forEach(function(n){e.array.lazy(i,n).push(t)})}})}return e.getOwn(i,t,null);
},_getDataPartDimName:function(e){var t,n=this.visualRoles.dataPart;return n.isBound()?n.grouping.singleDimensionName:(t=n.preBoundGrouping())?t.firstDimension&&t.firstDimension.name:e?n.defaultDimensionGroup:null;
},_processViewSpec:function(t){if(!t.dimsKeys)if(t.role){var n=this.visualRoles[t.role],i=n&&n.grouping;
i&&(t.dimNames=i.allDimensionNames.slice().sort(),t.dimsKey=t.dimNames.join(","));
}else{if(!t.dims)throw e.error.argumentInvalid("viewSpec","Invalid view spec. No 'role' or 'dims' property.");
t.dimNames=P(t.dims),t.dimsKey=String(t.dimNames)}},getBoundDimensionsDataSetOf:function(t){
if(!t.isMeasure)throw new Error("Visual role is not isMeasure.");var i=e.lazy(this.root,"_boundDimsDataSetsMap"),r=i[t.boundDimensionsDataSetName];
if(!r){var o=new n.ComplexType({dim:{isKey:!0,valueType:String,isHidden:!0}});r=new n.Data({
type:o}),i[t.boundDimensionsDataSetName]=r}return r},getBoundDimensionsComplexTypeOf:function(e){
return this.getBoundDimensionsDataSetOf(e).type},_boundDimsDataSetsMap:null,get boundDimensionsDataSetsMap(){
return this.root._boundDimsDataSetsMap||null},get boundDimensionsComplexTypesMap(){
var t=null,n=this.boundDimensionsDataSetsMap;return n&&e.eachOwn(n,function(e,n){
t||(t=Object.create(null)),t[n]=e.type}),t}}),Y.BaseChart.add({dataEngine:null,data:null,
_partsDataCache:null,_visibleDataCache:null,resultset:[],metadata:[],_constructData:function(t){
this.parent&&(this.dataEngine=this.data=t.data||e.fail.argumentRequired("options.data"),
this.slidingWindow=this.parent.slidingWindow,e.debug>=3&&this.log(this.data.getInfo()));
},_createComplexTypeAndBindVisualRoles:function(){var t=this.options,i=this._createCommonDimensionsOptions(t),r=this._createNewComplexTypeProject(),o=Y.visual.rolesBinder().logger(this._createNewLogger()).context(this._createNewVisualRolesContext()).complexTypeProject(r);
o.init();var a=this._getDataPartDimName(!0);this._maybeAddPlot2SeriesDataPartCalc(r,a)||!this.visualRoles.dataPart.isPreBound()&&this.plots.trend&&r.setDim(a),
this.metadata.length&&(this._createTranslation(r,i,a),this._translation.configureType(),
e.debug>=3&&this.log(this._translation.logLogicalRow())),r.hasDim(a)&&!r.isReadOrCalc(a)&&this._addDefaultDataPartCalculation(r,a),
o.dimensionsFinished();var s=new n.ComplexType(null,{formatProto:this._format});r.configureComplexType(s,i),
this._willBindVisualRoles(s),e.debug>=3&&this.log(s.describe()),o.bind(s),this._dataType=s;
},_willBindVisualRoles:function(e){this._createSlidingWindow(e)},_getPreBoundTrendedDimensionNames:function(){
return e.query(this.plotList).selectMany(e.propGet("dataCellList")).where(e.propGet("trend")).selectMany(function(e){
return e.role.isPreBound()?e.role.preBoundGrouping().dimensionNames():void 0}).distinct().array();
},_createSlidingWindow:function(e){var t=null;this.options.slidingWindow&&(t=new Y.visual.SlidingWindow(this),
t.length?(t.setDimensionsOptions(e),t.setLayoutPreservation(this)):t=null),this.slidingWindow=t;
},_initData:function(t){var n=this.data;n?e.get(t,"reloadData",!0)?this._reloadData(!1):(n.disposeChildren(),
n.clearVirtuals(),e.get(t,"addData",!1)&&this._reloadData(!0)):this._createAndLoadData(),
delete this._partsDataCache,delete this._visibleDataCache,e.debug>=3&&this.log(this.data.getInfo());
},_createAndLoadData:function(){var e=new n.Data({type:this._dataType,labelSep:this.options.groupedLabelSep,
keySep:this.options.dataOptions.separator});this.data=e,this.dataEngine=e,this.slidingWindow&&(this.slidingWindow.initFromOptions(),
this.slidingWindow.setDataFilter(e)),this._translation&&this._loadDataCore(!1)},_reloadData:function(e){
this._translation&&(this._translation.setSource(this.resultset),this._loadDataCore(e));
},_loadDataCore:function(t){e.debug>=3&&this.log(this._translation.logSource());var n=this._translation.execute(this.data),i={
isAdditive:t,where:this.options.dataOptions.where,isNull:this._getIsNullDatum()};this.data.load(n,i);
},_createNewVisualRolesContext:function(){var t=this,n=this.options,i=n.visualRoles,r=this.visualRoles,o=this.visualRoleList,a=function(t){
return e.getOwn(r,t)};return a.query=function(){return e.query(o)},a.getOptions=function(e){
var t,r,o,a=e.plot,s=e.name;if(!a||a.isMain){if((t=n[s+"Role"])!==o)return t;if(i&&(t=i[s])!==o)return t;
}return a&&(r=a._visualRolesOptions)?r[s]:void 0},a.getExtensionComplexTypesMap=function(){
return t.boundDimensionsComplexTypesMap},a},_createNewLogger:function(){function t(){
n.log.apply(n,arguments)}var n=this;return t.level=function(){return e.debug},t},
_createNewComplexTypeProject:function(){var e=this.options,t=new n.ComplexTypeProject(e.dimensionGroups),i=e.dimensions;
for(var r in i)t.setDim(r,i[r]);var o=e.calculations;return o&&o.forEach(t.setCalc,t),
t},_getIsNullDatum:function(){var e,t,n=this;return function(i){if(e||(e=n.measureDimensionsNames(),
t=e.length),!t)return!1;for(var r=i.atoms,o=0;t>o;o++)if(null!=r[e[o]].value)return!1;
return!0}},_createTranslation:function(t,n,i){var r=this._createTranslationOptions(n,i),o=this._getTranslationClass(r),a=new o(t,this.resultset,this.metadata,r);
e.debug>=3&&this.log(a.logTranslatorType()),this._translation=a},_getTranslationClass:function(e){
return e.crosstabMode?n.CrosstabTranslationOper:n.RelationalTranslationOper},_createCommonDimensionsOptions:function(e){
return{isCategoryTimeSeries:e.timeSeries,formatProto:this._format,timeSeriesFormat:e.timeSeriesFormat
}},_createTranslationOptions:function(t,n){var i=this.options,r=i.dataOptions;return e.create(t,{
compatVersion:this.compatVersion(),plot2DataSeriesIndexes:i.plot2SeriesIndexes,seriesInRows:i.seriesInRows,
crosstabMode:i.crosstabMode,isMultiValued:i.isMultiValued,dataPartDimName:n,readers:i.readers,
measuresIndexes:i.measuresIndexes,multiChartIndexes:i.multiChartIndexes,ignoreMetadataLabels:r.ignoreMetadataLabels,
typeCheckingMode:Y.parseDataTypeCheckingMode(r.typeCheckingMode),separator:r.separator,
measuresInColumns:r.measuresInColumns,categoriesCount:r.categoriesCount,measuresIndex:r.measuresIndex,
measuresCount:r.measuresCount})},_maybeAddPlot2SeriesDataPartCalc:function(t,i){if(this.compatVersion()<=1)return!1;
var r=this.options,o=this.visualRoles.series,a=o?r.plot2Series:null;if(!a)return!1;
var s,l,u,c,h,d=e.query(a).uniqueIndex(),f=e.hasOwnProp,p=function(e){o.isBound()&&(s=o.grouping.dimensionNames(),
l=e.owner.dimensions(i),s.length>1?h=n.Complex.compositeKey:(s=s[0],h=function(e,t){
return e.atoms[t].key})),p=null};return t.setCalc({names:i,calculation:function(e,t){
if(p&&p(e),l){var n=h(e,s);t[i]=f.call(d,n)?c||(c=l.intern("1")):u||(u=l.intern("0"));
}}}),!0},_addDefaultDataPartCalculation:function(e,t){var n,i;e.setCalc({names:t,
calculation:function(e,r){n||(n=e.owner.dimensions(t)),r[t]=i||(i=n.intern("0"))}
})},partData:function(t,n){if(n||(n=this.data),null==t)return n;var i=this.root,r=i.visualRoles.dataPart;
if(!r||!r.isBound())return n;var o="\x00"+n.id+":"+e.nullyTo(t,""),a=e.lazy(i,"_partsDataCache"),s=a[o];
return s||(s=i._createPartData(n,r,t),a[o]=s),s},_createPartData:function(t,i,r){
var o=i.grouping.singleDimensionName,a=t.dimensions(o).getDistinctAtoms(e.array.to(r)),s=n.querySpecPredicate([e.set({},o,a)]);
return t.where(null,{where:s})},visibleData:function(t){var n=this.plots.main||e.fail.operationInvalid("There is no main plot defined.");
return this.visiblePlotData(n,t)},visiblePlotData:function(t,n){var i=this.root,r=e.get(n,"baseData")||this.data,o=!!e.get(n,"inverted",!1),a=!(!i.options.ignoreNulls&&!e.get(n,"ignoreNulls",!0)),s=[t.id,r.id,o,a].join("|"),l=e.lazy(i,"_visibleDataCache"),u=l[s];
if(!u){var c=i.partData(t.dataPartValue,r),h={visible:!0,inverted:o,isNull:a?!1:null
};u=l[s]=t.createData(c,h)}return u},_initMultiCharts:function(){var t=this;t.multiOptions=new Y.visual.MultiChart(t),
t.smallOptions=new Y.visual.SmallChart(t);var n,i,r,o,a,s=t.multiOptions.option,l=t.visualRoles.multiChart.flatten(t.data,{
visible:!0,isNull:null}),u=l.childNodes,c=s("Start");if(t._isMultiChartOverflowClipRetry)o=t._clippedMultiChartRowCountMax,
r=t._clippedMultiChartColCountMax,a=r,i=o*r,n=!1;else{n=!0;var h=Math.min(u.length,s("Max")),d=Math.max(0,h-c);
0===d?r=o=a=i=0:(a=s("ColumnsMax"),r=Math.min(d,a),r>=1&&isFinite(r)||e.assert("Must be at least 1 and finite"),
o=Math.ceil(d/r),o>=1||e.assert("Must be at least 1"),i=d)}t._multiInfo={pageStartIndex:c,
pageSmallCount:i,isLastPage:n,smallDatas:u,rowCount:o,colCount:r,colCountMax:a,smallWidth:null,
smallHeight:null}},interpolatable:function(){var e=this.plotList;return!!e&&e.some(function(e){
return e.interpolatable()})},_interpolate:function(t){if(this.interpolatable()){var n=e.query(this.axesList).selectMany(e.propGet("dataCells")).where(function(e){
var t=e.nullInterpolationMode;return!!t&&"none"!==t}).distinct(function(e){return[e.nullInterpolationMode,e.role.grouping.key,e.dataPartValue||""].join();
}).array();this._eachLeafDatasAndDataCells(t,n,function(e,t){e.plot.interpolateDataCell(e,t);
})}},_generateTrends:function(t){var n=this._getDataPartDimName();if(n&&this.plots.trend){
var i=e.query(this.axesList).selectMany(e.propGet("dataCells")).where(e.propGet("trend")).distinct(function(e){
return e.role.prettyId()+"|"+(e.dataPartValue||"")}).array(),r=[];this._eachLeafDatasAndDataCells(t,i,function(e,t){
e.plot.generateTrendsDataCell(r,e,t)}),r.length>0&&this.data.owner.add(r)}},_eachLeafDatasAndDataCells:function(e,t,n,i){
var r=t.length;if(r){var o,a,s;if(e){var l=this._multiInfo;o=l.smallDatas,a=l.pageSmallCount,
s=l.pageStartIndex}else o=[this.data],a=1,s=0;for(var u=0;a>u;u++)for(var c=o[s+u],h=0;r>h;h++)n.call(i,t[h],c);
}},_getTrendDataPartAtom:function(){var e=this._getDataPartDimName();return e?this.data.owner.dimensions(e).intern("trend"):void 0;
},setData:function(e,t){return this.setResultset(e&&e.resultset),this.setMetadata(e&&e.metadata),
i.extend(this.options,t),this},setResultset:function(t){return!this.parent||e.fail.operationInvalid("Can only set resultset on root chart."),
this.resultset=t||[],this.resultset.length||this.log.warn("Resultset is empty"),this;
},setMetadata:function(t){return!this.parent||e.fail.operationInvalid("Can only set metadata on root chart."),
this.metadata=t||[],this.metadata.length||this.log.warn("Metadata is empty"),this;
}}),Y.BaseChart.add({_constructPlots:function(){var e=this.parent;e&&(this.plots=e.plots,
this.plotList=e.plotList,this.plotsByType=e.plotsByType,this._dataCellsByAxisTypeThenIndex=this.parent._dataCellsByAxisTypeThenIndex);
},_initPlots:function(){this.plots={},this.plotList=[],this.plotsByType={},this._createPlotsInternal();
var e=this._defPlotsExternal();this._initPlotTrend(e),this._initPlotsEnd()},_createPlotsInternal:function(){},
_defPlotsExternal:function(){var e,t=this.plots,n=this.options.plots;return n&&n.forEach(function(n){
if(n){var i=n.name;"trend"===i?e=n:("plot2"!==i||t.plot2)&&this._defPlotExternal(i,n);
}},this),e},_initPlotTrend:function(e){var t=this.plotList.some(function(e){return e.option.isDefined("Trend")&&!!e.option("Trend");
});t&&(this._createPlotTrend(),e&&this.plots.trend&&this._defPlotExternal("trend",e));
},_defPlotExternal:function(t,n){var i,r=n.type;if(t&&(t=e.firstLowerCase(t),i=this.plots&&this.plots[t],
i&&r&&r!==i.type))throw e.error.argumentInvalid("plots","Plot named '{0}' is already defined and is of a different type: '{1}'",[t,i.type]);
i?i.processSpec(n):this._addPlot(this._createPlotExternal(t,r,n))},_createPlotExternal:function(t,n,i){
if(!n)throw e.error.argumentInvalid("plots","Plot 'type' option is required.");var r=Y.visual.Plot.getClass(n);
if(!r)throw e.error.argumentInvalid("plots","The plot type '{0}' is not defined.",[n]);
return new r(this,{name:t,isInternal:!1,spec:i})},_createPlotTrend:function(){},_addPlot:function(t){
var n=this.plots,i=t.index,r=t.name,o=t.id;if(r&&e.hasOwn(n,r))throw e.error.operationInvalid("Plot name '{0}' already taken.",[r]);
if(e.hasOwn(n,o))throw e.error.operationInvalid("Plot id '{0}' already taken.",[o]);
var a=e.array.lazy(this.plotsByType,t.type);if(e.hasOwn(a,i))throw e.error.operationInvalid("Plot index '{0}' of type '{1}' already taken.",[i,t.type]);
t.globalIndex=this.plotList.length;var s=!t.globalIndex;a[i]=t,this.plotList.push(t),
n[o]=t,r&&(n[r]=t),s&&(n.main=t)},_initPlotsEnd:function(){this.plotList.forEach(function(e){
e.initEnd(),this._registerPlotVisualRoles(e)},this)},_registerPlotVisualRoles:function(e){
var t=e.name,n=e.id,i=e.isMain;e.visualRoleList.forEach(function(e){var r=e.name,o=[];
i&&(r in this.visualRoles||o.push(r),o.push("main."+r)),o.push(n+"."+r),t&&o.push(t+"."+r),
this._addVisualRoleCore(e,o)},this)},_bindPlotsEnd:function(){if(this.plotList.length>0){
var e=!1;this.plotList.forEach(function(t){t.bindEnd(),!e&&t.isBound&&(e=!0)}),e||this.plotList[0].assertBound();
}}}),Y.BaseChart.add({colors:null,axes:null,axesList:null,axesByType:null,_axisClassByType:{
color:Y.visual.ColorAxis,size:Y.visual.SizeAxis},_axisCreateChartLevel:{color:1,size:2,
base:3,ortho:3},_axisSetScaleChartLevel:{color:1,size:2,base:2,ortho:2},_axisCreationOrder:["color","size","base","ortho"],
_axisCreateIfUnbound:{},_chartLevel:function(){var e=0;return this.parent||(e|=1),
(this.parent||!this.visualRoles.multiChart.isBound())&&(e|=2),e},_initAxes:function(){
var t,n=this.axesByType;this.axes&&(t={},this.axesList.forEach(function(e){t[e.id]=e.getState();
}));var i=function(e,i){if(n&&t){var r=n[e];if(r)return t[r[i].id]}};this.axes={},
this.axesList=[],this.axesByType={},delete this._rolesColorScale;var r=this._dataCellsByAxisTypeThenIndex;
this.parent||(r={},this.plotList.forEach(function(t){t.dataCellList.forEach(function(t){
if(t.role.isBound()){var n=e.array.lazy(r,t.axisType);e.array.lazy(n,t.axisIndex).push(t);
}})}),this._dataCellsByAxisTypeThenIndex=r);var o=this._chartLevel();this._axisCreationOrder.forEach(function(e){
if(0!==(this._axisCreateChartLevel[e]&o)){var t,n=r[e];n&&(t=this._getAxisClass(e),
n.forEach(function(n){if(n=n.filter(function(e){return!e.plot||(this.parent?e.plot.isDataBoundOn(this.data):e.plot.isBound);
},this),n.length>0){var r=n[0].axisIndex;new t(this,e,r,{state:i(e,r)})}},this)),
!this.axesByType[e]&&this._axisCreateIfUnbound[e]&&new(t=this._getAxisClass(e))(this,e,0);
}},this),this.parent&&this.root.axesList.forEach(function(t){e.hasOwn(this.axes,t.id)||this._addAxis(t);
},this),e.eachOwn(r,function(t,n){0!==(this._axisCreateChartLevel[n]&o)&&t.forEach(function(t){
if(t=t.filter(function(e){return!e.plot||(this.parent?e.plot.isDataBoundOn(this.data):e.plot.isBound);
},this),t.length>0){var i=t[0].axisIndex,r=this.axes[e.indexedId(n,i)];r.isBound()||r.bind(t);
}},this)},this)},_getAxisClass:function(e){return this._axisClassByType[e]||Y.visual.Axis;
},_initAxesEnd:function(){this.slidingWindow&&this.slidingWindow.setAxesDefaults(this);
},_addAxis:function(t){this.axes[t.id]=t,this.axesList.push(t);var n=e.array.lazy(this.axesByType,t.type),i=n.count||0;
return t.typeIndex=i,n[t.index]=t,i||(n.first=t),n.count=i+1,"color"===t.type&&t.isBound()&&this._onColorAxisScaleSet(t),
this},_getAxis:function(e,t){var n;return null!=t&&+t>=0&&(n=this.axesByType[e])?n[t]:void 0;
},_setAxesScales:function(e){this.axesList.forEach(function(t){this._axisSetScaleChartLevel[t.type]&e&&t.isBound()&&this._setAxisScale(t,e);
},this)},_setAxisScale:function(e){this._setAxisScaleByScaleType(e)},_setAxisScaleByScaleType:function(t){
switch(t.scaleType){case"discrete":this._setDiscreteAxisScale(t);break;case"numeric":
this._setNumericAxisScale(t);break;case"timeSeries":this._setTimeSeriesAxisScale(t);
break;default:throw e.error("Unknown axis scale type.")}},_describeScale:function(t,n){
n.isNull&&e.debug>=3&&this.log(e.format("{0} scale for axis '{1}' - no data",[t.scaleType,t.id]));
},_setDiscreteAxisScale:function(e){if("color"===e.type)return this._setDiscreteColorAxisScale(e);
var n=e.domainValues(),i=new t.Scale.ordinal;n.length?i.domain(n):i.isNull=!0,this._describeScale(e,i),
e.setScale(i)},_setTimeSeriesAxisScale:function(e){var n=this._getContinuousVisibleExtentConstrained(e),i=new t.Scale.linear;
if(n){var r=n.min,o=n.max,a=1,s=function(){var e=o-r;e&&Math.abs(e)<a&&(o=r=new Date(Math.round((r+o)/2)),
e=0),e?0>e&&(!n.maxLocked||n.minLocked?o=new Date(r.getTime()+Y.time.intervals.h):r=new Date(o.getTime()-Y.time.intervals.h)):(n.minLocked||(r=new Date(r.getTime()-Y.time.intervals.h)),
(!n.maxLocked||n.minLocked)&&(o=new Date(o.getTime()+Y.time.intervals.h)))};s(),i.domain(r,o),
i.minLocked=n.minLocked,i.maxLocked=n.maxLocked}else i.isNull=!0;this._describeScale(e,i),
e.setScale(i)},_setNumericAxisScale:function(e){if("color"===e.type)return this._setNumericColorAxisScale(e);
var n=this._getContinuousVisibleExtentConstrained(e),i=new t.Scale.linear;if(n){var r=n.min,o=n.max,a=1e-10,s=function(){
var e=o-r;e&&Math.abs(e)<=a&&(r=(r+o)/2,r=o=+r.toFixed(10),e=0),e||(n.minLocked||(r=r>a?.99*r:-a>r?1.01*r:-.1),
(!n.maxLocked||n.minLocked)&&(o=o>a?1.01*o:-a>o?.99*o:.1))};s();var l=!n.lengthLocked&&e.option.isDefined("OriginIsZero")&&e.option("OriginIsZero");
l&&(0===r?n.minLocked=!0:0===o?n.maxLocked=!0:r*o>0&&(r>0?n.minLocked||(n.minLocked=!0,
r=0):n.maxLocked||(n.maxLocked=!0,o=0),s())),i.domain(r,o),i.minLocked=n.minLocked,
i.maxLocked=n.maxLocked}else i.isNull=!0;this._describeScale(e,i),e.setScale(i)},
_warnSingleContinuousValueRole:function(t){t.grouping.isSingleDimension||this.log.warn("A linear scale can only be obtained for a single dimension role."),
t.grouping.isDiscrete()&&this.log.warn(e.format("The single dimension of role '{0}' should be continuous.",[t.name]));
},_getContinuousVisibleExtentConstrained:function(e){var t,n=this,i=e.option,r=function(i){
return t||(t=n.data.owner.dimensions(e.role.grouping.firstDimension.name)),t.read(i).value;
},o=function(e){if(!i.isDefined(e))return null;var t=i(e);return null!=t?r(t):t},a=i.isDefined("FixedLength")?i("FixedLength"):null,s=null,l=null,u=!1,c=!1;
if(null!=(s=o("FixedMin"))&&(u=!0,a&&(l=+s+a,c=!0)),null==l&&null!=(l=o("FixedMax"))&&(c=!0,
a&&(s=l-a,u=!0)),null==s||null==l){var h=this._getContinuousVisibleExtent(e);if(!h)return null;
if(a)switch(i("DomainAlign")){case"min":s=h.min,l=+s+a;break;case"max":l=h.max,s=l-a;
break;default:var d=h.max-(h.max-h.min)/2;s=d-a/2,l=d+a/2}else null==s&&(s=h.min),
null==l&&(l=h.max)}if(e.scaleUsesAbs()&&(0>s&&(s=-s),0>l&&(l=-l)),+s>+l){var f=s;s=l,
l=f}return{min:r(s),max:r(l),minLocked:u,maxLocked:c,lengthLocked:null!=a}},_getContinuousVisibleExtent:function(t){
var n=t.dataCells;if(1===n.length){var i=n[0];return i.plot.getContinuousVisibleCellExtent(this,t,i);
}return e.query(n).select(function(e){return e.plot.getContinuousVisibleCellExtent(this,t,e);
},this).reduce(Y.unionExtents,null)},_setDiscreteColorAxisScale:function(e){var t=e.scheme()(e.domainValues());
this._describeScale(e,t),e.setScale(t,!0),this._onColorAxisScaleSet(e)},_setNumericColorAxisScale:function(t){
if(1!==t.dataCells.length)throw e.error("Can't handle multiple continuous data cells in color axis.");
this._warnSingleContinuousValueRole(t.role);var n=this.visiblePlotData(t.dataCell.plot),i=t.option("NormByCategory"),r={
type:t.option("ScaleType"),colors:t.option("Colors")().range(),colorDomain:t.option("Domain"),
colorMin:t.option("Min"),colorMax:t.option("Max"),colorMissing:t.option("Missing"),
data:n,colorDimension:t.role.grouping.singleDimensionName,normPerBaseCategory:i};if(i)t.scalesByCateg=d(r);else{
var o=f(r);this._describeScale(t,o),t.setScale(o)}this._onColorAxisScaleSet(t)},_onColorAxisScaleSet:function(e){
switch(e.index){case 0:this.colors=e.scheme();break;case 1:this._allowV1SecondAxis&&(this.secondAxisColor=e.scheme());
}},_getRoleColorScale:function(t){return e.lazy(e.lazy(this,"_rolesColorScale"),t.key,this._createRoleColorScale,this);
},_createRoleColorScale:function(t){function n(t){var n=""+t;e.hasOwnProp.call(o,n)||(o[n]=r(t));
}var i,r,o={};return this.axesByType.color.forEach(function(e){var o=e.role;(o&&e.scale&&"discrete"===e.scaleType&&o.grouping.key===t&&0===e.index||e.option.isSpecified("Colors")||e.option.isSpecified("Map"))&&(r=e.scale,
i||(i=r),e.domainValues().forEach(n))},this),i?(r=function(t){var n=""+t;return e.hasOwnProp.call(o,n)?o[n]:o[n]=i(t);
},e.copy(r,i),r):Y.createColorScheme()()},_onLaidOut:function(){}}),Y.BaseChart.add({
basePanel:null,contentPanel:null,titlePanel:null,legendPanel:null,_multiChartPanel:null,
_initChartPanels:function(){var e=this.visualRoles.multiChart.isBound(),t=!this.parent;
if(this._initBasePanel(),this._initTitlePanel(),t){var n=this._initLegendPanel();e&&this._initMultiChartPanel(),
n&&this._initLegendScenes(n)}var i=!(t&&e);if(i){var r=this.options;this.contentPanel=this._createContentPanel(this.basePanel,{
margins:e?r.smallContentMargins:r.contentMargins,paddings:e?r.smallContentPaddings:r.contentPaddings
}),this._createContent(this.contentPanel,{clickAction:r.clickAction,doubleClickAction:r.doubleClickAction
})}},_initBasePanel:function(){this.__disposeRootPanel();var e=this.parent;this.basePanel=new Y.BasePanel(this,e&&e._multiChartPanel,{
margins:this.margins,paddings:this.paddings,size:{width:this.width,height:this.height
}})},_initTitlePanel:function(){var t=this.options,n=t.title,i=t.titleVisible;if(null==i&&(i=!e.empty(n)),
i){var r,o=this.titlePanel;o&&this._preserveLayout&&(r=o._getLayoutState()),this.titlePanel=new Y.TitlePanel(this,this.basePanel,{
title:n,font:t.titleFont,anchor:t.titlePosition,align:t.titleAlign,alignTo:t.titleAlignTo,
offset:t.titleOffset,keepInBounds:t.titleKeepInBounds,margins:r?r.margins:t.titleMargins,
paddings:r?r.paddings:t.titlePaddings,titleSize:r?r.size:t.titleSize,titleSizeMax:t.titleSizeMax
})}},_initLegendPanel:function(){var t=this.options,n=t.legendAreaVisible;if(null==n&&(n=t.legend),
n){var i,r=new Y.visual.Legend(this,"legend",0),o=this.legendPanel;return o&&this._preserveLayout&&(i=o._getLayoutState()),
this.legendPanel=new Y.LegendPanel(this,this.basePanel,{anchor:r.option("Position"),
align:r.option("Align"),alignTo:t.legendAlignTo,offset:t.legendOffset,keepInBounds:t.legendKeepInBounds,
size:i?i.size:r.option("Size"),margins:i?i.margins:r.option("Margins"),paddings:i?i.paddings:r.option("Paddings"),
sizeMax:r.option("SizeMax"),font:r.option("Font"),scenes:e.getPath(t,"legend.scenes"),
textMargin:t.legendTextMargin,itemPadding:t.legendItemPadding,itemSize:r.option("ItemSize"),
itemCountMax:r.option("ItemCountMax"),overflow:r.option("Overflow"),markerSize:t.legendMarkerSize
})}},_getLegendRootScene:function(){return this.legendPanel&&this.legendPanel._getRootScene();
},_initMultiChartPanel:function(){var e=this.basePanel,t=this.options;this.contentPanel=this._multiChartPanel=new Y.MultiChartPanel(this,e,{
margins:t.contentMargins,paddings:t.contentPaddings}),this._multiChartPanel.createSmallCharts(),
e._children.unshift(e._children.pop())},_coordinateSmallChartsLayout:function(){},
_registerInitLegendScenes:function(t){e.array.lazy(this,"_initLegendScenesHandlers").push(t);
},_initLegendScenes:function(e){this._initLegendScenesHandlers&&this._initLegendScenesHandlers.forEach(function(t){
t(e)});var t=this.axesByType.color;if(t){var n,i=this._getDataPartDimName(),r=0,o=function(){
return n||(n=e._getRootScene())};t.forEach(function(e){null!==this._maybeCreateLegendGroupScene(e,o,r,i)&&(r+=e.dataCells.length);
},this)}},_maybeCreateLegendGroupScene:function(t,n,i,r){if(!t.option("LegendVisible")||!t.isBound()||!t.isDiscrete())return null;
var o=t.dataCells.filter(function(e){return e.legendVisible()});if(0===o.length)return null;
var a=t.scale,s=null!==r?e.query(o).uniqueIndex(function(e){return e.dataPartValue;
}):null,l=n().createGroup({source:t.domainData(),colorAxis:t,legendBaseIndex:i}),u=null;
return e.query(o).each(function(e){return e.role.grouping.hasExtensionComplexTypes?(null===u&&(u=[]),
void u.push(e)):(u=null,!1)}),t.domainItems().forEach(function(n){if(null!==r){var i=n.dimensions(r).atoms(),o=i.some(function(t){
return e.hasOwn(s,t.value)});if(!o)return}if(null!==u){var c=e.query(u).any(function(e){
return e.role.grouping.extensionDimensions().all(function(t){var i,r=Y.visual.Role.parseDataSetName(t.dataSetName);
return null!==r&&null!==(i=e.plot.visualRole(r))&&i.isBoundDimensionCompatible(n);
})});if(!c)return}var h=l.createItem({source:n}),d=t.domainItemValue(n);h.color=a(d);
}),l},_createContentPanel:function(e,t){return new Y.ContentPanel(this,e,{margins:t.margins,
paddings:t.paddings})},_createContent:function(e,t){this.plotList.forEach(function(n){
(this.parent?n.isDataBoundOn(this.data):n.isBound)&&this._createPlotPanel(n,e,t)},this);
},_createPlotPanel:function(t,n,i){var r=Y.PlotPanel.getClass(t.type);if(!r)throw e.error.invalidOperation("There is no registered panel class for plot type '{0}'.",[t.type]);
var o=Object.create(i);if(this._preserveLayout){var a=this._preservedPlotsLayoutInfo[t.id];
o.size=a.size,o.paddings=a.paddings,o.margins=a.margins}var s=new r(this,n,t,o),l=t.name,u=this.plotPanels;
u[t.id]=s,l&&(u[l]=s),t.globalIndex||(u.main=s),this.plotPanelList.push(s)}}),Y.BaseChart.add({
_updateSelectionSuspendCount:0,_lastSelectedDatums:null,clearSelections:function(){
return this.data.owner.clearSelected()&&this.updateSelections(),this},_updatingSelections:function(e,t){
this._suspendSelectionUpdate();try{e.call(t||this)}finally{this._resumeSelectionUpdate();
}},_suspendSelectionUpdate:function(){this===this.root?this._updateSelectionSuspendCount++:this.root._suspendSelectionUpdate();
},_resumeSelectionUpdate:function(){this===this.root?this._updateSelectionSuspendCount>0&&!--this._updateSelectionSuspendCount&&this.updateSelections():this.root._resumeSelectionUpdate();
},renderInteractive:function(){return this.useTextMeasureCache(function(){this.basePanel.renderInteractive();
},this),this},updateSelections:function(t){if(this===this.root){if(this._inUpdateSelections||this._updateSelectionSuspendCount)return this;
var n=this._calcSelectedChangedDatums();if(!n)return this;Y.removeTipsyLegends(),
this._inUpdateSelections=!0;try{var i=this.options.selectionChangedAction;if(i){var r=this.data.selectedDatums(),o=n.values();
i.call(this.basePanel.context(),r,o)}e.get(t,"render",!0)&&this.useTextMeasureCache(function(){
this.basePanel.renderInteractive()},this)}finally{this._inUpdateSelections=!1}}else this.root.updateSelections(t);
return this},_calcSelectedChangedDatums:function(){if(this.data){var e,t=this.data.selectedDatumMap(),n=this._lastSelectedDatums;
if(n){if(e=n.symmetricDifference(t),!e.count)return}else{if(!t.count)return;e=t.clone();
}return this._lastSelectedDatums=t,e}},_onUserSelection:function(e,t){if(!e||!e.length)return e;
if(this===this.root){var n=this.options.userSelectionAction;return n?n.call(this.basePanel.context(),e,t)||e:e;
}return this.root._onUserSelection(e,t)}}),Y.BaseChart.add({_processExtensionPoints:function(){
this.parent?this._components=this.parent._components:(this._processExtensionPointsIn(this.options),
this._processExtensionPointsIn(this.options.extensionPoints))},_processExtensionPointsIn:function(t,n,i){
var o,a,s,l,u=this._components||(this._components={});for(o in t)l=o.indexOf("_"),
l>0?(a=o.substring(0,l),s=o.substring(l+1),a&&s&&(n&&(a=r(a,n)),(e.getOwn(u,a)||(u[a]=new e.OrderedMap)).add(s,t[o]))):i&&(a=n?r(o,n):o,
i(t[o],a,o))},extend:function(t,n,i){e.array.is(n)?n.forEach(function(e){this._extendCore(t,e,i);
},this):this._extendCore(t,n,i)},_extendCore:function(t,n,i){if(t){var r=e.getOwn(this._components,n);
if(r){t.borderPanel&&(t=t.borderPanel);var o=e.debug>=3?[]:null,a=e.get(i,"constOnly",!1),s=t.wrap,l={
tag:Y.extensionTag},u=t instanceof J,c=u&&(s||a),h=function(n,i){if(null!=n){var r=typeof n;
if("object"===r){if("svg"===i||"css"===i){var o=t.propertyValue(i);o&&(n=e.copy(o,n));
}else if(n instanceof Array)return n.map(function(e){return h(e,i)})}else if(c&&"function"===r){
if(a)return;"add"!==i&&"call"!==i&&(n=s.call(t,n,i))}}return n},d=function(e,n){return n instanceof Array?e.apply(t,n):e.call(t,n);
};r.forEach(function(n,i){if(t.isLocked&&t.isLocked(i))o&&o.push(i+": locked extension point!");else if(t.isIntercepted&&t.isIntercepted(i))o&&o.push(i+":"+e.describe(n)+" (controlled)");else if(o&&o.push(i+": "+e.describe(n)),
n=h(n,i),void 0!==n){var r=t[i];"function"==typeof r?u&&t.properties[i]?t.intercept(i,n,l):n instanceof Array?n.forEach(function(e){
d(r,e)}):d(r,n):t[i]=n}}),o&&(o.length?this.log("Applying Extension Points for: '"+n+"'\n	* "+o.join("\n	* ")):e.debug>=5&&this.log("No Extension Points for: '"+n+"'"));
}}else e.debug>=4&&this.log("Applying Extension Points for: '"+n+"' (target mark does not exist)");
},_getExtension:function(t,n){var i;if(e.array.is(t)){for(var r,o=t.length-1;o>=0;)if(i=e.getOwn(this._components,t[o--]),
i&&void 0!==(r=i.get(n)))return r}else if(i=e.getOwn(this._components,t))return i.get(n);
},_getComponentExtensions:function(t){return e.getOwn(this._components,t)},_getConstantExtension:function(t,n){
var i=this._getExtension(t,n);return e.fun.is(i)?void 0:i}}),Y.BaseChart.add({activeScene:function(){
return this._activeScene||null},_setActiveScene:function(e){if(this.parent)return this.root._setActiveScene(e);
e?e.ownerScene&&(e=e.ownerScene):e=null;var t=this.activeScene();if(e===t)return!1;
var n=new Y.visual.Context(this.basePanel),i=this._acting("active:change",function(){
return this.chart._activeSceneChange(this)});return i.from=t,i.to=e,n.event=i,i.trigger(n,[]),
!0},_activeSceneChange:function(e){this.useTextMeasureCache(function(){var t=e.event.from,n=e.event.to;
t&&t._clearActive(),(this._activeScene=n)&&n._setActive(!0),!t||n&&n.root===t.root||t.panel().renderInteractive(),
n&&n.panel().renderInteractive()})},_on:function(e,t){"active:change"===e&&(t.role||t.dims)&&L(e,t);
}}),e("pvc.visual.MultiChart",Y.visual.OptionsBase.extend({init:function(e){this.base(e,"multiChart",0,{
byV1:!1,byNaked:!1})},options:{Start:{resolve:"_resolveFull",cast:e.number.toNonNegative,
value:0},Max:{resolve:"_resolveFull",cast:e.number.toPositive,value:1/0},ColumnsMax:{
resolve:"_resolveFull",cast:e.number.toPositive,value:3},SingleRowFillsHeight:{resolve:"_resolveFull",
cast:Boolean,value:!0},SingleColFillsHeight:{resolve:"_resolveFull",cast:Boolean,
value:!0},Overflow:{resolve:"_resolveFull",cast:Y.parseMultiChartOverflow,value:"grow"
}}})),e.type("pvc.MultiChartPanel",Y.ContentPanel).add({createSmallCharts:function(){
var t,n=this.chart,i=n._multiInfo;if(i&&(t=i.pageSmallCount)){var r,o,a,s=this._getCoordinatedRootAxesByScopeType();
s&&(r={},o=function(t,n,i){var o=e.array.lazy(r,n);e.array.lazy(o,i).push(t)},a=function(e){
s.row&&o(e,"row",e.smallRowIndex),s.column&&o(e,"column",e.smallColIndex),s.global&&o(e,"global",0);
});for(var l=this._buildSmallChartsBaseOptions(),u=n.constructor,c=i.smallDatas,h=i.colCount,d=i.pageStartIndex,f=0;t>f;f++){
var p=c[d+f],m=f%h,g=Math.floor(f/h),v=e.set(Object.create(l),"smallColIndex",m,"smallRowIndex",g,"title",p.absLabel,"data",p),y=new u(v);
s?(y._createPhase1(),a(y)):y._create()}if(s){var b=this;e.eachOwn(s,function(e,t){
e.forEach(function(e){r[t].forEach(function(t){b._coordinateScopeAxes(e.id,t)})});
}),n.children.forEach(function(e){e._createPhase2()})}i.coordScopesByType=r}},_getCoordinatedRootAxesByScopeType:function(){
var t=!1,n=e.query(this.chart.axesList).multipleIndex(function(e){if("discrete"!==e.scaleType&&e.option.isDefined("DomainScope")){
var n=e.option("DomainScope");if("cell"!==n)return t=!0,n}});return t?n:null},_coordinateScopeAxes:function(t,n){
var i=e.query(n).select(function(e){var n=e.axes[t].scale;if(!n.isNull){var i=n.domain();
return{min:i[0],max:i[1]}}}).reduce(Y.unionExtents,null);i&&n.forEach(function(e){
var n=e.axes[t],r=n.scale;r.isNull||(r.domain(i.min,i.max),n.setScale(r))})},_buildSmallChartsBaseOptions:function(){
var t=this.chart,n=t.options;return e.set(Object.create(n),"parent",t,"legendAreaVisible",!1,"titleVisible",n.smallTitleVisible,"titleFont",n.smallTitleFont,"titlePosition",n.smallTitlePosition,"titleAlign",n.smallTitleAlign,"titleAlignTo",n.smallTitleAlignTo,"titleOffset",n.smallTitleOffset,"titleKeepInBounds",n.smallTitleKeepInBounds,"titleMargins",n.smallTitleMargins,"titlePaddings",n.smallTitlePaddings,"titleSize",n.smallTitleSize,"titleSizeMax",n.smallTitleSizeMax);
},_calcLayout:function(t){var n=this.chart,i=n._multiInfo;if(i){var r=n.multiOptions.option,o=n.smallOptions.option,a=t.clientSize,s=t.previous,l=s?s.initialClientWidth:a.width,u=s?s.initialClientHeight:a.height,c=o("Width");
null!=c&&(c=ne.resolve(c,l));var h=o("Height");null!=h&&(h=ne.resolve(h,u));var d=o("AspectRatio"),f=i.rowCount,p=i.colCount;
null==c&&(isFinite(i.colCountMax)?c=a.width/p:(null==h&&(h=u),c=d*h)),null==h&&(h=1===f&&r("SingleRowFillsHeight")||1===p&&r("SingleColFillsHeight")?u:c/d);
var m=c*p,g=h*f;if(!n._isMultiChartOverflowClipRetry)switch(n._isMultiChartOverflowClip=!1,
r("Overflow")){case"fit":m>l&&(m=l,c=m/p),g>u&&(g=u,h=g/f);break;case"clip":case"page":
var v=p,y=f,b=m>l;b&&(v=Math.floor(l/c));var _=g>u;_&&(y=Math.floor(u/h)),(_||b)&&(n._isMultiChartOverflowClip=!0,
n._clippedMultiChartRowCountMax=y,n._clippedMultiChartColCountMax=v)}return i.smallWidth=c,
i.smallHeight=h,e.set(t,"initialClientWidth",l,"initialClientHeight",u,"width",c,"height",h),
{width:m,height:Math.max(a.height,g)}}},_createCore:function(t){var n=this.chart;!n._isMultiChartOverflowClip||e.assert("Overflow & Clip condition should have been resolved.");
var i=n._multiInfo;if(i){var r=n.smallOptions.option,o=r("Margins"),a=r("Paddings");
n.children.forEach(function(e){e._setSmallLayout({left:e.smallColIndex*t.width,top:e.smallRowIndex*t.height,
width:t.width,height:t.height,margins:this._buildSmallMargins(e,o,i),paddings:a});
},this);var s=i.coordScopesByType;s&&n._coordinateSmallChartsLayout(s),this.base(t);
}},_buildSmallMargins:function(e,t,n){var i=n.colCount-1,r=n.rowCount-1,o=e.smallColIndex,a=e.smallRowIndex,s={};
return o>0&&(s.left=t.left),i>o&&(s.right=t.right),a>0&&(s.top=t.top),r>a&&(s.bottom=t.bottom),
s}}),e("pvc.visual.SmallChart",Y.visual.OptionsBase.extend({init:function(e){this.base(e,"small",0,{
byV1:!1,byNaked:!1})},options:{Width:{resolve:"_resolveFull",cast:ne.parse,value:null
},Height:{resolve:"_resolveFull",cast:ne.parse,value:null},AspectRatio:{resolve:"_resolveFull",
cast:e.number.toPositive,getDefault:function(){return this.chart instanceof Y.PieChart?10/7:5/4;
}},Margins:{resolve:"_resolveFull",cast:ie.as,value:new ie(new ne(.02))},Paddings:{
resolve:"_resolveFull",cast:ie.as,value:0}}})),J.prototype.getSign=function(){return this.sign||R(this);
},J.prototype.getScene=function(){return this.getSign().scene()},J.prototype.getContext=function(){
return this.getSign().context()},J.prototype.preBuildInstance=function(e){var t=e.data;
t instanceof Y.visual.Scene&&_.call(t,this.renderId())},e("pvc.visual.BasicSign",e.Object.extend({
init:function(t,n){this.chart=t.chart,this.panel=t,!n.sign||e.assert("Mark already has an attached Sign."),
this.pvMark=n,n.sign=this},methods:{compatVersion:function(){return this.chart.compatVersion();
},localProperty:function(e,t){return this.pvMark.localProperty(e,t),this},lock:function(e,t){
return this.lockMark(e,this._bindWhenFun(t,e))},optional:function(e,t,n){return this.optionalMark(e,this._bindWhenFun(t,e),n);
},lockMark:function(e,t){return this.pvMark.lock(e,t),this},optionalMark:function(e,t,n){
return this.pvMark[e](t,n),this},delegate:function(e,t){return this.pvMark.delegate(e,t);
},delegateExtension:function(e){return this.pvMark.delegate(e,Y.extensionTag)},delegateNotExtension:function(e){
return this.pvMark.delegateExcept(e,Y.extensionTag)},hasDelegate:function(e){return this.pvMark.hasDelegate(e);
},_createPropInterceptor:function(e,t){var n=this;return function(){var i=this.sign;
return i&&i===n?t.apply(n,arguments):n._getPvSceneProp(e,this.index)}},_getPvSceneProp:function(t,n){
var i=this.pvMark,r=i.scene;if(r){var o=i.hasOwnProperty("index")?i.index:Math.min(n,r.length-1);
if(null!=o)return r[o][t]}throw e.error.operationInvalid("Cannot evaluate inherited property.");
},_bindWhenFun:function(t,n){if(e.fun.is(t)){var i=this;return i._createPropInterceptor(n,function(e){
return t.call(i,e)})}return t},_lockDynamic:function(e,t){var n=this;return n.lockMark(e,n._createPropInterceptor(e,function(e){
return n[t].call(n,e)}))},scene:function(){var e=this.pvMark.instance(),t=e&&e.data;
return t instanceof Y.visual.Scene?t:null},instanceState:function(e){return this.pvMark.instanceState(e);
},context:function(e,t){var n;return t||!(n=this.instanceState())?this._createContext(e):n.cccContext||(n.cccContext=this._createContext(e));
},_createContext:function(e){return new Y.visual.Context(this.panel,this.pvMark,e);
}}})),e("pvc.visual.Sign",Y.visual.BasicSign.extend([{init:function(t,n,i){var r=this;
r.base(t,n,i),r._ibits=t.ibits();var o=e.get(i,"extensionId");if(null!=o&&(r.extensionAbsIds=e.array.to(t._makeExtensionAbsId(o))),
r.isActiveSeriesAware=e.get(i,"activeSeriesAware",!0),r.isActiveSeriesAware){var a=t.visualRoles,s=a&&a.series;
s&&s.isBound()||(r.isActiveSeriesAware=!1)}n.wrapper(e.get(i,"wrapper")||r.createDefaultWrapper()),
e.get(i,"freeColor",!0)||r._bindProperty("fillStyle","fillColor","color")._bindProperty("strokeStyle","strokeColor","color");
},postInit:function(e,t,n){this._addInteractive(n),e._addSign(this)},methods:[Y.visual.Interactive],
"type.methods":{properties:function(t){var n;for(var i in t)void 0!==(n=t[i])&&(isNaN(+i)?this.property(i):e.string.is(n)&&this.property(n));
return this},property:e.configurable(!1,function(t){var n=e.firstUpperCase(t),i="base"+n,r="default"+n,o="normal"+n,a="interactive"+n,s={};
return s[t]=function(e,t){this._finished=!1,this._arg=t;var n=this[i](e,t);return null==n?null:this._finished?n:(n=this[this.showsInteraction()&&e.anyInteraction()?a:o](e,n,t),
this._arg=null,n)},s[i]=function(){return this.delegateExtension()},s[r]=function(){},
s[o]=function(e,t){return t},s[a]=function(e,t){return t},this.methods(s)})}},{properties:["color"]
},{methods:{extensionAbsIds:null,_processedIbits:!1,ibits:function(){var e=this._ibits,t=this.pvMark;
if(!this._processedIbits){this._processedIbits=!0;var n=this.extensionAbsIds;n&&n.forEach(function(e){
var n=this.panel._getExtensionAbs(e,"ibits");null!=n&&t.ibits(n),n=this.panel._getExtensionAbs(e,"imask"),
null!=n&&t.imask(n)},this)}var i=t.imask();if(i){var r=i&t.ibits(),o=~i|r;e|=r,e&=o;
}return e},createDefaultWrapper:function(){var e=this;return function(t){return function(n){
return t.call(e.context(),n)}}},anyInteraction:function(e){return e.anyInteraction();
},finished:function(e){return this._finished=!0,e},applyExtensions:function(){if(!this._extended){
this._extended=!0;var e=this.extensionAbsIds;e&&e.forEach(function(e){this.panel.extendAbs(this.pvMark,e);
},this)}return this},intercept:function(e,t){var n=this._createPropInterceptor(e,t);
return this._intercept(e,n)},lockDimensions:function(){return this.pvMark.lock("left").lock("right").lock("top").lock("bottom").lock("width").lock("height"),
this},_extensionKeyArgs:{tag:Y.extensionTag},_bindProperty:function(t,n,i){var r=this;
i||(i=n);var o="default"+e.firstUpperCase(i);if(e.fun.is(r[o])&&!r.pvMark.hasDelegateValue(t,Y.extensionTag)){
var a=function(e){return r[o](e,r._arg)};r.pvMark.intercept(t,a,r._extensionKeyArgs);
}var s=this._createPropInterceptor(t,function(e){return r[n](e)});return r._intercept(t,s);
},_intercept:function(t,n){var i=this.pvMark,r=this.extensionAbsIds;return r&&e.query(r).select(function(e){
return this.panel._getExtensionAbs(e,t)},this).where(e.notUndef).each(function(e){
e=i.wrap(e,t),i.intercept(t,e,this._extensionKeyArgs)},this),(i._intercepted||(i._intercepted={}))[t]=!0,
i.intercept(t,n),this},_addInteractive:function(t){var n=this,i=e.get;if(n.interactive()){
var r=n.ibits(),o=Y.visual.Interactive;i(t,"noTooltip")&&(r&=~o.ShowsTooltip),i(t,"noHover")&&(r&=~o.Hoverable),
i(t,"noClick")&&(r&=~o.Clickable),i(t,"noDoubleClick")&&(r&=~o.DoubleClickable),i(t,"noSelect")?r&=~o.SelectableAny:this.selectable()&&(i(t,"noClickSelect")&&(r&=~o.SelectableByClick),
i(t,"noRubberSelect")&&(r&=~o.SelectableByRubberband)),n.showsInteraction()&&(i(t,"showsInteraction")===!1&&(r&=~o.ShowsInteraction),
n.showsActivity()&&i(t,"showsActivity")===!1&&(r&=~o.ShowsActivity),n.showsSelection()&&i(t,"showsSelection")===!1&&(r&=~o.ShowsSelection)),
n._ibits=r}n.handlesEvents()?(n.showsTooltip()&&n._addPropTooltip(i(t,"tooltipArgs")),
n.hoverable()&&n._addPropHoverable(),n.handlesClickEvent()&&n._addPropClick(),n.doubleClickable()&&n._addPropDoubleClick()):n.pvMark.events("none");
},fillColor:function(e){return this.color(e,"fill")},strokeColor:function(e){return this.color(e,"stroke");
},defaultColor:function(e){return this.scaleColor(e)},scaleColor:function(e){return this.defaultColorSceneScale()(e);
},dimColor:function(e,t){return"text"===t?Y.toGrayScale(e,-.75,null,null):Y.toGrayScale(e,-.3,null,null);
},defaultColorSceneScale:function(){return e.lazy(this,"_defaultColorSceneScale",this._initDefColorScale,this);
},_initDefColorScale:function(){var t=this.panel.axes.color;return t?t.sceneScale({
sceneVarName:"color"}):e.fun.constant(Y.defaultColor)},mayShowActive:function(e,t){
if(!this.showsActivity())return!1;var n;return e.isActive||((n=e.ownerScene)&&n!==e?n.isActive:!1)||!t&&this.isActiveSeriesAware&&e.isActiveSeries()||e.isActiveDatum();
},mayShowNotAmongSelected:function(e){return this.mayShowAnySelected(e)&&!e.isSelected();
},mayShowSelected:function(e){return this.showsSelection()&&e.isSelected()},mayShowAnySelected:function(e){
return this.showsSelection()&&e.anySelected()},_addPropTooltip:function(t){if(!this.pvMark.tooltipOptions){
var n=this.panel._requireTipsy(),i=this.chart._pointingOptions,r=e.create(this.chart._tooltipOptions,e.get(t,"options"));
r.isLazy=e.get(t,"isLazy",!0);var o=e.get(t,"buildTooltip")||this._getTooltipFormatter(r);
if(o){var a="near"===i.mode,s=e.get(t,"tipsyEvent")||(a?"point":"mouseover");this.pvMark.localProperty("tooltip").tooltip(this._createTooltipProp(o,r.isLazy)).title(e.fun.constant("")).ensureEvents().event(s,n).tooltipOptions=r;
}}},_getTooltipFormatter:function(e){return this.panel._getTooltipFormatter(e)},_isTooltipEnabled:function(){
return this.panel._isTooltipEnabled()},_createTooltipProp:function(e,t){var n,i=this;
return n=t?function(t){var n,r=i.context(t,!0);return function(){return r&&(n=e(r),
r=null),n}}:function(t){var n=i.context(t);return e(n)},function(e){return e&&e.showsTooltip()?n(e):void 0;
}},_addPropHoverable:function(){var e,n,i=this.chart._pointingOptions,r=this.panel;
"near"===i.mode?(e="point",n="unpoint"):(e="mouseover",n="mouseout"),this.pvMark.ensureEvents().event(e,function(e){
!e.hoverable()||r.selectingByRubberband()||r.animating()||e.setActive(!0)}).event(n,function(e){
!e.hoverable()||r.selectingByRubberband()||r.animating()||t.event&&t.event.isPointSwitch||e.clearActive();
}),this.pvMark._hasHoverable=!0},_ignoreClicks:0,_propCursorClick:function(e){var t=this.ibits()&e.ibits(),n=Y.visual.Interactive;
return t&n.HandlesClickEvent||t&n.DoubleClickable?"pointer":null},_addPropClick:function(){
var e=this;e.pvMark.cursor(e._propCursorClick.bind(e)).ensureEvents().event("click",e._handleClick.bind(e));
},_addPropDoubleClick:function(){var e=this;e.pvMark.cursor(e._propCursorClick.bind(e)).ensureEvents().event("dblclick",e._handleDoubleClick.bind(e));
},_handleClick:function(){var e=this,n=e.pvMark,i=n.instance(),r=i.data,o=e.doubleClickable()&&r.doubleClickable();
if(o){var a=n.scene,s=n.index,l=t.event;window.setTimeout(function(){if(e._ignoreClicks)e._ignoreClicks--;else try{
t.event=l,n.context(a,s,function(){e._handleClickCore()})}catch(i){t.error(i)}finally{
delete t.event}},e.chart.options.doubleClickMaxDelay||300)}else e._ignoreClicks?e._ignoreClicks--:e._handleClickCore();
},_handleClickCore:function(){this._onClick(this.context())},_handleDoubleClick:function(){
var e=this,t=e.scene();t&&t.doubleClickable()&&(e._ignoreClicks=2,e._onDoubleClick(e.context(t)));
},_onClick:function(e){e.click()},_onDoubleClick:function(e){e.doubleClick()}}}])),
Y.finished=function(t){return void 0===t?function(){return this.finished(this.delegate());
}:e.fun.is(t)?function(){return(this.finished?this:this.getSign()).finished(t.apply(this,arguments));
}:function(){return(this.finished?this:this.getSign()).finished(t)}},e("pvc.visual.Panel",Y.visual.Sign.extend({
init:function(n,i,r){var o=e.get(r,"panel");if(!o){var a=e.get(r,"panelType")||t.Panel;
o=i.add(a)}this.base(n,o,r)},methods:{_addInteractive:function(t){var n=!0;t=e.setDefaults(t,"noSelect",n,"noHover",n,"noTooltip",n,"noClick",n,"noDoubleClick",n),
this.base(t)}}})),e("pvc.visual.Label",Y.visual.Sign.extend({init:function(e,n,i){
var r=n.add(t.Label);this.base(e,r,i)},methods:{_addInteractive:function(t){var n=!0;
t=e.setDefaults(t,"noSelect",n,"noHover",n,"noTooltip",n,"noClick",n,"noDoubleClick",n,"showsInteraction",!1),
this.base(t)},defaultColor:e.fun.constant(t.Color.names.black)}}));var be=t.Color.names.white;
e("pvc.visual.ValueLabel",Y.visual.Label.extend({init:function(t,n,i){this.valuesFont=e.get(i,"valuesFont")||t.valuesFont,
this.valuesMask=e.get(i,"valuesMask")||t.valuesMask,this.valuesOptimizeLegibility=e.get(i,"valuesOptimizeLegibility",t.valuesOptimizeLegibility),
this.valuesOverflow=e.get(i,"valuesOverflow",t.valuesOverflow),this.hideOverflowed="hide"===this.valuesOverflow,
this.trimOverflowed=!this.hideOverflowed&&"trim"===this.valuesOverflow,this.hideOrTrimOverflowed=this.hideOverflowed||this.trimOverflowed;
var r=e.get(i,"noAnchor",!1)?n:n.anchor(t.valuesAnchor);i&&null==i.extensionId&&(i.extensionId="label"),
this.base(t,r,i),this.pvMark.font(this.valuesFont),this._bindProperty("text","text")._bindProperty("textStyle","textColor","color").intercept("visible",this.visible);
},properties:["text","textStyle"],type:{methods:{maybeCreate:function(e,t,n){return e.valuesVisible&&e.valuesMask?new Y.visual.ValueLabel(e,t,n):null;
},isNeeded:function(e){return e.valuesVisible&&!!e.valuesMask}}},methods:{_addInteractive:function(t){
t=e.setDefaults(t,"showsInteraction",!0,"noSelect",!0,"noTooltip",!0,"noClick",!0,"noDoubleClick",!0,"noHover",!0),
this.base(t)},visible:function(e){var t=this.getAnchoredToMark();if(t&&!t.visible())return!1;
if(!this.hideOrTrimOverflowed)return this.delegate(!0);var n;if(this.hasDelegate(Y.extensionTag)&&(n=this.delegateExtension(),
null!=n))return n;if(n=this.delegateNotExtension(),n===!1)return!1;if(e.isActive&&this.showsActivity())return!0;
var i=this.textFitInfo(e);return!(i&&i.hide)},textFitInfo:function(e){var t=e.renderState,n=t.textFitInfo;
return void 0!==n?n:t.textFitInfo=this.calcTextFitInfo(e,this._evalBaseText())||null;
},calcTextFitInfo:function(){return null},_evalBaseText:function(){var e=this.pvMark,t=e.binds.properties.text.proto;
return e.evalInPropertyContext(this.baseText.bind(this),t)},baseText:function(e){
var t=e.renderState,n=t.baseText;return void 0!==n?n:this.base(e)},defaultText:function(e){
return e.format(this.valuesMask)},normalText:function(e,t){var n;return this.trimOverflowed&&(n=this.textFitInfo(e))?this.trimText(e,t,n):t;
},interactiveText:function(e,t){var n;return!this.trimOverflowed||e.isActive&&this.showsActivity()||!(n=this.textFitInfo(e))?t:this.trimText(e,t,n);
},trimText:function(e,t,n){var i=n&&n.widthMax;return null!=i?Y.text.trimToWidthB(i,t,this.pvMark.font(),".."):t;
},textColor:function(e){return this.color(e,"text")},backgroundColor:function(t,n){
var i=this.instanceState();if(!i)return this.calcBackgroundColor(t,n);var r=e.lazy(i,"cccBgColorCache");
return e.getOwn(r,n)||(r[n]=this.calcBackgroundColor(t,n))},calcBackgroundColor:function(e){
var t=this.getAnchoredToMark();if(t){var n=t.fillStyle();if(n&&n!==be&&this.isAnchoredInside(e,t))return n;
}return be},getAnchoredToMark:function(){return this.pvMark.target||this.pvMark.parent;
},isAnchoredInside:function(e,n){if(!n&&!(n=this.getAnchoredToMark()))return!1;var i,r=this.pvMark,o=r.text(),a=t.Text.measure(o,r.font()),s=r.left(),l=r.top();
null==s&&(i=r.parent,s=i.width()-(r.right()||0)),null==l&&(i||(i=r.parent),l=i.height()-(r.bottom()||0));
var u,c=t.Label.getPolygon(a.width,a.height,r.textAlign(),r.textBaseline(),r.textAngle(),r.textMargin()).center().plus(s,l);
return u=n===r.parent?new t.Shape.Rect(0,0,n.width(),n.height()):n.getShape(n.scene,n.index),
u.containsPoint(c)},maybeOptimizeColorLegibility:function(e,t,n){if(t&&this.valuesOptimizeLegibility){
var i=this.backgroundColor(e,n);if(i){var r=t.complementary(),o=t.contrastRatioTo(i),a=r.contrastRatioTo(i);
if(a>o)return r}}return t},normalColor:function(e,t,n){return this.maybeOptimizeColorLegibility(e,t,n);
},interactiveColor:function(e,t,n){return!this.mayShowActive(e)&&this.mayShowNotAmongSelected(e)?this.dimColor(t,n):this.maybeOptimizeColorLegibility(e,t,n);
}}})),e("pvc.visual.Dot",Y.visual.Sign.extend({init:function(n,i,r){var o=i.add(t.Dot),a=e.get(r,"proto");
if(a&&o.extend(a),r=e.setDefaults(r,"freeColor",!1),this.base(n,o,r),!e.get(r,"freePosition",!1)){
var s=n.isOrientationVertical()?"left":"bottom",l=n.anchorOrtho(s);this._lockDynamic(s,"x")._lockDynamic(l,"y");
}this.pvMark.shapeRadius(function(e){return Math.sqrt(this.sign.defaultSize(e))}),
this._bindProperty("shape","shape")._bindProperty("shapeRadius","radius")._bindProperty("shapeSize","size"),
this.optional("strokeDasharray",void 0).optional("lineWidth",1.5)},properties:["size","shape"],
methods:{y:e.fun.constant(0),x:e.fun.constant(0),radius:function(){var e=this.instanceState();
return this._finished=!1,e.cccRadius=this.delegateExtension(),e.cccRadiusFinished=this._finished,
null},baseSize:function(t){this.pvMark.shapeRadius();var n=this.instanceState(),i=n.cccRadius;
return null!=i?(this._finished=n.cccRadiusFinished,e.sqr(i)):this.base(t)},defaultSize:e.fun.constant(12),
interactiveSize:function(e,t){return this.mayShowActive(e,!0)?2*Math.max(t,5):t},
interactiveColor:function(e,t,n){if(this.mayShowActive(e,!0)){if("stroke"===n)return t.brighter(1);
}else if(this.mayShowNotAmongSelected(e)){if(this.mayShowActive(e))return t.alpha(.8);
switch(n){case"fill":return this.dimColor(t,n);case"stroke":return t.alpha(.45)}}
return this.base(e,t,n)}}})),e("pvc.visual.DotSizeColor",Y.visual.Dot.extend({init:function(e,n,i){
if(this.base(e,n,i),this._bindProperty("lineWidth","strokeWidth").intercept("visible",function(e){
if(!this.canShow(e))return!1;var t=this.delegateExtension();return null==t?this.defaultVisible(e):t;
}),this._initColor(),this._initSize(),this.isSizeBound){var r=e.axes.size;if(r.scaleUsesAbs()){
this.isSizeAbs=!0;var o=this._sceneDefColor;this._sceneDefColor=function(e,n){return"stroke"===n&&e.vars.size.value<0?t.Color.names.black:o.call(this,e,n);
},this.pvMark.lineCap("round").strokeDasharray(function(e){return e.vars.size.value<0?"dash":null;
})}}},properties:["strokeWidth"],methods:{isColorBound:!1,isColorDiscrete:!1,isSizeBound:!1,
isSizeAbs:!1,canShow:function(e){return!e.isIntermediate},defaultVisible:function(e){
return!e.isNull&&(!this.isSizeBound&&!this.isColorBound||this.isSizeBound&&null!=e.vars.size.value||this.isColorBound&&(this.isColorDiscrete||null!=e.vars.color.value));
},_initColor:function(){var t,n,i=this.panel,r=i.visualRoles.color;if(r){this.isColorDiscrete=r.isDiscrete();
var o=i.axes.color;r.isBound()?(this.isColorBound=!0,n=o.sceneScale({sceneVarName:"color"
})):o&&(t=o.option("Unbound"))}this._sceneDefColor=n||e.fun.constant(t||Y.defaultColor);
},_initSize:function(){var t,n,i=this.panel,r=i.plot,o=r.option("Shape"),a=r.option("NullShape"),s=i.visualRoles.size;
if(s){var l=i.axes.size,u=l&&l.scale,c=!!u&&s.isBound();if(c){this.isSizeBound=!0;
var h=u.min+.05*(u.max-u.min);this.nullSizeShapeHasStrokeOnly="cross"===a,n=function(e){
return null!=e.vars.size.value?o:a},t=function(e){var t=e.vars.size.value;return null!=t?u(t):a?h:0;
}}}t||(n=e.fun.constant(o),t=function(e){return this.base(e)}),this._sceneDefSize=t,
this._sceneDefShape=n},defaultColor:function(e,t){return this._sceneDefColor(e,t);
},normalColor:function(e,t,n){return"stroke"===n?t.darker():this.base(e,t,n)},interactiveColor:function(e,t,n){
if(this.mayShowActive(e,!0))switch(n){case"fill":return this.isSizeBound?t.alpha(.75):t;
case"stroke":return t.darker()}else if(this.showsSelection()){var i=e.isSelected(),r=!i&&e.anySelected();
if(r){if(this.mayShowActive(e))return t.alpha(.8);switch(n){case"fill":return this.dimColor(t,n);
case"stroke":return t.alpha(.45)}}if(i&&h(t))return t.darker("stroke"===n?3:2)}return"stroke"===n?t.darker():t;
},defaultSize:function(e){return this._sceneDefSize(e)},defaultShape:function(e){
return this._sceneDefShape(e)},interactiveSize:function(t,n){if(!this.mayShowActive(t,!0))return n;
var i=Math.sqrt(n),r=Math.max(1,Math.min(1.1*i,2));return e.sqr(i+r)},defaultStrokeWidth:function(e){
return this.nullSizeShapeHasStrokeOnly&&null==e.vars.size.value?1.8:1},interactiveStrokeWidth:function(e,t){
return this.mayShowActive(e,!0)?2*t:this.mayShowSelected(e)?1.5*t:t}}})),t.LineInterm=function(){
t.Line.call(this)},t.LineInterm.prototype=t.extend(t.Line),t.LineInterm.prototype.getNearestInstanceToMouse=function(e,n){
var i=t.Line.prototype.getNearestInstanceToMouse.call(this,e,n),r=e[i];return r&&r.data&&r.data.isIntermediate&&i+1<e.length&&i++,
i},e("pvc.visual.Line",Y.visual.Sign.extend({init:function(n,i,r){var o=i.add(t.LineInterm);
if(this.base(n,o,r),this.lock("segmented","smart").lock("antialias",!0),!e.get(r,"freePosition",!1)){
var a=n.isOrientationVertical()?"left":"bottom",s=n.anchorOrtho(a);this._lockDynamic(s,"y")._lockDynamic(a,"x");
}this._bindProperty("strokeStyle","strokeColor","color")._bindProperty("lineWidth","strokeWidth");
},properties:["strokeWidth"],methods:{_addInteractive:function(t){t=e.setDefaults(t,"noTooltip",!0),
this.base(t)},y:e.fun.constant(0),x:e.fun.constant(0),defaultStrokeWidth:e.fun.constant(1.5),
interactiveStrokeWidth:function(e,t){return this.mayShowActive(e)?2.5*Math.max(1,t):t;
},interactiveColor:function(e,n,i){return this.mayShowNotAmongSelected(e)?this.mayShowActive(e)?t.Color.names.darkgray.darker().darker():this.dimColor(n,i):this.base(e,n,i);
}}})),t.AreaInterm=function(){t.Area.call(this)},t.AreaInterm.prototype=t.extend(t.Area),
t.AreaInterm.prototype.getNearestInstanceToMouse=function(e,n){var i=t.Area.prototype.getNearestInstanceToMouse.call(this,e,n),r=e[i];
return r&&r.data&&r.data.isIntermediate&&i+1<e.length&&i++,i},e("pvc.visual.Area",Y.visual.Sign.extend({
init:function(n,i,r){var o=i.add(t.AreaInterm);r||(r={}),r.freeColor=!0,this.base(n,o,r);
var a=e.get(r,"antialias",!0);if(this.lock("segmented","smart").lock("antialias",a),
!e.get(r,"freePosition",!1)){var s=n.isOrientationVertical()?"left":"bottom",l=n.anchorOrtho(s),u=n.anchorOrthoLength(l);
this._lockDynamic(s,"x")._lockDynamic(l,"y")._lockDynamic(u,"dy")}this._bindProperty("fillStyle","fillColor","color"),
this.lock("strokeStyle",null).lock("lineWidth",0)},methods:{_addInteractive:function(t){
t=e.setDefaults(t,"noTooltip",!0),this.base(t)},y:e.fun.constant(0),x:e.fun.constant(0),
dy:e.fun.constant(0),interactiveColor:function(e,t,n){return"fill"===n&&this.mayShowNotAmongSelected(e)?this.dimColor(t,n):this.base(e,t,n);
}}})),e("pvc.visual.Bar",Y.visual.Sign.extend({init:function(n,i,r){var o=i.add(t.Bar);
r=e.setDefaults(r,"freeColor",!1),this.base(n,o,r),this.normalStroke=e.get(r,"normalStroke",!1),
this._bindProperty("lineWidth","strokeWidth")},properties:["strokeWidth"],methods:{
normalColor:function(e,t,n){return"stroke"!==n||this.normalStroke?t:null},interactiveColor:function(e,n,i){
if("stroke"===i){if(this.mayShowActive(e,!0))return n.brighter(1.3).alpha(.7);if(!this.normalStroke)return null;
if(this.mayShowNotAmongSelected(e))return this.mayShowActive(e)?t.Color.names.darkgray.darker().darker():this.dimColor(n,i);
if(this.mayShowActive(e))return n.brighter(1).alpha(.7)}else if("fill"===i){if(this.mayShowActive(e,!0))return n.brighter(.2).alpha(.8);
if(this.mayShowNotAmongSelected(e))return this.mayShowActive(e)?t.Color.names.darkgray.darker(2).alpha(.8):this.dimColor(n,i);
if(this.mayShowActive(e))return n.brighter(.2).alpha(.8)}return this.base(e,n,i)},
defaultStrokeWidth:function(){return.5},interactiveStrokeWidth:function(e,t){return this.mayShowActive(e,!0)?1.3*Math.max(1,t):t;
}}})),e("pvc.visual.Rule",Y.visual.Sign.extend({init:function(n,i,r){var o=i.add(t.Rule);
o.pointingRadiusMax(2);var a=e.get(r,"proto");a&&o.extend(a),this.base(n,o,r),e.get(r,"freeStyle")||this._bindProperty("strokeStyle","strokeColor","color")._bindProperty("lineWidth","strokeWidth");
},properties:["strokeWidth"],methods:{_addInteractive:function(t){var n=!0;t=e.setDefaults(t,"noHover",n,"noSelect",n,"noTooltip",n,"noClick",n,"noDoubleClick",n,"showsInteraction",!1),
this.base(t)},defaultStrokeWidth:e.fun.constant(1),interactiveStrokeWidth:function(e,t){
return this.mayShowActive(e,!0)?2.2*Math.max(1,t):t},interactiveColor:function(e,t,n){
return e.datum&&!this.mayShowActive(e,!0)&&this.mayShowNotAmongSelected(e)?this.dimColor(t,n):this.base(e,t,n);
}}})),e.space("pvc.visual").discreteBandsLayout=E;var _e=e("pvc.visual.CartesianAxis",ce.extend({
init:function(e,t,n,i){var r=e.options;this.orientation=_e.getOrientation(t,r.orientation),
this.orientedId=_e.getOrientedId(this.orientation,n),e._allowV1SecondAxis&&1===n&&(this.v1SecondOrientedId="second"+this.orientation.toUpperCase()),
this.base(e,t,n,i),e.axes[this.orientedId]=this,this.v1SecondOrientedId&&(e.axes[this.v1SecondOrientedId]=this),
this.extensionPrefixes=H.call(this)},methods:{bind:function(e){return this.base(e),
this._syncExtensionPrefixes(),this},_syncExtensionPrefixes:function(){this.extensionPrefixes=H.call(this);
},_buildState:function(){return{ratio:this.option("PreserveRatio")?this._getCurrentRatio():null,
tickAlignment:this.option("PreserveTickAlignment")?this._getTickAlignment():null};
},_getCurrentRatio:function(){var e=this._state.ratio||this.option("Ratio");if(null==e){
var t=this.scale;if(t){var n=t.size,i=t.domain(),r=i[1]-i[0];e=n/r}}return e},_getTickAlignment:function(){
return this.ticks&&"discrete"!==this.scale.type?this.ticks[0]:this._state.tickAlignment;
},setScale:function(e,t){var n=!!this.scale;if(this.base(e,t),n&&(delete this.domain,
delete this.domainNice,delete this.ticks,delete this._roundingOverflow),e&&!e.isNull&&"discrete"!==this.scaleType){
this.domain=e.domain(),this.domain.minLocked=!!e.minLocked,this.domain.maxLocked=!!e.maxLocked;
var i=this.option("TickFormatter");i&&e.tickFormatter(i);var r=this.option("DomainRoundMode");
"nice"===r&&"numeric"===e.type&&e.nice(),this.domainNice=e.domain()}return this},
setTicks:function(t){var n=this.scale;if(n&&!n.isNull||e.fail.operationInvalid("Scale must be set and non-null."),
this.ticks=t,delete this._roundingOverflow,"discrete"!==n.type&&"tick"===this.option("DomainRoundMode")){
delete this._roundingOverflow;var i=t?t.length:0;if(i>=2){var r=this._adjustDomain(n,t[0],t[i-1]);
r&&this._removeTicks(t)}else this._adjustDomain(n,null,null,!0)}},_adjustDomain:function(e,n,i,r){
var o=this.domainNice;if(!o)return!1;var a=+o[0],s=+o[1];if(null==a||null==s)return!1;
var l=null!=n?Math.min(+n,a):a,u=null!=i?Math.max(+i,s):s,c=!1,h=e.size;if(h){var d=this._state.ratio||this.option("Ratio");
if(null!=d){c=!0;var f=h/d;switch(this.option("DomainAlign")){case"min":u=l+f;break;
case"max":l=u-f;break;case"center":var p=u-(u-l)/2;u=p+f/2,l=p-f/2}}}if(!r&&t.floatEqual(l,a)&&t.floatEqual(u,s))return!1;
var m=this.role.grouping.firstDimension.name,g=this.chart.data.owner.dimensions(m);
return l=g.read(l).value,u=g.read(u).value,e.domain(l,u),c},_removeTicks:function(e){
var t=this.option;if(this._state.ratio||t("Ratio")){var n=e[0],i=e[e.length-1],r=this.scale.domain(),o=this.chart.axesPanels[this.id]._layoutInfo;
if(e!==o.ticks)throw new Error("Assertion failed.");var a=function(t){var n=e.indexOf(t);
e.splice(n,1),o.ticksText.splice(n,1)};switch(t("DomainAlign")){case"min":i>r[1]&&a(i);
break;case"max":n<r[0]&&a(n);break;default:i>r[1]&&a(i),n<r[0]&&a(n)}}},setScaleRange:function(e){
var t=this.getScaleRangeInfo();t&&(null!=t.value?e=t.value:null!=t.min&&(e=Math.max(Math.min(e,t.max),t.min)));
var n=this.scale;return n.min=0,n.max=e,n.size=e,delete this._roundingOverflow,"discrete"===n.type?t&&("abs"===t.mode?n.splitBandedCenterAbs(n.min,n.max,t.band,t.space):n.splitBandedCenter(n.min,n.max,t.ratio)):(n.range(n.min,n.max),
this._adjustDomain(n)),n},getScaleRangeInfo:function(){if(!this.isDiscrete())return null;
var e=Y.visual.discreteBandsLayout(this.domainItemCount(),this.option("BandSize"),this.option("BandSizeMin")||0,this.option("BandSizeMax"),this.option("BandSpacing"),this.option("BandSpacingMin")||0,this.option("BandSpacingMax"),this.option("BandSizeRatio"));
return e&&this.chart.visualRoles.multiChart.isBound()?{mode:"rel",min:0,max:1/0,ratio:e.ratio
}:e},getRoundingOverflow:function(){var e=this._roundingOverflow;if(!e){e=this._roundingOverflow={
begin:0,end:0,beginLocked:!1,endLocked:!1};var n=this.scale,i=this.domain;if(n&&i&&!n.isNull&&"discrete"!==n.type&&(e.beginLocked=i.minLocked,
e.endLocked=i.maxLocked,null!=n.size&&"tick"===this.option("DomainRoundMode"))){var r=n.domain(),o=i[0]-r[0],a=r[1]-i[1],s=t.epsilon;
if(o>s||a>s){var l=n(0);o>s&&(e.begin=n(o)-l),a>s&&(e.end=n(a)-l)}}}return e},calcContinuousTicks:function(e){
return this.scale.ticks(this.desiredTickCount(),{roundInside:"tick"!==this.option("DomainRoundMode"),
alignmentValue:this._state.tickAlignment,tickCountMax:e,precision:this.option("TickUnit"),
precisionMin:this.tickUnitMinEf(),precisionMax:this.tickUnitMaxEf()})},desiredTickCount:function(){
var e=this.option("DesiredTickCount"),t="timeSeries"===this.scaleType;return null==e?t?null:1/0:t&&isFinite(e)&&e>10?10:e;
},tickUnitMinEf:function(){var e=this.option("TickUnitMin"),t=this.option("TickExponentMin");
return null==e&&(e=0),null!=t&&isFinite(t)&&(e=Math.max(e,Math.pow(10,Math.floor(t)))),
e},tickUnitMaxEf:function(){var e=this.option("TickUnitMax"),t=this.option("TickExponentMax");
return null==e&&(e=1/0),null!=t&&isFinite(t)&&(e=Math.min(e,9.999*Math.pow(10,Math.floor(t)))),
e},_registerResolversNormal:function(e){this.chart.compatVersion()<=1&&e.push(this._resolveByV1OnlyLogic),
e.push(this._resolveByOptionId,this._resolveByOrientedId),1===this.index&&e.push(this._resolveByV1OptionId),
e.push(this._resolveByScaleType,this._resolveByCommonId)},_resolveByOrientedId:Y.options.specify(function(e){
return this._chartOption(this.orientedId+"Axis"+e.name)}),_resolveByV1OptionId:Y.options.specify(function(e){
return this._chartOption("secondAxis"+e.name)}),_resolveByScaleType:Y.options.specify(function(e){
var t=this.scaleType;if(t){var n=e.name,i=this._chartOption(t+"Axis"+n);return void 0===i&&"discrete"!==t&&(i=this._chartOption("continuousAxis"+n)),
i}}),_resolveByCommonId:Y.options.specify(function(e){return this._chartOption("axis"+e.name);
})}}));_e.getOrientation=function(e,t){return"base"===e==("vertical"===t)?"x":"y";
},_e.getOrientedId=function(e,t){return 0===t?e:e+(t+1)};var xe={resolve:"_resolveFull",
data:{resolveV1:function(e){return this.index||"ortho"!==this.type||this._specifyChartOption(e,this.id+e.name),
!0}}},we={resolveV1:function(e){if(this.index){if(this._resolveByV1OptionId(e))return!0;
}else if(this._resolveByOrientedId(e))return!0;return this._resolveDefault(e),!0}
},Ce=Y.options.defaultValue(function(){if(!this.typeIndex)return"x"===this.orientation?"bottom":"left";
var e=this.chart.axesByType[this.type].first,t=e.option("Position");return Y.BasePanel.oppositeAnchor[t];
});_e.options({Visible:{resolve:"_resolveFull",data:{resolveV1:function(t){if(this.index<=1){
var n=0===this.index?e.firstUpperCase(this.orientation):"Second";this._specifyChartOption(t,"show"+n+"Scale");
}return!0}},cast:Boolean,value:!0},Composite:{resolve:function(e){return this.index>0?(e.specify(!1),
!0):this._resolveFull(e)},data:{resolveV1:function(e){return this._specifyChartOption(e,"useCompositeAxis"),
!0}},cast:Boolean,value:!1},Size:{resolve:"_resolveFull",data:we,cast:z},SizeMax:{
resolve:"_resolveFull",cast:z},Position:{resolve:"_resolveFull",data:{resolveV1:we.resolveV1,
resolveDefault:Ce},cast:F},FixedMin:xe,FixedMax:xe,FixedLength:{resolve:"_resolveFull",
cast:Y.parseAxisFixedLength},Ratio:{resolve:"_resolveFull",cast:Y.parseAxisRatio},
DomainAlign:{resolve:"_resolveFull",cast:Y.parseDomainAlign,value:"center"},PreserveRatio:{
resolve:"_resolveFull",cast:Boolean,value:!1},OriginIsZero:{resolve:"_resolveFull",
data:{resolveV1:function(e){switch(this.index){case 0:this._specifyChartOption(e,"originIsZero");
break;case 1:this.chart._allowV1SecondAxis&&this._specifyChartOption(e,"secondAxisOriginIsZero");
}return!0}},cast:Boolean,value:!0},DomainScope:{resolve:"_resolveFull",cast:B,value:"global"
},Offset:{resolve:"_resolveFull",data:{resolveV1:function(e){switch(this.index){case 0:
this._specifyChartOption(e,"axisOffset");break;case 1:this.chart._allowV1SecondAxis&&this._specifyChartOption(e,"secondAxisOffset");
}return!0}},cast:e.number.to},BandSizeRatio:{resolve:function(e){return this._resolveFull(e)||this._specifyChartOption(e,"panelSizeRatio");
},cast:function(t){return t=e.number.toNonNegative(t),null!=t&&t>1&&(t=null),t},getDefault:function(){
return this.chart._defaultAxisBandSizeRatio}},BandSize:{resolve:"_resolveFull",cast:e.number.toNonNegative
},BandSpacing:{resolve:"_resolveFull",cast:e.number.toNonNegative},BandSizeMin:{resolve:"_resolveFull",
cast:e.number.toNonNegative},BandSpacingMin:{resolve:"_resolveFull",cast:e.number.toNonNegative
},BandSizeMax:{resolve:"_resolveFull",cast:e.number.toNonNegative},BandSpacingMax:{
resolve:"_resolveFull",cast:e.number.toNonNegative},LabelSpacingMin:{resolve:"_resolveFull",
cast:e.number.to},LabelRotationDirection:{resolve:"_resolveFull",cast:Y.parseLabelRotationDirection,
value:"clockwise"},LabelDesiredAngles:{resolve:"_resolveFull",cast:q,value:[]},OverlappedLabelsMode:{
resolve:"_resolveFull",cast:Y.parseOverlappedLabelsMode,value:"hide"},Grid:{resolve:"_resolveFull",
data:{resolveV1:function(e){return this.index||this._specifyChartOption(e,this.orientation+"AxisFullGrid"),
!0}},cast:Boolean,value:!1},GridCrossesMargin:{resolve:"_resolveFull",cast:Boolean,
value:!0},EndLine:{resolve:"_resolveFull",cast:Boolean},ZeroLine:{resolve:"_resolveFull",
cast:Boolean,value:!0},RuleCrossesMargin:{resolve:"_resolveFull",cast:Boolean,value:!0
},Ticks:{resolve:"_resolveFull",cast:Boolean},DesiredTickCount:{resolve:"_resolveFull",
data:{resolveV1:we.resolveV1,resolveDefault:function(e){return this.chart.compatVersion()<=1?(e.defaultValue(5),
!0):void 0}},cast:e.number.toPositive},MinorTicks:{resolve:"_resolveFull",data:we,
cast:Boolean,value:!0},TickFormatter:{resolve:"_resolveFull",cast:e.fun.as},DomainRoundMode:{
resolve:"_resolveFull",data:{resolveV1:we.resolveV1,resolveDefault:function(e){return this.chart.compatVersion()<=1?(e.defaultValue("none"),
!0):void 0}},cast:Y.parseDomainRoundingMode,value:"tick"},TickExponentMin:{resolve:"_resolveFull",
cast:e.number.to},TickExponentMax:{resolve:"_resolveFull",cast:e.number.to},TickUnit:{
resolve:"_resolveFull"},TickUnitMin:{resolve:"_resolveFull"},TickUnitMax:{resolve:"_resolveFull"
},PreserveTickAlignment:{resolve:"_resolveFull",cast:Boolean},Title:{resolve:"_resolveFull",
cast:String},TitleVisible:{resolve:"_resolveFull",cast:Boolean,getDefault:function(){
return!e.empty(this.option("Title"))}},TitleSize:{resolve:"_resolveFull",cast:V},
TitleSizeMax:{resolve:"_resolveFull",cast:V},TitleFont:{resolve:"_resolveFull",cast:String
},TitleMargins:{resolve:"_resolveFull",cast:ie.as},TitlePaddings:{resolve:"_resolveFull",
cast:ie.as},TitleAlign:{resolve:"_resolveFull",cast:function(e){var t=this.option("Position");
return Y.parseAlign(t,e)}},Font:{resolve:"_resolveFull",cast:String},ClickAction:{
resolve:"_resolveFull",data:we},DoubleClickAction:{resolve:"_resolveFull",data:we
},TooltipEnabled:{resolve:"_resolveFull",cast:Boolean,value:!0},TooltipFormat:{resolve:"_resolveFull",
cast:e.fun.as,value:null},TooltipAutoContent:{resolve:"_resolveFull",cast:Y.parseTooltipAutoContent,
value:"value"}}),e.type("pvc.visual.CartesianAxisRootScene",Y.visual.Scene),e.type("pvc.visual.CartesianAxisTickScene",Y.visual.Scene).init(function(t,n){
this.base(t,n),this.vars.tick=new le(e.get(n,"tick"),e.get(n,"tickLabel"),e.get(n,"tickRaw")),
e.get(n,"isHidden")&&(this.isHidden=!0)}).add({isHidden:!1}),e.type("pvc.AxisPanel",Y.BasePanel).init(function(t,n,i,r){
r=e.create(r,{anchor:i.option("Position")});var o=r.anchor||this.anchor;if(null==r.paddings&&(r.paddings=ie.filterAnchor(o,t._axisOffsetPct)),
this.axis=i,this.base(t,n,r),this.roleName=i.role.name,this.isDiscrete=i.role.isDiscrete(),
this._extensionPrefix=i.extensionPrefixes,null==this.labelSpacingMin&&(this.labelSpacingMin=this.isDiscrete?.25:1.1),
null==this.showTicks&&(this.showTicks=!this.isDiscrete),void 0===r.font){var a=this._getConstantExtension("label","font");
a&&(this.font=a)}if(void 0===r.tickLength){var s=+this._getConstantExtension("ticks",this.anchorOrthoLength(o));
!isNaN(s)&&isFinite(s)&&(this.tickLength=s)}var l=this._getConstantExtension("label","visible");
null==l||l||(this.showLabels=!1)}).add({pvRule:null,pvTicks:null,pvLabel:null,pvRuleGrid:null,
pvScale:null,isDiscrete:!1,roleName:null,axis:null,anchor:"bottom",tickLength:6,scale:null,
ruleCrossesMargin:!0,font:"9px sans-serif",labelSpacingMin:null,showMinorTicks:!0,
showTicks:null,showLabels:!0,hiddenLabelText:"",_isScaleSetup:!1,_createLogId:function(){
return this.base()+" - "+this.axis.id},getTicks:function(){return this._layoutInfo&&this._layoutInfo.ticks;
},_calcLayout:function(e){var t=this.axis.scale,n=e.clientSize;if(this._isScaleSetup||(this.pvScale=t,
this.scale=t,this.extend(t,"scale"),this._isScaleSetup=!0),t.isNull)e.axisSize=e.restrictions.clientSize[this.anchorOrthoLength()]||0;else{
var i=this.anchorLength(),r=this.axis.getScaleRangeInfo();r&&(null!=r.value?n[i]=r.value:null!=r.min&&(n[i]=Math.max(Math.min(n[i],r.max),r.min))),
this.axis.setScaleRange(n[i]),this._calcLayoutCore(e)}return this.createAnchoredSize(e.axisSize,n);
},_calcLayoutCore:function(e){var n=e.restrictions.clientSize[this.anchorOrthoLength()];
if(e.axisSize=n,this.isDiscrete&&this.useCompositeAxis)null==e.axisSize&&(e.axisSize=50);else{
if(this._readTextProperties(e),this._calcTicks(),"discrete"===this.scale.type){var i=this.axis.option("OverlappedLabelsMode"),r="counterclockwise"===this.axis.option("LabelRotationDirection")?-1:1,o=this.axis.option("LabelDesiredAngles"),a=this.scale.range().step,s=this.labelSpacingMin,l=t.Text.measureWidth("x",this.font),u=this.anchor;
Y.AxisPanel._calcDiscreteOverlapSettings(i,r,o,a,s,l,u,e)}this._calcAxisSizeFromLabelBBox(e),
null==e.axisSize&&(e.axisSize=e.requiredAxisSize),this._calcMaxTextLengthThatFits(),
this._calcContentOverflowOptional()}},_readTextProperties:function(t){var n=this._getExtension("label","textAngle");
t.textAngle=e.number.to(n,0),t.textMargin=e.number.to(this._getExtension("label","textMargin"),3);
var i=this._getExtension("label","textAlign");"string"!=typeof i&&(i=this.isAnchorTopOrBottom()?"center":"left"==this.anchor?"right":"left"),
t.textAlign=i;var r=this._getExtension("label","textBaseline");if("string"!=typeof r)switch(this.anchor){
case"right":case"left":case"center":r="middle";break;case"bottom":r="top";break;default:
r="bottom"}t.textBaseline=r},_calcAxisSizeFromLabelBBox:function(t){var n=this.showLabels?this._calcMaxLabelBBox():null,i=n?this._getLabelBBoxQuadrantLength(n,this.anchor):0,r=(this.showTicks||this.showLabels?this.tickLength:0)+i,o=n?n.sourceAngle:0;
!this.showLabels||0===o&&this.isAnchorTopOrBottom()||(r+=this.tickLength),t.requiredAxisSize=Math.max(1,r,e.number.as(this._getConstantExtension("rule","linewidth"),1)/2);
},_getLabelBBoxQuadrantLength:function(e,t){var n;switch(t){case"left":n=-e.x;break;
case"right":n=e.x2;break;case"top":n=-e.y;break;case"bottom":n=e.y2}return Math.max(n,0);
},_calcContentOverflowOptional:function(){this._layoutInfo.restrictions.canChange?this.showLabels&&this._calcContentOverflowOptionalFromLabelBBox():e.debug>=2&&this.log.warn("Layout cannot change. Skipping calculation of optional content overflow.");
},_calcContentOverflowOptionalFromLabelBBox:function(){var t=null,n=this,i=n._layoutInfo,r=i.ticks;
if(r.length){var o=i.ticksBBoxes||this._calcTicksLabelBBoxes(i),a=n.isAnchorTopOrBottom(),s=a?"left":"bottom",l=a?"right":"top",u=n.scale,c="discrete"===u.type,h=c?i.tickVisibilityStep:1,d=i.clientSize[n.anchorLength()],f=function(o,a,s,l){
if(!(h>1&&l%h!==0)){var f=n._getLabelBBoxQuadrantLength(o,a);if(f>1){var p=u(c?r[l].value:r[l]),m=s?p-f:p+f,g=Math.max(0,s?-m:m-d);
if(g>1&&(g-=i.paddings[a]||0,g>1))if(c&&(g*=1.05),t){var v=t[a];(null==v||g>v)&&(t[a]=g);
}else t=e.set({},a,g)}}};o.forEach(function(e,t){f(e,s,!0,t),f(e,l,!1,t)}),e.debug>=6&&t&&n.log("ContentOverflowOptional = "+e.describe(t));
}i.contentOverflowOptional=t},_calcMaxTextLengthThatFits:function(){var n=this._layoutInfo;
if(!this.showLabels||this.compatVersion()<=1)n.maxTextWidth=null;else{var i=n.clientSize[this.anchorOrthoLength()],r=Math.min(n.axisSize,i);
if(r>=n.requiredAxisSize-this.tickLength)n.maxTextWidth=null;else{var o,a,s=n.maxLabelBBox,l=r-this.tickLength;
switch(this.anchor){case"left":a=t.vector(0,1),o=t.vector(-l,0);break;case"right":
a=t.vector(0,1),o=t.vector(l,0);break;case"top":a=t.vector(1,0),o=t.vector(0,-l);break;
case"bottom":a=t.vector(1,0),o=t.vector(0,l)}var u=o.norm(),c=s.source.points(),h=c[0],d=c[1],f=c[2],p=c[3],m=f.minus(p),g=d.minus(h),v=t.SvgScene.lineIntersect,y=v(o,a,h,g),b=v(o,a,p,m),_=s.sourceTextWidth,x=_,w=y.minus(h),C=w.length();
_>=C&&w.dot(m)>=0&&(x=h.dot(u)<d.dot(u)?C:y.minus(d).length());var S=b.minus(p),k=S.length();
if(_>=k&&S.dot(m)>=0&&(x=p.dot(u)<f.dot(u)?Math.min(x,k):Math.min(x,b.minus(f).length())),
"center"===s.sourceAlign){var D=_-x;x-=D}n.maxTextWidth=x,n.maxLabelBBox=this._calcLabelBBox(x),
e.debug>=3&&this.log("Trimming labels' text at length "+x.toFixed(2)+"px maxOrthoLength="+l.toFixed(2)+"px");
}}},_calcTicks:function(){var n=this._layoutInfo;switch(n.textHeight=4*t.Text.fontHeight(this.font)/5,
n.maxTextWidth=null,this.axis.setTicks(null),this.scale.type){case"discrete":this._calcDiscreteTicks();
break;case"timeSeries":case"numeric":this._calcContinuousTicks();break;default:throw e.error.operationInvalid("Undefined axis scale type");
}this.axis.setTicks(this._layoutInfo.ticks),null==n.maxTextWidth&&this._calcTicksTextLength(n);
},_calcDiscreteTicks:function(){var n=this.axis,i=this._layoutInfo;i.ticks=n.domainItems();
var r,o=n.role.grouping,a=n.option("TickFormatter");if(this.getCompatFlag("discreteTimeSeriesTickFormat")&&o.isSingleDimension&&o.singleDimensionType.valueType===Date){
var s=n.domainValues(),l=e.query(s).range();if(l&&l.min!==l.max){var u=new t.Scale.linear(l.min,l.max),c=u.ticks();
a?(e.copyProps(s,c,["step","base","mult","format"]),r=function(e,t){return a.call(s,s[t],s.step,t);
}):r=function(e,t){return c.format(s[t])}}else if(a){var h=o.singleDimensionType.formatter();
s.step=s.base=Y.time.intervals.d,s.mult=1,s.format=function(e){return h(e)},r=function(e,t){
return a.call(s,s[t],s.step,t)}}}else if(a){var d=n.domainItemValueProp();r=function(e){
var t=e[d];return a(t,e.absLabel)}}r||(r=function(e){return e.absLabel}),i.ticksText=i.ticks.map(r),
this._clearTicksTextDeps(i)},_clearTicksTextDeps:function(e){e.maxTextWidth=e.ticksTextLength=e.ticksBBoxes=null;
},_calcContinuousTicks:function(){var t=e.debug>=7;t&&this.log.group("_calcContinuousTicks");
var n=this._layoutInfo;n.ticks=n.ticksText=null;var i=this._calcContinuousBandSizeMin(),r=n.clientSize[this.anchorLength()],o=this._calcContinuousTickCountMax(i,r),a=n.ticks,s="tick"===this.axis.option("DomainRoundMode");
if((!a||a.length>(s?3:1)&&a.length>o)&&(this._calcContinuousTicksValue(n,o),this._calcContinuousTicksText(n),
a=n.ticks),s){var l=a.length;l>o&&2>=o&&3>=l&&(l-1)*i>r&&(3===l?(n.ticksText[0]="",
n.ticksText[2]="",n.maxTextWidth=null):2===l&&(n.ticksText[a[1]?1:0]="",n.maxTextWidth=null));
}e.debug>=5&&this.log.info("RESULT count="+a.length+" step="+a.step),t&&this.log.groupEnd();
},_calcContinuousTicksValue:function(t,n){t.ticks=this.axis.calcContinuousTicks(n),
e.debug>4&&(this.log("DOMAIN: "+e.describe(this.scale.domain())),this.log("TICKS:  "+e.describe(t.ticks)));
},_calcContinuousTicksText:function(e){var t=e.ticksText=e.ticks.map(function(e,t){
return this.scale.tickFormat(e,t)},this);return this._clearTicksTextDeps(e),t},_calcContinuousTickCountMax:function(e,t){
if(!e&&this.showLabels)return 1;var n=this._layoutInfo,i=n.textHeight*Math.max(0,this.labelSpacingMin);
return 1+Math.floor(t/(e+i))},_calcContinuousBandSizeMin:function(){var e=this.scale.domain(),t=Math.abs(e[1]-e[0]);
if(1e-10>t||!isFinite(t))return 0;var n=this._layoutInfo;return this.isAnchorTopOrBottom()?(this._calcContinuousTicksValue(n),
this._calcTicksTextLength(n),Math.max(n.maxTextWidth,n.textHeight)):n.textHeight},
_calcTicksTextLength:function(e){var n=0,i=this.font,r=e.ticksText||this._calcContinuousTicksText(e),o=e.ticksTextLength=r.map(function(e){
var r=t.Text.measureWidth(e,i);return r>n&&(n=r),r});return e.maxTextWidth=e.maxTextWidthReal=n,
e.ticksBBoxes=null,e.maxLabelBBox=null,o},_calcTicksLabelBBoxes:function(e){var t=this,n=t._layoutInfo,i=e.ticksTextLength||t._calcTicksTextLength(e),r=n.maxTextWidth||n.maxTextWidthReal,o=null;
return e.ticksBBoxes=i.map(function(e){var n=t._calcLabelBBox(Math.min(e,r));return o||e!==r||(o=n),
n},t),n.maxLabelBBox=o,e.ticksBBoxes},_calcMaxLabelBBox:function(){var e=this._layoutInfo;
return e.ticksTextLength||this._calcTicksTextLength(e),e.maxLabelBBox=this._calcLabelBBox(e.maxTextWidth);
},_calcLabelBBox:function(e){var t=this._layoutInfo;return Y.text.getLabelBBox(e,t.textHeight,t.textAlign,t.textBaseline,t.textAngle,t.textMargin);
},_createCore:function(){if(!this.scale.isNull){var t=this._layoutInfo.clientSize,n=this._layoutInfo.paddings,i=this.anchorOrtho(),r=this.anchorOpposite(i),o=this.anchorOrthoLength(i),a=this.ruleCrossesMargin?-n[i]:0,s=t[o]+(this.ruleCrossesMargin?n[r]:0),l=s-a;
this._rSize=l;var u=this._getRootScene();this.pvRule=new Y.visual.Rule(this,this.pvPanel,{
extensionId:"rule"}).lock("data",[u]).override("defaultColor",e.fun.constant("#666666")).lock(this.anchorOpposite(),0).lock(i,a).lock(o,l).pvMark.zOrder(30).strokeDasharray(null).lineCap("square"),
this.isDiscrete?this.useCompositeAxis?this.renderCompositeOrdinalAxis():this.renderOrdinalAxis():this.renderLinearAxis();
}},_getExtensionId:function(){return""},_getRootScene:function(){if(!this._rootScene){
var t=this._rootScene=new Y.visual.CartesianAxisRootScene(null,{panel:this,source:this._getRootData()
}),n=this._layoutInfo,i=n.ticks,r=n.ticksText;if(this.isDiscrete)if(this.useCompositeAxis)this._buildCompositeScene(t);else{
var o,a,s,l,u,c=n.tickVisibilityStep,h=this.hiddenLabelText;t.vars.tickIncludeModulo=c,
t.vars.hiddenLabelText=h,c>2&&(e.debug>=3&&this.log.info("Showing only one in every "+c+" tick labels"),
u=t.group.owner.keySep,s=function(){var e=o.map(function(e){return e.key}).join(u),n=a.slice(0,10).join(", ")+(a.length>10?", ...":""),i=new Y.visual.CartesianAxisTickScene(t,{
source:o,tick:e,tickRaw:e,tickLabel:n,isHidden:!0});i.dataIndex=l,o=a=l=null}),i.forEach(function(e,n){
var i=n%c!==0;if(i&&c>2)null==l&&(l=n),(o||(o=[])).push(e),(a||(a=[])).push(r[n]);else{
o&&s();var u=new Y.visual.CartesianAxisTickScene(t,{source:e,tick:e.value,tickRaw:e.rawValue,
tickLabel:r[n],isHidden:i});u.dataIndex=n}}),o&&s()}else i.forEach(function(e,n){
var i=new Y.visual.CartesianAxisTickScene(t,{tick:e,tickRaw:e,tickLabel:r[n]});i.dataIndex=n;
},this)}return this._rootScene},_buildCompositeScene:function(e){function t(e){var r=e.group;
if(n){var o=e.vars.tick;e.nodeValue=e.value=o.rawValue,e.nodeLabel=e.label=o.label;
}r.childCount()&&r.children().each(function(n){var r=i?i(n.value,n.label):n.label,o=new Y.visual.CartesianAxisTickScene(e,{
source:n,tick:n.value,tickRaw:n.rawValue,tickLabel:r});o.dataIndex=n.childIndex(),
t(o)})}var n=this.compatVersion()<=1,i=this.axis.option("TickFormatter");e.vars.tick=new le("",""),
t(e)},_getRootData:function(){var e;if(this.isDiscrete&&this.useCompositeAxis){var t=this.anchor,n={
visible:this.axis.domainVisibleOnly()?!0:null,isNull:this.chart.options.ignoreNulls||this.axis.domainIgnoreNulls()?!1:null,
reverse:"bottom"==t||"left"==t,extensionDataSetsMap:this.axis.boundDimensionsDataSetsMap
};e=this.axis.role.select(this.data,n)}else e=this.data;return e},renderOrdinalAxis:function(){
var e,n=this.scale,i=this.hiddenLabelText,r=this._layoutInfo.tickVisibilityStep,o=r*n.range().step/2,a=this.anchorOpposite(),s=this.anchorLength(),l=this.anchorOrtho(),u=this.anchorOrthoLength(),c=this.pvRule,h=this._getRootScene(),d=this._layoutInfo,f=this.compatVersion()<=1;
if(f){var p=function(e){this.value=this.absValue=e.rawValue,this.nodeName=""+(this.value||""),
this.path=this.nodeName?[this.nodeName]:[],this.label=this.absLabel=e.label};p.prototype.toString=function(){
return""+this.value},e=function(e){return function(t){var n=Object.create(this);return n.index=this.parent.index,
e.call(n,new p(t.vars.tick))}}}var m=new Y.visual.Panel(this,this.pvPanel,{extensionId:"ticksPanel"
}).lock("data",h.childNodes).lock(a,0).lockMark(l,function(e){return e.isHidden?n(e.previousSibling.vars.tick.value)+o:n(e.vars.tick.value);
}).lock("strokeDasharray",null).lock("strokeStyle",null).lock("fillStyle",null).lock("lineWidth",0).pvMark.zOrder(20);
(f||this.showTicks)&&(this.pvTicks=new Y.visual.Rule(this,m,{extensionId:"ticks",
wrapper:e}).lock("data").intercept("visible",function(e){return!e.isHidden&&this.delegateExtension(!0);
}).optional("lineWidth",1).lock(a,0).lock(l,0).lock(s,null).optional(u,2*this.tickLength/3).override("defaultColor",function(){
return f?t.Color.names.transparent:c.scene?c.scene[0].strokeStyle:"#666666"}).pvMark);
var g=this.font,v=this._layoutInfo.maxTextWidth;isFinite(v)||(v=0),this.pvLabel=new Y.visual.Label(this,m,{
extensionId:"label",showsInteraction:!0,noClick:!1,noDoubleClick:!1,noSelect:!1,noTooltip:!1,
noHover:!1,wrapper:e}).intercept("visible",function(e){return e.isHidden?!!e.vars.hiddenLabelText:this.delegateExtension(!0);
}).intercept("text",function(e){var t;return e.isHidden?t=i:(t=this.delegateExtension(),
void 0===t&&(t=e.vars.tick.label),!v||this.showsInteraction()&&e.isActive||(t=Y.text.trimToWidthB(v,t,g,"..",!1))),
t}).pvMark.zOrder(40).lock(a,this.tickLength).lock(l,0).font(g).textStyle("#666666"),
d.textAngleLocked?this.pvLabel.lock("textAngle",d.textAngle):this.pvLabel.textAngle(d.textAngle),
d.textAlignLocked?this.pvLabel.lock("textAlign",d.textAlign):this.pvLabel.textAlign(d.textAlign),
d.textBaselineLocked?this.pvLabel.lock("textBaseline",d.textBaseline):this.pvLabel.textBaseline(d.textBaseline),
this._debugTicksPanel(m)},_getTooltipFormatter:function(e){if(this.axis.option("TooltipEnabled")){
e.gravity=this._calcTipsyGravity();var t=this.axis.option("TooltipFormat");if(t)return function(e){
return t.call(e,e.scene)};var n=this.axis.option("TooltipAutoContent");if("summary"===n)return this._summaryTooltipFormatter.bind(this);
if("value"===n)return e.isLazy=!1,function(e){var t=e.pvMark,n=e.scene.vars.tick.label;
return t.textAngle()||t.text()!==n?n:""}}},_getTooltipPanelClasses:function(){return["cart-axis"];
},_debugTicksPanel:function(n){if(e.debug>=16&&this.showLabels){var i=this._layoutInfo,r=i.ticksBBoxes||this._calcTicksLabelBBoxes(i);
n.add(t.Panel)[this.anchorOpposite()](this.tickLength)[this.anchorOrtho()](0)[this.anchorLength()](0)[this.anchorOrthoLength()](0).fillStyle(null).strokeStyle(null).lineWidth(0).visible(function(e){
return!e.isHidden}).add(t.Line).data(function(e){var t=r[e.dataIndex],n=t.source.points();
return n.length>1&&(n=n.concat(n[0])),n}).left(function(e){return e.x}).top(function(e){
return e.y}).strokeStyle("red").lineWidth(.5).strokeDasharray("-")}},renderLinearAxis:function(){
var e,t=this.scale,n=this.pvRule,i=this.anchorOpposite(),r=this.anchorLength(),o=this.anchorOrtho(),a=this.anchorOrthoLength(),s=this._getRootScene();
this.compatVersion()<=1&&(e=function(e){return function(t){var n=Object.create(this);
return n.index=this.parent.index,e.call(n,t.vars.tick.rawValue)}});var l=new Y.visual.Panel(this,this.pvPanel,{
extensionId:"ticksPanel"}).lock("data",s.childNodes).lock(i,0).lockMark(o,function(e){
return t(e.vars.tick.value)}).lock("strokeStyle",null).lock("fillStyle",null).lock("lineWidth",0).pvMark.zOrder(20);
if(this.showTicks){var u=this.pvTicks=new Y.visual.Rule(this,l,{extensionId:"ticks",
wrapper:e}).lock("data").override("defaultColor",function(){return n.scene?n.scene[0].strokeStyle:"#666666";
}).lock(i,0).lock(o,0).lock(r,null).optional(a,this.tickLength).pvMark;if(this.showMinorTicks){
var c=this._layoutInfo,h=c.ticks,d=h.length,f=d>1?Math.abs(t(h[1])-t(h[0]))/2:0;this.pvMinorTicks=new Y.visual.Rule(this,this.pvTicks,{
extensionId:"minorTicks",wrapper:e}).lock("data").intercept("visible",function(e){
var t=e.childIndex()<d-1&&(!u.scene||u.scene[0].visible);return t&&this.delegateExtension(!0);
}).override("defaultColor",function(){return u.scene?u.scene[0].strokeStyle:"#666666";
}).lock(i,0).lock(r,null).optional(a,this.tickLength/2).lockMark(o,f).pvMark}}this.renderLinearAxisLabel(l,e),
this._debugTicksPanel(l)},renderLinearAxisLabel:function(e,t){var n=this.anchorOpposite(),i=this.anchorOrtho(),r=this.font,o=this._layoutInfo.maxTextWidth;
isFinite(o)||(o=0);var a=this.pvLabel=new Y.visual.Label(this,e,{extensionId:"label",
noHover:!1,showsInteraction:!0,wrapper:t}).lock("data").optional("text",function(e){
var t=e.vars.tick.label;return!o||this.showsInteraction()&&e.isActive||(t=Y.text.trimToWidthB(o,t,r,"..",!1)),
t}).pvMark.lock(n,this.tickLength).lock(i,0).zOrder(40).font(this.font).textStyle("#666666"),s=this.pvPanel.root;
this.isAnchorTopOrBottom()?a.textBaseline(n).textAlign(function(e){var t;if(0===this.index){
if(t=a.toScreenTransform().transformHPosition(a.left()),0>=t)return"left"}else if(this.index===e.parent.childNodes.length-1&&(t=a.toScreenTransform().transformHPosition(a.left()),
t>=s.width()))return"right";return"center"}):a.textAlign(n).textBaseline(function(e){
var t;if(0===this.index){if(t=a.toScreenTransform().transformVPosition(a.top()),t>=s.height())return"bottom";
}else if(this.index===e.parent.childNodes.length-1&&(t=a.toScreenTransform().transformVPosition(a.top()),
0>=t))return"top";return"middle"})},_onV1Click:function(e,t){this.isDiscrete&&this.useCompositeAxis&&t.call(e.pvMark,e.scene,e.event);
},_onV1DoubleClick:function(e,t){this.isDiscrete&&this.useCompositeAxis&&t.call(e.pvMark,e.scene,e.event);
},_getSelectableMarks:function(){return this.isDiscrete&&this.isVisible&&this.pvLabel?this.base():void 0;
},renderCompositeOrdinalAxis:function(){var n,i=this.isAnchorTopOrBottom(),r=i?"h":"v",o=.3,a=1.27,s=2,l=2,u=this.font,c=t.Text.fontHeight(u)/2,h=this._pvLayout=this._getCompositeLayoutSingleCluster(),d=i?"center":"left"==this.anchor?"right":"left";
h.node.def("fitInfo",null).height(function(e){var t=Y.text.getFitInfo(e.dx,e.dy,e.vars.tick.label,u,c);
return t.h||("v"===r&&t.v?l=Math.min(s,e.depth):s=Math.min(s,e.depth)),this.fitInfo(t),
e.dy}),h.node.add(t.Bar).fillStyle("rgba(127,127,127,.001)").strokeStyle(function(e){
return 1!==e.maxDepth&&e.maxDepth?"rgba(127,127,127,0.3)":null}).lineWidth(function(e){
return 1!==e.maxDepth&&e.maxDepth?.5:0}).text(function(e){return e.vars.tick.label;
}),this.compatVersion()<=1&&(n=function(e){return function(t){return e.call(this,t);
}}),this.pvLabel=new Y.visual.Label(this,h.label,{extensionId:"label",noClick:!1,
noDoubleClick:!1,noSelect:!1,noTooltip:!1,noHover:!1,showsInteraction:!0,wrapper:n,
tooltipArgs:{options:{offset:2*c}}}).pvMark.def("lblDirection","h").textAngle(function(e){
if(e.depth>=l&&e.depth<s)return this.lblDirection("v"),-Math.PI/2;if(e.depth>=s){
var t=e.dy/e.dx,n=Math.atan(t);if(n>a)return this.lblDirection("v"),-Math.PI/2;if(n>o)return this.lblDirection("d"),
-n}return this.lblDirection("h"),0}).textMargin(1).textAlign(function(e){return"v"!=r||e.depth>=l||e.depth>=s?"center":d;
}).left(function(e){return"v"!=r||e.depth>=l||e.depth>=s?e.x+e.dx/2:"right"==d?e.x+e.dx:e.x;
}).font(u).textStyle("#666666").text(function(t){var n=t.vars.tick.label;if(!t.isActive||!this.sign.showsInteraction()){
var i=this.fitInfo();switch(this.lblDirection()){case"h":if(!i.h)return Y.text.trimToWidthB(t.dx,n,u,"..");
break;case"v":if(!i.v)return Y.text.trimToWidthB(t.dy,n,u,"..");break;case"d":if(!i.d){
var r=Math.sqrt(e.sqr(t.dy)+e.sqr(t.dx));return Y.text.trimToWidthB(r-c,n,u,"..");
}}}return n}).visible(function(e){return e.depth>0})},_getCompositeLayoutSingleCluster:function(){
var n=this._getRootScene(),i=this.anchor,r=n.group.treeHeight+1,o=this._layoutInfo.axisSize,a=r>2?1/12*o:0,s=o/r-a,l=r/(r-1),u=Y.BasePanel.orthogonalLength[i],c="width"==u?"left"===i?[-s,0]:[s,0]:"top"===i?[0,-s]:[0,s];
this.pvRule.sign.override("defaultColor",e.fun.constant(null)).override("defaultStrokeWidth",e.fun.constant(0));
var h=this.pvRule.add(t.Panel)[u](o).strokeStyle(null).lineWidth(0).add(t.Panel)[u](o*l).strokeStyle(null).lineWidth(0);
return h.transform(t.Transform.identity.translate(c[0],c[1])),h.add(t.Layout.Cluster.Fill).nodes(n.nodes()).orient(i);
},_calcTipsyGravity:function(){switch(this.anchor){case"bottom":return"s";case"top":
return"n";case"left":return"w";case"right":return"e"}return"s"}}),Y.AxisPanel._calcDiscreteOverlapSettings=function(e,t,n,i,r,o,a,s){
var l=Math.PI,u=l/2,c=2*l;s.tickVisibilityStep=1;var h=!1,d=!1;switch(e){case"hide":
h=!0;break;case"rotate":d=!0;break;case"rotatethenhide":h=!0,d=!0;break;default:return;
}null==t&&(t=1),n=n?n.slice().sort(function(e,t){return Math.abs(e)-Math.abs(t)}):[];
var f=s.textHeight,p=s.maxTextWidth,m=f*r,g=m,v=o+m,y="bottom"===a,b="left"===a,_=y||"top"===a,x=0,w=c,C=f+g>i;
!C&&p+v>i&&(_?x=Y.normAngle(Math.asin(f/(i-g))):w=Y.normAngle(Math.acos(f/(i-g))));
var S;if(d){if(n.length>0)for(var k=0;k!==n.length;++k){S=Y.normAngle(n[k]*t);var D=S>l?Math.abs(S-c):S,M=u>D?D:D-l;
if(!C&&M>=x){h=h&&(C||M>w);break}}else C?S=_?u:0:(S=Y.normAngle(x*t),h=!1);s.textAngle=S,
s.textAngleLocked=!0;var N="center",T="middle";_?(S>0&&l>S?N=y?"left":"right":S>l&&c>S&&(N=y?"right":"left"),
S>=0&&u>S||S>l+u&&c>S?T=y?"top":"bottom":S>u&&c-u>S&&(T=y?"bottom":"top")):(S>=0&&u>S||S>l+u&&c>S?N=b?"right":"left":S>u&&c-u>S&&(N=b?"left":"right"),
S>0&&l>S?T=b?"top":"bottom":S>l&&c>S&&(T=b?"bottom":"top")),s.textAlign=N,s.textAlignLocked=!0,
s.textBaseline=T,s.textBaselineLocked=!0}else S=s.textAngle?Y.normAngle(s.textAngle*t):0,
s.textAngle=S,s.textAngleLocked=!0;var A=s.ticks.length;if(h&&A>2){var j;if(j=_?Math.min(p,Math.abs(f/Math.sin(S)))+(C||x>S?v:g):Math.min(p,Math.abs(f/Math.cos(S)))+(C||S>w?v:g),
j>i){var I=Math.ceil(j/i);(!isFinite(I)||1>I||Math.ceil(A/I)<2)&&(I=1),s.tickVisibilityStep=I;
}}},e.type("pvc.AxisTitlePanel",Y.TitlePanelAbstract).init(function(e,t,n,i){this.axis=n,
this.base(e,t,i),this._extensionPrefix=n.extensionPrefixes.map(function(e){return e+"Title";
})}).add({_calcLayout:function(e){var t=this.axis.scale;return!t||t.isNull?new re(0,0):this.base(e);
},_createCore:function(e){var t=this.axis.scale;return t&&!t.isNull?this.base(e):void 0;
}}),e("pvc.visual.CartesianFocusWindow",Y.visual.OptionsBase.extend({init:function(e){
this.base(e,"focusWindow",0,{byNaked:!1});var t=e.axes.base;this.base=new Y.visual.CartesianFocusWindowAxis(this,t);
},methods:{_exportData:function(){return{base:e.copyProps(this.base,Y.visual.CartesianFocusWindowAxis.props)
}},_importData:function(e){var t=e.base;this.base.option.specify({Begin:t.begin,End:t.end,
Length:t.length})},_initFromOptions:function(){this.base._initFromOptions()},_onAxisChanged:function(){
var e=this.option("Changed");e&&e.call(this.chart.basePanel.context())}},options:{
Changed:{resolve:"_resolveFull",cast:e.fun.as}}})),e("pvc.visual.CartesianFocusWindowAxis",Y.visual.OptionsBase.extend({
init:function(t,n){this.window=t,this.axis=n,this.isDiscrete=n.isDiscrete(),this.base(n.chart,"focusWindow"+e.firstUpperCase(n.type),0,{
byNaked:!1})},type:{methods:{props:["begin","end","length"]}},methods:{_initFromOptions:function(){
var e=this.option;this.set({begin:e("Begin"),end:e("End"),length:e("Length")})},set:function(t){
var n,i,r,o=this,a=e.get(t,"render"),s=e.get(t,"select",!0);if(t=o._readArgs(t))n=t.begin,
i=t.end,r=t.length;else if(null!=this.begin&&null!=this.end&&null!=this.length)return;
var l,u,c,h,d,f,p,m=o.axis,g=m.scale,v=o.isDiscrete,y=v?null:m.role.grouping.singleDimensionType.cast,b=g.domain();
if(v)u=b.length,null!=n&&(f=+n,isNaN(f)||(1/0===f?(c=u-1,n=b[c]):f===-1/0&&(c=0,n=b[c])),
null==c&&(c=b.indexOf(""+n),0>c&&(c=0,n=b[c]))),null!=i&&(p=+i,isNaN(p)||(1/0===p?(h=u-1,
i=b[h]):p===-1/0&&(h=0,i=b[h])),null==h&&(h=b.indexOf(""+i),0>h&&(h=u-1,i=b[h]))),
null!=r&&(r=+r,isNaN(r)?r=null:0>r&&(null!=n||null!=i)&&(l=n,d=c,n=i,c=h,i=l,h=d,
r=-r)),null!=n?null!=i?(c>h&&(l=n,d=c,n=i,c=h,i=l,h=d),r=h-c+1):(null==r&&(r=u-c),
h=c+r-1,h>u-1&&(h=u-1,r=h-c+1),i=b[h]):null!=i?(null==r&&(r=h),c=h-r+1,0>c&&(c=0,
r=h-c+1),n=b[c]):(null==r&&(r=Math.max(~~(u/3),1)),r>u?(r=u,c=0,h=u-1):(d=~~(u/2),
c=d-~~(r/2),h=c+r-1),n=b[c],i=b[h]);else{null!=r&&(r=+r,isNaN(r)?r=null:0>r&&(null!=n||null!=i)&&(l=n,
n=i,i=l,r=-r));var _,x,w=b[0],C=b[1];u=C-w,null!=n&&(w>n&&(n=w),n>C&&(n=C)),null!=i&&(w>i&&(i=w),
i>C&&(i=C)),null!=n?null!=i?(n>i&&(l=n,n=i,i=l),r=i-n):(null==r&&(r=C-n),i=n+r,i>C&&(i=C,
r=i-n)):null!=i?(null==r&&(r=i-w),n=i-r,w>n&&(n=w,r=i-n)):(null==r&&(r=Math.max(~~(u/3),1)),
r>u?(r=u,n=w,i=C):(l=~~(u/2),n=l-~~(r/2),_=+n,x=+r,i=_+x)),n=y(n),i=y(i),r=y(r);var S=o.option("Constraint");
if(S){var k={type:"new",target:"begin",value:n,length:r,length0:r,min:w,max:C,minView:w,
maxView:C};S(k),n=y(k.value),r=y(k.length),_=+n,x=+r,i=y(_+x)}}o._set(n,i,r,s,a)},
_updatePosition:function(e,t,n,i){var r,o,a,s=this,l=s.axis,u=l.scale;if(s.isDiscrete){
var c=u.invertIndex(e),h=u.invertIndex(t)-1,d=u.domain();r=d[c],o=d[h],a=h-c+1}else r=u.invert(e),
o=u.invert(t),a=o-r;this._set(r,o,a,n,i)},_constraintPosition:function(e){var t,n=this,i=n.axis,r=i.scale;
if(n.isDiscrete){var o=Math.floor(r.invertIndex(e.point,!0));if(o>=0){var a=r.range(),s=r.domain().length,l=(a.max-a.min)/s;
o>=s&&("new"===e.type||"resize-begin"===e.type)&&(o=s-1),e.point=o*l}}else if(t=n.option("Constraint")){
var u,c,h,d=i.role.grouping.singleDimensionType.cast,f=d(r.invert(e.point)),p="begin"===e.target?1:-1,m=e.point+p*e.length,g=d(r.invert(m)),v=d(p*(g-f));
e.length===e.length0?u=v:(c=e.point+p*e.length0,h=d(r.invert(c)),u=d(p*(h-f)));var y=d(r.invert(e.min)),b=d(r.invert(e.max)),_={
type:e.type,target:e.target,value:f,length:v,length0:u,min:y,max:b,minView:d(r.invert(e.minView)),
maxView:d(r.invert(e.maxView))};t(_),+_.value!==+f&&(f=_.value,e.point=r(f));var x=_.length;
if(+x!==+v)if(+x===+u)e.length=e.length0;else{var w=+f+p*+x,C=r(w);e.length=C-p*e.point;
}+_.min!==+y&&(e.min=r(_.min)),+_.max!==+b&&(e.max=r(_.max))}},_compare:function(e,t){
return this.isDiscrete?""+e==""+t:+e===+t},_set:function(e,t,n,i,r){var o=this,a=!1;
return o._compare(e,o.begin)||(o.begin=e,a=!0),o._compare(t,o.end)||(o.end=t,a=!0),
o._compare(n,o.length)||(o.length=n,a=!0),a&&o.window._onAxisChanged(o),i&&o._updateSelection({
render:r}),a},_readArgs:function(e){if(e){var t={},n=0,i=function(i){var r=e[i];null!=r?n=!0:r=this[i],
t[i]=r};if(Y.visual.CartesianFocusWindowAxis.props.forEach(i,this),n)return t}},_updateSelection:function(t){
var i,r,o=this,a=o.axis,s=a.isDiscrete(),l=a.chart,u=a.dataCell,c=u.role,h=l.partData(u.dataPartValue);
if(s){r=c.flatten(h,{extensionDataSetsMap:a.boundDimensionsDataSetsMap});var d=r.child(o.begin),f=r.child(o.end);
if(d&&f){var p=d.childIndex(),m=f.childIndex();i=e.range(p,m-p+1).select(function(e){
return r.childNodes[e]}).selectMany(e.propGet("_datums")).where(n.Datum.isVisibleT).distinct(e.propGet("key"));
}}else{r=h;var g=c.grouping.singleDimensionName;i=e.query(h._datums).where(n.Datum.isVisibleT).where(function(e){
var t=e.atoms[g].value;return null!=t&&t>=o.begin&&t<=o.end})}i&&(l.data.replaceSelected(i),
l.root.updateSelections(t))}},options:{Resizable:{resolve:"_resolveFull",cast:Boolean,
value:!0},Movable:{resolve:"_resolveFull",cast:Boolean,value:!0},Begin:{resolve:"_resolveFull"
},End:{resolve:"_resolveFull"},Length:{resolve:"_resolveFull"},Constraint:{resolve:"_resolveFull",
cast:e.fun.as}}})),e.type("pvc.visual.CartesianOrthoDataCell",Y.visual.DataCell).init(function(e,t,n,i,r,o,a){
this.base(e,t,n,i),this.isStacked=r,this.nullInterpolationMode=o,this.trend=a}),e("pvc.visual.CartesianPlot",Y.visual.Plot.extend({
init:function(t,n){if(this.base(t,n),!(t instanceof Y.CartesianAbstract))throw e.error(e.format("Plot type '{0}' can only be used from within a cartesian chart.",[this.type]));
},methods:{_initVisualRoles:function(){this.base(),this._addVisualRole("series",{
isRequired:!0,defaultDimension:"series*",autoCreateDimension:!0,requireIsDiscrete:!0
})},_getColorRoleSpec:function(){return{isRequired:!0,defaultDimension:"color*",defaultSourceRole:"series",
requireIsDiscrete:!0}},_initDataCells:function(){this.base();var e=this._getBaseRole(),t=this._getOrthoRoles();
if(e&&this._addDataCell(new Y.visual.DataCell(this,"base",this.option("BaseAxis")-1,e)),
t){var n=this.option("OrthoAxis")-1,i=this.option.isDefined("Stacked")?this.option("Stacked"):void 0,r=this.option("NullInterpolationMode"),o=this.option("Trend");
t.forEach(function(e){this._addDataCell(new Y.visual.CartesianOrthoDataCell(this,"ortho",n,e,i,r,o));
},this)}},_getBaseRole:function(){},_getOrthoRoles:function(){},createData:function(e,t){
return this.visualRoles.series.flatten(e,t)}},options:{BaseAxis:{value:1},OrthoAxis:{
resolve:function(e){return 0===this.globalIndex?(e.specify(1),!0):this._resolveFull(e);
},data:{resolveV1:function(e){return"plot2"===this.name&&this.chart._allowV1SecondAxis&&this._chartOption("secondAxisIndependentScale")&&e.specify(2),
!0}},cast:function(t){return t=e.number.to(t),null!=t?e.between(t,1,10):1},value:1
},Trend:{resolve:"_resolveFull",data:{resolveDefault:function(e){var t=this.option("TrendType");
return t?(e.defaultValue({type:t}),!0):void 0}},cast:W},TrendType:{resolve:"_resolveFull",
cast:Y.parseTrendType},TrendLabel:{resolve:"_resolveFull",cast:String},NullInterpolationMode:{
resolve:"_resolveFull",cast:Y.parseNullInterpolationMode,value:"none"}}})),e.type("pvc.CartesianAbstract",Y.BaseChart).init(function(e){
this.axesPanels={},this.base(e)}).add({_axisClassByType:{base:_e,ortho:_e},contentPanel:null,
_defaultAxisBandSizeRatio:.9,axesPanels:null,yAxisPanel:null,xAxisPanel:null,secondXAxisPanel:null,
secondYAxisPanel:null,yScale:null,xScale:null,_setAxisScale:function(e,t){this.base(e,t);
var n="ortho"===e.type,i=n||"base"===e.type;i&&(n&&1===e.index?this.secondScale=e.scale:e.index||(this[e.orientation+"Scale"]=e.scale));
},_initAxesEnd:function(){var t=this.parent;this._axisOffsetPaddings=t?t._axisOffsetPaddings:this._calcAxesOffsetPaddings(),
this._plotsClientSizeInfo=t?t._plotsClientSizeInfo:this._calcPlotsClientSizeInfo();
var n=this._axisOffsetPct={};e.eachOwn(this._axisOffsetPaddings,function(e,t){null!=e&&(n[t]=new ne(e));
}),this.base()},_eachCartAxis:function(e,t){var n=this.axesByType;["base","ortho"].forEach(function(i){
var r=n[i];r&&r.forEach(function(n){e.call(t,n)})})},_calcPlotsClientSizeInfo:function(){
if(!this.parent){var e=new re(0,0),n=new re(1/0,1/0),i=new re;return this._eachCartAxis(function(t){
var r="x"===t.orientation?"width":"height",o=t.getScaleRangeInfo();o&&(null!=o.value?i[r]=Math.max(i[r]||0,o.value):null!=o.min&&(e[r]=Math.max(e[r],o.min),
n[r]=Math.min(n[r],o.max)))}),n.width=Math.max(n.width,e.width),n.height=Math.max(n.height,e.height),
null!=i.width?i.width=Math.max(Math.min(i.width,n.width),e.width):t.floatEqual(e.width,n.width)&&(i.width=e.width),
null!=i.height?i.height=Math.max(Math.min(i.height,n.height),e.height):t.floatEqual(e.height,n.height)&&(i.height=e.height),
{value:i,min:e,max:n}}},_calcAxesOffsetPaddings:function(){function e(e){var n=e&&e.option("Offset");
null!=n&&n>=0&&.5>n&&("x"===e.orientation?(t("left",n),t("right",n)):(t("top",n),
t("bottom",n)))}function t(e,t){var r=n[e];(null==r||t>r)&&(i=!0,n[e]=t)}var n={},i=!1;
return this._eachCartAxis(e),i?n:null},_createContentPanel:function(e,t){this._createFocusWindow();
var n=new Y.CartesianGridDockingPanel(this,e,{margins:t.margins,paddings:t.paddings
});return this._gridDockPanel=n,n},_createContent:function(t,n){["base","ortho"].forEach(function(t){
var n=this.axesByType[t];n&&e.query(n).reverse().each(function(e){this._createAxisPanel(e);
},this)},this),this.base(t,{clickAction:n.clickAction,doubleClickAction:n.doubleClickAction
})},_createFocusWindow:function(){if(this.selectableByFocusWindow()){var e,t=this.focusWindow;
t&&(e=t._exportData()),t=this.focusWindow=new Y.visual.CartesianFocusWindow(this),
e&&t._importData(e),t._initFromOptions()}else this.focusWindow&&delete this.focusWindow;
},_createAxisPanel:function(e){var t=e.option;if(t("Visible")){var n,i,r=this.axesPanels[e.id];
if(t("TitleVisible")){var n=r&&r.titlePanel;n&&this._preserveLayout&&(i=n._getLayoutState()),
n=new Y.AxisTitlePanel(this,this.contentPanel,e,{title:t("Title"),font:t("TitleFont")||t("Font"),
anchor:t("Position"),align:t("TitleAlign"),margins:i?i.margins:t("TitleMargins"),
paddings:i?i.paddings:t("TitlePaddings"),size:i?i.size:t("TitleSize"),sizeMax:t("TitleSizeMax")
})}i=r&&this._preserveLayout?r._getLayoutState():void 0;var r=new Y.AxisPanel(this,this.contentPanel,e,{
anchor:t("Position"),size:i?i.size:t("Size"),margins:i&&i.margins,paddings:i&&i.paddings,
sizeMax:t("SizeMax"),clickAction:t("ClickAction"),doubleClickAction:t("DoubleClickAction"),
useCompositeAxis:t("Composite"),font:t("Font"),labelSpacingMin:t("LabelSpacingMin"),
grid:t("Grid"),gridCrossesMargin:t("GridCrossesMargin"),ruleCrossesMargin:t("RuleCrossesMargin"),
zeroLine:t("ZeroLine"),showTicks:t("Ticks"),showMinorTicks:t("MinorTicks")});return n&&(r.titlePanel=n),
this.axesPanels[e.id]=r,this.axesPanels[e.orientedId]=r,e.v1SecondOrientedId&&(this[e.v1SecondOrientedId+"AxisPanel"]=r),
r}},_onLaidOut:function(){this.plotPanelList&&this.plotPanelList[0]&&this._eachCartAxis(this._setCartAxisScaleRange,this);
},_setCartAxisScaleRange:function(e){var t=this.plotPanelList[0]._layoutInfo,n=t.clientSize,i="x"===e.orientation?n.width:n.height;
return e.setScaleRange(i),e.scale&&!e.scale.isNull&&e.setTicks(e.ticks),e.scale},
_getAxesRoundingOverflow:function(){function e(e,n,i){var r=t[e];null==r||n>r?(t[e]=n,
t[e+"Locked"]=i):i&&(t[e+"Locked"]=i)}var t={};return this._eachCartAxis(function(t){
var n=t.getRoundingOverflow();if(n){var i="x"===t.orientation;e(i?"left":"bottom",n.begin,n.beginLocked),
e(i?"right":"top",n.end,n.endLocked)}}),t},_getContinuousVisibleExtentConstrained:function(e){
return"ortho"===e.type&&1==e.role.isNormalized?{min:0,max:100,minLocked:!0,maxLocked:!0,
lengthLocked:!0}:this.base(e)},_coordinateSmallChartsLayout:function(t){this.base(t);
var n,i=0,r=null,o={};this.children.forEach(function(t){t.basePanel.layout();var a,s=t.titlePanel;
s&&(n||(n=s.anchorOrthoLength()),a=s[n],a>i&&(i=a));var l=t.axesPanels;r||(r=e.query(e.ownKeys(l)).where(function(e){
return e===l[e].axis.id}).select(function(e){return o[e]={axis:0,title:0},e}).array()),
r.forEach(function(e){var t=l[e],n=o[e],i="x"===t.axis.orientation?"height":"width";
a=t[i],a>n.axis&&(n.axis=a);var r=t.titlePanel;r&&(a=r[i],a>n.title&&(n.title=a));
})},this),this.children.forEach(function(e){if(i>0){var t=e.titlePanel;t.size=t.size.clone().set(n,i);
}var a=e.axesPanels;r.forEach(function(e){var t=a[e],n=o[e],i="x"===t.axis.orientation?"height":"width";
t.size=t.size.clone().set(i,n.axis);var r=t.titlePanel;r&&(r.size=r.size.clone().set(i,n.title));
}),e.basePanel.invalidateLayout()},this)},markEventDefaults:{strokeStyle:"#5BCBF5",
lineWidth:"0.5",textStyle:"#5BCBF5",verticalOffset:10,verticalAnchor:"bottom",horizontalAnchor:"right",
forceHorizontalAnchor:!1,horizontalAnchorSwapLimit:80,font:"10px sans-serif"},markEvent:function(n,r,o){
var a=this,s=a.axes.base,l=a.axes.ortho,u=s.role,c=s.scale,h=a.data.owner.dimensions(u.grouping.singleDimensionName);
if(s.isDiscrete())return a.log.warn("Can only mark events in charts with a continuous base scale."),
a;var d=i.extend({},a.markEventDefaults,o),f=h.read(n),p=c(f.value),m=c.range(),g=m[1];
if(p<m[0]||p>g)return a.log.warn("Cannot mark event because it is outside the base scale's domain."),
a;r||(r=f.label);var v=this.plotPanelList[0].pvPanel,y=l.scale.range()[1],b=d.horizontalAnchor;
if(!d.forceHorizontalAnchor){var _="right"===b,x=_?g-p:p,w=t.Text.measureWidth(r,d.font);
w>x&&(b=_?"left":"right")}var C="top"===d.verticalAnchor?d.verticalOffset:y-d.verticalOffset,S=v.add(t.Line).data([0,y]).bottom(e.identity).left(p).lineWidth(d.lineWidth).strokeStyle(d.strokeStyle);
return S.anchor(b).visible(function(){return!this.index}).top(C).add(t.Label).font(d.font).text(r).textStyle(d.textStyle),
a},defaults:{timeSeries:!1,timeSeriesFormat:"%Y-%m-%d"}}),e.type("pvc.CartesianGridDockingPanel",Y.GridDockingPanel).init(function(e,t,n){
this.base(e,t,n),this._plotBgPanel=new Y.PlotBgPanel(e,this)}).add({_getFillSizeMin:function(){
var e=this.chart.parent?null:this.chart.options.plotSizeMin;return null!=e?re.to(e):null;
},_createCore:function(t){var n=this.chart,i=n.axes,r=i.x||i.x2,o=i.y||i.y2;r&&!r.isBound()&&(r=null),
o&&!o.isBound()&&(o=null),r&&r.option("Grid")&&(this.xGridRule=this._createGridRule(r)),
o&&o.option("Grid")&&(this.yGridRule=this._createGridRule(o)),this.base(t),n.focusWindow&&this._createFocusWindow(t);
var a=n.compatVersion()>1?e.get(n.options,"plotFrameVisible",!0):!(!r.option("EndLine")&&!o.option("EndLine"));
a&&(this.pvFrameBar=this._createFrame(t,i)),r&&"numeric"===r.scaleType&&r.option("ZeroLine")&&(this.xZeroLine=this._createZeroLine(r,t)),
o&&"numeric"===o.scaleType&&o.option("ZeroLine")&&(this.yZeroLine=this._createZeroLine(o,t));
},_createGridRule:function(n){var i=n.scale;if(!i.isNull){var r=n.role.grouping.isDiscrete(),o=this._getAxisGridRootScene(n);
if(o){var a,s=this._layoutInfo.gridMargins,l=this._layoutInfo.gridPaddings,u="x"===n.orientation?"left":"bottom",c=this.anchorLength(u),h=this.anchorOrtho(u),d=this.anchorOpposite(h),f=this.chart.plotPanelList[0],p="x"===n.orientation?(f.position.left||0)+l.left:(f.position.bottom||0)+l.bottom,m=s[h],g=s[d],v=o.leafs().array(),y=v.length;
r&&y&&v.push(v[y-1]),this.compatVersion()<=1&&(a=function(e){return function(t){return e.call(this,t.vars.tick.rawValue);
}});var b=new Y.visual.Rule(this,this.pvPanel,{extensionId:n.extensionPrefixes.map(function(e){
return e+"Grid"}),wrapper:a}).lock("data",v).lock(c,null).override("defaultColor",e.fun.constant(t.color("#f0f0f0"))).pvMark.antialias(!0)[h](m)[d](g).zOrder(-12).events("none");
if(r){var _=i.range().step/2;b[u](function(e){var t=p+i(e.vars.tick.value),n=this.index===y;
return t+(n?_:-_)})}else b[u](function(e){return p+i(e.vars.tick.value)});return b;
}}},_getAxisGridRootScene:function(e){var t=e.isDiscrete(),n=t?e.domainData():this.data,i=new Y.visual.CartesianAxisRootScene(null,{
panel:this,source:n});if(t)n.childNodes.forEach(function(e){new Y.visual.CartesianAxisTickScene(i,{
source:e,tick:e.value,tickRaw:e.rawValue,tickLabel:e.label})});else{var r=e.ticks||e.calcContinuousTicks();
r.forEach(function(t,n){new Y.visual.CartesianAxisTickScene(i,{tick:t,tickRaw:t,tickLabel:e.scale.tickFormat(t,n)
})},this)}return i},_createFrame:function(e,t){if(!t.base.scale.isNull&&(!t.ortho.scale.isNull||t.ortho2&&!t.ortho2.scale.isNull)){
var n=e.gridMargins,i=n.left,r=n.right,o=n.top,a=n.bottom,s=[];return this.compatVersion()<=1&&s.push("xAxisEndLine","yAxisEndLine"),
s.push("plotFrame"),new Y.visual.Panel(this,this.pvPanel,{extensionId:s}).pvMark.lock("left",i).lock("right",r).lock("top",o).lock("bottom",a).lock("fillStyle",null).events("none").strokeStyle("#666666").lineWidth(1).antialias(!1).zOrder(-8);
}},_createZeroLine:function(n,i){var r=n.scale;if(!r.isNull){var o=r.domain();if(o[0]*o[1]<-1e-12){
var a="x"===n.orientation?"left":"bottom",s=this.anchorLength(a),l=this.anchorOrtho(a),u=this.anchorOpposite(l),c=i.gridMargins,h=i.gridPaddings,d=c[a]+h[a]+r(0),f=c[l],p=c[u],m=new Y.visual.Scene(null,{
panel:this});return new Y.visual.Rule(this,this.pvPanel,{extensionId:n.extensionPrefixes.map(function(e){
return e+"ZeroLine"})}).lock("data",[m]).lock(s,null).lock(l,f).lock(u,p).lock(a,d).override("defaultColor",e.fun.constant(t.color("#666666"))).pvMark.events("none").lineWidth(1).antialias(!0).zOrder(-9);
}}},_createFocusWindow:function(n){function i(){z[N]=0-j[x],z[T]=E+j[x]+j[k]}function r(e){
return function(){return z[e]}}function o(){var e=z[D];return Math.max(0,Math.min(O,e));
}function a(){var e=o(),t=z[D]+z[M];return t=Math.max(0,Math.min(O,t)),t-e}function s(e,t){
return new Y.visual.Bar(c,e,{extensionId:t,normalStroke:!0,noHover:!0,noSelect:!0,
noClick:!0,noDoubleClick:!0,noTooltip:!0,showsInteraction:!1}).pvMark.lock("data").lock("visible").lock(_,o).lock(w,a).lock(x,r(N)).lock(S,r(T)).lock(k).lock(C).sign;
}function l(){var e=arguments[arguments.length-1],t="end"===e.drag.phase;h._selectingByRubberband=!t,
H.render(),U.render();var n=z[D],i=z[D]+z[M];if(!b){var r=O-n;n=O-i,i=r}f._updatePosition(n,i,t,!0);
}function u(e,t){var n,i,r=e.m,o=r[X],a=z[Q];switch(t){case"new":n=0,i="begin";break;
case"resize-begin":n=z[X]+a-o,i="begin";break;case"move":n=a,i="begin";break;case"resize-end":
n=o-z[X],i="end"}var s=e.min[X],l=e.max[X],u={type:t,target:i,point:o,length:n,length0:a,
min:s,max:l,minView:0,maxView:O};switch(f._constraintPosition(u),r[X]=u.point,t){
case"new":u.length!==n&&(e[Q+"min"]=n=u.length);break;case"resize-begin":u.max=Math.min(u.max,z[X]+z[Q]);
break;case"resize-end":u.min=Math.max(u.min,z[X])}e.min[X]=u.min,e.max[X]=u.max}var c=this,h=c.topRoot,d=c.chart,f=d.focusWindow.base,p=f.axis,m=p.scale;
if(!m.isNull){var g=f.option("Resizable"),v=f.option("Movable"),y=p.isDiscrete(),b=d.isOrientationVertical(),_=b?"left":"top",x=b?"top":"left",w=c.anchorOrthoLength(_),C=c.anchorOpposite(_),S=c.anchorOrthoLength(x),k=c.anchorOpposite(x),D=b?"x":"y",M="d"+D,N=b?"y":"x",T="d"+N,A=n.gridMargins,j=n.gridPaddings,I={
left:A.left+j.left,right:A.right+j.right,top:A.top+j.top,bottom:A.bottom+j.bottom
},P=n.clientSize,L=P[w],R=P[S];I.width=I.left+I.right,I.height=I.top+I.bottom;var O=L-I[w],E=R-I[S],B=j[_],F=j[C],z=new Y.visual.Scene(null,{
panel:this}),V=y?m.range().step:0,q=V/2;z[D]=m(f.begin)-q,z[M]=V+(m(f.end)-q)-z[D],
i();var H=this._plotBgPanel.pvPanel.borderPanel;H.lock("data",[z]),v&&g?H.paddingPanel.events("all").cursor("crosshair").event("mousedown",t.Behavior.select().autoRender(!1).collapse(b?"y":"x").positionConstraint(function(e){
var t="start"===e.phase?"new":"resize-end";return u(e,t)})).event("selectstart",function(){
i(),l.apply(null,arguments)}).event("select",l).event("selectend",l):H.paddingPanel.events("all");
var W=s(H.paddingPanel,"focusWindowBg").override("defaultColor",e.fun.constant(Y.invisibleFill)).pvMark;
v?W.events("all").cursor("move").event("mousedown",t.Behavior.drag().autoRender(!1).collapse(b?"y":"x").positionConstraint(function(e){
u(e,"move")})).event("drag",l).event("dragend",l):W.events("none");var U=new Y.visual.Panel(c,c.pvPanel).pvMark.lock("data",[z]).lock("visible").lock("fillStyle",Y.invisibleFill).lock("left",I.left).lock("right",I.right).lock("top",I.top).lock("bottom",I.bottom).lock("zOrder",10).events(function(){
var e=z.drag;return e&&"end"!==e.phase?"all":"none"}).cursor(function(){var e=z.drag;
return e&&"end"!==e.phase?"drag"===e.type||"select"===e.type&&!g?"move":b?"ew-resize":"ns-resize":null;
}).antialias(!1),G="rgba(20, 20, 20, 0.1)";new Y.visual.Bar(c,U,{extensionId:"focusWindowBaseCurtain",
normalStroke:!0,noHover:!0,noSelect:!0,noClick:!0,noDoubleClick:!0,noTooltip:!0,showsInteraction:!1
}).override("defaultColor",function(e,t){return"stroke"===t?null:G}).pvMark.lock("data",[z,z]).lock("visible").events("none").lock(_,function(){
return this.index?o()+a():-B}).lock(C,function(){return this.index?-F:null}).lock(w,function(){
return this.index?null:B+o()}).lock(x,r(N)).lock(S,r(T)).lock(k);var $=s(U,"focusWindow").override("defaultColor",e.fun.constant(null)).pvMark.events("none"),K=function(n){
var i="left"===n||"top"===n?"begin":"end",r=c.anchorOpposite(n),o="linear-gradient(to "+r+", "+G+", #444 90%)",a=new Y.visual.Bar(c,$.anchor(n),{
extensionId:f.id+"Grip"+e.firstUpperCase(i),normalStroke:!0,noHover:!0,noSelect:!0,
noClick:!0,noDoubleClick:!0,noTooltip:!0,showsInteraction:!1}).override("defaultColor",function(e,t){
return"stroke"===t?null:o}).pvMark.lock("data").lock("visible")[x](z[N])[S](z[T]);
if(g){var s="resize-"+i;a.events("all")[w](5).cursor(b?"ew-resize":"ns-resize").event("mousedown",t.Behavior.resize(n).autoRender(!1).positionConstraint(function(e){
u(e,s)}).preserveOrtho(!0)).event("resize",l).event("resizeend",l)}else a.events("none")[w](1);
return a};K(_),K(C);var X=D,Q=M}},_getDatumsOnRect:function(t,n,i){var r,o,a=this.chart,s=a.axesPanels.x,l=a.axesPanels.y;
s&&(r=new e.Map,s._getDatumsOnRect(r,n,i),r.count||(r=null)),l&&(o=new e.Map,l._getOwnDatumsOnRect(o,n,i),
o.count||(o=null)),r&&o?(r.intersect(o,t),i.toggle=!0):r?t.copy(r):o?t.copy(o):a.plotPanelList.forEach(function(e){
e._getDatumsOnRect(t,n,i)},this)}}),e.type("pvc.CartesianAbstractPanel",Y.PlotPanel).init(function(e,t,n,i){
function r(e){o[e.type]=e,o[e.orientedId]=e,e.v1SecondOrientedId&&(o[e.v1SecondOrientedId]=e);
}this.base(e,t,n,i);var o=this.axes;r(e._getAxis("base",n.option("BaseAxis")-1)),
r(e._getAxis("ortho",n.option("OrthoAxis")-1))}).add({_getOptionSizeMin:function(){
return null},_calcLayout:function(e){var t,n=this.chart,i=n._plotsClientSizeInfo;if(i){
t=e.clientSize;var r=i.value,o=i.min,a=i.max;t.width=null!=r.width?r.width:Math.max(Math.min(t.width,a.width),o.width),
t.height=null!=r.height?r.height:Math.max(Math.min(t.height,a.height),o.height)}return n._preserveLayout||(e.contentOverflow=this._calcContentOverflow(e)),
t},_calcContentOverflow:function(e){var t,n=this.chart._axisOffsetPaddings;if(n){
var i=this.chart._getAxesRoundingOverflow();ie.names.forEach(function(r){if(!i[r+"Locked"]){
var o=Y.BasePanel.orthogonalLength[r],a=e.size[o]*(n[r]||0),s=i[r]||0;(t||(t={}))[r]=Math.max(a-s,0);
}},this)}return t},_createCore:function(){this.pvPanel.zOrder(-10);var e=this.chart.options.leafContentOverflow||"auto",t="auto"===e?this._guessHideOverflow():"hidden"===e;
t&&this.pvPanel.borderPanel.overflow("hidden")},_guessHideOverflow:function(){return U(this.axes.ortho)||U(this.axes.base);
}}),e("pvc.visual.CategoricalPlot",Y.visual.CartesianPlot.extend({methods:{createData:function(e,t){
var n=Object.create(t);return n.extensionDataSetsMap=this.boundDimensionsDataSetsMap,
e.groupBy([this.visualRoles.category.flattenedGrouping(),this.visualRoles.series.flattenedGrouping()],n);
},interpolatable:function(){return!0},_initVisualRoles:function(){this.base(),this._addVisualRole("category",this._getCategoryRoleSpec());
},_getCategoryRoleSpec:function(){return{isRequired:!0,defaultDimension:"category*",
autoCreateDimension:!0}},getContinuousVisibleCellExtent:function(t,n,i){var r=i.role;
switch(r.name){case"series":case"category":return this.base(t,n,i)}if(i.plot!==this)throw e.error.operationInvalid("DataCell not of this plot.");
var o=t.visiblePlotData(this),a=n.scaleUsesAbs();return"ortho"===n.type&&i.isStacked?o.children().select(function(e){
var t=this._getStackedCategoryValueExtent(e,r,a);return t?{range:t,group:e}:void 0;
},this).where(e.notNully).reduce(function(e,r){return this._reduceStackedCategoryValueExtent(t,e,r.range,r.group,n,i);
}.bind(this),null):o.leafs().select(function(e){var t=r.numberValueOf(e).value;return a&&0>t?-t:t;
}).range()},_getStackedCategoryValueExtent:function(e,t,n){var i=null,r=null;return e.children().select(function(e){
var i=t.numberValueOf(e).value;return n&&0>i?-i:i}).each(function(e){null!=e&&(e>=0?i+=e:r+=e);
}),null==i&&null==r?null:{max:i||0,min:r||0}},_reduceStackedCategoryValueExtent:function(e,t,n){
return Y.unionExtents(t,n)},_getBaseRole:function(){return this.visualRoles.category;
},_getOrthoRoles:function(){return[this.visualRoles.value]},interpolateDataCell:function(t,n){
if(t.plot!==this)throw e.error.operationInvalid("DataCell not of this plot.");var i=this._getNullInterpolationOperType(t.nullInterpolationMode);
if(i){var r=this.chart.partData(this.dataPartValue,n),o=this.chart.visiblePlotData(this,{
baseData:n});if(o.childCount()>0){var a=t.role.getCompatibleBoundDimensionNames(o);
a.forEach(function(e){new i(n,r,o,this.visualRoles.category,this.visualRoles.series,t.role,e,!0).interpolate();
},this)}}},_getNullInterpolationOperType:function(t){switch(t){case"linear":return n.LinearInterpolationOper;
case"zero":return n.ZeroInterpolationOper;case"none":break;default:throw e.error.argumentInvalid("nullInterpolationMode",""+t);
}},generateTrendsDataCell:function(t,i,r){function o(i,r){var o=p?null:function(e){
return e.atoms[u].value},s=function(e){var t=a.child(e.key);return t&&(t=t.child(i.key)),
t?t.dimensions(r).value(g):null},l=e.create(d,{rows:e.query(b),x:o,y:s}),c=f.model(l);
c&&b.forEach(function(o,l){var h=p?l:o.atoms[u].value,f=c.sample(h,s(o),l);if(null!=f){
var g,b=a.child(o.key),_=b||o,x=b&&b.child(i.key);x?g=Object.create(x.atoms):(g=Object.create(_.atoms),
e.copyOwn(g,i.atoms)),g[r]=f,g[y]=v,m||(m=a.type.filterExtensionDimensionNames(e.keys(g))),
t.push(new n.TrendDatum(_.owner,g,m,d))}})}if(i.plot!==this)throw e.error.operationInvalid("DataCell not of this plot.");
var a=this.chart.visiblePlotData(this,{baseData:r}),s=i.role,l=s.getCompatibleBoundDimensionNames(a);
if(0!==l.length){var u,c=this.visualRoles.series,h=this.visualRoles.category,d=i.trend,f=d.info,p=h.isDiscrete();
p||(u=h.grouping.singleDimensionName);var m,g={zeroIfNone:!1},v=this.chart._getTrendDataPartAtom(),y=v.dimension.name,b=h.flatten(r,{
visible:!0}).childNodes,_=this.chart.partData(i.dataPartValue,r),x=c.flatten(_,{visible:!0
}).children().array();l.forEach(function(e){m=null,x.forEach(function(t){var n=s.getBoundDimensionName(t,!0);
(null===n||n===e)&&o(t,e)})})}}},options:{Stacked:{resolve:"_resolveFull",cast:Boolean,
value:!1}}})),e.type("pvc.CategoricalAbstract",Y.CartesianAbstract).add({_onWillCreatePlotPanelScene:function(){}
}),e.type("pvc.CategoricalAbstractPanel",Y.CartesianAbstractPanel).init(function(e,t,n,i){
this.base(e,t,n,i),this.stacked=n.option("Stacked")}).add({_buildScene:function(e,t,n){
return this.chart._onWillCreatePlotPanelScene(this,e,t,n),this._buildSceneCore(e,t,n);
}}),e("pvc.visual.MetricXYPlot",Y.visual.CartesianPlot.extend({methods:{_initVisualRoles:function(){
this.base(),this._addVisualRole("x",{isMeasure:!0,isRequired:!0,requireSingleDimension:!0,
requireIsDiscrete:!1,defaultDimension:"x",dimensionDefaults:{valueType:this.chart.options.timeSeries?Date:Number
}}),this._addVisualRole("y",{isMeasure:!0,isRequired:!0,requireSingleDimension:!0,
requireIsDiscrete:!1,defaultDimension:"y",dimensionDefaults:{valueType:Number}})},
_getBaseRole:function(){return this.visualRoles.x},_getOrthoRoles:function(){return[this.visualRoles.y];
},generateTrendsDataCell:function(t,i,r){function o(i,r){var o=function(e){return e.atoms[p].value;
},s=function(e){return e.atoms[r].value},l=i.datums().sort(null,o).array(),c=e.create(d,{
rows:e.query(l),x:o,y:s}),h=f.model(c);h&&l.forEach(function(l,c){var f,v=o(l);if(v&&null!=(f=h.sample(v,s(l),c))){
var y=e.set(Object.create(i.atoms),p,v,r,f,g,m);u||(u=a.type.filterExtensionDimensionNames(e.keys(y))),
t.push(new n.TrendDatum(a.owner,y,u,d))}})}if(i.plot!==this)throw e.error.operationInvalid("DataCell not of this plot.");
var a=this.chart.visiblePlotData(this,{baseData:r}),s=i.role,l=s.getCompatibleBoundDimensionNames(a);
if(0!==l.length){var u,c=this.visualRoles.series,h=this.visualRoles.x,d=i.trend,f=d.info,p=h.grouping.singleDimensionName,m=this.chart._getTrendDataPartAtom(),g=m.dimension.name;
l.forEach(function(t){u=null,(c.isBound()?a.children():e.query([a])).each(function(e){
o(e,t)})})}}},options:{OrthoAxis:{resolve:null}}})),e.type("pvc.MetricXYAbstract",Y.CartesianAbstract).add({
_defaultAxisBandSizeRatio:1}),e.type("pvc.BarAbstract",Y.CategoricalAbstract),e("pvc.visual.BarPlotAbstract",Y.visual.CategoricalPlot.extend({
methods:{_initVisualRoles:function(){this.base(),this._addVisualRole("value",{isMeasure:!0,
isRequired:!0,isPercent:this.option("Stacked"),isNormalized:this.option("ValuesNormalized"),
requireSingleDimension:!1,requireIsDiscrete:!1,valueType:Number,defaultDimension:"value"
})},_getCategoryRoleSpec:function(){return e.set(this.base(),"requireIsDiscrete",!0);
}},options:{BarSizeRatio:{resolve:"_resolveFull",cast:function(t){return t=e.number.to(t),
null==t?1:.05>t?.05:t>1?1:t},value:.9},BarSizeMax:{resolve:"_resolveFull",data:{resolveV1:function(e){
return this._specifyChartOption(e,"maxBarSize"),!0}},cast:function(t){return t=e.number.to(t),
null==t?1/0:1>t?1:t},value:2e3},BarOrthoSizeMin:{resolve:"_resolveFull",cast:e.number.toNonNegative,
value:1.5},BarStackedMargin:{resolve:"_resolveFull",cast:function(t){return t=e.number.to(t),
null!=t&&0>t?0:t},value:0},OverflowMarkersVisible:{resolve:"_resolveFull",cast:Boolean,
value:!0},ValuesAnchor:{value:"center"},ValuesNormalized:{resolve:"_resolveFull",
cast:"boolean","default":!1}}})),e.type("pvc.BarAbstractPanel",Y.CategoricalAbstractPanel).add({
pvBar:null,pvBarLabel:null,pvCategoryPanel:null,pvSecondLine:null,pvSecondDot:null,
_creating:function(){var e=this.plot.dataCellsByRole.color[0];if(!e.legendSymbolRenderer()&&e.legendVisible()){
var n=this.axes.color,i=n.option("LegendDrawLine"),r=!i||n.option("LegendDrawMarker");
if(r){var o=Y.uniqueExtensionAbsPrefix();this.chart._processExtensionPointsIn(e.role.legend(),o);
var a={drawMarker:!0,markerShape:n.option("LegendShape"),drawLine:i,extensionPrefix:{
abs:o},markerPvProto:new t.Dot};this.extend(a.markerPvProto,"bar",{constOnly:!0}),
e.legendSymbolRenderer(a)}}},_createCore:function(){this.base();var e,n,i=this,r=i.chart,o=i.plot,a=!!i.stacked,s=i.isOrientationVertical(),l=i.visibleData({
ignoreNulls:!1}),u=i.axes.ortho,c=i.axes.base,h=c.domainItems(),d=i.visualRoles.series.flatten(i.partData(),{
visible:!0,isNull:r.options.ignoreNulls?!1:null,extensionDataSetsMap:o.boundDimensionsDataSetsMap
}).childNodes,f=i._buildScene(l,d,h),p=u.scale,m=p(0),g=u.sceneScale({sceneVarName:"value",
nullToZero:!1}),v=c.sceneScale({sceneVarName:"category"}),y=o.option("BarSizeRatio"),b=o.option("BarSizeMax"),_=o.option("BarStackedMargin"),x=o.option("BarOrthoSizeMin"),w=c.scale.range(),C=w.band,S=w.step,k=w.margin,D=s===a;
a?e=C:(n=d.length,e=n?1===n?C:y*C/n:0),e>b&&(e=b),i.barWidth=e,i.barStepWidth=S;var M;
i.compatVersion()<=1&&(M=function(e){return function(t){var n=Object.create(this.parent),i=Object.create(this);
i.parent=n;var r=t.parent.childIndex(),o=t.childIndex();return a?(n.index=r,i.index=o):(n.index=o,
i.index=r),e.call(i,t.vars.value.rawValue)}}),i.pvBarPanel=new Y.visual.Panel(i,i.pvPanel,{
panelType:t.Layout.Band,extensionId:"panel"}).lock("layers",f.childNodes).lockMark("values",function(e){
return e.childNodes}).lockMark("orient",s?"bottom-left":"left-bottom").lockMark("layout",a?"stacked":"grouped").lockMark("verticalMode",i._barVerticalMode()).lockMark("yZero",m).optionalMark("hZero",x).pvMark.band.x(v).w(C).differentialControl(i._barDifferentialControl()).item.order(D?"reverse":null).h(function(e){
var t=g(e);return null!=t?r.animate(0,t-m):null}).w(e).horizontalRatio(y).verticalMargin(_).end;
var N=4>=e||2>k,T=this.pvBar=new Y.visual.Bar(i,i.pvBarPanel.item,{extensionId:"bar",
freePosition:!0,wrapper:M}).lockDimensions().optional("visible",function(e){return null!=e.getValue();
}).pvMark.antialias(function(e){if(N)return!0;var t=g(e),n=null==t?0:Math.abs(t-m);
return 1e-8>n});o.option("OverflowMarkersVisible")&&this._addOverflowMarkers(M);var A=Y.visual.ValueLabel.maybeCreate(i,T,{
wrapper:M});if(A){var j;A.hideOrTrimOverflowed&&(j=C,!a&&n>1&&(j/=n)),i.pvBarLabel=A.override("calcTextFitInfo",function(e,n){
var i=this.pvMark,r=i.textMargin();if(!(-1e-6>r)){var o=i.textAngle(),a=Math.sin(o),l=Math.abs(a)<1e-6,u=!l&&Math.abs(Math.cos(o))<1e-6;
if(l||u&&s){var c,h,d,f=T.height(),p=T.width(),m=s?f:p,g=s?p:f,v=t.Text.measure(n,i.font()),y=.75*v.height,b=v.width,_=i.name(),x=i.textBaseline(),w=i.textAlign(),C="center"===_,S=!1;
if(s)if(l){if(h=C||_===x,!h)return;S|=C&&"middle"!==x?y+r>m/2:y+2*r>m}else S|=y>m,
d="center"===w,h=C,h||d||(h=a>=1e-6?"left"===w?"top"===_:"bottom"===_:"left"===w?"bottom"===_:"top"===_),
h?(c=!C||d?m-2*r:(m-r)/2,S|=("middle"===x?y>g:y>g/2)||this.hideOverflowed&&b>c):S|=y>=Math.max(g,j);else S|=y>m,
h=C||_===w,h?(c=C&&"center"!==w?(m-r)/2:m-2*r,S|=("middle"===x?y>g:y>g/2)||this.hideOverflowed&&b>c):S|=y>=Math.max(g,j);
return{hide:S,widthMax:c}}}}).pvMark}},_barVerticalMode:function(){return this.plot.option("ValuesNormalized")?"expand":null;
},_barDifferentialControl:function(){return null},_getV1Datum:function(e){var t=e.datum;
if(t){var n=Object.create(t);n.percent=e.vars.value.percent,t=n}return t},_guessHideOverflow:function(){
return this.base()||!this.stacked&&!this.axes.ortho.option("OriginIsZero")},_addOverflowMarkers:function(e){
var t=this.axes.ortho,n=this.stacked||t.option("OriginIsZero");n&&null==t.option("FixedMax")||(this.pvOverflowMarker=this._addOverflowMarker(!1,t.scale,e)),
n&&null==t.option("FixedMin")||(this.pvUnderflowMarker=this._addOverflowMarker(!0,t.scale,e));
},_addOverflowMarker:function(e,t,n){var i,r=this.isOrientationVertical(),o=r?"bottom":"left",a=this.anchorOpposite(o),s=this.anchorOrthoLength(o),l=this.anchorLength(o),u=this.plot.option("BarOrthoSizeMin")/2,c=this._layoutInfo.paddings,h=t.min-c[o],d=t.max+c[a],f=e?h:d;
return i=e?r?0:Math.PI/2:r?Math.PI:-Math.PI/2,new Y.visual.Dot(this,this.pvBar.anchor("center"),{
noSelect:!0,noHover:!0,noClick:!0,noDoubleClick:!0,noTooltip:!1,freePosition:!0,extensionId:e?"underflowMarker":"overflowMarker",
wrapper:n}).intercept("visible",function(t){var n=this.delegateExtension();if(void 0!==n&&!n)return!1;
var i=t.vars.value.value;if(null==i)return!1;var r=this.pvMark.scene.target[this.pvMark.index],a=r[o],l=a+r[s],c=0>i?a:l,f=e?h>=l||h>c:a>=d||c>d;
if(!f)return!1;if(0!==i)return!0;var p=e?h-l:l-d;return p>u}).pvMark.shape("triangle").shapeRadius(function(){
return Math.min(Math.sqrt(10),this.scene.target[this.index][l]/2)}).shapeAngle(i).lineWidth(1.5).strokeStyle("red").fillStyle("white")[a](null)[o](function(){
return f+(e?1:-1)*(this.shapeRadius()+2)})},renderInteractive:function(){this.pvPanel.render();
},_buildSceneCore:function(e,t,n){function i(t){var i=new Y.visual.Scene(r,{source:t
}),s=t.key;i.vars.series=le.fromComplex(t),a.onNewScene(i,!1),n.forEach(function(t){
var n=e.child(t.key),r=n&&n.child(s),l=new Y.visual.Scene(i,{source:r}),u=l.vars.category=le.fromComplex(n);
u.group=n,o.onNewScene(l,!0),a.onNewScene(l,!0)})}var r=new Y.visual.Scene(null,{
panel:this,source:e}),o=new Y.visual.RoleVarHelper(r,"value",this.visualRoles.value,{
hasPercentSubVar:this.stacked}),a=new Y.visual.RoleVarHelper(r,"color",this.visualRoles.color);
return t.forEach(i),r}}),t.PieSlice=function(){t.Wedge.call(this)},t.PieSlice.prototype=t.extend(t.Wedge).property("offsetRadius");
var Se=t.Shape.normalizeAngle;return t.PieSlice.prototype.midAngle=function(){var e=this.instance();
return Se(e.startAngle)+Se(e.angle)/2},t.PieSlice.prototype.defaults=(new t.PieSlice).extend(t.Wedge.prototype.defaults).offsetRadius(0),
e("pvc.visual.PieSlice",Y.visual.Sign.extend({init:function(n,i,r){var o=i.add(t.PieSlice);
r=e.setDefaults(r,"freeColor",!1),this.base(n,o,r),this._activeOffsetRadius=e.get(r,"activeOffsetRadius",0),
this._maxOffsetRadius=e.get(r,"maxOffsetRadius",0),this._resolvePctRadius=e.get(r,"resolvePctRadius"),
this._center=e.get(r,"center"),this.optional("lineWidth",.6)._bindProperty("angle","angle")._bindProperty("offsetRadius","offsetRadius")._lockDynamic("bottom","y")._lockDynamic("left","x").lock("top",null).lock("right",null);
},properties:["offsetRadius"],methods:{angle:e.fun.constant(0),x:function(){return this._center.x+this._offsetSlice("cos");
},y:function(){return this._center.y-this._offsetSlice("sin")},_offsetSlice:function(e){
var t=this.pvMark.offsetRadius()||0;return t&&(t*=Math[e](this.pvMark.midAngle())),
t},defaultColor:function(e,t){return"stroke"===t?null:this.base(e,t)},interactiveColor:function(e,t,n){
if(this.mayShowActive(e,!0))switch(n){case"fill":return t.brighter(.2).alpha(.8);case"stroke":
return t.brighter(1.3).alpha(.7)}else if(this.mayShowNotAmongSelected(e)&&"fill"===n)return this.dimColor(t,n);
return this.base(e,t,n)},offsetRadius:function(e){var t=this.base(e);return Math.min(Math.max(0,t),this._maxOffsetRadius);
},baseOffsetRadius:function(e){var t=this.base(e)||0;return this._resolvePctRadius(ne.parse(t));
},interactiveOffsetRadius:function(e,t){return t+(this.mayShowActive(e,!0)?this._activeOffsetRadius:0);
}}})),e("pvc.visual.PiePlot",Y.visual.Plot.extend({init:function(t,n){if(this.base(t,n),
!(t instanceof Y.PieChart))throw e.error(e.format("Plot type '{0}' can only be used from within a pie chart.",[this.type]));
},methods:{type:"pie",_initVisualRoles:function(){this.base(),this._addVisualRole("category",{
isRequired:!0,defaultDimension:"category*",autoCreateDimension:!0}),this._addVisualRole("value",{
isMeasure:!0,isRequired:!0,isPercent:!0,requireSingleDimension:!1,requireIsDiscrete:!1,
valueType:Number,defaultDimension:"value"})},_getColorRoleSpec:function(){return{
isRequired:!0,defaultSourceRole:"category",defaultDimension:"color*",requireIsDiscrete:!0
}},createData:function(e,t){return this.visualRoles.category.flatten(e,t)},_initDataCells:function(){
this.base(),this._addDataCell(new Y.visual.DataCell(this,"category",this.index,this.visualRole("category"))),
this._addDataCell(new Y.visual.DataCell(this,"angle",this.index,this.visualRoles.value));
}},options:{ActiveSliceRadius:{resolve:"_resolveFull",cast:ne.parse,value:new ne(.05)
},ExplodedSliceRadius:{resolve:"_resolveFull",cast:ne.parse,value:0},ExplodedSliceIndex:{
resolve:"_resolveFull",cast:e.number.to,value:null},ValuesAnchor:{cast:Y.parseAnchorWedge,
value:"outer"},ValuesVisible:{value:!0},ValuesLabelStyle:{resolve:function(e){return this.chart.compatVersion()>1?this._resolveFull(e):(e.specify("inside"),
!0)},cast:function(t){switch(t){case"inside":case"linked":return t}return e.debug>=2&&e.log("[Warning] Invalid 'ValuesLabelStyle' value: '"+t+"'."),
"linked"},value:"linked"},ValuesMask:{resolve:"_resolveFull",data:{resolveDefault:function(e){
return e.defaultValue("linked"===this.option("ValuesLabelStyle")?"{value} ({value.percent})":"{value}"),
!0}}},LinkInsetRadius:{resolve:"_resolveFull",cast:ne.parse,value:new ne(.05)},LinkOutsetRadius:{
resolve:"_resolveFull",cast:ne.parse,value:new ne(.025)},LinkMargin:{resolve:"_resolveFull",
cast:ne.parse,value:new ne(.025)},LinkHandleWidth:{resolve:"_resolveFull",cast:e.number.to,
value:.5},LinkLabelSize:{resolve:"_resolveFull",cast:ne.parse,value:new ne(.15)},
LinkLabelSpacingMin:{resolve:"_resolveFull",cast:e.number.to,value:.5}}})),Y.visual.Plot.registerClass(Y.visual.PiePlot),
e.type("pvc.PiePanel",Y.PlotPanel).init(function(e,t,n,i){var r=n.option("ValuesLabelStyle");
this.base(e,t,n,i),this.explodedOffsetRadius=n.option("ExplodedSliceRadius"),this.explodedSliceIndex=n.option("ExplodedSliceIndex"),
this.activeOffsetRadius=n.option("ActiveSliceRadius"),this.labelStyle=r,"linked"===r&&(this.linkInsetRadius=n.option("LinkInsetRadius"),
this.linkOutsetRadius=n.option("LinkOutsetRadius"),this.linkMargin=n.option("LinkMargin"),
this.linkHandleWidth=n.option("LinkHandleWidth"),this.linkLabelSize=n.option("LinkLabelSize"),
this.linkLabelSpacingMin=n.option("LinkLabelSpacingMin")),e.pieChartPanel||(e.pieChartPanel=this),
this.axes.category=e._getAxis("category",n.index),this.axes.angle=e._getAxis("angle",n.index);
}).add({plotType:"pie",_ibits:-1,pvPie:null,pvPieLabel:null,valueRoleName:"value",
_getV1Datum:function(e){var t=e.datum;if(t){var n=Object.create(t);n.percent=e.vars.value.percent,
t=n}return t},_calcLayout:function(n){function i(t){return e.between(ne.resolve(t,s),0,s);
}function r(t){return e.between(ne.resolve(t,a),0,a)}var o=n.clientSize,a=o.width,s=Math.min(a,o.height)/2;
if(!s)return new re(0,0);var l=t.vector(o.width/2,o.height/2),u=this._getConstantExtension("label","font");
e.string.is(u)||(u=this.valuesFont);var c=s;if(this.valuesVisible&&"linked"===this.labelStyle){
var h=e.number.to(this._getConstantExtension("label","textMargin"),3),d=t.Text.fontHeight(u),f=this.linkHandleWidth*d,p=i(this.linkInsetRadius),m=i(this.linkOutsetRadius),g=r(this.linkMargin)+f,v=r(this.linkLabelSize),y=this.linkLabelSpacingMin*d,b=Math.max(0,a/2-s),_=Math.max(0,m+g+v-b),x=m+d,w=Math.max(0,x,_);
w>=c?(this.valuesVisible=!1,e.debug>=2&&this.log("Hiding linked labels due to insufficient space.")):(c-=w,
n.link={insetRadius:p,outsetRadius:m,elbowRadius:c+m,linkMargin:g,handleWidth:f,labelSize:v,
maxTextWidth:v-h,labelSpacingMin:y,textMargin:h,lineHeight:d})}var C=i(this.explodedOffsetRadius),S=0;
this.hoverable()&&(S=i(this.activeOffsetRadius));var k=C+S,D=c-k;return 0>D?new re(0,0):(n.resolvePctRadius=i,
n.center=l,n.clientRadius=s,n.normalRadius=D,n.explodedOffsetRadius=C,n.activeOffsetRadius=S,
n.maxOffsetRadius=k,void(n.labelFont=u))},_createCore:function(n){var i,r=this,o=r.chart,a=this._buildScene(),s=n.center,l=n.normalRadius,u=["slice"];
if(this.compatVersion()<=1&&(u.push(""),i=function(e){return function(t){return e.call(this,t.vars.value.value);
}}),this.pvPie=new Y.visual.PieSlice(this,this.pvPanel,{extensionId:u,center:s,activeOffsetRadius:n.activeOffsetRadius,
maxOffsetRadius:n.maxOffsetRadius,resolvePctRadius:n.resolvePctRadius,wrapper:i,tooltipArgs:{
options:{useCorners:!0,gravity:function(){var e=this.midAngle(),t=Math.cos(e)>=0,n=Math.sin(e)>=0;
return t?n?"nw":"sw":n?"ne":"se"}}}}).lock("data",a.childNodes).override("angle",function(e){
return e.vars.value.angle}).override("defaultOffsetRadius",function(){var e=r.explodedSliceIndex;
return null==e||e==this.pvMark.index?n.explodedOffsetRadius:0}).optionalMark("outerRadius",function(){
return o.animate(0,l)}).localProperty("innerRadiusEx",ne.parse).intercept("innerRadius",function(){
var e=this.delegateExtension();if(null==e){var t=this.pvMark.innerRadiusEx();e=null!=t?ne.resolve(t,this.pvMark.outerRadius())||0:0;
}return e>0?o.animate(0,e):0}).pvMark,this.valuesVisible){if(this.valuesFont=n.labelFont,
"inside"===this.labelStyle)this.pvPieLabel=Y.visual.ValueLabel.maybeCreate(this,this.pvPie,{
wrapper:i}).override("defaultText",function(e){return e.vars.value.sliceLabel}).override("calcTextFitInfo",function(e,n){
var i=this.pvMark,o=i.textMargin();if(!(-1e-6>o)){var a=i.textBaseline();if("middle"===a){
var s=Y.normAngle(r.pvPie.midAngle()),l=Y.normAngle(i.textAngle()),u=Math.abs(s-l)<1e-6,c=!1;
if(!u){var h=Y.normAngle(l+Math.PI);c=Math.abs(s-h)<1e-6}if(u||c){var d=i.name(),f=i.textAlign(),p="outer"===d?f===(u?"right":"left"):!1;
if(p){var m=!1,g=t.Text.measure(n,i.font()),v=.85*g.height,y=r.pvPie.outerRadius(),b=r.pvPie.innerRadius(),_=e.vars.value.angle,x=v+o/2,w=_<Math.PI?Math.max(b,x/(2*Math.tan(_/2))):b,C=y-o-w;
return m|=0>=C,C-=o,m|=this.hideOverflowed&&g.width>C,{hide:m,widthMax:C}}}}}}).pvMark.textMargin(10);else if("linked"===this.labelStyle){
var c=n.link;a.layoutLinkLabels(n),this.pvLinkPanel=this.pvPanel.add(t.Panel).data(a.childNodes).localProperty("pieSlice").pieSlice(function(){
return r.pvPie.scene[this.index]});var h=!1,d=!0;if(this.pvLinkLine=new Y.visual.Line(this,this.pvLinkPanel,{
extensionId:"linkLine",freePosition:d,noClick:d,noDoubleClick:d,noSelect:d,noTooltip:d,
noHover:d,showsActivity:h}).lockMark("data",function(e){var t=this.parent.pieSlice(),n=t.startAngle+t.angle/2,i=t.outerRadius-c.insetRadius,r=t.left+i*Math.cos(n),o=t.top+i*Math.sin(n),a=e.childNodes[0];
return a&&a._isFirstDynamicScene?(a.x=r,a.y=o):(a=new Y.visual.PieLinkLineScene(e,r,o,0),
a._isFirstDynamicScene=d),e.childNodes}).override("defaultColor",function(e,t){return"stroke"===t?"black":this.base(e,t);
}).override("defaultStrokeWidth",e.fun.constant(.5)).pvMark.lock("visible").lock("top",function(e){
return e.y}).lock("left",function(e){return e.x}),this.pvPieLabel=new Y.visual.Label(this,this.pvLinkPanel,{
extensionId:"label",noClick:h,noDoubleClick:h,noSelect:h,noHover:h,showsInteraction:d
}).lockMark("data",function(e){return e.lineScenes}).intercept("textStyle",function(e){
this._finished=h;var t=this.delegate();return t&&!this._finished&&!this.mayShowActive(e)&&this.mayShowNotAmongSelected(e)&&(t=this.dimColor(t,"text")),
t}).pvMark.lock("visible").left(function(e){return e.vars.link.labelX}).top(function(e){
return e.vars.link.labelY+(this.index+1)*c.lineHeight}).textAlign(function(e){return e.vars.link.labelAnchor;
}).textMargin(c.textMargin).textBaseline("bottom").text(function(e){return e.vars.link.labelLines[this.index];
}),e.debug>=20){this.pvPanel.add(t.Panel).zOrder(-10).left(s.x-n.clientRadius).top(s.y-n.clientRadius).width(2*n.clientRadius).height(2*n.clientRadius).strokeStyle("red"),
this.pvPanel.strokeStyle("green");var f=t.Colors.category10();this.pvLinkLine.segmented(d).strokeStyle(function(){
return f(this.index)})}}this.pvPieLabel.font(n.labelFont)}},renderInteractive:function(){
this.pvPanel.render()},_buildScene:function(){var e=new Y.visual.PieRootScene(this);
return this.sum=e.vars.sumAbs.value,e}}),Y.PlotPanel.registerClass(Y.PiePanel),e.type("pvc.visual.PieRootScene",Y.visual.Scene).init(function(t){
function n(e,t,n){if(n){var i=n._datums;if(1===i.length)return i[0].atoms[t.name].label;
}return t.format(e)}var i=t.axes.category,r=i.domainData();this.base(null,{panel:t,
source:r});var o=new Y.visual.RoleVarHelper(this,"color",t.visualRoles.color),a=t.visualRoles[t.valueRoleName],s=r.dimensions(a.firstDimensionName()),l=t.axes.angle.scale,u=l.isNull?0:l.domain()[1],c=this;
this.vars.sumAbs=new le(u,n(u,s));var h=e.type(Y.visual.PieCategoryScene).init(function(e,t,i){
this.base(c,{source:e}),this.vars.category=le.fromComplex(e);var r=new le(t,n(t,i,e));
r.angle=l(t);var a=Math.abs(t)/u,s=i.type.format().percent();r.percent=new le(a,s(a)),
this.vars.value=r,r.sliceLabel=this.sliceLabel(),o.onNewScene(this,!0)});t._extendSceneType("category",h,["sliceLabel","sliceLabelMask"]);
var d=i.domainItems();if(d.length&&(d.forEach(function(e){var t=a.getBoundDimensionName(e),n=e.dimensions(t),i=n.value();
0!==i&&new h(e,i,n)}),!c.childNodes.length&&!t.chart.visualRoles.multiChart.isBound()))throw new Y.InvalidDataException("Unable to create a pie chart, please check the data values.","all-zero-data");
}).add({layoutLinkLabels:function(e){var t=-Math.PI/2,n=[],i=[];this.childNodes.forEach(function(r){
t=r.layoutI(e,t),(r.vars.link.dir>0?i:n).push(r)}),this._distributeLabels(-1,n,e),
this._distributeLabels(1,i,e)},_distributeLabels:function(t,n,i){n.sort(function(t,n){
return e.compare(t.vars.link.targetY,n.vars.link.targetY)}),this._distributeLabelsDownwards(n,i)&&this._distributeLabelsUpwards(n,i)&&this._distributeLabelsEvenly(n,i),
n.forEach(function(e){e.layoutII(i)})},_distributeLabelsDownwards:function(e,t){for(var n=t.link,i=n.labelSpacingMin,r=t.clientSize.height,o=!1,a=0,s=e.length-1;s>a;a++){
var l=e[a].vars.link;!a&&l.labelTop()<0&&(o=!0);var u=e[a+1].vars.link,c=l.labelBottom()+i;
if(u.labelTop()<c){var h=u.labelHeight/2,d=c+h,f=r-h;d>f?(o=!0,u.targetY=f):u.targetY=d;
}}return o},_distributeLabelsUpwards:function(e,t){for(var n=t.link,i=n.labelSpacingMin,r=!1,o=e.length-1;o>0;o--){
var a=e[o-1].vars.link,s=e[o].vars.link;1===o&&a.labelTop()<0&&(r=!0);var l=s.labelTop()-i;
if(a.labelBottom()>l){var u=a.labelHeight/2,c=l-u,h=u;h>c?(r=!0,a.targetY=h):a.targetY=c;
}}return r},_distributeLabelsEvenly:function(e,t){var n=0;e.forEach(function(e){n+=e.vars.link.labelHeight;
});var i=t.clientSize.height-n,r=i;e.length>1&&(r/=e.length-1);var o=0;return e.forEach(function(e){
var t=e.vars.link,n=t.labelHeight/2;o+=n,t.targetY=o,o+=n+r}),!0}}),e.type("pvc.visual.PieLinkLabelVar").add({
labelTop:function(){return this.targetY-this.labelHeight/2},labelBottom:function(){
return this.targetY+this.labelHeight/2}}),e.type("pvc.visual.PieCategoryScene",Y.visual.Scene).add({
sliceLabelMask:function(){return this.panel().valuesMask},sliceLabel:function(){return this.format(this.sliceLabelMask());
},layoutI:function(t,n){var i=this.vars.value,r=n+i.angle,o=(n+r)/2,a=this.vars.link=new Y.visual.PieLinkLabelVar,s=t.link,l=Y.text.justify(i.sliceLabel,s.maxTextWidth,t.labelFont),u=l.length;
a.labelLines=l,a.labelHeight=u*s.lineHeight,this.lineScenes=e.array.create(u,this);
var c=Math.cos(o),h=Math.sin(o),d=c>=0,f=d?1:-1;a.labelAnchor=d?"left":"right";var p=t.center,m=s.elbowRadius,g=p.x+m*c,v=p.y+m*h,y=p.x+f*m,b=y+f*s.linkMargin;
return new Y.visual.PieLinkLineScene(this,g,v),new Y.visual.PieLinkLineScene(this,y,v),
a.elbowY=v,a.targetY=v+0,a.targetX=b,a.dir=f,r},layoutII:function(e){var t=this.vars.link,n=t.targetY,i=t.targetX,r=e.link.handleWidth;
r>0&&new Y.visual.PieLinkLineScene(this,i-t.dir*r,n),new Y.visual.PieLinkLineScene(this,i,n),
t.labelX=i,t.labelY=n-t.labelHeight/2}}),e.type("pvc.visual.PieLinkLineScene",Y.visual.Scene).init(function(e,t,n,i){
this.base(e,{source:e.group,index:i}),this.x=t,this.y=n}).add(t.Vector),e.type("pvc.PieChart",Y.BaseChart).add({
_axisClassByType:{category:Y.visual.Axis,angle:Y.visual.NormalizedAxis},_axisCreateChartLevel:{
category:2,angle:2},_axisSetScaleChartLevel:{category:2,angle:2},_axisCreationOrder:function(){
var e=Y.BaseChart.prototype._axisCreationOrder.slice();return e.push("category","angle"),
e}(),_createPlotsInternal:function(){this._addPlot(new Y.visual.PiePlot(this))},_setAxisScale:function(e,t){
this.base(e,t),2&t&&"angle"===e.type&&e.setScaleRange({min:0,max:2*Math.PI})},_createContentPanel:function(t,n){
var i=this.compatVersion()<=1;if(i){var r=e.number.to(this.options.innerGap)||.95;
r=e.between(r,.1,1),n.paddings=(100*(1-r)/2).toFixed(2)+"%"}else null==n.paddings&&(n.paddings=new ne(.025));
return this.base(t,n)},_createContent:function(t,n){n.scenes=e.getPath(this.options,"pie.scenes"),
this.base(t,n)}}),e("pvc.visual.BarPlot",Y.visual.BarPlotAbstract.extend({methods:{
type:"bar"}})),Y.visual.Plot.registerClass(Y.visual.BarPlot),e.type("pvc.BarPanel",Y.BarAbstractPanel).add({
plotType:"bar",_ibits:-1}),Y.PlotPanel.registerClass(Y.BarPanel),e.type("pvc.BarChart",Y.BarAbstract).add({
_allowV1SecondAxis:!0,_createPlotsInternal:function(){this._createMainPlot(),this.options.plot2&&this._addPlot(new Y.visual.PointPlot(this,{
name:"plot2",defaults:{DataPart:"1",ColorAxis:2,LinesVisible:!0,DotsVisible:!0}}));
},_createMainPlot:function(){this._addPlot(new Y.visual.BarPlot(this))},_createPlotTrend:function(){
this._addPlot(new Y.visual.PointPlot(this,{name:"trend",spec:{visualRoles:{color:{
from:"series"}}},fixed:{TrendType:"none",NullInterpolatioMode:"none"},defaults:{DataPart:"trend",
ColorAxis:2,LinesVisible:!0,DotsVisible:!1}}))},_willBindVisualRoles:function(e){
if(this.base(e),this.plots.trend){var t=this._getPreBoundTrendedDimensionNames();this.plots.trend.visualRoles.value.preBind(n.GroupingSpec.parse(t));
}},_createContent:function(e,t){this.base(e,t);var n=this.plotPanels.bar,i=this.plotPanels.plot2;
i&&"point"===i.plot.type&&(n&&(n.pvSecondLine=i.pvLine,n.pvSecondDot=i.pvDot),i._applyV1BarSecondExtensions=!0);
}}),e.type("pvc.NormalizedBarChart",Y.BarChart).add({_createMainPlot:function(){this._addPlot(new Y.visual.BarPlot(this,{
fixed:{ValuesNormalized:!0,Stacked:!0}}))}}),Y.parseWaterDirection=function(t){if(t){
switch(t=(""+t).toLowerCase()){case"up":case"down":return t}e.debug>=2&&e.log("[Warning] Invalid 'WaterDirection' value: '"+t+"'.");
}},e("pvc.visual.WaterfallPlot",Y.visual.BarPlotAbstract.extend({init:function(e,t){
this.base(e,t),e._registerInitLegendScenes(this._initLegendScenes.bind(this))},methods:{
type:"water",_waterColor:t.color("#1f77b4").darker(),_initEnd:function(){var e=Y.makeExtensionAbsId("line",this.extensionPrefixes),n=this.chart._getConstantExtension(e,"strokeStyle");
n&&(this._waterColor=t.color(n)),this.base()},_getCategoryRoleSpec:function(){var e=this.base(),t=this.isFalling()?"DfsPre":"DfsPost";
return e.flatteningModes=n.FlatteningMode[t],e.rootLabel=this.option("AllCategoryLabel"),
e},isFalling:function(){return"down"===this.option("Direction")},_reduceStackedCategoryValueExtent:function(e,t,n,i,r,o){
var a,s=t?t.offset:0,l=n.min+n.max;if(!t)return n?(a=s+l,r.setDataCellScaleInfo(o,[{
offset:a,group:i,range:n}]),{min:n.min,max:n.max,offset:a}):null;var u=this.isFalling(),c=i._isFlattenGroup&&!i._isDegenerateFlattenGroup;
if(c){var h=-n.min;if(h>0){var d=s+h;d>t.max&&(t.max=d)}var f=-n.max;if(0>f){var p=s+f;
p<t.min&&(t.min=p)}}else{var m=u?-1:1;a=t.offset=s+m*l,a>t.max?t.max=a:a<t.min&&(t.min=a);
}return r.getDataCellScaleInfo(o).push({offset:u?s:t.offset,group:i,range:n}),t},
_initLegendScenes:function(t){var n=t._getLegendRootScene();new Y.visual.legend.WaterfallLegendGroupScene(n,this,{
extensionPrefix:e.indexedId("",1),label:this.option("TotalLineLabel"),color:this._waterColor
})}},options:{Stacked:{resolve:null,value:!0},ValuesNormalized:{resolve:null,value:!1
},TotalLineLabel:{resolve:"_resolveFull",cast:String,value:"Accumulated"},TotalValuesVisible:{
resolve:"_resolveFull",data:{resolveDefault:function(e){return e.defaultValue(this.option("ValuesVisible")),
!0}},cast:Boolean},Direction:{resolve:"_resolveFull",cast:Y.parseWaterDirection,value:"down"
},AreasVisible:{resolve:"_resolveFull",cast:Boolean,value:!0},AllCategoryLabel:{resolve:"_resolveFull",
cast:String,value:"All"}}})),Y.visual.Plot.registerClass(Y.visual.WaterfallPlot),
e.type("pvc.visual.legend.WaterfallLegendGroupScene",Y.visual.legend.LegendGroupScene).init(function(t,n,i){
i=e.set(i,"clickMode","none"),this.base(t,i),this.plot=n,this.createItem(i)}).add({
itemSceneType:function(){return Y.visual.legend.WaterfallLegendItemScene}}),e.type("pvc.visual.legend.WaterfallLegendItemScene",Y.visual.legend.LegendItemScene).init(function(t,n){
this.base.apply(this,arguments);var i=Y.visual.Interactive;this._ibits=i.Interactive|i.ShowsInteraction,
this.color=e.get(n,"color"),this.vars.value=new le(null,e.get(n,"label"))}),e.type("pvc.WaterfallPanel",Y.BarAbstractPanel).init(function(e,t,n,i){
this.base(e,t,n,i),e.wfChartPanel||(e.wfChartPanel=this)}).add({plotType:"water",
_ibits:-1,pvWaterfallLine:null,ruleData:null,_barDifferentialControl:function(){var e=this.plot.isFalling();
return function(t){if(e&&!this.index)return 1;var n=t.vars.category.group,i=n._isFlattenGroup&&!n._isDegenerateFlattenGroup;
return i?-2:e?-1:1}},_creating:function(){var n=this._getLegendRootScene();if(n){
var i=e.query(n.childNodes).first(function(e){return e.plot===this},this.plot);if(i&&!i.hasRenderer()){
var r={drawLine:!0,drawMarker:!1,rulePvProto:new t.Rule};this.extend(r.rulePvProto,"line",{
constOnly:!0}),i.renderer(r)}}},_createCore:function(){this.base();var n=this.chart,i=this.isOrientationVertical(),r=i?"bottom":"left",o=this.anchorOrtho(r),a=this.axes.ortho,s=this.axes.base,l=this.plot.dataCellsByRole.value[0],u=a.getDataCellScaleInfo(l),c=this._buildRuleScene(u),h=a.scale,d=h(0),f=a.sceneScale({
sceneVarName:"value"}),p=s.sceneScale({sceneVarName:"category"}),m=s.scale,g=this.barWidth/2,v=this.barWidth,y=this.barStepWidth,b=this.plot.isFalling(),_=this.plot._waterColor;
if(this.plot.option("AreasVisible")){var x=t.Colors.category10(),w=this._buildWaterGroupScene(u),C=h.range(),S=.04*(C[1]-C[0]);
this.pvWaterfallGroupPanel=new Y.visual.Panel(this,this.pvPanel,{extensionId:"group"
}).lock("data",w.childNodes).pvMark.zOrder(-1).fillStyle(function(){return x(0).alpha(.15);
})[o](function(e){var t=e.vars.category;return m(t.valueLeft)-y/2})[this.anchorLength(r)](function(e){
var t=e.vars.category,n=Math.abs(m(t.valueRight)-m(t.valueLeft));return n+y})[r](function(e){
var t=e.vars.value,i=h(t.valueBottom)-S/2;return n.animate(d,i)})[this.anchorOrthoLength(r)](function(e){
var t=e.vars.value,i=h(t.valueTop)-h(t.valueBottom)+S;return n.animate(0,i)})}this.pvBar.sign.override("baseColor",function(e,n){
var i=this.base(e,n);return"fill"!==n||e.vars.category.group._isFlattenGroup?i:t.color(i).alpha(.5);
}),this.pvWaterfallLine=new Y.visual.Rule(this,this.pvPanel,{extensionId:"line",noTooltip:!1,
noHover:!1,noSelect:!1,noClick:!1,noDoubleClick:!1}).lock("data",c.childNodes).optional("visible",function(e){
return b&&!!e.previousSibling||!b&&!!e.nextSibling}).optional(r,function(e){return d+n.animate(0,f(e)-d);
}).optional(this.anchorLength(r),y+v).optional(o,b?function(e){return p(e)-y-g}:function(e){
return p(e)-g}).override("defaultColor",e.fun.constant(_)).pvMark.antialias(!0).lineCap("butt"),
this.plot.option("TotalValuesVisible")&&(this.pvWaterfallLabel=new Y.visual.Label(this,this.pvWaterfallLine,{
extensionId:"lineLabel"}).intercept("visible",function(e){return!e.vars.category.group._isFlattenGroup&&(b||!!e.nextSibling);
}).pvMark[r](function(e){return d+n.animate(0,f(e)-d)})[this.anchorOrtho(r)](p).textAlign(i?"center":"left").textBaseline(function(e){
if(!i)return"middle";var t=e.vars.direction;if(null==t)return"bottom";var n=!b;return n===("up"===t)?"bottom":"top";
}).textStyle(t.Color.names.darkgray.darker(2)).textMargin(5).text(function(e){return e.vars.value.label;
}))},_buildRuleScene:function(t){function n(e){var t,n=e.group,i=new Y.visual.Scene(l,{
source:n}),r=i.vars.category=le.fromComplex(n),o=e.offset,u=a.getBoundDimensionName(n,!0);
t=null!==u?s.dimensions(u).format(o):s.type.format.number()(o),r.group=n,i.vars.value=new le(o,t);
}function i(e,t){var n=e.vars.value.value;e.vars.direction=t&&r!==n?o===n>r?"up":"down":null,
r=n}var r,o,a,s,l=new Y.visual.Scene(null,{panel:this,source:this.visibleData({ignoreNulls:!1
})});if(t){a=this.visualRoles.value,s=this.data.owner,t.forEach(n,this);var u=e.query(l.childNodes);
o=!this.plot.isFalling(),o||(u=u.reverse()),u.each(i,this)}return l},_buildWaterGroupScene:function(t){
function n(e,t){var r=e.children().where(function(e){return""!==e.key});if(r.next()){
t&&i(e,t),t++;do n(r.item,t);while(r.next())}}function i(e,t){var n=new Y.visual.Scene(c,{
source:e}),i=n.vars.category=le.fromComplex(e);i.group=e,i.level=t;var l,u,h,d,f,p=n.vars.value={},m=a[e.absKey],g=m.offset,v=m.range,y=-v.min+v.max;
s?(l=o(e),u=a[l.absKey],h=m.group.value,d=u.group.value,f=g-v.max):(l=r(e),u=a[l.absKey],
h=u.group.value,d=m.group.value,f=g-v.max),i.valueLeft=h,i.valueRight=d,p.valueHeight=y,
p.valueBottom=f,p.valueTop=f+y}function r(e){var t=e.childNodes,n=t&&t[0];return n?r(n):e;
}function o(e){var t=e.childNodes,n=t&&t[t.length-1];return n?o(n):e}var a,s,l=this.chart,u=this.visualRoles.category.select(l.partData(this.dataPartValue),{
visible:!0}),c=new Y.visual.Scene(null,{panel:this,source:u});return t&&(a=e.query(t).object({
name:function(e){return e.group.absKey}}),s=this.plot.isFalling(),n(u,0)),c}}),Y.PlotPanel.registerClass(Y.WaterfallPanel),
e.type("pvc.WaterfallChart",Y.BarAbstract).add({_processOptionsCore:function(e){e.baseAxisComposite=!1,
this.base(e)},_createPlotsInternal:function(){this._addPlot(new Y.visual.WaterfallPlot(this));
}}),e("pvc.visual.PointPlot",Y.visual.CategoricalPlot.extend({methods:{type:"point",
_initVisualRoles:function(){this.base(),this._addVisualRole("value",{isMeasure:!0,
isRequired:!0,isPercent:this.option("Stacked"),requireSingleDimension:!1,requireIsDiscrete:!1,
valueType:Number,defaultDimension:"value"})}},options:{DotsVisible:{resolve:"_resolveFull",
data:G("Dots",!0),cast:Boolean,value:!1},LinesVisible:{resolve:"_resolveFull",data:G("Lines",!0),
cast:Boolean,value:!1},AreasVisible:{resolve:"_resolveFull",data:G("Areas",!1),cast:Boolean,
value:!1},AreasFillOpacity:{resolve:"_resolveFull",cast:e.number.toNonNegative,value:null
},ValuesAnchor:{value:"right"}}})),Y.visual.Plot.registerClass(Y.visual.PointPlot),
e.type("pvc.PointPanel",Y.CategoricalAbstractPanel).init(function(e,t,n,i){this.base(e,t,n,i),
this.linesVisible=n.option("LinesVisible"),this.dotsVisible=n.option("DotsVisible"),
this.areasVisible=n.option("AreasVisible"),this.linesVisible||this.dotsVisible||this.areasVisible||(this.linesVisible=!0,
n.option.specify({LinesVisible:!0})),this.areasVisible&&!this.stacked&&(this.areasFillOpacity=n.option("AreasFillOpacity"),
null==this.areasFillOpacity&&(this.areasFillOpacity=.5)),e.scatterChartPanel||(e.scatterChartPanel=this);
}).add({plotType:"point",_ibits:-1,pvLine:null,pvArea:null,pvDot:null,pvLabel:null,
pvScatterPanel:null,_creating:function(){var n=this.plot.dataCellsByRole.color[0];
if(!n.legendSymbolRenderer()&&n.legendVisible()){var i=this.axes.color,r=e.nullyTo(i.option("LegendDrawMarker",!0),this.dotsVisible||this.areasVisible),o=!r||e.nullyTo(i.option("LegendDrawLine",!0),this.linesVisible&&!this.areasVisible),a=Y.uniqueExtensionAbsPrefix(),s={
drawMarker:r,drawLine:o,extensionPrefix:{abs:a}};if(this.chart._processExtensionPointsIn(n.role.legend(),a),
r){var l=i.option("LegendShape",!0);s.markerPvProto=new t.Dot,this.dotsVisible&&(l||(l="circle"),
s.markerPvProto.lineWidth(1.5,Y.extensionTag).shapeSize(12,Y.extensionTag)),s.markerShape=l,
this._applyV1BarSecondExtensions&&this.chart.extend(s.markerPvProto,"barSecondDot",{
constOnly:!0}),this.extend(s.markerPvProto,"dot",{constOnly:!0})}o&&(s.rulePvProto=(new t.Rule).lineWidth(1.5,Y.extensionTag),
this._applyV1BarSecondExtensions&&this.chart.extend(s.rulePvProto,"barSecondLine",{
constOnly:!0}),this.extend(s.rulePvProto,"line",{constOnly:!0})),n.legendSymbolRenderer(s);
}},_createCore:function(){this.base();var n,i=this.chart,r=this.stacked,o=this.dotsVisible,a=this.areasVisible,s=this.linesVisible,l=this.isOrientationVertical()?"bottom":"left",u=this.axes.base,c=u.domainItems(),h=u.role.grouping.isDiscrete(),d=this.visibleData({
ignoreNulls:!1}),f=this.visualRoles.series.flatten(this.partData(),{visible:!0,isNull:i.options.ignoreNulls?!1:null,
extensionDataSetsMap:this.plot.boundDimensionsDataSetsMap}).childNodes,p=this._buildScene(d,f,c);
this.pvPanel.zOrder(a?-7:1),this.pvScatterPanel=new Y.visual.Panel(this,this.pvPanel,{
extensionId:"panel"}).lock("data",p.childNodes).pvMark;var m=this.areasFillOpacity;
this.compatVersion()<=1&&(n=r?function(e){return function(t){return e.call(this,t.vars.value.rawValue);
}}:function(e){return function(t){var n={category:t.vars.category.rawValue,value:t.vars.value.rawValue
},i=Object.create(this);return i.index=t.dataIndex,e.call(i,n)}});var g=function(e){
return!e.isNull},v=function(e){return!e.isNull||e.isIntermediate},y=h&&r?v:g,b=i.selectableByFocusWindow();
this.pvArea=new Y.visual.Area(this,this.pvScatterPanel,{extensionId:"area",noTooltip:!1,
wrapper:n,noSelect:b,noRubberSelect:!0,showsSelection:!b}).lockMark("data",function(e){
return e.childNodes}).lockMark("visible",y).override("x",function(e){return e.basePosition;
}).override("y",function(e){return e.orthoPosition}).override("dy",function(e){return i.animate(0,e.orthoLength);
}).override("color",function(e,t){return a?this.base(e,t):null}).override("baseColor",function(t,n){
var i=this.base(t,n);return!this._finished&&i&&null!=m?i.alpha(e.between(i.opacity*m,0,1)):i;
}).override("dimColor",function(e,t){return r?Y.toGrayScale(e,1,null,null).brighter():this.base(e,t);
}).lock("events",a?"painted":"none").pvMark;var _=o&&!s&&!a,x=r&&a,w=["line"];this._applyV1BarSecondExtensions&&w.push({
abs:"barSecondLine"});var C=_?!1:h&&r&&a?v:g,S=a&&!s,k=this.pvLine=new Y.visual.Line(this,this.pvArea.anchor(this.anchorOpposite(l)),{
extensionId:w,freePosition:!0,wrapper:n,noTooltip:S,noDoubleClick:S,noClick:S,noHover:S,
noSelect:S||b,showsSelection:!b}).lockMark("visible",C).override("defaultColor",function(e,t){
var n=this.base(e,t);return!this._finished&&x&&n?n.darker(.6):n}).override("normalColor",function(e,t){
return s?t:null}).override("interactiveColor",function(e,t,n){return s||this.mayShowAnySelected(e)||this.mayShowActive(e)?this.base(e,t,n):null;
}).override("baseStrokeWidth",function(e){var t;return s&&(t=this.base(e)),null==t?1.5:t;
}).intercept("strokeDasharray",function(e){var t=this.delegateExtension();if(void 0===t){
var n=e.isInterpolated;if(!n){var i=e.nextSibling;if(n=i&&i.isIntermediate&&i.isInterpolated,
!n){var r=e.previousSibling;n=r&&e.isIntermediate&&r.isInterpolated}}t=n?". ":null;
}return t}).pvMark,D=!(a&&h&&r);w=["dot"],this._applyV1BarSecondExtensions&&w.push({
abs:"barSecondDot"}),this.pvDot=new Y.visual.Dot(this,this.pvLine,{extensionId:w,
freePosition:!0,wrapper:n,tooltipArgs:{options:{ignoreRadius:s}}}).intercept("visible",function(e){
return!e.isNull&&!e.isIntermediate&&this.delegateExtension(!0)}).override("color",function(e,t){
if(!o){var n=(D?e.isAlone:e.isSingle)||e.isActive&&this.showsActivity();if(!n)return Y.invisibleFill;
}return this.base(e,t)}).override("defaultColor",function(e,t){var n=this.base(e,t);
return n&&!this._finished&&(x&&(n=n.darker(.6)),e.isInterpolated&&"fill"===t&&(n=n.brighter(.5))),
n}).override("interactiveColor",function(e,n,i){var r=!o&&(e.isSingle||e.isAlone)&&!e.isActive&&this.mayShowNotAmongSelected(e)&&this.mayShowActive(e);
return r?t.Color.names.darkgray.darker().darker():this.base(e,n,i)}).optional("lineWidth",function(e){
var t=!(o||!e.isSingle&&!e.isAlone||e.isActive&&this.showsActivity());return t?0:1.5;
}).override("size",function(t){var n=!o&&!(t.isActive&&this.showsActivity())&&(!D&&t.isSingle||D&&t.isAlone);
if(n){var i=Math.max(k.visible()?k.lineWidth():0,1),r=i/2+1;return e.sqr(r)}return this.base(t);
}).override("baseSize",function(e){var t=this.base(e);return!this._finished&&e.isInterpolated?.8*t:t;
}).pvMark;var M=Y.visual.ValueLabel.maybeCreate(this,this.pvDot,{wrapper:n});M&&(this.pvLabel=M.pvMark);
},renderInteractive:function(){this.pvScatterPanel.render()},_buildSceneCore:function(t,n,i){
function r(e){for(var t,n=[],i=e.childNodes,r=0,s=null,l=0,u=0,h=i.length;h>l;l++,
u++){var d=i[u],f=2*l;if(n[f]=d,o.call(this,t,d,_&&_[f]),d.isAlone&&!s&&(s=d),d.isNull||r++,
t){var p=a.call(this,e,t,d,u,_&&_[f-1]);p&&(n[f-1]=p,u++)}t=d}1===r&&s&&1===h&&(s.isSingle=!0),
c&&(_=n)}function o(e,t,n){var i=t.vars.value.accValue;n&&(i+=n.vars.value.accValue,
t.vars.value.accValue=i),t.basePosition=b(t),t.orthoPosition=y,t.orthoLength=g(i)-y;
var r=!e||e.isNull,o=r&&!t.isNull;if(o){var a=t.nextSibling;o=!a||a.isNull}t.isAlone=o,
t.isSingle=!1}function a(e,t,n,i,r){var o,a,s,l,h=t.isNull||n.isNull,_=this.areasVisible;
if(h){if(_&&r&&u){var x=r.vars.value;a=x.accValue,o=x.value}else o=a=v;l=p.format(o),
s=_?c&&u?n.basePosition-b.range().step/2:t.isNull?n.basePosition:t.basePosition:(n.basePosition+t.basePosition)/2;
}else{var w=t.vars.value,C=n.vars.value;o=(C.value+w.value)/2,a=(C.accValue+w.accValue)/2,
s=(n.basePosition+t.basePosition)/2;var S=C.dimensionName;l=S?f.dimensions(S).format(o):m(o);
}var k=new Y.visual.Scene(e,{index:i,source:n.source});k.dataIndex=n.dataIndex,k.vars.category=n.vars.category;
var D=new le(o,l,o);return D.accValue=a,k.vars.value=D,k.ownerScene=n,k.isInterpolated=n.isInterpolated,
k.isIntermediate=!0,k.isSingle=!1,k.isNull=h,k.isAlone=h&&n.isNull&&t.isNull,k.basePosition=s,
k.orthoPosition=y,k.orthoLength=g(a)-y,d.onNewScene(k,!0),k}var s=new Y.visual.Scene(null,{
panel:this,source:t}),l=this.visualRoles.value,u=this.axes.base.role.grouping.isDiscrete(),c=this.stacked,h=new Y.visual.RoleVarHelper(s,"value",l,{
hasPercentSubVar:c}),d=new Y.visual.RoleVarHelper(s,"color",this.visualRoles.color),f=t.owner,p=f.dimensions(l.firstDimensionName()),m=t.type.format.number(),g=this.axes.ortho.scale,v=e.scope(function(){
var e=g.domain(),t=e[0],n=e[1];return t*n>=0?t>=0?t:n:0}),y=g(v),b=this.axes.base.sceneScale({
sceneVarName:"category"});n.forEach(function(e){var n=new Y.visual.Scene(s,{source:e||t
});n.vars.series=le.fromComplex(e),d.onNewScene(n,!1),i.forEach(function(i,r){var o=t.child(i.key),a=o;
a&&e&&(a=a.child(e.key));var s=new Y.visual.Scene(n,{source:a});s.dataIndex=r,s.vars.category=le.fromComplex(i),
h.onNewScene(s,!0);var u=s.vars.value,c=u.value,f=u.dimensionName;u.accValue=null!=c?c:v,
d.onNewScene(s,!0);var p=!1;if(null!=a){var m=null;null===f&&(m=l.getCompatibleBoundDimensionNames(a)),
p=a.datums().any(function(e){return e.isInterpolated&&(null!==f?e.interpDimName===f:m.indexOf(e.interpDimName)>=0);
})}s.isInterpolated=p,s.isNull=null==c,s.isIntermediate=!1},this)},this);var _;return s.children().reverse().each(r,this),
s}}),Y.PlotPanel.registerClass(Y.PointPanel),e.type("pvc.PointAbstract",Y.CategoricalAbstract).add({
_defaultAxisBandSizeRatio:1,_createPlotsInternal:function(){this._addPlot(this._createPointPlot()),
this.options.plot2&&this._addPlot(new Y.visual.PointPlot(this,{name:"plot2",defaults:{
DataPart:"1",ColorAxis:2,LinesVisible:!0,DotsVisible:!0}}))},_createPlotTrend:function(){
this._addPlot(new Y.visual.PointPlot(this,{name:"trend",spec:{visualRoles:{color:{
from:"series"}}},fixed:{TrendType:"none",NullInterpolatioMode:"none"},defaults:{DataPart:"trend",
ColorAxis:2,LinesVisible:!0,DotsVisible:!1}}))},_willBindVisualRoles:function(e){
if(this.base(e),this.plots.trend){var t=this._getPreBoundTrendedDimensionNames();this.plots.trend.visualRoles.value.preBind(n.GroupingSpec.parse(t));
}},_initAxesEnd:function(){var e=this.axesByType.base;e&&e.forEach(function(e){"discrete"!==e.scaleType&&e.option.defaults({
Offset:.01})}),e=this.axesByType.ortho,e&&e.forEach(function(e){e.option.defaults({
Offset:.04})}),this.base()},defaults:{tooltipOffset:10}}),e.type("pvc.DotChart",Y.PointAbstract).add({
_createPointPlot:function(){return new Y.visual.PointPlot(this,{fixed:{DotsVisible:!0
}})}}),e.type("pvc.LineChart",Y.PointAbstract).add({_createPointPlot:function(){return new Y.visual.PointPlot(this,{
fixed:{LinesVisible:!0}})}}),e.type("pvc.AreaChart",Y.PointAbstract).add({_createPointPlot:function(){
return new Y.visual.PointPlot(this,{fixed:{AreasVisible:!0}})}}),Y.mStackedLineChart=e.type("pvc.StackedLineChart",Y.PointAbstract).add({
_createPointPlot:function(){return new Y.visual.PointPlot(this,{fixed:{LinesVisible:!0,
Stacked:!0}})}}),e.type("pvc.StackedDotChart",Y.PointAbstract).add({_createPointPlot:function(){
return new Y.visual.PointPlot(this,{fixed:{DotsVisible:!0,Stacked:!0}})}}),Y.mStackedAreaChart=e.type("pvc.StackedAreaChart",Y.PointAbstract).add({
_createPointPlot:function(){return new Y.visual.PointPlot(this,{fixed:{AreasVisible:!0,
Stacked:!0},defaults:{LinesVisible:!0}})}}),e("pvc.visual.MetricPointPlot",Y.visual.MetricXYPlot.extend({
methods:{type:"scatter",_initVisualRoles:function(){this.base(),this._addVisualRole("size",{
isMeasure:!0,requireSingleDimension:!0,requireIsDiscrete:!1,defaultDimension:"size",
dimensionDefaults:{valueType:Number}})},_getColorRoleSpec:function(){return{isMeasure:!0,
defaultSourceRole:"series",defaultDimension:"color*",dimensionDefaults:{valueType:Number
}}},_initDataCells:function(){this.base(),this.option("DotsVisible")&&this._addDataCell(new Y.visual.DataCell(this,"size",this.option("SizeAxis")-1,this.visualRoles.size));
}},options:{SizeRole:{resolve:"_resolveFixed",value:"size"},SizeAxis:{resolve:"_resolveFixed",
value:1},Shape:{resolve:"_resolveFull",cast:Y.parseShape,value:"circle"},NullShape:{
resolve:"_resolveFull",cast:Y.parseShape,value:"cross"},DotsVisible:{resolve:"_resolveFull",
data:$("Dots"),cast:Boolean,value:!1},LinesVisible:{resolve:"_resolveFull",data:$("Lines"),
cast:Boolean,value:!1},ValuesAnchor:{value:"right"},ValuesMask:{value:"{x},{y}"},
AutoPaddingByDotSize:{resolve:"_resolveFull",cast:Boolean,value:!0}}})),Y.visual.Plot.registerClass(Y.visual.MetricPointPlot),
Y.parseMetricPointSizeAxisRatioTo=Y.makeEnumParser("ratioTo",["minWidthHeight","height","width"],"minWidthHeight"),
e("pvc.visual.MetricPointSizeAxis",Y.visual.SizeAxis.extend({options:{Ratio:{resolve:"_resolveFull",
cast:e.number.toNonNegative,value:.2},RatioTo:{resolve:"_resolveFull",cast:Y.parseMetricPointSizeAxisRatioTo,
value:"minwidthheight"}}})),e.type("pvc.MetricPointPanel",Y.CartesianAbstractPanel).init(function(e,t,n,i){
this.base(e,t,n,i);var r=this.axes.size=e._getAxis("size",(n.option("SizeAxis")||0)-1);
r&&(this.sizeAxisRatio=r.option("Ratio"),this.sizeAxisRatioTo=r.option("RatioTo"),
this.autoPaddingByDotSize=n.option("AutoPaddingByDotSize")),this.linesVisible=n.option("LinesVisible"),
this.dotsVisible=n.option("DotsVisible"),this.linesVisible||this.dotsVisible||(this.linesVisible=!0,
n.option.specify({LinesVisible:!0})),e.scatterChartPanel||(e.scatterChartPanel=this);
}).add({plotType:"scatter",_v1DimRoleName:{category:"x",value:"y"},_creating:function(){
var n=this.plot.dataCellsByRole.color[0];if(!n.legendSymbolRenderer()&&n.legendVisible()){
var i=this.axes.color,r=e.nullyTo(i.option("LegendDrawMarker",!0),this.dotsVisible),o=e.nullyTo(i.option("LegendDrawLine",!0),this.linesVisible);
if(r||o){var a=Y.uniqueExtensionAbsPrefix(),s={drawMarker:r,drawLine:o,extensionPrefix:{
abs:a}};this.chart._processExtensionPointsIn(n.role.legend(),a),r&&(s.markerShape=i.option("LegendShape",!0)||"circle",
s.markerPvProto=(new t.Dot).lineWidth(1.5,Y.extensionTag).shapeSize(12,Y.extensionTag),
this.extend(s.markerPvProto,"dot",{constOnly:!0})),o&&(s.rulePvProto=(new t.Rule).lineWidth(1.5,Y.extensionTag),
this.extend(s.rulePvProto,"line",{constOnly:!0})),n.legendSymbolRenderer(s)}}},_getRootScene:function(){
return e.lazy(this,"_rootScene",this._buildScene,this)},_calcLayout:function(e){var t=this.base(e),n=this._getRootScene();
return n.isSizeBound&&this.axes.size.setScaleRange(this._calcDotAreaRange(e)),this._calcAxesPadding(e,n),
t},_getDotDiameterRefLength:function(t){var n=t.size;switch(this.sizeAxisRatioTo){
case"minwidthheight":return Math.min(n.width,n.height);case"width":return n.width;
case"height":return n.height}return e.debug>=2&&this.log(e.format("Invalid option 'sizeAxisRatioTo' value. Assuming 'minWidthHeight'.",[this.sizeAxisRatioTo])),
this.sizeRatioTo="minwidthheight",this._getDotDiameterRefLength(t)},_calcDotRadiusRange:function(e){
return{min:Math.sqrt(12),max:this.sizeAxisRatio/2*this._getDotDiameterRefLength(e)
}},_calcDotAreaRange:function(t){var n=this._calcDotRadiusRange(t);"diamond"===this.shape&&(n.max/=Math.SQRT2,
n.min/=Math.SQRT2);var i=e.sqr(n.max),r=e.sqr(n.min),o=i-r;return 1>=o&&(i=Math.max(i,2),
r=1,o=i-r,e.debug>=3&&this.log("Using rescue mode dot area calculation due to insufficient space.")),
{min:r,max:i,span:o}},_calcAxesPadding:function(t,n){var i;if(this.autoPaddingByDotSize){
var r=this.axes,o=t.clientSize,a=t.paddings;i={},r.x.setScaleRange(o.width),r.y.setScaleRange(o.height);
var s=this.isOrientationVertical(),l=r.x.sceneScale({sceneVarName:s?"x":"y"}),u=r.y.sceneScale({
sceneVarName:s?"y":"x"}),c=r.x.scale.max,h=r.y.scale.max,d=n.isSizeBound,f=d?r.size.scale:null;
if(!f){var p=e.number.to(this._getExtension("dot","shapeRadius"),0);0>=p?(p=e.number.to(this._getExtension("dot","shapeSize"),0),
0>=p&&(p=12)):p=e.sqr(p),f=e.fun.constant(p)}i={};var m,g=this.chart._axisOffsetPaddings;
g&&(m={},ie.names.forEach(function(e){var t=Y.BasePanel.orthogonalLength[e];m[e]=(g[e]||0)*(o[t]+a[t]);
}));var v=function(e,t){m&&(t+=m[e]||0),0>t&&(t=0);var n=i[e];(null==n||t>n)&&(i[e]=t);
},y=function(e){var t=l(e),n=u(e),i=Math.sqrt(f(d?e.vars.size.value:0));v("left",i-t),
v("bottom",i-n),v("right",t+i-c),v("top",n+i-h)};n.children().selectMany(function(e){
return e.childNodes}).each(y)}else i=this._calcContentOverflow(t);t.contentOverflow=i;
},_createCore:function(){var t=this;t.base();var n=t.chart,i=t._getRootScene(),r=t._buildSignsWrapper(),o=t.compatVersion()<=1;
this._finalizeScene(i),t.pvPanel.zOrder(1),this.pvScatterPanel=new Y.visual.Panel(t,t.pvPanel,{
extensionId:"panel"}).lock("data",i.childNodes).pvMark;var a=n.selectableByFocusWindow(),s=i.isColorBound&&this.visualRoles.color.isDiscrete(),l=new Y.visual.Line(t,t.pvScatterPanel,{
extensionId:"line",wrapper:r,noTooltip:!1,noSelect:a,showsSelection:!a}).lockMark("data",function(e){
return e.childNodes}).intercept("visible",function(e){if(!t.linesVisible)return!1;
var n=this.delegateExtension();return null==n&&(n=!e.isNull&&(!i.isSizeBound&&!i.isColorBound||i.isSizeBound&&null!=e.vars.size.value||i.isColorBound&&(s||null!=e.vars.color.value))),
n}).override("x",function(e){return e.basePosition}).override("y",function(e){return e.orthoPosition;
});t.pvLine=l.pvMark;var u=new Y.visual.DotSizeColor(t,t.pvLine,{extensionId:"dot",
wrapper:r,activeSeriesAware:t.linesVisible,tooltipArgs:{options:{ignoreRadius:i.isSizeBound?!1:t.linesVisible
}}}).override("x",function(e){return e.basePosition}).override("y",function(e){return e.orthoPosition;
}).override("color",function(e,n){return t.dotsVisible||e.isActive||e.isSingle?this.base(e,n):Y.invisibleFill;
});if(i.isSizeBound?t.autoPaddingByDotSize&&"minwidthheight"===t.sizeAxisRatioTo||t.pvPanel.borderPanel.overflow("hidden"):u.override("size",function(n){
var i=!t.dotsVisible&&n.isSingle&&!(n.isActive&&this.showsActivity());if(i){var r=Math.max(t.pvLine.visible()?t.pvLine.lineWidth():0,1),o=r/2+1;
return e.sqr(o)}return this.base(n)}),t.pvDot=u.pvMark,t.pvDot.rubberBandSelectionMode="center",
Y.visual.ValueLabel.isNeeded(t)){var c=["label"];o&&c.push("lineLabel");var h=Y.visual.ValueLabel.maybeCreate(t,t.pvDot,{
extensionId:c,wrapper:r});h&&(t.pvHeatGridLabel=h.pvMark)}},_buildSignsWrapper:function(){
return this.compatVersion()>1?null:function(e){return function(t){var n={category:t.vars.x.rawValue,
value:t.vars.y.rawValue},i=Object.create(this);return i.index=t.dataIndex,e.call(i,n);
}}},renderInteractive:function(){this.pvScatterPanel.render()},_buildScene:function(){
function e(e){var t=new Y.visual.Scene(r,{source:e});t.vars.series=le.fromComplex(e),
a.onNewScene(t,!1),e.datums().each(function(e,n){var i=e.atoms[l.name];if(null!=i.value){
var r=e.atoms[u.name];if(null!=r.value){var o=new Y.visual.Scene(t,{source:e});o.dataIndex=n,
o.vars.x=le.fromAtom(i),o.vars.y=le.fromAtom(r),s.onNewScene(o,!0),a.onNewScene(o,!0),
o.isIntermediate=!1}}})}function t(e){for(var t,i=e.childNodes,r=0,o=0,a=i.length;a>r;r++,
o++){var s=i[o];if(s.isSingle=!t&&!s.nextSibling,t){var l=n(e,t,s,o);l&&o++}t=s}}
function n(e,t,n,i){var r=+n.vars.y.value,o=+t.vars.y.value,c=+n.vars.x.value,h=+t.vars.x.value,d=u.type.cast.call(null,(r+o)/2),f=l.type.cast.call(null,(c+h)/2),p=new Y.visual.Scene(e,{
index:i,source:n.datum});return p.dataIndex=n.dataIndex,p.vars.x=new le(f,l.format(f),f),
p.vars.y=new le(d,u.format(d),d),s.onNewScene(p,!0),a.onNewScene(p,!0),p.ownerScene=n,
p.isIntermediate=!0,p.isSingle=!1,p}var i=this.visibleData({ignoreNulls:!1}),r=new Y.visual.Scene(null,{
panel:this,source:i}),o=this.visualRoles,a=new Y.visual.RoleVarHelper(r,"color",o.color),s=new Y.visual.RoleVarHelper(r,"size",o.size),l=i.owner.dimensions(o.x.grouping.singleDimensionName),u=i.owner.dimensions(o.y.grouping.singleDimensionName);
return i.children().each(e,this),r.children().each(t,this),r},_finalizeScene:function(e){
var t=this.axes,n=t.base.sceneScale({sceneVarName:"x"}),i=t.ortho.sceneScale({sceneVarName:"y"
});return e.children().selectMany(function(e){return e.childNodes}).each(function(e){
e.basePosition=n(e),e.orthoPosition=i(e)}),e}}),Y.PlotPanel.registerClass(Y.MetricPointPanel),
e.type("pvc.MetricPointAbstract",Y.MetricXYAbstract).add({_axisClassByType:{size:Y.visual.MetricPointSizeAxis
},_createPlotsInternal:function(){this._addPlot(this._createPointPlot())},_createPointPlot:function(){},
_createPlotTrend:function(){this._addPlot(new Y.visual.MetricPointPlot(this,{name:"trend",
spec:{visualRoles:{color:{from:"series"},size:null}},fixed:{TrendType:"none",NullInterpolatioMode:"none",
SizeRole:null,SizeAxis:null,OrthoAxis:1},defaults:{DataPart:"trend",ColorAxis:2,LinesVisible:!0,
DotsVisible:!1}}))},_getTranslationClass:function(t){return e.type(this.base(t)).methods({
_configureTypeCore:function(){this._configureTypeByOrgLevel(["series"],["x","y","color","size"]);
}})},_calcAxesOffsetPaddings:function(){var e=this.base();return e||new ie(.01)},
defaults:{axisOriginIsZero:!1,tooltipOffset:10}}),e.type("pvc.MetricDotChart",Y.MetricPointAbstract).add({
_createPointPlot:function(){return new Y.visual.MetricPointPlot(this,{fixed:{DotsVisible:!0
}})}}),e.type("pvc.MetricLineChart",Y.MetricPointAbstract).add({_createPointPlot:function(){
return new Y.visual.MetricPointPlot(this,{fixed:{LinesVisible:!0}})}}),e("pvc.visual.HeatGridPlot",Y.visual.CategoricalPlot.extend({
methods:{type:"heatGrid",interpolatable:function(){return!1},_initVisualRoles:function(){
this.base();var e=this.chart,t=e.compatVersion()>1||1===e.options.sizeValIdx?"value2":"value";
this._addVisualRole("size",{isMeasure:!0,requireSingleDimension:!0,requireIsDiscrete:!1,
valueType:Number,defaultDimension:t})},_getColorRoleSpec:function(){var e=this.chart,t=e.compatVersion()<=1&&1===e.options.colorValIdx?"value2":"value";
return{isMeasure:!0,requireSingleDimension:!0,requireIsDiscrete:!1,valueType:Number,
defaultDimension:t}},_getCategoryRoleSpec:function(){var e=this.base();return e.requireIsDiscrete=!0,
e},_initDataCells:function(){this.base(),this.option("UseShapes")&&this._addDataCell(new Y.visual.DataCell(this,"size",this.option("SizeAxis")-1,this.visualRoles.size));
},_getOrthoRoles:function(){return[this.visualRole("series")]}},options:{SizeRole:{
value:"size"},SizeAxis:{value:1},UseShapes:{resolve:"_resolveFull",cast:Boolean,value:!1
},Shape:{resolve:"_resolveFull",cast:Y.parseShape,value:"square"},NullShape:{resolve:"_resolveFull",
cast:Y.parseShape,value:"cross"},ValuesVisible:{getDefault:function(){return!this.option("UseShapes");
},value:null},ValuesMask:{value:null},ValuesAnchor:{value:"center"},OrthoAxis:{resolve:null
},NullInterpolationMode:{resolve:null,value:"none"},Stacked:{resolve:null,value:!1
}}})),Y.visual.Plot.registerClass(Y.visual.HeatGridPlot),e.type("pvc.HeatGridPanel",Y.CategoricalAbstractPanel).init(function(e,t,n,i){
this.base(e,t,n,i),this.axes.size=e._getAxis("size",n.option("SizeAxis")-1);var r=this.visualRoles;
r.size=e.visualRole(n.option("SizeRole")),this.useShapes=n.option("UseShapes"),this.shape=n.option("Shape"),
this.nullShape=n.option("NullShape"),e.heatGridChartPanel||(e.heatGridChartPanel=this);
}).add({plotType:"heatGrid",defaultBorder:1,nullBorder:2,selectedBorder:2,_createCore:function(){
var t=this;t.base();var n=t._calcCellSize(),i=t.isOrientationVertical()?"bottom":"left",r=Y.BasePanel.relativeAnchor[i],o=Y.BasePanel.parallelLength[i],a=Y.BasePanel.orthogonalLength[i],s=t.visualRoles.series.flatten(t.partData(),{
visible:!0,isNull:t.chart.options.ignoreNulls?!1:null,extensionDataSetsMap:this.plot.boundDimensionsDataSetsMap
}).childNodes,l=t.visibleData({ignoreNulls:!1}),u=t._buildScene(l,s,l.childNodes);
u.cellSize=n;var c=u.isColorBound,h=u.isSizeBound,d=t._buildSignsWrapper(u),f=t.compatVersion()<=1,p=this.axes.base.scale,m=this.axes.ortho.scale,g=p.range().band,v=m.range().band,y=g/2,b=v/2,_=new Y.visual.Panel(t,t.pvPanel).pvMark.data(u.childNodes)[i](function(e){
return m(e.vars.series.value)-b})[a](v),x=["panel"];f&&x.push("");var w={extensionId:x,
wrapper:d};if(!t.useShapes){var C=!1;e.copy(w,{noSelect:C,noHover:C,noClick:C,noDoubleClick:C,
freeColor:C,noTooltip:f})}t.pvHeatGrid=new Y.visual.Panel(t,_,w).pvMark.lock("data",function(e){
return e.childNodes}).lock(r,function(e){return p(e.vars.category.value)-y}).lock(o,g).antialias(!1),
t.shapes=t.useShapes?t._createShapesHeatMap(n,d,c,h):t._createNoShapesHeatMap(c),
t.valuesVisible&&!t.valuesMask&&(t.valuesMask=t._getDefaultValuesMask(c,h));var S=Y.visual.ValueLabel.maybeCreate(t,t.pvHeatGrid,{
wrapper:d});S&&(t.pvHeatGridLabel=S.pvMark,t.useShapes&&S.override("getAnchoredToMark",e.fun.constant(t.shapes)));
},_calcCellSize:function(){var e=this.axes.x.scale,t=this.axes.y.scale,n=(e.max-e.min)/e.domain().length,i=(t.max-t.min)/t.domain().length;
if(!this.isOrientationVertical()){var r=n;n=i,i=r}return{width:n,height:i}},_buildSignsWrapper:function(t){
if(this.compatVersion()>1)return null;var n=e.query(t.childNodes).object({name:function(e){
return""+e.vars.series.value},value:function(t){return e.query(t.childNodes).object({
name:function(e){return""+e.vars.category.value},value:function(e){var t=e.vars.color;
return t?""+t.value:null}})}});return function(e){return function(t){var i=n[t.vars.series.value],r=t.vars.category.rawValue,o=Object.create(this.parent),a=Object.create(this),s=t.childIndex(),l=t.parent.childIndex();
return a.parent=o,o.index=s,a.index=l,e.call(a,i,r)}}},_getDefaultValuesMask:function(e,t){
var n=e?"color":t?"size":null;return n?"{"+n+"}":void 0},_createNoShapesHeatMap:function(e){
var t=this._buildGetBaseFillColor(e);return this.pvHeatGrid.sign.override("defaultColor",function(e,n){
return"stroke"===n?null:t.call(this.pvMark,e)}).override("interactiveColor",function(e,t,n){
return e.isActive?t.alpha(.6):e.anySelected()&&!e.isSelected()?this.dimColor(t,n):this.base(e,t,n);
}).override("dimColor",function(e){return Y.toGrayScale(e,.6)}).pvMark.lineWidth(1.5);
},_buildGetBaseFillColor:function(t){var n=this.axes.color;return t?n.sceneScale({
sceneVarName:"color"}):e.fun.constant(n.option("Unbound"))},_createShapesHeatMap:function(t,n,i,r){
var o=this,a=o._calcDotAreaRange(t);r&&o.axes.size.setScaleRange(a);var s={extensionId:"dot",
freePosition:!0,activeSeriesAware:!1,wrapper:n,tooltipArgs:o._buildShapesTooltipArgs(i,r)
},l=new Y.visual.DotSizeColor(o,o.pvHeatGrid,s).override("dimColor",function(e){return Y.toGrayScale(e,.6);
}).pvMark;return r||l.sign.override("defaultSize",e.fun.constant(a.max)),l},_calcDotAreaRange:function(t){
var n=t.width,i=t.height,r=Math.min(n,i)/2;"diamond"===this.shape&&(r/=Math.SQRT2),
r-=2;var o=e.sqr(r),a=12,s=o-a;return 1>=s&&(o=Math.max(o,2),a=1,s=o-a,e.debug>=2&&this.log.warn("Using rescue mode dot area calculation due to insufficient space.")),
{min:a,max:o,span:s}},_buildShapesTooltipArgs:function(e,t){var i=this.chart;if(this.compatVersion()<=1&&this.showsTooltip()){
var r=i.options,o=r.customTooltip;o||(o=function(e,t,n){return null!=n&&void 0!==n[0]?n.join(", "):n;
});var a=this.visualRoles,s=a.series.grouping.dimensionNames(),l=a.category.grouping.dimensionNames();
return{buildTooltip:r.isMultiValued?function(i){var a=i.scene.group;if(!a)return"";
var u=n.Complex.values(a,s),c=n.Complex.values(a,l),h=[],d=i.scene.vars;return t&&(h[r.sizeValIdx||0]=d.size.value),
e&&(h[r.colorValIdx||0]=d.color.value),o.call(r,u,c,h)}:function(t){var n=t.scene.vars,i=n.series.rawValue,a=n.category.rawValue,s=n[e?"color":"size"],l=s?s.value:null;
return o.call(r,i,a,l)}}}},renderInteractive:function(){this.pvPanel.render()},_buildSceneCore:function(e,t,n){
function i(e){var t=new Y.visual.Scene(a,{source:e});t.vars.series=le.fromComplex(e),
n.forEach(function(n){r.call(o,t,n,e)})}function r(t,n,i){var r=e.child(n.key).child(i.key),o=new Y.visual.Scene(t,{
source:r});o.vars.category=le.fromComplex(n),l.onNewScene(o,!0),u.onNewScene(o,!0);
}var o=this,a=new Y.visual.Scene(null,{panel:o,source:e}),s=o.visualRoles,l=new Y.visual.RoleVarHelper(a,"color",s.color),u=new Y.visual.RoleVarHelper(a,"size",s.size);
return t.forEach(i),a}}),Y.PlotPanel.registerClass(Y.HeatGridPanel),e.type("pvc.HeatGridChart",Y.CategoricalAbstract).add({
_allowColorPerCategory:!0,_defaultAxisBandSizeRatio:1,_axisCreateIfUnbound:{color:!0
},_processOptionsCore:function(e){this.base(e),e.legend=!1},_createPlotsInternal:function(){
this._addPlot(new Y.visual.HeatGridPlot(this))},defaults:{colorValIdx:0,sizeValIdx:1,
measuresIndexes:[2],axisOffset:0,plotFrameVisible:!1,colorNormByCategory:!0,numSD:2
}}),Y.parseBoxLayoutMode=Y.makeEnumParser("layoutMode",["overlapped","grouped"],"grouped"),
e("pvc.visual.BoxPlot",Y.visual.CategoricalPlot.extend({methods:{type:"box",_initVisualRoles:function(){
this.base();var t={isMeasure:!0,requireSingleDimension:!0,requireIsDiscrete:!1,valueType:Number
};[{name:"median",label:"Median",defaultDimension:"median"},{name:"lowerQuartil",
label:"Lower Quartil",defaultDimension:"lowerQuartil"},{name:"upperQuartil",label:"Upper Quartil",
defaultDimension:"upperQuartil"},{name:"minimum",label:"Minimum",defaultDimension:"minimum"
},{name:"maximum",label:"Maximum",defaultDimension:"maximum"}].forEach(function(n){
this._addVisualRole(n.name,e.create(t,n))},this)},_getOrthoRoles:function(){return Y.visual.BoxPlot.measureRolesNames.map(this.visualRole,this);
},_getCategoryRoleSpec:function(){return e.set(this.base(),"requireIsDiscrete",!0);
}},type:{methods:{measureRolesNames:["median","lowerQuartil","upperQuartil","minimum","maximum"]
}},options:{Stacked:{resolve:null,value:!1},LayoutMode:{resolve:"_resolveFull",cast:Y.parseBoxLayoutMode,
value:"grouped"},BoxSizeRatio:{resolve:"_resolveFull",cast:function(t){return t=e.number.to(t),
null==t?1:.05>t?.05:t>1?1:t},value:.9},BoxSizeMax:{resolve:"_resolveFull",data:{resolveV1:function(e){
return this._specifyChartOption(e,"maxBoxSize"),!0}},cast:function(t){return t=e.number.to(t),
null==t?1/0:1>t?1:t},value:1/0}}})),Y.visual.Plot.registerClass(Y.visual.BoxPlot),
e.type("pvc.BoxplotPanel",Y.CategoricalAbstractPanel).init(function(e,t,n,i){this.base(e,t,n,i),
this.boxSizeRatio=n.option("BoxSizeRatio"),this.boxSizeMax=n.option("BoxSizeMax"),
e.bpChartPanel||(e.bpChartPanel=this)}).add({plotType:"box",_v1DimRoleName:{value:"median"
},_createCore:function(){function t(e,t){var n=this.base(e,t);return"stroke"===t?n.darker(1):n;
}function n(e){return e.optionalMark(f,function(){return this.parent[f]()}).optionalMark(d,function(){
return this.parent[f]()/2-this[f]()/2}),e}function i(e){return e.override("defaultColor",t).override("interactiveStrokeWidth",function(e,t){
return t}).override("interactiveColor",function(e,t,n){return"stroke"===n?t:this.base(e,t,n);
})}function r(e){return i(e).optionalMark(d,function(){return this.parent[f]()/2-this[f]()/2;
})}function o(e){return i(n(e))}this.base();var a=this.visibleData({ignoreNulls:!1
}),s=this.axes.base,l=s.domainItems(),u=this.visualRoles.series.flatten(this.partData(),{
visible:!0,isNull:this.chart.options.ignoreNulls?!1:null,extensionDataSetsMap:this.plot.boundDimensionsDataSetsMap
}).childNodes,c=this._buildScene(a,u,l),h=this.isOrientationVertical()?"bottom":"left",d=this.anchorOrtho(h),f=this.anchorLength(h),p=this.anchorOrthoLength(h),m=new Y.visual.Panel(this,this.pvPanel).lock("data",c.childNodes).pvMark,g=["panel"];
this.compatVersion()<=1&&g.push(""),this.pvBoxPanel=new Y.visual.Panel(this,m,{extensionId:g
}).lock("data",function(e){return e.childNodes}).pvMark[f](function(e){return e.vars.category.boxWidth;
})[d](function(e){var t=e.vars.category;return t.boxLeft+t.boxWidth/2-this[f]()/2;
}),this.pvBar=n(new Y.visual.Bar(this,this.pvBoxPanel,{extensionId:"boxBar",freePosition:!0,
normalStroke:!0})).intercept("visible",function(e){return e.vars.category.showBox&&this.delegateExtension(!0);
}).lockMark(h,function(e){return e.vars.category.boxBottom}).lockMark(p,function(e){
return e.vars.category.boxHeight}).override("defaultColor",t).override("interactiveColor",function(e,t,n){
return"stroke"===n?t:this.base(e,t,n)}).override("defaultStrokeWidth",e.fun.constant(1)).override("interactiveStrokeWidth",function(e,t){
return t}).pvMark,this.pvRuleWhiskerUpper=r(new Y.visual.Rule(this,this.pvBoxPanel,{
extensionId:"boxRuleWhisker",freePosition:!0,noHover:!1,noSelect:!1,noClick:!1,noDoubleClick:!1,
noTooltip:!1,showsInteraction:!0})).intercept("visible",function(e){return e.vars.category.showRuleWhiskerUpper&&this.delegateExtension(!0);
}).pvMark.lock(h,function(e){return e.vars.category.ruleWhiskerUpperBottom}).lock(p,function(e){
return e.vars.category.ruleWhiskerUpperHeight}),this.pvRuleWhiskerLower=r(new Y.visual.Rule(this,this.pvBoxPanel,{
extensionId:"boxRuleWhisker",freePosition:!0,noHover:!1,noSelect:!1,noClick:!1,noDoubleClick:!1,
noTooltip:!1,showsInteraction:!0})).intercept("visible",function(e){return e.vars.category.showRuleWhiskerBelow&&this.delegateExtension(!0);
}).pvMark.lock(h,function(e){return e.vars.category.ruleWhiskerLowerBottom}).lock(p,function(e){
return e.vars.category.ruleWhiskerLowerHeight}),this.pvRuleMin=o(new Y.visual.Rule(this,this.pvBoxPanel,{
extensionId:"boxRuleMin",freePosition:!0,noHover:!1,noSelect:!1,noClick:!1,noDoubleClick:!1,
noTooltip:!1,showsInteraction:!0})).intercept("visible",function(e){return null!=e.vars.minimum.value&&this.delegateExtension(!0);
}).pvMark.lock(h,function(e){return e.vars.minimum.position}),this.pvRuleMax=o(new Y.visual.Rule(this,this.pvBoxPanel,{
extensionId:"boxRuleMax",freePosition:!0,noHover:!1,noSelect:!1,noClick:!1,noDoubleClick:!1,
noTooltip:!1,showsInteraction:!0})).intercept("visible",function(e){return null!=e.vars.maximum.value&&this.delegateExtension(!0);
}).pvMark.lock(h,function(e){return e.vars.maximum.position}),this.pvRuleMedian=o(new Y.visual.Rule(this,this.pvBoxPanel,{
extensionId:"boxRuleMedian",freePosition:!0,noHover:!1,noSelect:!1,noClick:!1,noDoubleClick:!1,
noTooltip:!1,showsInteraction:!0})).intercept("visible",function(e){return null!=e.vars.median.value&&this.delegateExtension(!0);
}).lockMark(h,function(e){return e.vars.median.position}).override("defaultStrokeWidth",e.fun.constant(2)).pvMark;
},renderInteractive:function(){this.pvBoxPanel.render()},_buildSceneCore:function(t,n,i){
function r(e,t){var n=new Y.visual.Scene(h,{source:e}),r=e.key;n.vars.series=le.fromComplex(e),
g.onNewScene(n,!1),i.forEach(function(e){o(n,r,e,t)})}function o(n,i,r,o){var h=t.child(r.key),p=h&&h.child(i),y=new Y.visual.Scene(n,{
source:p}),b=y.vars,_=b.category=le.fromComplex(h),x=d(h.value),w=x+(v?l+o*s:-a/2);
e.set(_,"group",h,"x",x,"width",f,"boxWidth",a,"boxLeft",w),u.forEach(function(e){
var t,n;if(p&&(t=e.dimName)){var i=p.dimensions(t),r=i.value(c);n=new le(r,i.format(r)),
n.position=m(r)}else n=new le(null,""),n.position=null;b[e.roleName]=n}),g.onNewScene(y,!0);
var C,S,k=null!=b.minimum.value,D=null!=b.lowerQuartil.value,M=null!=b.median.value,N=null!=b.upperQuartil.value,T=D||N;
T&&(C=D?b.lowerQuartil.position:M?b.median.position:b.upperQuartil.position,S=N?b.upperQuartil.position:M?b.median.position:b.lowerQuartil.position,
T=S!==C,T&&(_.boxBottom=C,_.boxHeight=S-C)),_.showBox=T,T=null!=b.maximum.value,T&&(C=N?b.upperQuartil.position:M?b.median.position:D?b.lowerQuartil.position:k?b.minimum.position:null,
T=null!=C,T&&(_.ruleWhiskerUpperBottom=C,_.ruleWhiskerUpperHeight=b.maximum.position-C)),
_.showRuleWhiskerUpper=T,T=k,T&&(S=D?b.lowerQuartil.position:M?b.median.position:N?b.upperQuartil.position:null,
T=null!=S,T&&(C=b.minimum.position,_.ruleWhiskerLowerHeight=S-C,_.ruleWhiskerLowerBottom=C)),
_.showRuleWhiskerBelow=T}var a,s,l,u=e.query(this.visualRoleList).where(function(e){
return!e.isDiscrete()&&e.isMeasure}).select(function(e){return{roleName:e.name,dimName:e.grouping&&e.grouping.singleDimensionName
}}).array(),c={visible:!0,zeroIfNone:!1},h=new Y.visual.Scene(null,{panel:this,source:t
}),d=this.axes.base.scale,f=d.range().band,p=this.boxSizeMax,m=this.axes.ortho.scale,g=new Y.visual.RoleVarHelper(h,"color",this.visualRoles.color),v="overlapped"!==this.plot.option("LayoutMode");
if(v){var y,b,_,x=n.length,w=this.boxSizeRatio;if(a=x?1===x?f:w*f/x:0,y=a>p,y&&(a=p),
b=x*a,y?(_=b/w,l=-_/2):(_=f,l=-f/2),x>1){var C=(_-b)/(x-1);s=a+C}else s=0}else a=Math.min(f,p);
return n.forEach(r),h}}),Y.PlotPanel.registerClass(Y.BoxplotPanel),e.type("pvc.BoxplotChart",Y.CategoricalAbstract).add({
_defaultAxisBandSizeRatio:1/3,_getTranslationClass:function(t){return e.type(this.base(t)).methods({
_configureTypeCore:function(){this._configureTypeByPhysicalGroup("series"),this._configureTypeByPhysicalGroup("category"),
Y.visual.BoxPlot.measureRolesNames.forEach(function(e){this._configureTypeByPhysicalGroup("value",e,1,1);
},this)}})},_createPlotsInternal:function(){this._addPlot(new Y.visual.BoxPlot(this)),
this.options.plot2&&this._addPlot(new Y.visual.PointPlot(this,{name:"plot2",spec:{
visualRoles:{value:{from:"main.median"}}},defaults:{LinesVisible:!0,DotsVisible:!0,
ColorAxis:2,OrthoAxis:1}}))},_initAxesEnd:function(){var e=this.axesByType.ortho;e&&e.forEach(function(e){
e.option.defaults({Offset:.02})}),this.base()},defaults:{crosstabMode:!1}}),Y.parseTreemapLayoutMode=Y.makeEnumParser("layoutMode",["squarify","slice-and-dice","slice","dice"],"squarify"),
Y.parseTreemapColorMode=Y.makeEnumParser("colorMode",["byParent","bySelf"],"byParent"),
e("pvc.visual.TreemapPlot",Y.visual.Plot.extend({init:function(t,n){if(this.base(t,n),
!(t instanceof Y.TreemapChart))throw e.error(e.format("Plot type '{0}' can only be used from within a treemap chart.",[this.type]));
},methods:{type:"treemap",_initVisualRoles:function(){this.base(),this._addVisualRole("category",{
isRequired:!0,defaultDimension:"category*",autoCreateDimension:!0,rootLabel:this.option("RootCategoryLabel")
}),this._addVisualRole("size",{isMeasure:!0,isRequired:!1,isPercent:!0,requireSingleDimension:!1,
requireIsDiscrete:!1,valueType:Number,defaultDimension:"size"})},_getColorRoleSpec:function(){
return{defaultSourceRole:"category",defaultDimension:"color*",rootLabel:this.option("RootCategoryLabel"),
requireIsDiscrete:!0}},createData:function(e,t){return this.visualRoles.category.select(e,t);
},_initDataCells:function(){this.base(),this._addDataCell(new Y.visual.DataCell(this,"size",this.option("SizeAxis")-1,this.visualRole("size")));
}},options:{SizeRole:{resolve:"_resolveFixed",value:"size"},SizeAxis:{resolve:"_resolveFixed",
value:1},ValuesAnchor:{cast:Y.parseAnchor,value:"center"},ValuesVisible:{value:!0
},ValuesMask:{resolve:"_resolveFull",value:"{category}"},ValuesOptimizeLegibility:{
value:!0},LayoutMode:{resolve:"_resolveFull",cast:Y.parseTreemapLayoutMode,value:"squarify"
},ColorMode:{resolve:"_resolveFull",cast:Y.parseTreemapColorMode,value:"byparent"
},RootCategoryLabel:{resolve:"_resolveFull",cast:String,value:"All"}}})),Y.visual.Plot.registerClass(Y.visual.TreemapPlot),
e.type("pvc.visual.TreemapDiscreteColorAxis",Y.visual.ColorAxis).init(function(e,t,n,i){
this.base(e,t,n,i),this.isByParent="byparent"===e.plots.treemap.option("ColorMode");
}).add({domainItemValueProp:function(){return this.role&&this.role.grouping.isSingleDimension?"value":"absKey";
},domainItemKeyProp:function(){return this.role&&this.role.grouping.isSingleDimension?"key":"absKey";
},domainGroupOperator:function(){return"select"},_calcAvgColor:function(e){var n=e.length;
if(n>1){var i=0,r=0,o=0,a=0;e.forEach(function(e){var t=e.rgb();i+=t.r,r+=t.g,o+=t.b,
a+=t.a});var s=Math.floor;return t.rgb(s(i/n),s(r/n),s(o/n),s(a/n))}var l=e[0];return n?l.darker(.7):l;
},_getBaseScheme:function(){var t=this,n=function(e){return null!=e.value},i=function(e){
return e.children().where(n)},r=function(e){return i(e).any()},o=function(e){return i(e).any(r);
},a=e.query(this.domainData().nodes()).where(o).array(),s=t.option("Colors");return function(n){
var r=n instanceof Array?n:e.array.copy(arguments),o=e.query(a).object({name:function(e){
return t.domainItemValue(e)}});e.array.removeIf(r,function(t){return e.hasOwnProp.call(o,t);
});var l=s(r),u={},c=function(n){var r,a=t.domainItemValue(n);if(e.hasOwnProp.call(o,a)){
if(r=e.getOwn(u,a),!r){var s=i(n).select(c).array();if(!s.length)throw e.assert("Should have at least one child that is also a parent.");
r=u[a]=t._calcAvgColor(s)}}else{var h=t.option.isSpecified("Map")&&t.option("Map");
r=h&&h[a]?h[a]:t.option("PreserveMap")&&t._state.preservedMap&&t._state.preservedMap[a]?t._state.preservedMap[a]:l(a);
}return r};a.forEach(c);var h=function(t){return e.getOwn(u,t)||l(t)};e.copy(h,l);
var d,f;return h.domain=function(){if(arguments.length)throw e.error.operationInvalid("The scale cannot be modified.");
return d||(d=e.array.append(e.ownKeys(u),r))},h.range=function(t){if(arguments.length){
var n=e.own(u).map(function(e){return e.key}),i=t;e.array.removeIf(i,function(e){
return n.indexOf(e.key)>-1}),i.length&&l.range(i),u={},a.forEach(c)}return f||(f=e.array.append(e.own(u),l.range()));
},h}},_selectDomainItems:function(t){var n=e.query(t.nodes()),i=function(e){return null!=e.value;
},r=function(e){return e.children().where(i)},o=function(e){return r(e).any()},a=function(e){
return!o(e)};return n.where(this.isByParent?function(e){return e.parent?i(e)&&o(e):a(e)||r(e).any(a);
}:function(e){return(!e.parent||i(e))&&a(e)})}}),e.type("pvc.TreemapPanel",Y.PlotPanel).init(function(e,t,n,i){
this.base(e,t,n,i),this.axes.size=e._getAxis("size",(n.option("SizeAxis")||0)-1),
this.layoutMode=n.option("LayoutMode")}).add({plotType:"treemap",_createCore:function(n){
var i=this,r=n.clientSize,o=i._buildScene();if(o){if(!o.childNodes.length&&!this.chart.visualRoles.multiChart.isBound())throw new Y.InvalidDataException("Unable to create a treemap chart, please check the data values.","all-zero-data");
var a=e.number.to(i._getConstantExtension("leaf","lineWidth"),1),s=a,l=s/2,u=i.visualRoles.size.isBound()?i.axes.size.scale.by1(function(e){
return e.vars.size.value}):100,c=i.pvTreemapPanel=new Y.visual.Panel(i,i.pvPanel,{
panelType:t.Layout.Treemap,extensionId:"panel"}).pvMark.lock("visible",!0).lock("nodes",o.nodes()).lock("left",l).lock("top",l).lock("width",r.width-s).lock("height",r.height-s).lock("size",u).lock("mode",i.layoutMode).lock("order",null).lock("round",!1);
c.node.left(function(e){return e.x+l}).top(function(e){return e.y+l}).width(function(e){
return e.dx-s}).height(function(e){return e.dy-s});var h=i.axes.color,d=i.visualRoles.color.isBound()?h.sceneScale({
sceneVarName:"color"}):e.fun.constant(h.option("Unbound")),f=new Y.visual.Bar(i,c.leaf,{
extensionId:"leaf"}).lockMark("visible").override("defaultColor",function(e){return d(e);
}).override("defaultStrokeWidth",function(){return a}).pvMark.antialias(!1).lineCap("round").strokeDasharray(function(e){
return e.vars.size.value<0?"dash":null});new Y.visual.Bar(i,c.node,{extensionId:"ascendant",
noHover:!0,noSelect:!0,noClick:!0,noDoubleClick:!0,noTooltip:!0}).intercept("visible",function(e){
return!!e.parent&&!!e.firstChild&&this.delegateExtension(!0)}).override("anyInteraction",function(e){
return e.anyInteraction()||e.isActiveDescendantOrSelf()}).override("defaultStrokeWidth",function(){
return 1.5*s}).override("interactiveStrokeWidth",function(e,t){return this.showsActivity()&&e.isActiveDescendantOrSelf()?1.5*Math.max(1,t):t;
}).override("defaultColor",function(e){return d(e)}).override("normalColor",e.fun.constant(null)).override("interactiveColor",function(e,n,i){
if("stroke"===i){if(this.showsActivity()){if(e.isActiveDescendantOrSelf())return t.color(n).brighter(.5);
if(e.anyActive())return null}if(this.showsSelection()&&e.isSelectedDescendantOrSelf())return t.color(n).brighter(.5);
}return null}).pvMark.antialias(!1);var p=Y.visual.ValueLabel.maybeCreate(i,c.label,{
noAnchor:!0});p&&p.pvMark.textMargin(3).sign.optional("textAngle",function(e){var n=this.defaultText(e),i=this.pvMark;
return e.dx-2*i.textMargin()>t.Text.measureWidth(n,i.font())?0:e.dx>=e.dy?0:-Math.PI/2;
}).override("calcTextFitInfo",function(e,n){var i=this.pvMark,r=i.textMargin();if(!(-1e-6>r)){
var o=i.textAngle(),a=Math.abs(Math.sin(o))<1e-6,s=!a&&Math.abs(Math.cos(o))<1e-6;
if(a||s){var l=!1,u=t.Text.measure(n,i.font()),c=.75*u.height,h=e[s?"dx":"dy"];"middle"!==i.textBaseline()&&(h/=2),
h-=2*r,l|=c>h;var d=e[s?"dy":"dx"];return"center"!==i.textAlign()&&(d/=2),d-=2*r,
l|=0>=d||this.hideOverflowed&&u.width>d,{hide:l,widthMax:d}}}}).override("getAnchoredToMark",function(){
return f})}},renderInteractive:function(){this.pvTreemapPanel.render()},_buildScene:function(){
function e(t){var n=t.group;if(t.vars.category=le.fromComplex(n),r.onNewScene(t,!0),
o&&!t.vars.size.value)return t.parentNode&&t.parentNode.removeChild(t),t;var i=n.children().where(function(e){
return null!=e.value}).array();if(a){var l=s&&!i.length?n.parent:n;if(l){var u=a.view(l);
t.vars.color=new le(u.keyTrimmed(),u.label)}else t.vars.color=new le(null,"")}else t.parent||(t.vars.color=new le(null,""));
return i.forEach(function(n){e(new Y.visual.Scene(t,{source:n}))}),t}var t=this.visibleData({
ignoreNulls:!1});if(!t.childCount())return null;var n=this.visualRoles,i=new Y.visual.Scene(null,{
panel:this,source:t}),r=new Y.visual.RoleVarHelper(i,"size",n.size,{allowNestedVars:!0,
hasPercentSubVar:!0}),o=n.size.isBound(),a=n.color&&n.color.grouping,s=a&&"byparent"===this.plot.option("ColorMode");
return e(i)}}),Y.PlotPanel.registerClass(Y.TreemapPanel),e.type("pvc.TreemapChart",Y.BaseChart).add({
_axisClassByType:{size:Y.visual.NormalizedAxis},_axisCreateIfUnbound:{color:!0},_getTranslationClass:function(t){
return e.type(this.base(t)).methods({_configureTypeCore:function(){this._configureTypeByOrgLevel(["category"],["size"]);
}})},_getIsNullDatum:e.fun.constant(),_createPlotsInternal:function(){this._addPlot(new Y.visual.TreemapPlot(this));
},_initPlotsEnd:function(){this.base(),null==this.options.legend&&(this.options.legend="byparent"===this.plots.treemap.option("ColorMode"));
},_initAxes:function(){return this.visualRoles.color.isDiscrete()?(e.hasOwnProp.call(this,"_axisClassByType")||(this._axisClassByType=Object.create(this._axisClassByType)),
this._axisClassByType.color=Y.visual.TreemapDiscreteColorAxis):delete this._axisClassByType,
this.base()},defaults:{legend:null}}),Y.parseSunburstSliceOrder=Y.makeEnumParser("sliceOrder",["bySizeAscending","bySizeDescending","none"],"bySizeDescending"),
Y.parseSunburstColorMode=Y.makeEnumParser("colorMode",["fan","slice","level"],"fan"),
e("pvc.visual.SunburstPlot",Y.visual.Plot.extend({init:function(t,n){if(this.base(t,n),
!(t instanceof Y.SunburstChart))throw e.error(e.format("Plot type '{0}' can only be used from within a sunburst chart.",[this.type]));
},methods:{type:"sunburst",_initVisualRoles:function(){this.base(),this._addVisualRole("category",{
isRequired:!0,defaultDimension:"category*",autoCreateDimension:!0,rootLabel:this.option("RootCategoryLabel")
}),this._addVisualRole("size",{isMeasure:!0,isRequired:!1,isPercent:!0,requireSingleDimension:!1,
requireIsDiscrete:!1,valueType:Number,defaultDimension:"size"})},_getColorRoleSpec:function(){
return{defaultSourceRole:"category",defaultDimension:"color*",requireIsDiscrete:!0,
rootLabel:this.option("RootCategoryLabel")}},createData:function(e,t){return this.visualRoles.category.select(e,t);
},_initDataCells:function(){this.base(),this._addDataCell(new Y.visual.DataCell(this,"size",this.option("SizeAxis")-1,this.visualRoles.size));
}},options:{SizeRole:{resolve:"_resolveFixed",value:"size"},SizeAxis:{resolve:"_resolveFixed",
value:1},ValuesAnchor:{cast:Y.parseAnchor,value:"center"},ValuesVisible:{value:!0
},ValuesMask:{resolve:"_resolveFull",value:"{category}"},ValuesOptimizeLegibility:{
value:!0},ColorMode:{resolve:"_resolveFull",cast:Y.parseSunburstColorMode,value:"fan"
},RootCategoryLabel:{resolve:"_resolveFull",cast:String,value:"All"},SliceOrder:{
resolve:"_resolveFull",cast:Y.parseSunburstSliceOrder,value:"bySizeDescending"},EmptySlicesVisible:{
resolve:"_resolveFull",cast:Boolean,value:!1},EmptySlicesLabel:{resolve:"_resolveFull",
cast:String,value:""}}})),Y.visual.Plot.registerClass(Y.visual.SunburstPlot),e("pvc.visual.SunburstDiscreteColorAxis",Y.visual.ColorAxis.extend({
methods:{domainItemValueProp:function(){return this.role&&this.role.grouping.isSingleDimension?"value":"absKey";
},domainItemKeyProp:function(){return this.role&&this.role.grouping.isSingleDimension?"key":"absKey";
},domainGroupOperator:function(){return"select"},_selectDomainItems:function(t){var n=function(e){
return null!=e.value},i="slice"!==this.chart.plots.sunburst.option("ColorMode");if(i){
var r=this.option("Colors")().available;if(!r)return e.query(t.childNodes).where(n);
var o=this.domainItemValueProp();return e.query(t.nodes()).where(function(e){return e.parent?n(e)&&(!e.parent.parent||r(e[o])):!1;
})}return e.query(X(t)).where(function(e){return e.parent?n(e):!1})}},options:{SliceBrightnessFactor:{
resolve:"_resolveFull",cast:e.number.toNonNegative,value:1},SliceLevelAlphaRatio:{
resolve:"_resolveFull",cast:K,value:.15},SliceLevelAlphaMin:{resolve:"_resolveFull",
cast:K,value:.1}}})),e.type("pvc.SunburstPanel",Y.PlotPanel).init(function(e,t,n,i){
this.base(e,t,n,i),this.axes.size=e._getAxis("size",(n.option("SizeAxis")||0)-1),
this.sliceOrder=n.option("SliceOrder"),this.emptySlicesVisible=n.option("EmptySlicesVisible"),
this.emptySlicesLabel=this.emptySlicesVisible?n.option("EmptySlicesLabel"):""}).add({
plotType:"sunburst",_createCore:function(){var n=this._getConstantExtension("label","font");
e.string.is(n)&&(this.valuesFont=n);var i=this,r=i._buildScene();if(r){if(!r.childNodes.length&&!this.chart.visualRoles.multiChart.isBound())throw new Y.InvalidDataException("Unable to create a sunburst chart, please check the data values.","all-zero-data");
var o=i.visualRoles.size.isBound()?i.axes.size.scale.by1(function(e){return e.vars.size.value;
}):e.fun.constant(100),a=i.pvSunburstPanel=new Y.visual.Panel(i,i.pvPanel,{panelType:t.Layout.Partition.Fill,
extensionId:"panel"}).pvMark.lock("visible",!0).lock("nodes",r.nodes()).lock("size",o).lock("orient","radial"),s=new Y.visual.SunburstSlice(this,a.node,{
extensionId:"slice",tooltipArgs:{options:{useCorners:!0,gravity:function(){var e=this.midAngle(),t=Math.cos(e)>=0,n=Math.sin(e)>=0;
return t?n?"nw":"sw":n?"ne":"se"}}}}),l=Y.visual.ValueLabel.maybeCreate(i,a.label,{
noAnchor:!0});l&&l.override("defaultText",function(e){return e.isRoot()?"":this.base(e);
}).override("calcTextFitInfo",function(e,n){var i=this.pvMark,r=i.textMargin();if(!(-1e-6>r)&&"center"===i.textAlign()&&n){
var o=Y.normAngle(e.midAngle),a=Y.normAngle(i.textAngle()),s=Math.abs(o-a)<1e-6,l=!1;
if(!s){var u=Y.normAngle(a+Math.PI);l=Math.abs(o-u)<1e-6}if(s||l){var c,h=e.innerRadius,d=h,f=e.outerRadius,p=e.angle,m=t.Text.measure(n,i.font()),g=!1;
if(p<Math.PI){var v=.85*m.height,y=i.textBaseline(),b="middle"===y?v+r/2:2*(v+3*r/2);
d=Math.max(d,b/(2*Math.tan(p/2)))}return c=f-r-d,g|=0>=c,c-=r,g|=this.hideOverflowed&&m.width>c,
{hide:g,widthMax:c}}}}).override("getAnchoredToMark",function(){return s.pvMark});
}},renderInteractive:function(){this.pvSunburstPanel.render()},_buildScene:function(){
function t(e,n){n>x&&(x=n);var i=e.group,a=e.vars.category=le.fromComplex(i);if(o&&null==a.value&&(a.value=o),
d.onNewScene(e,!0),h&&!e.vars.size.value)return e.parentNode&&e.parentNode.removeChild(e),
e;var s=i.children();if(r||(s=s.where(function(e){return null!=e.value})),f){var l=f.view(i);
e.vars.color=new le(l.keyTrimmed(),l.label)}else e.vars.color=new le(null,"");return s.each(function(i){
t(new Y.visual.SunburstScene(e,{source:i}),n+1)}),e}function n(e,t,i,r){var o=null,u=e.parent;
if(u){var c=y||u.isRoot()||_(e.vars.color.value);if(o=c?b(e):null,!o&&(o=u.color))if(g)t&&a&&(o=o.brighter(a*t/(i-1)));else if(v){
o=o.rgb();var h=s*(r-1),d=Math.max(l,(1-h)*o.a);o=o.alpha(d)}}e.color=o;var f=e.childNodes,p=f.length;
f.forEach(function(e,t){n(e,t,p,r+1)})}var i=this.visibleData({ignoreNulls:!1}),r=this.emptySlicesVisible,o=this.emptySlicesLabel;
if(!i.childCount())return null;var a,s,l,u=this.visualRoles,c=new Y.visual.SunburstScene(null,{
panel:this,source:i}),h=u.size.isBound(),d=new Y.visual.RoleVarHelper(c,"size",u.size,{
allowNestedVars:!0,hasPercentSubVar:!0}),f=u.color&&u.color.grouping,p=this.axes.color,m=this.plot.option("ColorMode"),g="fan"===m,v="level"===m,y="slice"===m,b=u.color.isBound()?p.sceneScale({
sceneVarName:"color"}):e.fun.constant(p.option("Unbound")),_=b.available||e.retFalse,x=0;
if(g?a=p.option("SliceBrightnessFactor"):v&&(s=p.option("SliceLevelAlphaRatio"),l=p.option("SliceLevelAlphaMin")),
t(c,0),this.sliceOrder&&h&&"none"!==this.sliceOrder){var w="bysizeascending"===this.sliceOrder?e.ascending:e.descending;
c.sort(function(t,n){return w(Math.abs(t.vars.size.value),Math.abs(n.vars.size.value))||e.ascending(t.childIndex(),n.childIndex());
})}return n(c,0,0,0),c}}),Y.PlotPanel.registerClass(Y.SunburstPanel),e.type("pvc.visual.SunburstScene",Y.visual.Scene).add({
_createSelectedInfo:function(){var e=this.chart().data.owner.selectedCount()>0,t=e&&this.datums().all(n.Datum.isSelected);
return{any:e,is:t}}}),e.type("pvc.SunburstChart",Y.BaseChart).add({_axisClassByType:{
size:Y.visual.NormalizedAxis,color:Y.visual.SunburstDiscreteColorAxis},_axisCreateIfUnbound:{
color:!0},_getTranslationClass:function(t){return e.type(this.base(t)).methods({_configureTypeCore:function(){
this._configureTypeByOrgLevel(["category"],["size"])}})},_getIsNullDatum:e.fun.constant(),
_createPlotsInternal:function(){var e=new Y.visual.SunburstPlot(this);this._addPlot(e),
this.options.legend=!1}}),e("pvc.visual.SunburstSlice",Y.visual.Sign.extend({init:function(n,i,r){
var o=i.add(t.Wedge);r=e.setDefaults(r,"freeColor",!1),this.base(n,o,r),this._bindProperty("lineWidth","strokeWidth");
},properties:["strokeWidth"],methods:{defaultStrokeWidth:e.fun.constant(.5),interactiveStrokeWidth:function(e,t){
return this.showsActivity()&&e.isActiveDescendantOrSelf()?2*Math.max(1,t):t},defaultColor:function(e){
return e.color},normalColor:function(e,t,n){return t&&"stroke"===n?t.darker():t},
interactiveColor:function(e,t,n){if(this.showsActivity())if("stroke"===n){if(e.isActiveDescendantOrSelf())return t.brighter(2).alpha(.7);
}else if(e.isActive)return t.brighter(.2).alpha(.8);return this.mayShowNotAmongSelected(e)?this.dimColor(t,n):this.normalColor(e,t,n);
}}})),e.type("pvc.visual.BulletPlot",Y.visual.Plot.extend({methods:{type:"bullet",
_initVisualRoles:function(){this.base(),this._addVisualRole("title",{defaultDimension:"title*"
}),this._addVisualRole("subTitle",{defaultDimension:"subTitle*"}),this._addVisualRole("value",{
isMeasure:!0,requireIsDiscrete:!1,requireSingleDimension:!1,valueType:Number,defaultDimension:"value*"
}),this._addVisualRole("marker",{isMeasure:!0,requireIsDiscrete:!1,requireSingleDimension:!1,
valueType:Number,defaultDimension:"marker*"}),this._addVisualRole("range",{isMeasure:!0,
requireIsDiscrete:!1,requireSingleDimension:!1,valueType:Number,defaultDimension:"range*"
})}},options:{ValuesVisible:{value:!0}}})),Y.visual.Plot.registerClass(Y.visual.BulletPlot),
e.type("pvc.BulletChart",Y.BaseChart).add({bulletChartPanel:null,allowNoData:!0,_processOptionsCore:function(e){
e.legend=!1,e.selectable=!1,this.base(e)},_getTranslationClass:function(t){return e.type(this.base(t)).methods({
_configureTypeCore:function(){this._configureTypeByOrgLevel([{name:"title",greedy:!1,
maxCount:1},{name:"subTitle",greedy:!1,maxCount:1}],["value","marker",{name:"range",
greedy:!0,maxCount:1/0}])}})},_createPlotsInternal:function(){this._addPlot(new Y.visual.BulletPlot(this));
},defaults:{compatVersion:1,orientation:"horizontal",bulletSize:30,bulletSpacing:50,
bulletMargin:100,bulletTitle:"Title",bulletSubtitle:"",bulletTitlePosition:"left",
tooltipFormat:function(e,t,n){return this.chart.options.valueFormat(n)},crosstabMode:!1,
seriesInRows:!1,dataTypeCheckingMode:"extended"}}),e.type("pvc.BulletChartPanel",Y.PlotPanel).add({
plotType:"bullet",pvBullets:null,pvBullet:null,data:null,onSelectionChange:null,_createCore:function(e){
var n,i,r,o,a,s,l,u,c,h=this.chart,d=h.options,f=this.buildData(),p=this,m="horizontal"==d.orientation?"left":"bottom";
if("horizontal"==d.orientation){switch(n=e.clientSize.width-this.chart.options.bulletMargin-20,
i=0,d.bulletTitlePosition){case"top":l=this.chart.options.bulletMargin,o=0,r="left",
a=-12,c=parseInt(d.titleSize/2,10);break;case"bottom":l=this.chart.options.bulletMargin,
o=0,r="left",a=d.bulletSize+32,c=0;break;case"right":l=5,o=n+5,r="left",a=parseInt(d.bulletSize/2,10),
c=0;break;case"left":default:l=this.chart.options.bulletMargin,o=0,a=parseInt(d.bulletSize/2,10),
r="right",c=0}s="bottom",u=function(){return this.index*(d.bulletSize+d.bulletSpacing)+c;
}}else{switch(n=e.clientSize.height-this.chart.options.bulletMargin-20,d.bulletTitlePosition){
case"top":l=this.chart.options.bulletMargin,o=0,r="left",a=-20,i=0,u=void 0;break;
case"bottom":l=this.chart.options.bulletMargin,o=0,r="left",a=n+20,i=0,u=20;break;
case"right":l=5,o=this.chart.options.bulletSize+40,r="left",a=n,i=-Math.PI/2,u=void 0;
break;case"left":default:l=this.chart.options.bulletMargin,o=-12,a=this.height-this.chart.options.bulletMargin-20,
r="left",i=-Math.PI/2,u=void 0}s="right",l=function(){return d.bulletMargin+this.index*(d.bulletSize+d.bulletSpacing);
}}if(this.pvBullets=this.pvPanel.add(t.Panel).data(f)[Y.BasePanel.orthogonalLength[m]](n)[Y.BasePanel.parallelLength[m]](this.chart.options.bulletSize).margin(20).left(l).top(u),
this.pvBullet=this.pvBullets.add(t.Layout.Bullet).orient(m).ranges(function(e){return e.ranges;
}).measures(function(e){return e.measures}).markers(function(e){return e.markers}),
h.clickable()&&this.clickAction){var p=this;this.pvBullet.cursor("pointer").event("click",function(e){
var n=e.title,i=e.subtitle,r=t.event;return p.clickAction(n,i,e.measures,r)})}if(this.pvBulletRange=this.pvBullet.range.add(t.Bar),
this.pvBulletMeasure=this.pvBullet.measure.add(t.Bar).text(function(e,t){return t.formattedMeasures[this.index];
}),this.pvBulletMarker=this.pvBullet.marker.add(t.Dot).shape("square").fillStyle("white").text(function(e,t){
return t.formattedMarkers[this.index]}),this.showsTooltip()){var g=this;this.pvBulletMeasure.localProperty("tooltip").tooltip(function(e,t){
var n=t.title,i=t.subtitle;return h.options.tooltipFormat.call(g,n,i,e)}),this.pvBulletMarker.localProperty("tooltip").tooltip(function(e,t){
var n=t.title,i=t.subtitle;return h.options.tooltipFormat.call(g,n,i,e)}),this.pvBulletMeasure.event("mouseover",t.Behavior.tipsy(this.chart._tooltipOptions)),
this.pvBulletMarker.event("mouseover",t.Behavior.tipsy(this.chart._tooltipOptions));
}this.pvBulletRule=this.pvBullet.tick.add(t.Rule),this.pvBulletRuleLabel=this.pvBulletRule.anchor(s).add(t.Label).text(function(e){
return p.pvBullet.x.tickFormat(e,this.index)}),this.pvBulletTitle=this.pvBullet.anchor(m).add(t.Label).font("bold 12px sans-serif").textAngle(i).left(-10).textAlign(r).textBaseline("bottom").left(o).top(a).text(function(e){
return e.formattedTitle}),this.pvBulletSubtitle=this.pvBullet.anchor(m).add(t.Label).textStyle("#666").textAngle(i).textAlign(r).textBaseline("top").left(o).top(a).text(function(e){
return e.formattedSubtitle});var v="function"==typeof d.axisDoubleClickAction?function(e,t){
d.axisDoubleClickAction(e,t)}:null;h.doubleClickable()&&v&&(this.pvBulletTitle.cursor("pointer").events("all").event("dblclick",function(e){
v(e,arguments[arguments.length-1])}),this.pvBulletSubtitle.cursor("pointer").events("all").event("dblclick",function(e){
v(e,arguments[arguments.length-1])}))},applyExtensions:function(){this.base(),this.extend(this.pvBullets,"bulletsPanel"),
this.extend(this.pvBullet,"bulletPanel"),this.extend(this.pvBulletRange,"bulletRange"),
this.extend(this.pvBulletMeasure,"bulletMeasure"),this.extend(this.pvBulletMarker,"bulletMarker"),
this.extend(this.pvBulletRule,"bulletRule"),this.extend(this.pvBulletRuleLabel,"bulletRuleLabel"),
this.extend(this.pvBulletTitle,"bulletTitle"),this.extend(this.pvBulletSubtitle,"bulletSubtitle");
},_getExtensionId:function(){return[{abs:"content"}].concat(this.base())},buildData:function(){
var t,n=this.chart,i=n.options,r=n.visualRoles.title,o=r.grouping,a=n.visualRoles.subTitle,s=a.grouping,l=n.visualRoles.value,u=l.grouping,c=n.visualRoles.marker,h=c.grouping,d=n.visualRoles.range,f=d.grouping,p={
title:i.bulletTitle,formattedTitle:i.bulletTitle,subtitle:i.bulletSubtitle,formattedSubtitle:i.bulletSubtitle,
ranges:e.array.to(i.bulletRanges)||[],measures:e.array.to(i.bulletMeasures)||[],markers:e.array.to(i.bulletMarkers)||[]
};return e.set(p,"formattedRanges",p.ranges.map(String),"formattedMeasures",p.measures.map(String),"formattedMarkers",p.markers.map(String)),
t=u||o||h||s||f?n.data.datums().select(function(e){var t,n=Object.create(p);return u&&(t=u.view(e),
n.measures=t.values(),n.formattedMeasures=t.labels()),o&&(t=o.view(e),n.title=t.value,
n.formattedTitle=t.label),s&&(t=s.view(e),n.subtitle=t.value,n.formattedSubtitle=t.label),
h&&(t=h.view(e),n.markers=t.values(),n.formattedMarkers=t.labels()),f&&(t=f.view(e),
n.ranges=t.values(),n.formattedRanges=t.labels()),n},this).array():[p]}}),Y.PlotPanel.registerClass(Y.BulletChartPanel),
e.type("pvc.ParallelCoordinates",Y.BaseChart).init(function(e){e=e||{},e.dimensions=e.dimensions||{},
e.dimensions.value||(e.dimensions.value={valueType:null}),this.base(e)}).add({parCoordPanel:null,
_createContent:function(t,n){this.parCoordPanel=new Y.ParCoordPanel(this,t,e.create(n,{
topRuleOffset:this.options.topRuleOffset,botRuleOffset:this.options.botRuleOffset,
leftRuleOffset:this.options.leftRuleOffset,rightRuleOffset:this.options.rightRuleOffset,
sortCategorical:this.options.sortCategorical,mapAllDimensions:this.options.mapAllDimensions,
numDigits:this.options.numDigits}))},defaults:e.create(Y.BaseChart.prototype.defaults,{
compatVersion:1,topRuleOffset:30,botRuleOffset:30,leftRuleOffset:60,rightRuleOffset:60,
sortCategorical:!0,mapAllDimensions:!0,numDigits:0})}),e.type("pvc.ParCoordPanel",Y.BasePanel).add({
anchor:"fill",pvParCoord:null,dimensions:null,dimensionDescr:null,data:null,retrieveData:function(){
var e=this.chart.data,t=this.chart.options.numDigits;this.dimensions=e.getVisibleCategories();
var n=e.getValues(),i=e.getVisibleSeriesIndexes(),r=e.getVisibleCategoriesIndexes(),o=e.getCategories(),a=r.map(this.chart.options.mapAllDimensions?function(e){
return isNaN(n[e][0])?{categorical:!0,len:0,map:[]}:{categorical:!1,len:0,map:[],
displayValue:[]}}:function(e){return isNaN(n[e][0])?{categorical:!0,len:0,map:[]}:null;
}),s=function(e,n){var i=a[e],r=null;if(i.categorical)r=i.map[n],null==r&&(r=i.len,
i.len++,i.map[n]=r);else{var o=n.toFixed(t);r=i.map[o],null==r&&(r=i.len,i.len++,
i.map[o]=r,i.displayValue[o]=n)}return r};for(var l in a)a.hasOwnProperty(l)&&a[l]&&a[l].categorical&&(a[l].displayValue=a[l].map);
var u,c,h;if(this.chart.options.sortCategorical||this.chart.options.mapAllDimensions)for(u=0;u<a.length;u++)if(a[u]){
for(var d=0;d<n[u].length;d++)s(u,n[u][d]);var f=a[u].map,p=[];for(c in f)f.hasOwnProperty(c)&&p.push(c);
if(p.sort(),a[u].categorical)for(h=0;h<p.length;h++)f[p[h]]=h;else for(h=0;h<p.length;h++)f[p[h]].index=h;
}var m=function(e){var t={};for(var i in r)r.hasOwnProperty(i)&&(t[o[i]]=a[i]?s(i,n[i][e]):n[i][e]);
return t};this.data=i.map(function(e){return m(e)});var g=this.dimensions.map(function(e){
var t={},n=e.split("__");return t.id=e,t.name=n[0],t.unit=n.length>1?n[1]:"",t});for(u=0;u<g.length;u++){
c=g[u];var v=r[u];c.orgRowIndex=v;var y,b,_,x,w,C=n[v].length;if(a[v])for(y=b=_=x=a[v].displayValue[n[v][0]],
h=1;C>h;h++)w=a[v].displayValue[n[v][h]],y>w&&(_=y,y=w),w>b&&(x=b,b=w);else for(y=b=_=x=n[v][0],
h=1;C>h;h++)w=n[v][h],y>w&&(_=y,y=w),w>b&&(x=b,b=w);var S=(b-x+(_-y))/2;if(c.min=y,
c.max=b,c.step=S,c.categorical=!1,a[v]&&(c.map=a[v].map,c.mapLength=a[v].len,c.categorical=a[v].categorical,
!c.categorical)){c.orgValue=[];var k=a[v].map;for(var D in k)k.hasOwnProperty(D)&&(c.orgValue[k[D]]=0+D);
}}var M=function(e,t){for(var n={},i=0;i<e.length;i++)n[e[i]]=t[i];return n};this.dimensionDescr=M(this.dimensions,g);
},_createCore:function(){function e(e){var t=e.dim;return x[t].min=Math.max(b[t].domain()[0],b[t].invert(r-e.y-e.dy)),
x[t].max=Math.min(b[t].domain()[1],b[t].invert(r-e.y)),w=t,I.render(),!1}function n(e){
if(e.dy<3){var t=e.dim;x[t].min=Math.max(b[t].domain()[0],b[t].invert(0)),x[t].max=Math.min(b[t].domain()[1],b[t].invert(r)),
e.y=s,e.dy=h,w=t,I.render()}return!1}var i=this;this.retrieveData();var r=this.height,o=this.chart.options.numDigits,a=this.chart.options.topRuleOffset,s=this.chart.options.botRuleOffset,l=this.chart.options.leftRuleOffset,u=this.width-this.chart.options.rightRuleOffset,c=this.height-a,h=c-s,d=a-12,f=this.dimensions,p=this.dimensionDescr,m=function(e,n){
var i=p[e].min,r=p[e].max,o=p[e].step;return n&&(i-=o,r+=o),t.Scale.linear(i,r).range(s,c);
},g=function(e){var t=m(e,!0).range(s,c),n=p[e];if(n.orgValue&&!n.categorical){var i=function(e){
var i=t(n.orgValue[e]);return i};return i.domain=function(){return t.domain()},i.invert=function(e){
return t.invert(e)},i}return t},v=function(e){var t=m(e,!1).range("steelblue","brown");
return t},y=t.Scale.ordinal(f).splitFlush(l,u),b=t.dict(f,g),_=t.dict(f,v),x=t.dict(f,function(e){
return{min:b[e].domain()[0],max:b[e].domain()[1]}}),w=f[0],C=this.chart.options.mapAllDimensions?function(e){
return f.every(function(t){var n=p[t],i=n.orgValue&&!n.categorical?n.orgValue[e[t]]:e[t];
return i>=x[t].min&&i<=x[t].max})}:function(e){return f.every(function(t){return e[t]>=x[t].min&&e[t]<=x[t].max;
})};this.pvParCoord=this.pvPanel.add(t.Panel).data(i.data).visible(C).add(t.Line).data(f).left(function(e){
return y(e)}).bottom(function(e,t){var n=b[e](t[e]);return n}).strokeStyle("#ddd").lineWidth(1).antialias(!1);
var S=this.pvPanel.add(t.Rule).data(f).left(y).top(a).bottom(s);S.anchor("top").add(t.Label).top(d).font("bold 10px sans-serif").text(function(e){
return p[e].name});var k=[],D=6,M=3;for(var N in p)if(p.hasOwnProperty(N)){var T=p[N];
if(T.categorical){var A=y(T.id)+D;for(var j in T.map)T.map.hasOwnProperty(j)&&(k[k.length]={
x:A,y:b[T.id](T.map[j])+M,label:j})}}this.pvPanel.add(t.Panel).data(k).add(t.Label).left(function(e){
return e.x}).bottom(function(e){return e.y}).text(function(e){return e.label}).textAlign("left");
var I=this.pvPanel.add(t.Panel);I.add(t.Panel).data(i.data).visible(C).add(t.Line).data(f).left(function(e){
return y(e)}).bottom(function(e,t){return b[e](t[e])}).strokeStyle(function(e,t){
var n=p[w],i=n.orgValue&&!n.categorical?n.orgValue[t[w]]:t[w];return _[w](i)}).lineWidth(1);
var P=I.add(t.Panel).data(f.map(function(e){return{y:s,dy:h,dim:e}})).left(function(e){
return y(e.dim)-30}).width(60).fillStyle("rgba(0,0,0,.001)").cursor("crosshair").event("mousedown",t.Behavior.select()).event("select",e).event("selectend",n).add(t.Bar).left(25).top(function(e){
return e.y}).width(10).height(function(e){return e.dy}).fillStyle(function(e){return e.dim==w?_[e.dim]((x[e.dim].max+x[e.dim].min)/2):"hsla(0,0,50%,.5)";
}).strokeStyle("white").cursor("move").event("mousedown",t.Behavior.drag()).event("dragstart",e).event("drag",e);
P.anchor("bottom").add(t.Label).textBaseline("top").text(function(e){return p[e.dim].categorical?"":x[e.dim].min.toFixed(o)+p[e.dim].unit;
}),P.anchor("top").add(t.Label).textBaseline("bottom").text(function(e){return p[e.dim].categorical?"":x[e.dim].max.toFixed(o)+p[e.dim].unit;
}),this.extend(this.pvParCoord,"parCoord"),this.extend(this.pvPanel,"chart")}}),e.type("pvc.DataTree",Y.BaseChart).init(function(e){
e=e||{},e.dimensionGroups=e.dimensionGroups||{},e.dimensionGroups.value||(e.dimensionGroups.value={
valueType:null}),this.base(e)}).add({structEngine:null,structMetadata:null,structDataset:null,
DataTreePanel:null,_getColorRoleSpec:function(){return{isRequired:!0,defaultSourceRole:"category",
requireIsDiscrete:!0}},setStructData:function(e){this.structDataset=e.resultset,this.structDataset.length||this.log("Warning: Structure-dataset is empty"),
this.structMetadata=e.metadata,this.structMetadata.length||this.log("Warning: Structure-Metadata is empty");
},_createContent:function(t,i){var r=this.structEngine,o=r?r.type:new n.ComplexType;
o.addDimension("value",{});var a={seriesInRows:!0,crosstabMode:!0},s=new n.CrosstabTranslationOper(o,this.structDataset,this.structMetadata,a);
s.configureType(),r||(r=this.structEngine=new n.Data({type:o})),r.load(s.execute(r)),
e.debug>=3&&this.log(this.structEngine.getInfo()),this.dataTreePanel=new Y.DataTreePanel(this,t,e.create(i,{
topRuleOffset:this.options.topRuleOffset,botRuleOffset:this.options.botRuleOffset,
leftRuleOffset:this.options.leftRuleOffset,rightRuleOffset:this.options.rightRuleOffset,
boxplotColor:this.options.boxplotColor,valueFontsize:this.options.valueFontsize,headerFontsize:this.options.headerFontsize,
border:this.options.border,perpConnector:this.options.perpConnector,numDigits:this.options.numDigits,
minVerticalSpace:this.options.minVerticalSpace,connectorSpace:this.options.connectorSpace,
minAspectRatio:this.options.minAspectRatio}))},defaults:{compatVersion:1,topRuleOffset:30,
botRuleOffset:30,leftRuleOffset:60,rightRuleOffset:60,boxplotColor:"grey",headerFontsize:16,
valueFontsize:20,border:2,perpConnector:!1,numDigits:0,connectorSpace:.15,minVerticalSpace:.05,
minAspectRatio:2}}),e.type("pvc.DataTreePanel",Y.PlotPanel).add({pvDataTree:null,
treeElements:null,structMap:null,structArr:null,hRules:null,vRules:null,rules:null,
generatePerpConnectors:function(e){this.hRules=[],this.vRules=[],this.rules=[];for(var t in this.structMap){
var n=this.structMap[t];if(null!=n.children){var i=1e4,r=-1e4,o=n.left+n.width;this.hRules.push({
left:o,width:e,bottom:n.bottom+n.height/2}),o+=e;for(var a in n.children){var s=this.structMap[n.children[a]],l=s.bottom+s.height/2;
l>r&&(r=l),i>l&&(i=l),this.hRules.push({left:o,width:s.left-o,bottom:l})}r>i&&this.vRules.push({
left:o,bottom:i,height:r-i})}}},generateLineSegment:function(e,t,n,i){var r=[];r.push({
x:e,y:t}),r.push({x:n,y:i}),this.rules.push(r)},generateConnectors:function(e){if(this.hRules=[],
this.vRules=[],this.chart.options.perpConnector)this.generatePerpConnectors(e);else{
this.rules=[];for(var t in this.structMap){var n=this.structMap[t];if(null!=n.children){
var i,r,o,a=1e4,s=-1e4;for(o in n.children)r=this.structMap[n.children[o]],i=r.bottom+r.height/2,
i>s&&(s=i),a>i&&(a=i);var l=(s+a)/2,u=n.left+n.width,c=u+e;this.generateLineSegment(u,n.bottom+n.height/2,c,l);
for(o in n.children)r=this.structMap[n.children[o]],i=r.bottom+r.height/2,this.generateLineSegment(c,l,r.left,i);
}}}},retrieveStructure:function(){var e=this.chart.structEngine,t=this.chart.options,n=e.getVisibleCategories();
this.treeElements=e.getVisibleSeries();var r,o=e.getValues(),a=n.length>4;for(r in this.treeElements)this.treeElements[r]=i.trim(this.treeElements[r]);
var s=[];s.getElement=function(e){return null==s[e]&&(s[e]={min:1e4,max:-1e4}),s[e];
},s.addValue=function(e,t){var n=s.getElement(e);return t<n.min&&(n.min=t),t>n.max&&(n.max=t),
n};var l,u,c,h;for(r in this.treeElements)c=this.treeElements[r],l=c[0],u=l.charCodeAt(0),
h=parseInt(c.slice(1),10),s.addValue("__cols",u),s.addValue(l,h);var d=s.getElement("__cols"),f=this.innerWidth/(d.max-d.min+1),p=t.connectorSpace*f,m=f-p,g=m/t.minAspectRatio,v=d.min;
delete s.__cols;for(r in s)if(d=s[r],"function"!=typeof d){var y=d.max-d.min+1;d.gridHeight=this.innerHeight/y,
d.cellHeight=d.gridHeight*(1-t.minVerticalSpace),d.cellHeight>g&&(d.cellHeight=g),
d.relBottom=(d.gridHeight-d.cellHeight)/2,d.numRows=y}var b=new RegExp("[\\s\"']+","g");
this.structMap={};for(r in this.treeElements){var _={};c=this.treeElements[r],_.box_id=c,
this.structMap[c]=_,l=c[0],u=l.charCodeAt(0),h=parseInt(c.slice(1),10),d=s.getElement(l),
_.colIndex=u-v,_.rowIndex=d.numRows-(h-d.min)-1,_.left=this.leftOffs+_.colIndex*f,
_.width=m,a?(_.bottom=o[4][r],_.height=o[5][r]):(_.bottom=this.botOffs+_.rowIndex*d.gridHeight+d.relBottom,
_.height=d.cellHeight),_.label=o[0][r],_.selector=o[1][r],_.aggregation=o[2][r];var x=(o[3][r]||"").replace(b," ");
_.children=" "===x||""===x?null:x.split(" ")}this.generateConnectors((f-m)/2),this.structArr=[];
for(r in this.structMap)c=this.structMap[r],this.structArr.push(c)},findDataValue:function(e,t){
for(var n=0;n<t[0].length;n++)if(t[0][n]==e)return t[1][n];this.log("Error: value with key : "+e+" not found.");
},generateBoxPlots:function(){var e=this.chart.options;for(var n in this.structArr){
var i=this.structArr[n];if(i.values.length){i.subplot={};var r=i.subplot,o=[],a=15,s=i.width/6;
r.hRules=[],r.vRules=[],r.marks=[],r.labels=[],o.push(this.findDataValue("_p5",i.values)),
o.push(this.findDataValue("_p25",i.values)),o.push(this.findDataValue("_p50",i.values)),
o.push(this.findDataValue("_p75",i.values)),o.push(this.findDataValue("_p95",i.values));
var l=!1;if("undefined"!=typeof o[2]){o[4]<o[0]&&(o=o.reverse(),this.log(" dataset "+i.box_id+" repaired (_p95 was smaller than _p5)")),
o[4]>o[0]?r.hScale=t.Scale.linear(o[0],o[4]):(l=!0,r.hScale=t.Scale.linear(o[0]-1e-10,o[0]+1e-10)),
r.hScale.range(i.left+s,i.left+i.width-s);var u,c=""+o[2];for(u=0;u<o.length;u++)o[u]=r.hScale(o[u]);
r.bot=i.bottom+i.height/3,r.top=i.bottom+2*i.height/3,r.mid=(r.top+r.bot)/2,r.textBottom=i.bottom+a,
r.textBottom=r.bot-e.valueFontsize-1;var h=3;if(l)r.vRules.push({left:o[0],bottom:r.bot,
lWidth:h,height:r.top-r.bot});else for(r.hRules.push({left:o[0],width:o[1]-o[0],lWidth:1,
bottom:r.mid}),r.hRules.push({left:o[1],width:o[3]-o[1],lWidth:1,bottom:r.bot}),r.hRules.push({
left:o[1],width:o[3]-o[1],lWidth:1,bottom:r.top}),r.hRules.push({left:o[3],width:o[4]-o[3],
lWidth:1,bottom:r.mid}),u=0;u<o.length;u++)r.vRules.push({left:o[u],bottom:r.bot,
lWidth:2==u?h:1,height:r.top-r.bot});r.labels.push({left:o[2],bottom:r.textBottom,
text:this.labelFixedDigits(c),size:e.smValueFont,color:e.boxplotColor})}}}},labelFixedDigits:function(e){
if("string"==typeof e&&(e=parseFloat(e)),"number"==typeof e){var t=this.chart.options.numDigits;
e=e.toFixed(t)}return""+e},addDataPoint:function(e){var t=this.chart.options;for(var n in this.structArr){
var i=this.structArr[n];if(i.values.length){var r=this.findDataValue(e,i.values);if("undefined"!=typeof r){
var o=i.subplot,a=o.hScale(r),s="green";o.marks.push({left:a,bottom:o.mid,color:s
}),o.labels.push({left:a,bottom:o.textBottom,text:this.labelFixedDigits(r),size:t.valueFont,
color:s})}}}},retrieveData:function(){var e,t=this.chart.data,n=this.chart.options,i=t.getVisibleSeries(),r=t.getValues(),o={},a=r.length;
for(var s in this.structArr){var l=this.structArr[s];for(l.values=[],e=0;a>e;e++)l.values.push([]);
o[l.selector]=l}var u={};for(e in i){var c=o[i[e]];if("undefined"!=typeof c)for(var h in r)c.values[h].push(r[h][e]);else u[i[e]]=!0;
}for(var d in u)this.log("Could'nt find box for selector: "+d);this.generateBoxPlots();
var f=new RegExp("[\\s\"']+","g");if(n.selectParam){var p=n.selectParam.replace(f,"");
"undefined"!=p&&p.length>0&&"undefined"!=typeof window[p]&&(p=window[p],this.addDataPoint(p));
}},_createCore:function(){var e=this,n=this.chart.options;n.smValueFontsize=Math.round(.6*n.valueFontsize),
n.smValueFont=""+n.smValueFontsize+"px sans-serif",n.valueFont=""+n.valueFontsize+"px sans-serif";
var i=n.topRuleOffset,r=n.botRuleOffset,o=n.leftRuleOffset;this.innerWidth=this.width-o-n.rightRuleOffset,
this.innerHeight=this.height-i-r,this.botOffs=r,this.leftOffs=o,this.retrieveStructure(),
this.retrieveData();var a,s=n.headerFontsize+3,l=this.rules;for(a=0;a<l.length;a++)this.pvPanel.add(t.Line).data(l[a]).left(function(e){
return e.x}).bottom(function(e){return e.y}).lineWidth(1).strokeStyle("black");for(this.pvDataTree=this.pvPanel.add(t.Bar).data(e.structArr).left(function(e){
return e.left}).bottom(function(e){return e.bottom}).height(function(e){return e.height;
}).width(function(e){return e.width}).fillStyle("green").add(t.Bar).left(function(e){
return e.left+n.border}).bottom(function(e){return e.bottom+n.border}).height(function(e){
return e.height-n.border-s}).width(function(e){return e.width-2*n.border}).fillStyle("white").add(t.Label).text(function(e){
return e.label}).textAlign("center").left(function(e){return e.left+e.width/2}).bottom(function(e){
return e.bottom+e.height-n.headerFontsize-5+n.headerFontsize/5}).font(""+n.headerFontsize+"px sans-serif").textStyle("white").fillStyle("blue"),
a=0;a<this.structArr.length;a++){var u=this.structArr[a];this.pvPanel.add(t.Rule).data(u.subplot.hRules).left(function(e){
return e.left}).width(function(e){return e.width}).bottom(function(e){return e.bottom;
}).lineWidth(function(e){return e.lWidth}).strokeStyle(e.chart.options.boxplotColor),
this.pvPanel.add(t.Rule).data(u.subplot.vRules).left(function(e){return e.left}).height(function(e){
return e.height}).bottom(function(e){return e.bottom}).lineWidth(function(e){return e.lWidth;
}).strokeStyle(e.chart.options.boxplotColor),this.pvPanel.add(t.Dot).data(u.subplot.marks).left(function(e){
return e.left}).bottom(function(e){return e.bottom}).fillStyle(function(e){return e.color;
}),this.pvPanel.add(t.Label).data(u.subplot.labels).left(function(e){return e.left;
}).bottom(function(e){return e.bottom}).font(function(e){return e.size}).text(function(e){
return e.text}).textAlign("center").textStyle(function(e){return e.color})}n.perpConnector&&(this.pvPanel.add(t.Rule).data(e.vRules).left(function(e){
return e.left}).bottom(function(e){return e.bottom}).height(function(e){return e.height;
}).strokeStyle("black"),this.pvPanel.add(t.Rule).data(e.hRules).left(function(e){
return e.left}).bottom(function(e){return e.bottom}).width(function(e){return e.width;
}).strokeStyle("black"))},applyExtensions:function(){this.extend(this.pvDataTree,"dataTree");
}}),Y}),define("common-ui/vizapi/ccc/ccc_analyzer_plugin",["cdf/lib/CCC/def","cdf/lib/CCC/pvc","common-ui/vizapi/VizController","pentaho/common/Messages","dojo/_base/declare","dojo/_base/array"],function(e,t,n,i,r,o){
pentaho="undefined"!=typeof pentaho?pentaho:{},pentaho.visualizations||(pentaho.visualizations={}),
analyzerPlugins="undefined"==typeof analyzerPlugins?[]:analyzerPlugins,analyzerPlugins.push({
init:function(){r("analyzer.CCCVizHelper",null,{isInteractionEnabled:function(){return!0;
},hasContentLink:function(){return/\bcl=/.test(window.location.href)},showConfirm:function(e,t){
t&&cv.prefs.suppressMsg[t]||cv.getActiveReport().rptDlg.showConfirm(e,null,null,null,t);
},message:function(e,t){var n=cvCatalog[e]||"";return n&&t&&(n=cv.util.substituteParams.apply(cv.util,[n].concat(t))),
n},getDoubleClickTooltip:function(e){return cv.getActiveReport().getDoubleClickTooltip(e);
},completeAxisGemsMetadata:function(t,n){function i(e,t){return parseFloat(e.getAttribute("gembarOrdinal"))-parseFloat(t.getAttribute("gembarOrdinal"));
}function r(t){var n="[@gembarId='"+t+"']";n=u?"cv:measures/cv:measure"+n:"cv:columnAttributes/cv:attribute"+n+" | cv:rowAttributes/cv:attribute"+n;
var r=s.selectNodes(n);return r=e.query(r).array(),r.sort(i),r}function a(t){var n=e.getOwn(c,t);
n||(n=c[t]=r(t));for(var i;n.length&&(i=n.shift(),"true"===i.getAttribute("hideInChart")););
return i}var s=cv.getActiveReport().reportDoc.getReportNode(),l=cv.getFieldHelp(),u="measure"===t,c={};
o.forEach(n,function(t){var n=t.role;if(n&&"undefined"!==n){var i,r,o,s,c,h=a(t.role)||e.assert("Undefined gem in document."),d=h.getAttribute("formula")||null,f=!1;
switch(h.parentNode.tagName){case"rowAttributes":c="row";break;case"columnAttributes":
c="column";break;case"measures":c="measure"}if(u&&(r="[Measures]",t.measureType=h.getAttribute("measureTypeEnum")),
u&&"VALUE"!==t.measureType)i=h.getAttribute("id"),d=null,f=!1;else{var p=cv.getActiveReport().getGem(d)||e.assert("No gem object.");
i=p.getUniqueId(),t.label=p.getDisplayLabel(!0);var m=p.getLink&&p.getLink();f=!!m,
o=f?m.getAttribute("toolTip"):null,s=f?m.getAttribute("type"):null,u||(d||e.assert("Non-measures have formulas."),
r=l.get(d,"hierarchy"))}e.set(t,"id",i,"formula",d,"hierarchy",r,"hasLink",f,"linkLabel",o||"","linkType",s,"reportAxis",c);
}})},generateOptionsFromAnalyzerState:function(e){for(var t={},n=e.reportDoc.getChartOptions().attributes,i=0;i<n.length;i++){
var r=n[i];switch(r.nodeName){case"lineShape":case"lineWidth":case"scatterPattern":
case"scatterColorSet":case"scatterReverseColors":break;default:t[r.nodeName]=r.nodeValue;
}}return t},canRefreshReport:function(e){for(var t=e.getVizDataReq(),n=0;n<t.length;n++)if(1==t[n].required&&0==e.findGemsByGembarId(t[n].id).length)return!1;
switch(e.visualization.id){case"ccc_heatgrid":return e.findGemsByGembarId("color").length>0||e.findGemsByGembarId("size").length>0;
case"ccc_barline":return e.findGemsByGembarId("measures").length>0||e.findGemsByGembarId("measuresLine").length>0;
}return!0}}),r("analyzer.CCCVizConfig",[analyzer.ColorConfiguration],{_processModelValueChange:function(e,t){
this.report.visualization.args[e.id]=t.newVal},onModelEvent:function(e,t,n,i){"value"==n&&this._processModelValueChange(t,i),
this.inherited(arguments)},updateConfiguration:function(e){this.inherited(arguments);
var t=this.report.visualization.args;if(o.forEach(e.properties,function(e){if(!e.dataStructure){
var n=e.value;if(void 0===n){var i=e.values;i&&i.length&&(n=i[0])}void 0!==n&&(t[e.id]=n);
}},this),!t.colorScaleType){var n=e.byId("pattern");n&&this._updateColorConfiguration(e);
}this._updateTrendUI(e)},_updateColorConfiguration:function(e){var t,n=e.byId("pattern").value,i=e.byId("colorSet").value,r="";
"GRADIENT"==n?(t="linear",r="-5"):(r="3-COLOR"==n?"-3":"-5",t="discrete"),this._setScalingType(t);
var o=e.byId("reverseColors").value,a=this.palettes[i+r];if(o){for(var s=[],l=a.length-1;l>=0;l--)s.push(a[l]);
a=s}this._setColorRange(a)},_updateTrendUI:function(e){var t=e.byId("trendType");if(t){
var n=t.value,i=!n||"none"===n;e.byId("trendLineWidth").ui.hidden=i,e.byId("trendName").ui.hidden=i;
}},_setScalingType:function(e){this.report.visualization.args.colorScaleType=e},_setColorRange:function(e){
this.report.visualization.args.colors=e}}),r("analyzer.CCCHeatgridVizConfig",[analyzer.CCCVizConfig],{
onModelEvent:function(e,t,n,i){switch(n){case"insertAt":case"gems":this._updateOptions(e);
}this.inherited(arguments)},updateConfiguration:function(e){this._updateOptions(e),
this.inherited(arguments)},_updateOptions:function(e){var t=e.byId("color"),n=e.byId("size"),i=t.gems.length+n.gems.length;
t.required=0==i,n.required=0==i}}),r("analyzer.CCCBarLineVizConfig",[analyzer.CCCVizConfig],{
onModelEvent:function(e,t,n,i){switch(n){case"insertAt":case"gems":this._updateMeasuresOptions(e);
}this.inherited(arguments)},updateConfiguration:function(e){this._updateMeasuresOptions(e),
this.inherited(arguments)},_updateMeasuresOptions:function(e){var t=e.byId("measures"),n=e.byId("measuresLine"),i=t.gems.length+n.gems.length;
t.required=0==i,n.required=0==i;var r=n.gems.length>0;["shape","lineWidth"].forEach(function(t){
e.byId(t).ui.hidden=!r})}}),r("analyzer.CCCScatterVizConfig",[analyzer.CCCVizConfig],{
onModelEvent:function(e,t,n,i){switch(n){case"insertAt":case"gems":this._updateColorRoleOptions(e);
}this.inherited(arguments)},updateConfiguration:function(e){this._updateColorRoleOptions(e),
this.inherited(arguments)},_updateColorRoleOptions:function(e){var t=e.byId("color");
t.allowMultiple=!t.gems.length||"measure"!==t.gems[0].type;var n=t.gems.length>0&&"measure"===t.gems[0].type;
e.byId("reverseColors").ui.hidden=!n,e.byId("colorSet").ui.hidden=!n,e.byId("pattern").ui.hidden=!n;
}});var t=["ccc_bar","ccc_barstacked","ccc_barnormalized","ccc_horzbar","ccc_horzbarstacked","ccc_horzbarnormalized","ccc_pie","ccc_line","ccc_area","ccc_scatter","ccc_barline","ccc_heatgrid","ccc_sunburst"],n={
ccc_heatgrid:analyzer.CCCHeatgridVizConfig,ccc_scatter:analyzer.CCCScatterVizConfig,
ccc_barline:analyzer.CCCBarLineVizConfig},i=new analyzer.CCCVizHelper;cv.pentahoVisualizations||(cv.pentahoVisualizations=[]),
cv.pentahoVisualizationsHelpers||(cv.pentahoVisualizationsHelpers={}),o.forEach(t,function(e){
cv.pentahoVisualizations.push(pentaho.visualizations.getById(e)),cv.pentahoVisualizationHelpers[e]=i,
analyzer.LayoutPanel.configurationManagers["JSON_"+e]=n[e]||analyzer.CCCVizConfig;
},this)}})}),define("common-ui/vizapi/ccc/ccc_wrapper",["cdf/lib/CCC/def","cdf/lib/CCC/pvc","cdf/lib/CCC/protovis","common-ui/vizapi/VizController","common-ui/vizapi/ccc/ccc_analyzer_plugin"],function(e,t,n){
function i(e){pentaho.visualizations.push(e)}function r(){function t(e,t){return t&&cvCatalog[(e||"")+t]||"";
}function n(e){return t("VIZ_",e)||e}function r(e,n){return t("dropZoneLabels_",e)||t("ropZoneLabels_",e)||n||e;
}function o(e,n){return t("dlgChartProps",e)||n||e}function a(e){return{id:"rows",
dataType:"string",dataStructure:"column",caption:r(e),required:!1,allowMultiple:!0,
defaultAppend:!0}}function s(e){return{id:"columns",dataType:"string",dataStructure:"column",
caption:r(e),required:!1,allowMultiple:!0}}function l(e){return{id:"measures",dataType:"number",
dataStructure:"column",caption:r(e),required:!0,allowMultiple:!0,defaultAppend:!0
}}function u(){return{id:"multi",dataType:"string",dataStructure:"column",caption:r("MULTI_CHART"),
allowMultiple:!0,required:!1}}function c(t,n){var i=["circle","cross","diamond","square","triangle"];
return t&&(i=i.filter(function(n){return e.hasOwn(t,n)})),i.unshift("none"),{id:"shape",
dataType:"string",values:i,ui:{labels:i.map(function(e){return r(e.toUpperCase());
}),group:"options",type:"combo",seperator:n?e.get(n,"separator",!1):!1,caption:r("BULLET_STYLE")
}}}function h(){return{id:"lineWidth",dataType:"string",values:["1","2","3","4","5","6","7","8"],
ui:{labels:["1","2","3","4","5","6","7","8"],group:"options",type:"combo",caption:o("LineWidth")
}}}function d(t){var n=["none","linear"];return[{id:"trendType",dataType:"string",
values:n,ui:{labels:n.map(function(e){return r("TREND_TYPE_"+e.toUpperCase())}),group:"options",
type:"combo",caption:r("TREND_TYPE"),seperator:e.get(t,"separator",!0)}},{id:"trendName",
dataType:"string",ui:{group:"options",type:"textbox",caption:r("TREND_NAME")}},{id:"trendLineWidth",
dataType:"string",values:["1","2","3","4","5","6","7","8"],ui:{labels:["1","2","3","4","5","6","7","8"],
group:"options",type:"combo",caption:r("TREND_LINEWIDTH")}}]}function f(e){var t=["bySizeDescending","bySizeAscending","none"];
return[{id:"sliceOrder",dataType:"string",values:t,ui:{labels:t.map(function(e){return r("SORT_TYPE_"+e.toUpperCase());
}),group:"options",type:"combo",caption:r("SORT_TYPE"),seperator:e}}]}function p(t){
return{id:"pattern",dataType:"string",values:["GRADIENT","3-COLOR","5-COLOR"],ui:{
labels:["GRADIENT","3_STEP","5_STEP"].map(function(e){return r(e)}),group:"options",
type:"combo",caption:r("PATTERN"),seperator:e.get(t,"separator",!1)}}}function m(){
return{id:"colorSet",dataType:"string",values:["ryg","ryb","blue","gray"],ui:{labels:["RYG","RYB","BLUE","GRAY"].map(function(e){
return r("GRAD_"+e)}),group:"options",type:"combo",caption:r("COLORSET")}}}function g(){
return{id:"reverseColors",dataType:"boolean",ui:{label:r("COLORSET_REVERSE"),group:"options",
type:"checkbox"}}}function v(){return{id:"emptySlicesHidden",dataType:"boolean",value:!0,
ui:{label:r("SHOW_AS_GAPS"),group:"options",type:"checkbox",caption:r("EMPTY_SLICES")
}}}function y(e){var t=["none","outside","inside"];return{id:"labelsOption",dataType:"string",
values:t,ui:{labels:t.map(function(e){return r("VALUE_POSITION_"+e.toUpperCase());
}),group:"options",type:"combo",caption:r("VALUE_POSITION")}}}function b(t){var n=["none","center","left","right","top","bottom"];
if(t&&t.hideOptions)for(var i=0;i<t.hideOptions.length;i++)for(var o=0;o<n.length;o++)if(n[o]===t.hideOptions[i]){
n.splice(o,1);break}return{id:e.get(t,"labels_option","labelsOption"),dataType:"string",
values:n,ui:{labels:n.map(function(e){return r("VALUE_ANCHOR_DOTS_"+e.toUpperCase());
}),group:"options",type:"combo",caption:r(e.get(t,"value_anchor","VALUE_ANCHOR"))
}}}function _(t){var n=e.get(t,"anchors");return{id:"labelsOption",dataType:"string",
values:n,ui:{labels:n.map(function(e){return r("COLUMN_LABEL_ANCHOR_"+e.toUpperCase());
}),group:"options",type:"combo",seperator:e.get(t,"separator",!0),caption:r(e.get(t,"value_anchor","VALUE_ANCHOR"))
}}}function x(e){return{id:"optionsBtn",dataType:"none",ui:{group:"options",type:"button",
label:r("CHART_OPTIONS"),seperator:e||!1}}}function w(t,n){var i=[];return e.get(n,"row",!0)&&i.push(a(t+"_ROW")),
e.get(n,"column",!0)&&i.push(s(t+"_COL")),e.get(n,"measure",!0)&&i.push(l(t+"_NUM")),
e.get(n,"multi",!0)&&i.push(u()),e.get(n,"options",!0)&&i.push(x(!1)),i}i({id:"ccc_bar",
type:"barchart",source:"CCC",name:n("VERTICAL_BAR"),"class":"pentaho.ccc.BarChart",
args:{},propMap:[],dataReqs:[{name:"Default",reqs:e.array.appendMany(w("VERTICAL_BAR",{
options:!1}),[_({separator:!1,anchors:["none","center","inside_end","inside_base","outside_end"]
})],d({separator:!0}),[x(!0)])}],menuOrdinal:100}),i({id:"ccc_barstacked",type:"barchart",
source:"CCC",name:n("STACKED_VERTICAL_BAR"),"class":"pentaho.ccc.StackedBarChart",
args:{},propMap:[],dataReqs:[{name:"Default",reqs:e.array.appendMany(w("STACKED_VERTICAL_BAR",{
options:!1}),[_({separator:!1,anchors:["none","center","inside_end","inside_base"]
})],[x(!0)])}],menuOrdinal:110}),i({id:"ccc_horzbar",type:"horzbarchart",source:"CCC",
name:n("HORIZONTAL_BAR"),"class":"pentaho.ccc.HorizontalBarChart",args:{},propMap:[],
dataReqs:[{name:"Default",reqs:e.array.appendMany(w("HORIZONTAL_BAR",{options:!1}),[_({
separator:!1,anchors:["none","center","inside_end","inside_base","outside_end"]})],[x(!0)])
}],menuOrdinal:130,menuSeparator:!0}),i({id:"ccc_horzbarstacked",type:"horzbarchart",
source:"CCC",name:n("STACKED_HORIZONTAL_BAR"),"class":"pentaho.ccc.HorizontalStackedBarChart",
args:{},propMap:[],dataReqs:[{name:"Default",reqs:e.array.appendMany(w("STACKED_HORIZONTAL_BAR",{
options:!1}),[_({separator:!1,anchors:["none","center","inside_end","inside_base"]
})],[x(!0)])}],menuOrdinal:140}),i({id:"ccc_barnormalized",type:"barchart",source:"CCC",
name:n("PCT_STACKED_VERTICAL_BAR"),"class":"pentaho.ccc.NormalizedBarChart",args:{},
propMap:[],dataReqs:[{name:"Default",reqs:e.array.appendMany(w("PCT_STACKED_VERTICAL_BAR",{
options:!1}),[_({separator:!1,anchors:["none","center","inside_end","inside_base"]
})],[x(!0)])}],menuOrdinal:120}),i({id:"ccc_horzbarnormalized",type:"horzbarchart",
source:"CCC",name:n("PCT_STACKED_HORIZONTAL_BAR"),"class":"pentaho.ccc.HorizontalNormalizedBarChart",
args:{},propMap:[],dataReqs:[{name:"Default",reqs:e.array.appendMany(w("PCT_STACKED_HORIZONTAL_BAR",{
options:!1}),[_({separator:!1,anchors:["none","center","inside_end","inside_base"]
})],[x(!0)])}],menuOrdinal:150}),i({id:"ccc_line",type:"linechart",source:"CCC",name:n("LINE"),
"class":"pentaho.ccc.LineChart",args:{shape:"circle"},propMap:[],dataReqs:[{name:"Default",
drillOrder:["rows"],hyperlinkOrder:["rows","columns"],reqs:e.array.appendMany(w("LINE",{
options:!1}),[b(!0),c(null,{separator:!0}),h()],d(),[x(!0)])}],menuOrdinal:160,menuSeparator:!0
}),i({id:"ccc_area",type:"areachart",source:"CCC",name:n("STACKED_AREA"),"class":"pentaho.ccc.StackedAreaChart",
args:{},propMap:[],dataReqs:[{name:"Default",drillOrder:["rows"],hyperlinkOrder:["rows","columns"],
reqs:e.array.appendMany(w("STACKED_AREA",{options:!1}),[b(!0)],[x(!0)])}],menuOrdinal:180
}),i({id:"ccc_scatter",type:"scatter",source:"CCC",name:n("SCATTER"),visualKeyType:"dataOrdinal",
"class":"pentaho.ccc.MetricDotChart",maxValues:[1e3,2500,5e3,1e4],args:{},propMap:[],
dataReqs:[{name:"Default",reqs:e.array.appendMany([{id:"x",dataType:"number",dataStructure:"column",
caption:r("SCATTER_X"),required:!0,allowMultiple:!1},{id:"y",dataType:"number",dataStructure:"column",
caption:r("SCATTER_Y"),required:!0,allowMultiple:!1},{id:"rows",dataType:"string",
dataStructure:"column",caption:r("SCATTER_ROW"),required:!0,allowMultiple:!0},{id:"color",
dataType:"number, string",dataStructure:"column",caption:r("SCATTER_COL"),required:!1,
allowMultiple:!1},{id:"size",dataType:"number",dataStructure:"column",caption:r("SCATTER_Z"),
required:!1,allowMultiple:!1},u(),p(),m(),g()],[b()],d(),[x(!0)])}],menuOrdinal:190,
menuSeparator:!0}),i({id:"ccc_barline",type:"barchart",source:"CCC",name:n("VERTICAL_BAR_LINE"),
"class":"pentaho.ccc.BarLineChart",args:{shape:"circle"},propMap:[],dataReqs:[{name:"Default",
reqs:[a("VERTICAL_BAR_LINE_ROW"),s("VERTICAL_BAR_LINE_COL"),e.set(l("VERTICAL_BAR_LINE_NUMCOL"),"required",!1),e.set(l("VERTICAL_BAR_LINE_NUMLINE"),"id","measuresLine","required",!1),_({
value_anchor:"VALUE_COLUMN_ANCHOR",separator:!1,anchors:["none","center","inside_end","inside_base","outside_end"]
}),b({labels_option:"lineLabelsOption",value_anchor:"VALUE_LINE_ANCHOR"}),u(),c(null,{
separator:!0}),h(),x(!0)]}],menuOrdinal:125}),i({id:"ccc_waterfall",type:"waterfallchart",
source:"CCC",name:n("WATERFALL"),"class":"pentaho.ccc.WaterfallChart",args:{},propMap:[],
dataReqs:[{name:"Default",reqs:w("WATERFALL")}]}),i({id:"ccc_boxplot",type:"boxplotchart",
source:"CCC",name:n("BOXPLOT"),"class":"pentaho.ccc.BoxplotChart",args:{},propMap:[],
dataReqs:[{name:"Default",reqs:[a("BOXPLOT_ROW"),e.set(l("BOXPLOT_PCT50"),"allowMultiple",!1,"required",!1),{
id:"percentil25",dataType:"number",dataStructure:"column",caption:r("BOXPLOT_PCT25"),
required:!1,allowMultiple:!1},{id:"percentil75",dataType:"number",dataStructure:"column",
caption:r("BOXPLOT_PCT75"),required:!1,allowMultiple:!1},{id:"percentil5",dataType:"number",
dataStructure:"column",caption:r("BOXPLOT_PCT05"),required:!1,allowMultiple:!1},{
id:"percentil95",dataType:"number",dataStructure:"column",caption:r("BOXPLOT_PCT95"),
required:!1,allowMultiple:!1},u(),x()]}]}),i({id:"ccc_pie",type:"piechart",source:"CCC",
name:n("MULTIPLE_PIE"),"class":"pentaho.ccc.PieChart",args:{labelsOption:"outside"
},propMap:[],dataReqs:[{name:"Default",drillOrder:["rows","columns"],hyperlinkOrder:["rows","columns"],
reqs:e.array.appendMany(w("MULTIPLE_PIE",{multi:!1,options:!1}),[y(),x(!0)])}],menuOrdinal:183
}),i({id:"ccc_heatgrid",type:"heatgrid",source:"CCC",name:n("HEATGRID"),"class":"pentaho.ccc.HeatGridChart",
maxValues:[500,1e3,2e3,5e3],args:{shape:"square"},propMap:[],dataReqs:[{name:"Default",
reqs:[{id:"rows",dataType:"string",dataStructure:"row",caption:r("HEATGRID_ROW"),
required:!0,allowMultiple:!0},{id:"columns",dataType:"string",dataStructure:"column",
caption:r("HEATGRID_COL"),required:!1,allowMultiple:!0},{id:"color",dataType:"number",
dataStructure:"column",caption:r("HEATGRID_COLOR"),required:!1,allowMultiple:!1},{
id:"size",dataType:"number",dataStructure:"column",caption:r("HEATGRID_SIZE"),required:!1,
allowMultiple:!1},b({hideOptions:["left","right","top","bottom"]}),p({separator:!0
}),m(),g(),c({square:!0,circle:!0}),x(!0)]}],menuOrdinal:200}),i({id:"ccc_treemap",
type:"treemapchart",source:"CCC",name:n("TREEMAP"),"class":"pentaho.ccc.TreemapChart",
args:{},propMap:[],dataReqs:[{name:"Default",reqs:[e.set(a("TREEMAP_ROW"),"required",!0),{
id:"size",dataType:"number",dataStructure:"column",caption:r("TREEMAP_SIZE"),required:!1,
allowMultiple:!1},u(),x(!1)]}]}),i({id:"ccc_bulletchart",type:"bulletchart",source:"CCC",
name:"Bullet Chart","class":"pentaho.ccc.BulletChart",args:{},propMap:[],dataReqs:[{
name:"Default",reqs:[{id:"rows",dataType:"string",dataStructure:"row",caption:"Across",
required:!0},{id:"columns",dataType:"string",dataStructure:"column",caption:"Down",
required:!0},{id:"measures",dataType:"number",dataStructure:"column",caption:"Values",
required:!0},x()]}]}),i({id:"ccc_sunburst",type:"treemapchart",source:"CCC",name:n("SUNBURST"),
"class":"pentaho.ccc.SunburstChart",args:{},propMap:[],dataReqs:[{name:"Default",
reqs:e.array.appendMany([e.set(a("SUNBURST_ROW"),"required",!0),{id:"size",dataType:"number",
dataStructure:"column",caption:r("SUNBURST_SIZE"),required:!1,allowMultiple:!1},u()],[b({
hideOptions:["left","right","top","bottom"]})],f(!0),[v()],[x(!0)])}],menuOrdinal:185
})}function o(e){var n=e.color;return e.isOn()?n:t.toGrayScale(n)}function a(e){switch(e){
case"string":return"STRING";case"number":return"NUMERIC"}throw new Error("Unsupported data type");
}function s(e){var t=e.lastIndexOf("~");return 0>t?["",e]:[e.substring(0,t),e.substring(t+1)];
}function l(e,t){return e?e.replace(/\bdefault\s*$/i,"sans-serif"):(t||10)+"px sans-serif";
}function u(e,t){var n=e[t+"Size"];if(n){var i=e[t+"Style"];return null==i||"PLAIN"==i?i="":i+=" ",
i+n+"px "+e[t+"FontFamily"]}}function c(e,t){return+e[t+"Size"]}function h(e,t){return e[t+"FontFamily"];
}function d(t,n){var i=t.getColumnProperty(n,"dataReq");return i?e.array.to(i).map(function(e){
return e.id||(e.id="undefined"),e}):void 0}function f(){this.options||(this.options={}),
this._vizOptions.labelsVisible&&(this.options.valuesVisible=this._vizOptions.labelsVisible),
this._vizOptions.labelsAnchor&&(this.options.valuesAnchor=this._vizOptions.labelsAnchor),
this._vizOptions.labelsTextAlign&&(this.options.extensionPoints||(this.options.extensionPoints={}),
this.options.extensionPoints.label_textAlign=this._vizOptions.labelsTextAlign)}function p(){
return this.options||(this.options={}),this._vizOptions.labelsOption&&"none"!=this._vizOptions.labelsOption?this.options.valuesVisible=!0:this.options.valuesVisible=!1;
}function m(){p.call(this)&&(this.options.valuesAnchor=this._vizOptions.labelsOption);
}function g(){if(p.call(this)){this.options.extensionPoints||(this.options.extensionPoints={});
var e=this._vizOptions.labelsOption;this.options.extensionPoints.label_textMargin=7,
"center"==e&&(this.options.valuesAnchor="center"),"inside_end"==e&&("horizontal"==this.options.orientation?this.options.valuesAnchor="right":this.options.valuesAnchor="top"),
"inside_base"==e&&("horizontal"==this.options.orientation?this.options.valuesAnchor="left":this.options.valuesAnchor="bottom"),
"outside_end"==e&&("horizontal"==this.options.orientation?(this.options.valuesAnchor="right",
this.options.extensionPoints.label_textAlign="left"):(this.options.valuesAnchor="top",
this.options.extensionPoints.label_textBaseline="bottom"))}}function v(){var e=this._vizOptions.lineLabelsOption;
e&&"none"!=e&&(this.options.plot2ValuesVisible=!0,this.options.plot2ValuesAnchor=e);
}function y(){p.call(this)&&(this.options.valuesLabelStyle=this._vizOptions.labelsOption);
}pentaho="undefined"!=typeof pentaho?pentaho:{},e.globalSpace("pentaho",pentaho),
pentaho.visualizations||(pentaho.visualizations={});var b=/\[#null\]$/;r(),pentaho.trends.types().forEach(function(e){
var n=pentaho.trends.get(e);t.trends.define(e,n)}),e.type("pentaho.ccc.Axis").init(function(e,t){
function n(e,t){e.axis=this,e.index=t;var n=e.role;if(n&&"undefined"!==n){this._ensureRole(n)&&(this.boundRoles[n]=!0,
this.boundRolesIdList.push(n));var i=this.gemsByRole[n];e.roleLevel=i.length,i.push(e),
this.indexesByRole[n].push(t)}this.formulas.push(e.formula)}this.chart=e,this.id=t,
this.gemsByRole={},this.indexesByRole={},this.boundRoles={},this.boundRolesIdList=[],
this.gems=this._getGems(),this.depth=this.gems.length,this.formulas=[],this.gems.forEach(n,this);
}).add({defaultRole:null,_ensureRole:function(e){return this.gemsByRole[e]?void 0:(this.gemsByRole[e]=[],
this.indexesByRole[e]=[],!0)},configure:function(e,t){return this.configureDimensionGroups(),
this.configureReaders(e,t)},configureDimensionGroups:function(){},configureReaders:function(t,n){
var i=this.chart.options.readers,r=t;return this.cccDimList().forEach(function(t){
null!=t&&e.hasOwn(n,t)||(null!=t&&(n[t]=!0),i.push(this._createReader(t,r)),r++)},this),
r},_createReader:function(e,t){return{names:e,indexes:t}},_getGems:function(){var e=this.chart._axesGemsInfo[this.id],t=this.chart._vizHelper;
return t.completeAxisGemsMetadata&&t.completeAxisGemsMetadata(this.id,e),e},getAxisLabel:function(){
var t=e.query(this._getAxisLabelGems()).where(function(e){return e.cccDimName}).select(function(e){
return e.label}).array(),n=t.pop(),i=t.join(", ");return i&&n?this.chart._message("chartAxisTitleMultipleDimText",[i,n]):i||n;
},_getAxisLabelGems:function(){return this.gems},buildHtmlTooltip:function(e,t,n){
this.gems.forEach(this._buildGemHtmlTooltip.bind(this,e,t,n))},_buildGemHtmlTooltip:function(t,n,i,r,o){
if(r.cccDimName&&r.role!==this.chart._multiRole){var a=n.atoms[r.cccDimName];a.dimension.type.isHidden||n.isTrend&&null==a.value||t.push(e.html.escape(r.label)+": "+e.html.escape(a.label));
}},cccDimList:e.method({isAbstract:!0}),fillCellSelection:e.method({isAbstract:!0
})}),pentaho.ccc.Axis.create=function(t,n){var i;switch(n){case"row":i=pentaho.ccc.RowAxis;
break;case"column":i=pentaho.ccc.ColumnAxis;break;case"measure":i=pentaho.ccc.MeasureAxis;
break;default:throw e.error.argumentInvalid("Undefined axis value '{0}'.",[n])}return new i(t);
},e.type("pentaho.ccc.DiscreteAxis",pentaho.ccc.Axis).init(function(t,n){this.base(t,n);
var i=this.gemsByRole[this.chart._multiRole];this.hasMulti=!!i&&e.query(i).any(function(e){
return!e.isMeasureDiscrim})}).postInit(function(){this.hasMulti&&this._ensureRole(this.chart._multiRole);
}).add({_nonMultiGemFilter:function(e){return e.role!==this.chart._multiRole},cccDimList:function(){
if(!this._cccDimList){var e=this._cccDimList=new Array(this.gems.length);this.gems.forEach(function(t){
t.cccDimName=e[t.index]=this._getGemDimName(t)||null},this)}return this._cccDimList;
},_getGemDimName:function(e){var n=this.chart._rolesToCccDimensionsMap,i=n[e.role];
return"string"==typeof i?t.buildIndexedId(i,e.roleLevel):void 0},_isNullMember:function(e,t){
var n=e.atoms[t.cccDimName],i=n.value;return null==i||b.test(i)},_buildGemHtmlTooltip:function(e,t,n,i,r){
!i.cccDimName||!this._nonMultiGemFilter(i)||this.chart._hideNullMembers&&this._isNullMember(n.scene.group||t,i)||this.base.apply(this,arguments);
},_getAxisLabelGems:function(){return e.query(this.gems).where(this._nonMultiGemFilter,this);
},fillCellSelection:function(e,t,n){var i,r=[],o=[];if(this.getSelectionGems(n).each(function(e){
var n=t.atoms[e.cccDimName];r.push(e.formula),o.push(null==n.value?n.rawValue:n.value),
i=n.label}),r.length){var a=this.id;e[a]=!0,e[a+"Id"]=r,e[a+"Item"]=o,e[a+"Label"]=i;
}},getSelectionGems:function(t){return null==t&&(t=!0),e.query(this.gems).where(function(e,n){
return!(t&&!this._nonMultiGemFilter(e)||e.isMeasureDiscrim||!e.cccDimName)},this);
}}),e.type("pentaho.ccc.ColumnAxis",pentaho.ccc.DiscreteAxis).init(function(e){var t=e._rolesToCccDimensionsMap;
this.hasMeasureDiscrim=!(e.options.dataOptions.measuresInColumns||!t[this.defaultRole]&&!t[e.axes.row.defaultRole]),
this.isHiddenMeasureDiscrim=this.hasMeasureDiscrim&&!(e.axes.measure.genericMeasuresCount>1),
this.base(e,"column"),this._ensureRole(this.defaultRole),this.realDepth=this.hasMeasureDiscrim?this.depth-1:this.depth;
}).add({defaultRole:"columns",hiddenMeasureDiscrimDimName:"measureDiscrim",measureDiscrimName:null,
_getGems:function(){var e=this.base();return this.hasMeasureDiscrim&&e.push({isMeasureDiscrim:!0,
id:"__MeasureDiscrim__",label:"Measure discriminator",axis:this.id,role:this.defaultRole
}),e},_getGemDimName:function(e){if(e.isMeasureDiscrim&&this.isHiddenMeasureDiscrim)return this.measureDiscrimName=this.hiddenMeasureDiscrimDimName;
var n=this.base(e);if(e.isMeasureDiscrim){if(!n){var i=this.chart._rolesToCccDimensionsMap,r=this.chart.axes.row,o=r.defaultRole,a=i[o],s=r.gemsByRole[o].length;
n=t.buildIndexedId(a,s)}this.measureDiscrimName=n}return n},configureDimensionGroups:function(){
this.base(),this.cccDimList(),this.measureDiscrimName&&(this.chart.options.dimensions[this.measureDiscrimName]={
isHidden:!0})}}),e.type("pentaho.ccc.RowAxis",pentaho.ccc.DiscreteAxis).init(function(e){
this.base(e,"row"),this._ensureRole(this.defaultRole)}).add({defaultRole:"rows"}),
e.type("pentaho.ccc.MeasureAxis",pentaho.ccc.Axis).init(function(t){this.base(t,"measure"),
this._ensureRole(this.defaultRole),this.genericMeasuresCount=0,this.genericMeasureRoles={},
e.eachOwn(this.gemsByRole,function(e,t){0===t.indexOf("measures")&&(this.genericMeasureRoles[t]=!0,
this.genericMeasuresCount+=e.length)},this)}).add({defaultRole:"measures",_getGems:function(){
var t=this.base(),n=[];return t.forEach(function(t){var i,r=t.id;r&&(i=e.getOwn(this.chart._measuresInfo,r))&&(t.role=i.role,
n.push(t))},this),n},cccDimList:function(){return this._cccDimList||(this._cccDimList=this.chart._measureRolesInfoList.map(function(e){
return this.gemsByRole[e.id].forEach(function(t){t.cccDimName=e.cccDimName}),e.cccDimName;
},this)),this._cccDimList},_buildGemHtmlTooltip:function(t,n,i,r){var o=this.chart.axes.column;
if(!o.measureDiscrimName||!e.hasOwn(this.genericMeasureRoles,r.role)||r.id===n.atoms[o.measureDiscrimName].value){
var a=this.chart._measureRolesInfo[r.role].cccDimName;if(a){var s=n.atoms[a];if(!(s.dimension.type.isHidden||n.isTrend&&null==s.value)){
var l=e.html.escape(r.label);if(this.chart._noRoleInTooltipMeasureRoles[r.role]!==!0&&(l+=" ("+e.html.escape(r.role)+")"),
l+=": "+e.html.escape(this._getAtomLabel(s,i)),!this.chart._noPercentInTootltipForPercentGems||"PCTOF"!==r.measureType){
var u=this._getAtomPercent(s,i);null!=u&&(l+=" ("+e.html.escape(""+u)+")")}var c;if(i&&i.scene){
var h=i.scene.datums();if(h){var d=h.where(function(e){return e.isInterpolated&&e.interpDimName===a;
}).first();d&&(c=this.chart._message("chartTooltipGemInterp_"+d.interpolation))}}else n.isTrend&&(c="("+this.chart.options.trendLabel+")");
c&&(l+=" "+c),t.push(l)}}}},_getAtomLabel:function(e,t){var n;if(t&&(n=t.scene.group)){
var i=n&&n.count()>1;if(i){var r=n.dimensions(e.dimension.name);return r.format(r.value({
visible:!0}))}}return e.label},_getAtomPercent:function(e,t){if(t){var n=t.chart,i=n.data,r=e.dimension.name,o=t.panel.visualRolesOf(r,!0);
if(o&&o.some(function(e){return e.isPercent})){var a=t.scene.group,s=(a||i).dimensions(r),l=a?s.percentOverParent({
visible:!0}):s.percent(e.value);return s.type.format().percent()(l)}}},fillCellSelection:function(t,n){
t.value=e.query(this.gems).select(function(e){var t=this.chart._measureRolesInfo[e.role].cccDimName;
return t?n.atoms[t].label:void 0},this).where(e.truthy).array().join(" ~ ")}});var _;
if("vml"===n.renderer()){var x=["mouseover","mouseout","mousemove"];_=function(e){
e._cccEventsShield||(e._cccEventsShield=!0,x.forEach(function(t){C(e,t,w)}))};var w=function(e){
e||(e=window.event),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},C=function(e,t,n){
e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}}var S="#808285",k="#D1D3D4",D={
compatVersion:2,margins:0,paddings:10,plotFrameVisible:!1,format:{percent:"#,0.00%"
},multiChartMax:50,legend:!0,legendPosition:"right",legendSizeMax:"60%",legendPaddings:10,
legendItemPadding:{left:1,right:1,top:2,bottom:2},legendClickMode:"toggleSelected",
color2AxisLegendClickMode:"toggleSelected",color3AxisLegendClickMode:"toggleSelected",
axisSizeMax:"50%",axisTitleSizeMax:"20%",orthoAxisGrid:!0,continuousAxisLabelSpacingMin:1.1,
titlePosition:"top",interactive:!0,animate:!1,tooltipEnabled:!0,clickable:!0,selectable:!0,
hoverable:!1,ctrlSelectMode:!1,clearSelectionMode:"manual",valuesVisible:!1,ignoreNulls:!1,
groupedLabelSep:"~",crosstabMode:!0,isMultiValued:!0,seriesInRows:!1,dataOptions:{
measuresInColumns:!0},extensionPoints:{axisRule_strokeStyle:S,axisTicks_strokeStyle:k,
dot_lineWidth:1.5,legendArea_lineWidth:1,legendArea_strokeStyle:"#c0c0c0",legendLabel_textDecoration:null,
legendDot_fillStyle:o,legendDot_strokeStyle:o,legend2Dot_fillStyle:o,legend2Dot_strokeStyle:o
},tooltip:{delayIn:200,delayOut:80,offset:2,html:!0,gravity:"nw",fade:!1,followMouse:!0,
useCorners:!0,arrowVisible:!1,opacity:1}},M={extensionPoints:{xAxisLabel_textAngle:-Math.PI/4,
xAxisLabel_textAlign:"right",xAxisLabel_textBaseline:"top"}};e.type("pentaho.ccc.Chart").init(function(e){
this._element=e,this._elementName=e.id,_&&_(e)}).add({_options:D,_hideNullMembers:!1,
_rolesToCccDimensionsMap:{columns:"series",rows:"category",multi:"multiChart",measures:"value"
},_keyAxesIds:["column","row"],_axesIds:["column","row","measure"],_axesCreateOrderIds:["row","measure","column"],
_cccVirtualItemAxesLayout:["column","row","measure"],_noRoleInTooltipMeasureRoles:{
measures:!0},_noPercentInTootltipForPercentGems:!1,_multiRole:"multi",_discreteColorRole:"columns",
dispose:function(){this._element=null,this._chart&&this._chart.dispose&&(this._chart.dispose(),
this._chart=null)},draw:function(e,t){this._metadata=[],this._resultset=null,this._dataTable=e,
this._initOptions(t),this._processDataTable(),this._initAxes();var n=this.axes.row.depth;
this.options.dataOptions.categoriesCount=n,this._hasMultiChartColumns=this.axes.row.hasMulti||this.axes.column.hasMulti,
this._readUserOptions(this.options,t),this._readData(),this._configure(),this._prepareLayout(this.options),
this._render()},resize:function(e,t){null!=this._lastResizeTimeout&&clearTimeout(this._lastResizeTimeout),
this._lastResizeTimeout=setTimeout(function(){this._lastResizeTimeout=null,this._doResize(e,t);
}.bind(this),50)},_doResize:function(t,n){if(this._chart){var i=this._chart.options;
e.set(i,"width",t,"height",n),this._prepareLayout(i),this._chart.render(!0,!0,!1);
}},setHighlights:function(e){if(this._selections=e,!(this._ownChange||e&&0!=e.length)){
this._ownChange=!0;try{this._chart.clearSelections()}finally{this._ownChange=!1}}
},getOutputParameters:function(){var e=[];if("pvc.PieChart"==this._cccClass)e.push([this._dataTable.getColumnId(0),!0,this._dataTable.getColumnId(0)]);else for(var t=0;t<this._dataTable.getNumberOfColumns();t++)e.push([this._dataTable.getColumnId(t),!0,this._dataTable.getColumnId(t)]);
return e},_initOptions:function(t){t=this._vizOptions=$.extend({},t),this._vizHelper=cv.pentahoVisualizationHelpers[t.customChartType],
this._hasContentLink=this._vizHelper.isInteractionEnabled()&&this._vizHelper.hasContentLink(),
this._selections=t.selections;var n=this.options=e.create(this._options);e.set(n,"canvas",this._elementName,"height",t.height||400,"width",t.width||400,"dimensionGroups",{},"dimensions",{},"visualRoles",{},"readers",[],"calculations",[]);
},_message:function(e,t){return this._vizHelper.message(e,t)},_setNullInterpolationMode:function(e,t){},
_readUserOptions:function(e,t){var i=e.extensionPoints,r=t.backgroundFill;if(r&&"NONE"!==r){
var o;if("GRADIENT"===r)if(this._hasMultiChartColumns){var a=n.color(t.backgroundColor).rgb();
a=n.rgb(~~((255+a.r)/2),~~((255+a.g)/2),~~((255+a.b)/2),a.a),o=a}else o="linear-gradient(to top, "+t.backgroundColor+", "+t.backgroundColorEnd+")";else o=t.backgroundColor;
i.base_fillStyle=o}if(r=t.labelColor,void 0!==r&&(i.axisLabel_textStyle=i.axisTitleLabel_textStyle=r),
r=""+t.showLegend=="true",e.legend=r,r&&(r=t.legendColor,void 0!==r&&(i.legendLabel_textStyle=r),
r=t.legendBackgroundColor,r&&"#ffffff"!==r.toLowerCase()&&(i.legendArea_fillStyle=r),
r=t.legendPosition,r&&(e.legendPosition=r.toLowerCase()),t.legendSize&&(e.legendFont=u(t,"legend"))),
r=t.lineWidth,void 0!==r){i.line_lineWidth=+r;var s=3+6*(+r/8);i.dot_shapeSize=s*s,
i.plot2Line_lineWidth=i.line_lineWidth,i.plot2Dot_shapeSize=i.dot_shapeSize}if(r=t.maxChartsPerRow,
void 0!==r&&(e.multiChartColumnsMax=+r),r=t.emptyCellMode){switch(r){case"GAP":r="none";
break;case"ZERO":r="zero";break;case"LINEAR":r="linear"}this._setNullInterpolationMode(e,r);
}if(r=t.multiChartRangeScope){switch(r){case"GLOBAL":r="global";break;case"CELL":
r="cell"}e.numericAxisDomainScope=r}if(t.labelSize){var l=u(t,"label");if(e.axisTitleFont=e.axisFont=l,
this._hasMultiChartColumns){var d=c(t,"label"),f=h(t,"label");e.titleFont=d+2+"px "+f;
}}var p=t.sizeByNegativesMode;e.sizeAxisUseAbs="USE_ABS"===p},_processDataTable:function(){
function t(e,t){if(/\[MEASURE:(\d+)\]$/.test(t))return!1;var n=d(a,b);return v.push({
id:r,formula:r,label:a.getColumnLabel(b),axis:"row",role:n?n[0].id:"undefined",index:v.length
}),!0}function n(e){if(e){var t=d(a,b),n=e.split("~");n.forEach(function(e,n){var i=t[n];
y.push({id:i.level,formula:i.level,label:void 0,axis:"column",role:i.id,index:n});
})}}function i(t,n){var i,r=e.getOwn(m,n);r||(i=d(a,b).pop(),r={id:n,formula:void 0,
label:s(a.getColumnLabel(b))[1],axis:"measure",role:i.id,index:g.length,isUnmapped:"undefined"===i.id
},m[n]=r,g.push(r));var o=e.getOwn(h,t);o?o.measureIds.push(n):(o={index:b,encValues:t,
values:t?t.split("~"):[],measureIds:[n]},h[t]=o,c.push(o));var l=b-o.index,v=e.getOwn(f,r.role);
v?l>v.groupIndex&&(v.groupIndex=l):(v={id:i.id,cccDimName:r.isUnmapped?null:u[i.id]||e.assert("Must map to CCC all measure roles that the data table contains."),
groupIndex:l,index:b},f[r.role]=v,p.push(v))}for(var r,o,a=this._dataTable,l=a.getNumberOfColumns(),u=this._rolesToCccDimensionsMap,c=[],h={},f={},p=[],m={},g=[],v=[],y=[],b=0;l>b&&(r=a.getColumnId(b),
o=s(r),t.apply(this,o));)b++;if(l>b)for(n.call(this,o[0]);;){if(i.apply(this,o),++b>=l)break;
r=a.getColumnId(b),o=s(r)}p.sort(function(t,n){return e.compare(t.groupIndex,n.groupIndex)||e.compare(t.index,n.index);
}),p.forEach(function(e,t){e.groupIndex=t}),this._measureRolesInfo=f,this._measureRolesInfoList=p,
this._colGroups=c,this._measuresInfo=m,this._axesGemsInfo={measure:g,row:v,column:y
}},_initAxes:function(){function t(t){var i=pentaho.ccc.Axis.create(this,t);i.gems.forEach(n,this),
this.axes[t]=i;var r=i.boundRolesIdList;r&&r.forEach(function(t){!e.hasOwn(this.axisByRole,t)||e.assert("A role cannot be in more than one axis"),
this.axisByRole[t]=i},this)}function n(e){var t=e.formula,n=e.id;t&&(this.gemsMap[t]=e),
n&&t!==n&&(this.gemsMap[n]=e),"column"===e.reportAxis&&this._gemCountColumnReportAxis++,
e.isMeasureDiscrim&&(this._measureDiscrimGem=e)}this.gemsMap={},this.axisByRole={},
this.axes={},this._gemCountColumnReportAxis=0,this._measureDiscrimGem=null,this._axesCreateOrderIds.forEach(t,this);
var i=0,r={};this._cccVirtualItemAxesLayout.forEach(function(e){i=this.axes[e].configure(i,r);
},this)},_readData:function(){this._readDataCrosstab()},_readDataCrosstab:function(){
for(var e=this._dataTable,t=e.getNumberOfColumns(),n=e.getNumberOfRows(),i=0;t>i;i++)this._addCdaMetadata(e.getColumnId(i),e.getColumnLabel(i),a(e.getColumnType(i)));
for(var r=this._resultset=new Array(n),o=0;n>o;o++){var s=new Array(t);for(i=0;t>i;i++)s[i]=this._getTableCell(o,i);
r[o]=s}},_configure:function(){var e=this.options,t=this._vizOptions;t.controller.domNode.style.overflow="hidden";
var n=this._getColorScaleKind();n&&this._configureColor(n),(this.options.legend=this._showLegend())&&this._configureLegend(),
this._hasMultiChartColumns&&this._configureMultiChart(),this._configureTrends(),this._configureSorts(),
this._configureFormats(),e.axisFont=l(e.axisFont,12),e.axisTitleFont=l(e.axisTitleFont,12),
this._vizHelper.isInteractionEnabled()?(e.tooltipEnabled&&this._configureTooltip(),
(e.selectable=this._canSelect())&&this._configureSelection(),this._configureDoubleClick()):e.interactive=!1;
},_getColorScaleKind:function(){return"discrete"},_configureColor:function(e){var t=this.options,n=this._vizOptions;
switch(e){case"discrete":t.colors=this._getDiscreteColorScale();break;case"continuous":
t.colorScaleType=n.colorScaleType,t.colors=n.colors}},_getDiscreteColorScale:function(){
var e=this._vizOptions.memberPalette,t=e&&this._getDiscreteColorScaleCore(e);return t||this._getDefaultDiscreteColorScale();
},_getDefaultDiscreteColorScale:function(){return this._vizOptions.palette.colors.slice();
},_getDiscreteColorScaleCore:function(t){var i=this._discreteColorRole;if(i){var r,o=this.axisByRole[i],a=o?o.gemsByRole[i].filter(function(e){
return!e.isMeasureDiscrim}):[],s=a.length;if(r="pvc.PieChart"==this._cccClass?0:this.axes.measure.genericMeasuresCount,
s>0||r>0){var l,u="pvc.SunburstChart"===this._cccClass;if(1>=r){if(!(s>0)){l=t["[Measures].[MeasuresLevel]"];
var c=l&&l[this.axes.measure.gems[0].id];return c?n.colors([c]):null}if(u)for(var h in a){
var d=t[a[h].formula];if(d){l||(l={});for(var f in d)l[f]=d[f]}}else l=t[a[s-1].formula];
}else l=t["[Measures].[MeasuresLevel]"];if(l||u){for(var p in l)l.hasOwnProperty(p)&&(l[p]=n.color(l[p]));
var m,g=n.colors(this._getDefaultDiscreteColorScale());return m=u?function(){function t(t){
if(t){var n=t.split("~"),i=n.length-1,r=n[i];return e.getOwn(l,r)||(i?void 0:g(r));
}}return t.available=function(t){if(t){var n=t.split("~"),i=n.length-1,r=n[i];return!i||e.getOwn(l,r);
}return!1},t}:function(){return function(e){if(e){var t=e.split("~"),n=t[t.length-1];
return l[n]||g(n)}}},function(){return e.copy(m(),g)}}}}},_configureTrends:function(){
var e=this.options,t=this._vizOptions,n=(this._supportsTrends?t.trendType:null)||"none";
switch(n){case"none":case"linear":break;default:n="none"}if(e.trendType=n,"none"!==n){
var i=t.trendName;i||(i=this._message("dropZoneLabels_TREND_NAME_"+n.toUpperCase())),
e.trendLabel=i;var r=t.trendLineWidth;if(void 0!==r){var o=e.extensionPoints;o.trendLine_lineWidth=+r;
var a=3+6*(+r/8);o.trendDot_shapeSize=a*a}}},_configureSorts:function(){var e=this._vizOptions.sliceOrder;
e&&(this.options.sliceOrder=e)},_configureFormats:function(){var t=this._vizOptions.formatInfo;
if(t){var n={currency:t.currencySymbol,decimal:t.decimalPlaceholder,group:t.thousandSeparator
};this.options.format={number:{style:n},percent:{style:n,mask:this.options.format.percent
}};var i=this.options.dimensions,r=this.axes.measure,o=r.gemsByRole;e.eachOwn(r.boundRoles,function(e,n){
var r=o[n][0],a=t[r.id];if(a){var s=r.cccDimName,l=i[s]||(i[s]={});l.format=a}})}
},_configureMultiChart:function(){var e=this.options,t=this._vizOptions.controller.domNode.style;
t.overflowX="hidden",t.overflowY="auto";var n=l(e.titleFont,12);n&&!/black|(\bbold\b)/i.test(n)&&(n="bold "+n),
e.smallTitleFont=n;var i=this._vizOptions.multiChartOverflow;i&&(e.multiChartOverflow=i.toLowerCase());
},_configureTooltip:function(){var e=this;this.options.tooltipFormat=function(t){
return e._getTooltipText(t.datum,this)}},_canSelect:function(){return this.options.selectable?this._gemCountColumnReportAxis>=2?!1:!0:!1;
},_configureSelection:function(){var e=this;this.options.userSelectionAction=function(t){
return e._onUserSelection(t)},this.options.selectionChangedAction=function(t){e._onSelectionChanged(t);
}},_configureDoubleClick:function(){var e=this;this.options.axisDoubleClickAction=this.options.doubleClickAction=function(t){
e._onDoubleClick(t)}},_showLegend:function(){if(!this.options.legend)return!1;if(this.axes.measure.genericMeasuresCount>1)return!0;
var e=this.axes.column,t=this._rolesToCccDimensionsMap[e.defaultRole];return!t||e.realDepth>0?!0:!1;
},_configureLegend:function(){var e=this.options;e.legendFont=l(e.legendFont,10);var n=e.legendPosition,i="top"===n||"bottom"===n;
if(this._hasMultiChartColumns&&!i){e.legendAlignTo="page-middle",e.legendKeepInBounds=!0;
var r=e.legendMargins;if(r)"object"!=typeof r&&(r=e.legendMargins={all:r});else{r=e.legendMargins={};
var o=t.BasePanel.oppositeAnchor[n];r[o]=5}r.top=20}"legendAlign"in e||(i?e.legendAlign="center":e.legendAlign="middle");
},_parseDisplayUnits:function(e){if(e){var t=e.match(/^UNITS_(\d+)$/);if(t){var n=+t[1];
if(n>0)return Math.pow(10,n)}}return 1},_prepareLayout:function(e){this._hasMultiChartColumns&&"batik"!==n.renderer()&&(e.width-=17);
},_render:function(){for(;this._element.firstChild;)this._element.removeChild(this._element.firstChild);
var n=e.getPath({pvc:t},this._cccClass);this._chart=new n(this.options),this._chart.setData({
metadata:this._metadata,resultset:this._resultset});var i="page"===this.options.multiChartOverflow;
i?this._chart.renderPages():this._chart.render()},_getTooltipText:function(e,t){var n,i=[];
if(this._axesIds.forEach(function(n){this.axes[n].buildHtmlTooltip(i,e,t)},this),
!e.isVirtual){var r=this._getDoubleClickSelection(t.scene);n=this._vizHelper.getDoubleClickTooltip(r),
n&&i.push(n)}var o=this._vizOptions.controller.highlights,a=o&&o.length;if(a){var s=1===a?"chartTooltipFooterSelectedSingle":"chartTooltipFooterSelectedMany";
n=this._message(s,[a]),i.push(n)}return i.join("<br />")},_onUserSelection:function(e){
return this._processSelection(e)},_getSelectionKey:function(t){var n=t.__cccKey;if(!n){
var i=[t.type],r=e.array.append;t.columnId&&(r(i,t.columnId),r(i,t.columnItem)),t.rowId&&(r(i,t.rowId),
r(i,t.rowItem)),n=t.__cccKey=i.join("||")}return n},_doesSharedSeriesSelection:function(){
return 1===this._gemCountColumnReportAxis},_onSelectionChanged:function(e){if(this.options.selectable){
var t=this._selectionExcludesMultiGems(),n=[],i={};this._doesSharedSeriesSelection()?e.forEach(function(e){
if(!e.isVirtual){var r={type:"column"};this.axes.column.fillCellSelection(r,e,t);var o=this._getSelectionKey(r),a=i[o];
a?a.__cccDatums.push(e):(r.__cccDatums=[e],i[o]=r,n.push(r))}},this):e.forEach(function(e){
if(!e.isVirtual){var r=this._complexToCellSelection(e,t),o=this._getSelectionKey(r),a=i[o];
a||(r.__cccDatums=e,i[o]=r,n.push(r))}},this),n=this._limitSelection(n),this._ownChange=!0;
try{pentaho.events.trigger(this,"select",{source:this,selections:n,selectionMode:"REPLACE"
})}finally{this._ownChange=!1}}},_limitSelection:function(n){var i=this._vizOptions["filter.selection.max.count"]||200,r=n,o=n.length,a=o-i;
if(a>0){var s=[];r=[];for(var l=0;o>l;l++){var u=n[l],c=!0;if(a)if(this._previousSelectionKeys){
var h=this._getSelectionKey(u);this._previousSelectionKeys[h]||(c=!1)}else l>=i&&(c=!1);
if(c)r.push(u);else{var d=u.__cccDatums;d&&(e.array.is(d)?e.array.append(s,d):s.push(d)),
a--}}t.data.Data.setSelected(s,!1),this._chart.updateSelections(),this._vizHelper.showConfirm(["infoExceededMaxSelectionItems",i],"SELECT_ITEM_LIMIT_REACHED");
}return this._previousSelectionKeys=e.query(r).object({name:function(e){return this._getSelectionKey(e);
},value:e.retTrue,context:this}),r},_selectionExcludesMultiGems:function(){return!0;
},_processSelection:function(e){function t(e){function t(e){o[e]=s[e]}if(!e.isNull){
e.isTrend&&i.push(e);var o={},s=e.atoms;a&&a.forEach(t),r&&r.forEach(t),n.push(o);
}}var n,i=[];if(e.length){var r,o=this._selectionExcludesMultiGems(),a=this.axes.column.getSelectionGems(o).select(function(e){
return e.cccDimName}).array();this._gemCountColumnReportAxis||(r=this.axes.row.getSelectionGems(o).select(function(e){
return e.cccDimName}).array()),a.length||r&&r.length?(n=[],e.forEach(t),this._chart.data.datums(n,{
visible:!0}).each(function(e){i.push(e)}),e=i):e=[]}return e},_getDoubleClickSelection:function(e){
var t=e.group||e.datum;return t?this._complexToCellSelection(t,!1):void 0},_onDoubleClick:function(e){
var t=this._getDoubleClickSelection(e);return t&&pentaho.events.trigger(this,"doubleclick",{
source:this,selections:[t]}),!0},_complexToCellSelection:function(e,t){var n={type:"cell"
};return this._axesIds.forEach(function(i){this.axes[i].fillCellSelection(n,e,t)},this),
n},_addCdaMetadata:function(e,t,n){this._metadata.push({colIndex:this._metadata.length,
colName:e,colLabel:t,colType:n})},_getTableCell:function(e,t){var n=this._dataTable._getCell(e,t);
if(!n)return null;var i=n.v;return null==i||"-"===i?null:{v:i,f:n.f}},_getTableValue:function(e,t){
var n=this._getTableCell(e,t);return n?n.v:ceff.f}}),e.type("pentaho.ccc.CartesianChart",pentaho.ccc.Chart).add({
_options:{orientation:"vertical"},_configure:function(){this.base(),this._configureDisplayUnits(),
this._showAxisTitle("base")&&this._configureAxisTitle("base",this._getBaseAxisTitle()),
this._showAxisTitle("ortho")&&this._configureAxisTitle("ortho",this._getOrthoAxisTitle());
},_showAxisTitle:e.fun.constant(!0),_getOrthoAxisTitle:e.noop,_getBaseAxisTitle:e.noop,
_configureAxisTitle:function(t,n){var i=this._cartesianAxesDisplayUnitsText[t];if(n=e.string.join(" - ",n,i)){
var r=this.options;r[t+"AxisTitle"]=n}},_getMeasureRoleTitle:function(e){var t,n="",i=this.axes.measure;
if(e){var r=i.gemsByRole[e];1===r.length&&(t=r[0])}else 1===this.axes.measure.genericMeasuresCount&&(t=i.gemsByRole[i.defaultRole][0]);
return t&&(n+=t.label),n},_configureAxisRange:function(e,t){var n=this._vizOptions,i=e?"":"Secondary";
if("true"!==n["autoRange"+i]){var r=n["valueAxisLowerLimit"+i];null!=r&&(this.options[t+"AxisFixedMin"]=r,
this.options[t+"AxisOriginIsZero"]=!1),r=n["valueAxisUpperLimit"+i],null!=r&&(this.options[t+"AxisFixedMax"]=r);
}},_cartesianAxesDisplayUnitsText:null,_configureDisplayUnits:function(){this._cartesianAxesDisplayUnitsText={};
},_configureAxisDisplayUnits:function(e,t,n){n||"ortho"==t||(this.options[t+"AxisTickExponentMin"]=0);
var i,r=this._vizOptions["displayUnits"+(e?"":"Secondary")],o=this._parseDisplayUnits(r);
o>1&&(i=this._message("dlgChartOption_"+r)),this._cartesianAxesDisplayUnitsText[t]=i||"";
}}),e.type("pentaho.ccc.CategoricalContinuousChart",pentaho.ccc.CartesianChart).add({
_options:{panelSizeRatio:.8,dataOptions:{measuresInColumns:!1}},_showAxisTitle:function(e){
return!this._hasMultiChartColumns||"ortho"===e},_getOrthoAxisTitle:function(){return this._getMeasureRoleTitle();
},_getBaseAxisTitle:function(){return this.axes.row.getAxisLabel()},_configure:function(){
this.base(),this._configureAxisRange(!0,"ortho"),"vertical"===this.options.orientation?e.mixin(this.options,M):this.options.xAxisPosition="top";
},_configureDisplayUnits:function(){this.base(),this._configureAxisDisplayUnits(!0,"ortho");
}}),e.type("pentaho.ccc.BarChartAbstract",pentaho.ccc.CategoricalContinuousChart).add({
_cccClass:"pvc.BarChart",_configure:function(){this.base();var e=this.options;"vertical"!==e.orientation&&(e.visualRoles.category={
isReversed:!0}),g.call(this)},_readUserOptions:function(e,t){this.base(e,t),e.valuesFont=l(u(t,"label")),
e.extensionPoints.label_textStyle=t.labelColor}}),e.type("pentaho.ccc.BarChart",pentaho.ccc.BarChartAbstract).add({
_supportsTrends:!0}),e.type("pentaho.ccc.HorizontalBarChart",pentaho.ccc.BarChartAbstract).add({
_options:{orientation:"horizontal"}}),e.type("pentaho.ccc.StackedBarChart",pentaho.ccc.BarChartAbstract).add({
_options:{stacked:!0}}),e.type("pentaho.ccc.HorizontalStackedBarChart",pentaho.ccc.BarChartAbstract).add({
_options:{orientation:"horizontal",stacked:!0}}),e.type("pentaho.ccc.NormalizedBarChartAbstract",pentaho.ccc.BarChartAbstract).add({
_cccClass:"pvc.NormalizedBarChart",_configure:function(){this.base(),this.options.orthoAxisTickFormatter=function(e){
return e+"%"}}}),e.type("pentaho.ccc.NormalizedBarChart",pentaho.ccc.NormalizedBarChartAbstract),
e.type("pentaho.ccc.HorizontalNormalizedBarChart",pentaho.ccc.NormalizedBarChartAbstract).add({
_options:{orientation:"horizontal"}}),e.type("pentaho.ccc.BarLineChart",pentaho.ccc.BarChartAbstract).add({
_rolesToCccDimensionsMap:{measuresLine:"value"},_options:{plot2:!0,secondAxisIndependentScale:!1,
secondAxisSeriesIndexes:null},_noRoleInTooltipMeasureRoles:{measures:!0,measuresLine:!0
},_setNullInterpolationMode:function(e,t){e.plot2NullInterpolationMode=t},_initAxes:function(){
this.base(),this._measureDiscrimGem||e.assert("Must exist to distinguish measures.");
var t=this._measureDiscrimGem.cccDimName,n=this.axes.measure,i=n.gemsByRole[n.defaultRole],r=e.query(i).uniqueIndex(function(e){
return e.id});this.options.calculations.push({names:"dataPart",calculation:function(n,i){
var o=n.atoms[t].value;i.dataPart=e.hasOwn(r,o)?"0":"1"}})},_readUserOptions:function(e,t){
this.base(e,t);var n=t.shape;n&&"none"===n?e.pointDotsVisible=!1:(e.pointDotsVisible=!0,
e.extensionPoints.pointDot_shape=n),e.plot2ValuesFont=l(u(t,"label")),e.extensionPoints.plot2Label_textStyle=t.labelColor,
f.call(this)},_configureDisplayUnits:function(){this.base(),this._configureAxisDisplayUnits(!1,"ortho2");
},_configure:function(){this.base(),this._configureAxisRange(!1,"ortho2"),this._configureAxisTitle("ortho2",""),
this.options.plot2OrthoAxis=2,v.call(this)}}),e.type("pentaho.ccc.WaterfallChart",pentaho.ccc.CategoricalContinuousChart).add({
_cccClass:"pvc.WaterfallChart"}),e.type("pentaho.ccc.LineChart",pentaho.ccc.CategoricalContinuousChart).add({
_cccClass:"pvc.LineChart",_supportsTrends:!0,_options:{axisOffset:0,tooltipOffset:15
},_readUserOptions:function(e,t){this.base(e,t);var n=t.shape;n&&"none"===n?e.dotsVisible=!1:(e.dotsVisible=!0,
e.extensionPoints.dot_shape=n),e.valuesFont=l(u(t,"label")),e.extensionPoints.label_textStyle=t.labelColor,
m.call(this)},_setNullInterpolationMode:function(e,t){e.nullInterpolationMode=t},
_configureLegend:function(){this.base();var e=this.options,t=e.extensionPoints,n=t.dot_shapeSize;
if(null!=n){var i=Math.sqrt(n);e.legendMarkerSize=Math.max(15,2*(i+3))}}}),e.type("pentaho.ccc.StackedAreaChart",pentaho.ccc.CategoricalContinuousChart).add({
_cccClass:"pvc.StackedAreaChart",_options:{axisOffset:0,tooltipOffset:15},_setNullInterpolationMode:function(e,t){
e.nullInterpolationMode=t},_readUserOptions:function(e,t){this.base(e,t),e.valuesFont=l(u(t,"label")),
e.extensionPoints.label_textStyle=t.labelColor,m.call(this)}}),e.type("pentaho.ccc.BoxplotChart",pentaho.ccc.CategoricalContinuousChart).add({
_cccClass:"pvc.BoxplotChart",_rolesToCccDimensionsMap:{columns:null,multi:"multiChart",
measures:"median",percentil25:"percentil25",percentil75:"percentil75",percentil5:"percentil5",
percentil95:"percentil95"},_options:{extensionPoints:{boxRuleWhisker_strokeDasharray:"- "
}},_readData:function(){this.base(),e.set(this.options.dataOptions,"categoriesCount",this.axes.row.gemsByRole.rows.length);
}}),e.type("pentaho.ccc.HeatGridChart",pentaho.ccc.CartesianChart).add({_cccClass:"pvc.HeatGridChart",
_rolesToCccDimensionsMap:{multi:null,color:"value",size:"value2"},_options:{valuesVisible:!1,
useShapes:!0,shape:"square",xAxisSize:30,yAxisSize:50,axisComposite:!0,orthoAxisGrid:!1,
colorScaleType:"linear",colorNormByCategory:!1},_configure:function(){this.base(),
this.options.shape=this._vizOptions.shape,m.call(this)},_readUserOptions:function(e,t){
this.base(e,t),e.valuesFont=l(u(t,"label")),e.extensionPoints.label_textStyle=t.labelColor;
},_getColorScaleKind:function(){return"continuous"},_prepareLayout:function(e){this.base(e);
var t=this.axes.measure.depth,n=this.axes.row.depth,i=this.axes.column.depth,r=Math.max(1,this._dataTable.getNumberOfRows()-1),o=this._dataTable.getNumberOfColumns()-n;
t>0&&(o/=t);var a,s,l=e.width,u=e.height,c=l/u,h=r/o,d=300,f=70,p=200,m=.35,g=Math.min(d,n*f),v=Math.min(d,i*f),y=Math.min(d,n*p,u*m),b=Math.min(d,i*p,l*m);
if(h>c){var _=u-l/h;s=v,a=Math.min(_,y),a=Math.max(a,g)}else if(c>h){var x=l-u*h;a=g,
s=Math.min(x,b),s=Math.max(s,v)}e.xAxisSize=a,e.yAxisSize=s}}),e.type("pentaho.ccc.MetricDotChart",pentaho.ccc.CartesianChart).add({
_cccClass:"pvc.MetricDotChart",_supportsTrends:!0,_options:{axisGrid:!0,sizeAxisUseAbs:!1,
sizeAxisOriginIsZero:!0,sizeAxisRatio:.2,sizeAxisRatioTo:"height",autoPaddingByDotSize:!1
},_rolesToCccDimensionsMap:{columns:null,color:"color",multi:"multiChart",measures:null,
x:"x",y:"y",size:"size"},_discreteColorRole:"color",_noRoleInTooltipMeasureRoles:{
x:!0,y:!0,measures:!1},_getColorScaleKind:function(){return this.axes.measure.boundRoles.color?"continuous":this.axes.column.boundRoles.color?"discrete":void 0;
},_configure:function(){this.base();var e=this.options;this._configureAxisRange(!0,"base"),
this._configureAxisRange(!1,"ortho"),this.axes.measure.boundRoles.size?e.axisOffset=1.1*e.sizeAxisRatio/2:e.axisOffset=0;
},_configureColor:function(e){this.base(e);var t=this.options;"discrete"===e&&(t.dimensionGroups.color={
valueType:String})},_showLegend:function(){return this.options.legend&&this.axes.column.boundRoles.color?this._colGroups.length>1:this.options.legend;
},_getOrthoAxisTitle:function(){return this._getMeasureRoleTitle("y")},_getBaseAxisTitle:function(){
return this._getMeasureRoleTitle("x")},_configureDisplayUnits:function(){this.base(),
this._configureAxisDisplayUnits(!0,"base",!0),this._configureAxisDisplayUnits(!1,"ortho",!0);
},_readUserOptions:function(e,t){this.base(e,t),e.valuesFont=l(u(t,"label")),e.extensionPoints.label_textStyle=t.labelColor,
m.call(this)}}),e.type("pentaho.ccc.PieChart",pentaho.ccc.Chart).add({_cccClass:"pvc.PieChart",
_noPercentInTootltipForPercentGems:!0,_rolesToCccDimensionsMap:{columns:"multiChart",
multi:null},_options:{legendShape:"circle",titlePosition:"bottom",dataOptions:{measuresInColumns:!1
},extensionPoints:{slice_strokeStyle:"white",slice_lineWidth:.8}},_multiRole:"columns",
_discreteColorRole:"rows",_configure:function(){this.base(),this.options.valuesVisible&&this._configureValuesMask();
},_showLegend:function(){return this.options.legend&&this.axes.row.depth>0},_readUserOptions:function(e,t){
this.base(e,t),e.valuesFont=l(u(t,"label")),e.extensionPoints.label_textStyle=t.labelColor,
y.call(this)},_configureMultiChart:function(){this.base(),this.options.legendSizeMax="50%";
},_configureValuesMask:function(){var e=this.axes.column,t=e.measureDiscrimName;if(t){
var n=this.gemsMap;this.options.pie={scenes:{category:{sliceLabelMask:function(){
var e,i,r=this.atoms[t];return r&&(e=r.value)&&(i=n[e])&&"PCTOF"===i.measureType?"{value}":"{value} ({value.percent})";
}}}}}},_selectionExcludesMultiGems:e.fun.constant(!1)}),e.type("pentaho.ccc.TreemapChart",pentaho.ccc.Chart).add({
_cccClass:"pvc.TreemapChart",_rolesToCccDimensionsMap:{columns:null,measures:null,
size:"size"},_options:{valuesVisible:!0},_discreteColorRole:"rows",_configure:function(){
this.base(),this.options.rootCategoryLabel=this._message("chartTreeMapRootCategoryLabel");
},_getDiscreteColorScale:function(){return this._getDefaultDiscreteColorScale()},
_readUserOptions:function(e,t){this.base(e,t),e.valuesFont=l(null,c(t,"label"))}}),
e.type("pentaho.ccc.BulletChart",pentaho.ccc.Chart).add({_cccClass:"pvc.BulletChart",
_rolesToCccDimensionsMap:{multi:null,columns:"subTitle",rows:"title"},_options:{valuesVisible:!0,
valuesAnchor:"right",titlePosition:"top",titleSize:25,bulletTitle:"Test for title",
bulletSubtitle:"Test for subtitle",bulletMeasures:[],bulletMarkers:["7500"],bulletRanges:["3000","6500","9000"],
bulletMargin:50,panelSizeRatio:.8,extensionPoints:{bulletRuleLabel_font:"7pt sans"
}},_configure:function(){this.base()},_prepareLayout:function(e){this.base(e);var t=this._vizOptions,n="vertical"===e.orientation;
this._resultset.length>20?(e.bulletSize=10,e.bulletSpacing=n?60:20):this._resultset.length>10?(e.bulletSize=15,
e.bulletSpacing=n?80:30):(e.bulletSize=20,e.bulletSpacing=n?120:50);var i=(2+e.bulletSize+e.bulletSpacing)*this._resultset.length;
n?i>e.width&&(t.controller.domNode.style.overflowX="auto",t.controller.domNode.style.overflowY="hidden",
e.width=i):i>e.height&&(t.controller.domNode.style.overflowY="auto",t.controller.domNode.style.overflowX="hidden",
e.height=i)}}),e.type("pentaho.ccc.SunburstChart",pentaho.ccc.Chart).add({_cccClass:"pvc.SunburstChart",
_rolesToCccDimensionsMap:{columns:null,measures:null,size:"size"},_options:{valuesVisible:!0,
valuesOverflow:"trim",valuesOptimizeLegibility:!1,colorMode:"fan"},_discreteColorRole:"rows",
_formatSize:function(e,t){return e.label},_readUserOptions:function(e,t){this.base(e,t);
var i=e.extensionPoints;if(this._hideNullMembers=t.emptySlicesHidden,e.valuesFont=l(u(t,"label")),
t.emptySlicesHidden&&(i.slice_visible=function(e){var t=e.vars.category.value;return!!t&&!b.test(t);
}),i.label_textStyle=t.labelColor,"none"!=t.labelsOption&&this.axes.measure.boundRoles.size){
i.label_textBaseline="bottom",i.label_textMargin=2,i.label_visible=function(e){var t,i=this.pvMark,r=e.innerRadius,o=r,a=e.outerRadius,s=i.textMargin(),l=e.angle,u=n.Text.measure(e.vars.size.label,i.font());
if(l<Math.PI){var c=.85*u.height,h=(i.textBaseline(),2*(c+3*s/2));o=Math.max(o,h/(2*Math.tan(l/2)));
}return t=a-s-o,0>=t||u.width>t-s?!1:null};var r=this;i.label_add=function(){return(new n.Label).visible(function(e){
var t=this.proto;return t.visible()}).text(function(e){var t=this.proto;return t.text()?r._formatSize(e.vars.size,e.firstAtoms.size.dimension):"";
}).textBaseline("top")}}},_configure:function(){this.base(),this.options.rootCategoryLabel=this._message("chartSunburstRootCategoryLabel"),
this._configureDisplayUnits()},_configureDisplayUnits:function(){var e=this._parseDisplayUnits(this._vizOptions.displayUnits);
if(e>1){var t=this.options.dimensions,n=t.size||(t.size={});n.converter=function(t){
return null==t||isNaN(t)?t:t*e},this._formatSize=function(t,n){var i=t.value;return null==i?"":n.format(i/e);
}}else delete this._formatSize}});var N={};N._readDataBullet=function(){var e=this._dataTable,t=e.getNumberOfRows(),n=this._otherDtColIndexes,i=this._otherDtColIndexes.length,r=this._vizOptions;
if(this.options.seriesInRows=!0,this._addCdaMetadata("Category","Category","STRING"),
this._addCdaMetadata("Series","Series","STRING"),this._addCdaMetadata("Value","Value","NUMERIC"),
this._addCdaMetadata("Marker","Marker","NUMERIC"),r.bulletRanges)for(var o=0,a=r.bulletRanges.length;a>o;o++)this._addCdaMetadata("Range"+o,"Range "+o,"NUMERIC");
for(var s=this.axes.measure.depth,l=0;t>l;l++)for(var u=this._aggregateRowAxisForTableRow(l),c=0;i>c;c+=s)for(var h=0;s>h;h+=2){
var d=c+h,f=d+1,p=n[d],m=e.getColumnId(p).split("~");m.pop();var g=[u,m.join("~"),this._getTableValue(l,p),s>h+1?this._getTableValue(l,n[f]):r.bulletMarkers[0]],v=r.bulletRanges;
v&&v.forEach(function(e){g.push(e)}),this._resultset.push(g)}},N._aggregateRowAxisForTableRow=function(e){
var t=this._rowNormalDtColIndexes.map(function(t){return this._getTableValue(e,t);
},this);return t.join("~")};n.dict(["action","autoRange","backgroundColor","backgroundColorEnd","backgroundFill","chartType","controller","customChartType","displayUnits","maxChartsPerRow","emptyCellsMode","labelSize","labelStyle","labelFontFamily","labelColor","legendBackgroundColor","legendColor","legendFontFamily","legendStyle","legendSize","lineShape","maxValues","metrics","palette","selections","vizApiVersion"],e.retTrue);
}),define("analyzer/oss-module",["pentaho/common/propertiesPanel/Panel","common-ui/util/URLEncoder","dojo/NodeList-traverse","dojo/fx/easing","dojo/on","dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dijit/PopupMenuItem","dijit/Tooltip","dijit/form/DateTextBox","dijit/layout/TabContainer","dijit/DialogUnderlay","dijit/Declaration","dijit/_base/popup","dijit/Dialog","dijit/ColorPalette","dojox/collections/Stack","dojox/collections/ArrayList","dojox/collections/Dictionary","dojox/layout/ResizeHandle","dojox/xml/parser","dojox/fx","pentaho/common/FormatCombo","pentaho/common/Overrides","common-ui/cache/localCache","common-ui/repo/pentaho-ajax","common-ui/vizapi/DataTable","common-ui/vizapi/Events","common-ui/vizapi/VizController","common-ui/vizapi/ccc/ccc_wrapper","common-ui/vizapi/ccc/ccc_analyzer_plugin"]),
function(e){var t=document,n="appendChild",i="styleSheet",r=t.createElement("style");
r.type="text/css",t.getElementsByTagName("head")[0][n](r),r[i]?r[i].cssText=e:r[n](t.createTextNode(e));
}('/*!\n * Copyright 2002 - 2018 Webdetails, a Hitachi Vantara company.  All rights reserved.\n *\n * This software was developed by Webdetails and is provided under the terms\n * of the Mozilla Public License, Version 2.0, or any later version. You may not use\n * this file except in compliance with the license. If you need a copy of the license,\n * please go to  http://mozilla.org/MPL/2.0/. The Initial Developer is Webdetails.\n *\n * Software distributed under the Mozilla Public License is distributed on an "AS IS"\n * basis, WITHOUT WARRANTY OF ANY KIND, either express or  implied. Please refer to\n * the license for the specific language governing your rights and limitations.\n */\n\n\n.tipsy{pointer-events:none;padding:5px;font-size:10px;font-family:Arial,Helvetica,sans-serif;position:absolute;z-index:100000;}.tipsy-inner{padding:5px 8px 4px 8px;background-color:black;color:white;max-width:200px;text-align:center;}.tipsy-inner{border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px;}.tipsy-arrow{position:absolute;width:0;height:0;line-height:0;border:5px dashed #000;}.tipsy-n .tipsy-arrow{top:0px;left:50%;margin-left:-5px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent;}.tipsy-nw .tipsy-arrow{top:0;left:10px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent;}.tipsy-ne .tipsy-arrow{top:0;right:10px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent;}.tipsy-s .tipsy-arrow{bottom:0;left:50%;margin-left:-5px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent;}.tipsy-sw .tipsy-arrow{bottom:0;left:10px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent;}.tipsy-se .tipsy-arrow{bottom:0;right:10px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent;}.tipsy-e .tipsy-arrow{right:0;top:50%;margin-top:-5px;border-left-style:solid;border-right:none;border-top-color:transparent;border-bottom-color:transparent;}.tipsy-w .tipsy-arrow{left:0;top:50%;margin-top:-5px;border-right-style:solid;border-left:none;border-top-color:transparent;border-bottom-color:transparent;}.ccc-tt{overflow:hidden;}.ccc-tt-ds{border-collapse:collapse;border-spacing:0;text-align:left;line-height:1.5em;}.ccc-tt-ds tr{vertical-align:baseline;}.ccc-tt-ds tr td{padding:0;}.ccc-tt-ds .ccc-tt-dimLabel{font-weight:600;color:darkgray;padding-right:0.3em;white-space:nowrap;}.ccc-tt-ds .ccc-tt-dimAgg-sum .ccc-tt-dimLabel span:before{content:"\\03a3\\00a0";font-weight:normal;font-style:normal;font-size:1.1em;}.ccc-tt-ds .ccc-tt-dimAgg-list .ccc-tt-dimLabel span:before{content:"\\22c3\\00a0";font-weight:normal;font-style:normal;font-size:1.2em;}.ccc-tt-ds .ccc-tt-datumCount span:before{content:"\\0023\\00a0";color:darkgray;font-weight:normal;font-size:1.1em;}.ccc-tt-ds .ccc-tt-trendLabel{font-size:1.2em;font-weight:bold;}.ccc-tt-ds .ccc-tt-trendLabel td{padding-bottom:0.2em;}.ccc-tt-ds .ccc-tt-dimRoles{text-align:center;padding-left:0.3em;padding-right:0.3em;}.ccc-tt-ds .ccc-tt-roleLabel{display:none;}.ccc-tt-ds.ccc-tt-chartOrient-v .ccc-tt-role-x .ccc-tt-roleIcon:after,.ccc-tt-ds.ccc-tt-chartOrient-h .ccc-tt-role-y .ccc-tt-roleIcon:after,.ccc-tt-ds.ccc-tt-chartOrient-h .ccc-tt-role-value .ccc-tt-roleIcon:after{content:"\\2194";font-size:1.2em;}.ccc-tt-ds.ccc-tt-chartOrient-v .ccc-tt-role-y .ccc-tt-roleIcon:after,.ccc-tt-ds.ccc-tt-chartOrient-h .ccc-tt-role-x .ccc-tt-roleIcon:after,.ccc-tt-ds.ccc-tt-chartOrient-v .ccc-tt-role-value .ccc-tt-roleIcon:after{content:"\\2195";font-size:1.2em;}.ccc-tt-ds.ccc-tt-plot-pie .ccc-tt-role-value .ccc-tt-roleIcon:after,.ccc-tt-ds.ccc-tt-plot-sunburst .ccc-tt-role-size .ccc-tt-roleIcon:after{content:"\\2220";font-size:1.5em;}.ccc-tt-ds .ccc-tt-role-multiChart .ccc-tt-roleIcon:after{content:"\\229e";font-size:1.2em;}.ccc-tt-ds .ccc-tt-dimValue{padding-left:0.3em;text-align:left;}.ccc-tt-ds .ccc-tt-dimValue .ccc-tt-valuePct{color:darkgray;font-size:0.9em;}.ccc-tt-ds .ccc-tt-dimValue .ccc-tt-valuePct:before{padding-left:0.7em;content:\'(\';}.ccc-tt-ds .ccc-tt-dimValue .ccc-tt-valuePct:after{content:\')\';}.ccc-tt-ds .ccc-tt-dimValue .ccc-tt-interp{color:darkgray;font-size:0.9em;}.ccc-tt-ds .ccc-tt-dimValue .ccc-tt-interp:before{padding-left:0.7em;content:\'(\';}.ccc-tt-ds .ccc-tt-dimValue .ccc-tt-interp:after{content:\')\';}'),
define("oss-module",function(){});